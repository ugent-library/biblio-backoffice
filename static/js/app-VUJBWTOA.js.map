{
  "version": 3,
  "sources": ["../../node_modules/@yaireo/tagify/dist/tagify.min.js", "../../node_modules/htmx-ext-remove-me/remove-me.js", "../../node_modules/htmx.org/dist/htmx.esm.js", "../../node_modules/bootstrap.native/node_modules/@thednp/shorty/dist/shorty.mjs", "../../node_modules/bootstrap.native/node_modules/@thednp/event-listener/dist/event-listener.mjs", "../../node_modules/bootstrap.native/src/strings/fadeClass.ts", "../../node_modules/bootstrap.native/src/strings/showClass.ts", "../../node_modules/bootstrap.native/src/strings/dataBsDismiss.ts", "../../node_modules/bootstrap.native/src/strings/alertString.ts", "../../node_modules/bootstrap.native/src/strings/alertComponent.ts", "../../node_modules/bootstrap.native/src/version.ts", "../../node_modules/bootstrap.native/src/components/base-component.ts", "../../node_modules/bootstrap.native/src/components/alert.ts", "../../node_modules/bootstrap.native/src/strings/activeClass.ts", "../../node_modules/bootstrap.native/src/strings/dataBsToggle.ts", "../../node_modules/bootstrap.native/src/strings/buttonString.ts", "../../node_modules/bootstrap.native/src/strings/buttonComponent.ts", "../../node_modules/bootstrap.native/src/components/button.ts", "../../node_modules/bootstrap.native/src/strings/dataBsTarget.ts", "../../node_modules/bootstrap.native/src/strings/carouselString.ts", "../../node_modules/bootstrap.native/src/strings/carouselComponent.ts", "../../node_modules/bootstrap.native/src/strings/dataBsParent.ts", "../../node_modules/bootstrap.native/src/strings/dataBsContainer.ts", "../../node_modules/bootstrap.native/src/util/getTargetElement.ts", "../../node_modules/bootstrap.native/src/components/carousel.ts", "../../node_modules/bootstrap.native/src/strings/collapsingClass.ts", "../../node_modules/bootstrap.native/src/strings/collapseString.ts", "../../node_modules/bootstrap.native/src/strings/collapseComponent.ts", "../../node_modules/bootstrap.native/src/components/collapse.ts", "../../node_modules/bootstrap.native/src/strings/dropdownClasses.ts", "../../node_modules/bootstrap.native/src/strings/dropdownComponent.ts", "../../node_modules/bootstrap.native/src/strings/dropdownMenuClass.ts", "../../node_modules/bootstrap.native/src/util/isEmptyAnchor.ts", "../../node_modules/bootstrap.native/src/components/dropdown.ts", "../../node_modules/bootstrap.native/src/strings/modalString.ts", "../../node_modules/bootstrap.native/src/strings/modalComponent.ts", "../../node_modules/bootstrap.native/src/strings/offcanvasComponent.ts", "../../node_modules/bootstrap.native/src/strings/fixedTopClass.ts", "../../node_modules/bootstrap.native/src/strings/fixedBottomClass.ts", "../../node_modules/bootstrap.native/src/strings/stickyTopClass.ts", "../../node_modules/bootstrap.native/src/strings/positionStickyClass.ts", "../../node_modules/bootstrap.native/src/util/scrollbar.ts", "../../node_modules/bootstrap.native/src/strings/offcanvasString.ts", "../../node_modules/bootstrap.native/src/util/popupContainer.ts", "../../node_modules/bootstrap.native/src/util/backdrop.ts", "../../node_modules/bootstrap.native/src/util/isVisible.ts", "../../node_modules/bootstrap.native/src/components/modal.ts", "../../node_modules/bootstrap.native/src/components/offcanvas.ts", "../../node_modules/bootstrap.native/src/strings/popoverString.ts", "../../node_modules/bootstrap.native/src/strings/popoverComponent.ts", "../../node_modules/bootstrap.native/src/strings/tooltipString.ts", "../../node_modules/bootstrap.native/src/util/getTipTemplate.ts", "../../node_modules/bootstrap.native/src/util/tipClassPositions.ts", "../../node_modules/bootstrap.native/src/util/styleTip.ts", "../../node_modules/bootstrap.native/src/util/tooltipDefaults.ts", "../../node_modules/bootstrap.native/src/strings/dataOriginalTitle.ts", "../../node_modules/bootstrap.native/src/strings/tooltipComponent.ts", "../../node_modules/bootstrap.native/src/util/setHtml.ts", "../../node_modules/bootstrap.native/src/util/createTip.ts", "../../node_modules/bootstrap.native/src/util/getElementContainer.ts", "../../node_modules/bootstrap.native/src/components/tooltip.ts", "../../node_modules/bootstrap.native/src/components/popover.ts", "../../node_modules/bootstrap.native/src/strings/scrollspyString.ts", "../../node_modules/bootstrap.native/src/strings/scrollspyComponent.ts", "../../node_modules/bootstrap.native/src/components/scrollspy.ts", "../../node_modules/bootstrap.native/src/strings/tabString.ts", "../../node_modules/bootstrap.native/src/strings/tabComponent.ts", "../../node_modules/bootstrap.native/src/components/tab.ts", "../../node_modules/bootstrap.native/src/strings/toastString.ts", "../../node_modules/bootstrap.native/src/strings/toastComponent.ts", "../../node_modules/bootstrap.native/src/components/toast.ts", "../../node_modules/bootstrap.native/src/util/init.ts", "../../assets/js/ui/csrf.js", "../../assets/js/ui/checkbox.js", "../../assets/js/ui/clipboard.js", "../../assets/js/ui/popover.js", "../../assets/js/ui/header.js", "../../assets/js/ui/multiple.js", "../../assets/js/ui/form_change_submit.js", "../../assets/js/ui/autocomplete.js", "../../assets/js/ui/modal_close.js", "../../assets/js/ui/radio_card.js", "../../assets/js/ui/toast.js", "../../node_modules/sortablejs/modular/sortable.esm.js", "../../assets/js/ui/sortable.js", "../../assets/js/ui/collapsible_sub_sidebar.js", "../../assets/js/ui/modal_error.js", "../../assets/js/ui/file_upload.js", "../../assets/js/ui/tags.js", "../../assets/js/ui/facet_dropdowns.js", "../../assets/js/ui/sidebar_menu.ts", "../../assets/js/ui/search.ts", "../../assets/js/app.js"],
  "sourcesContent": ["/**\n * Tagify (v 4.16.4) - tags input component\n * By undefined\n * https://github.com/yairEO/tagify\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n * \r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n * \r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\n * THE SOFTWARE.\r\n * \r\n * THE SOFTWARE IS NOT PERMISSIBLE TO BE SOLD.\n */\n\n!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).Tagify=e()}(this,(function(){\"use strict\";function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function e(e){for(var s=1;s<arguments.length;s++){var a=null!=arguments[s]?arguments[s]:{};s%2?t(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}const s=(t,e,i,s)=>(t=\"\"+t,e=\"\"+e,s&&(t=t.trim(),e=e.trim()),i?t==e:t.toLowerCase()==e.toLowerCase()),a=(t,e)=>t&&Array.isArray(t)&&t.map((t=>n(t,e)));function n(t,e){var i,s={};for(i in t)e.indexOf(i)<0&&(s[i]=t[i]);return s}function o(t){var e=document.createElement(\"div\");return t.replace(/\\&#?[0-9a-z]+;/gi,(function(t){return e.innerHTML=t,e.innerText}))}function r(t){return(new DOMParser).parseFromString(t.trim(),\"text/html\").body.firstElementChild}function l(t,e){for(e=e||\"previous\";t=t[e+\"Sibling\"];)if(3==t.nodeType)return t}function d(t){return\"string\"==typeof t?t.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/`|'/g,\"&#039;\"):t}function h(t){var e=Object.prototype.toString.call(t).split(\" \")[1].slice(0,-1);return t===Object(t)&&\"Array\"!=e&&\"Function\"!=e&&\"RegExp\"!=e&&\"HTMLUnknownElement\"!=e}function g(t,e,i){function s(t,e){for(var i in e)if(e.hasOwnProperty(i)){if(h(e[i])){h(t[i])?s(t[i],e[i]):t[i]=Object.assign({},e[i]);continue}if(Array.isArray(e[i])){t[i]=Object.assign([],e[i]);continue}t[i]=e[i]}}return t instanceof Object||(t={}),s(t,e),i&&s(t,i),t}function p(){const t=[],e={};for(let i of arguments)for(let s of i)h(s)?e[s.value]||(t.push(s),e[s.value]=1):t.includes(s)||t.push(s);return t}function c(t){return String.prototype.normalize?\"string\"==typeof t?t.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g,\"\"):void 0:t}var u=()=>/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent);function m(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)))}function v(t){return t&&t.classList&&t.classList.contains(this.settings.classNames.tag)}var f={delimiters:\",\",pattern:null,tagTextProp:\"value\",maxTags:1/0,callbacks:{},addTagOnBlur:!0,onChangeAfterBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,keepInvalidTags:!1,createInvalidTags:!0,mixTagsAllowedAfter:/,|\\.|\\:|\\s/,mixTagsInterpolator:[\"[[\",\"]]\"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:()=>{},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:\"\u00A0\"},autoComplete:{enabled:!0,rightKey:!1},classNames:{namespace:\"tagify\",mixMode:\"tagify--mix\",selectMode:\"tagify--select\",input:\"tagify__input\",focus:\"tagify--focus\",tagNoAnimation:\"tagify--noAnim\",tagInvalid:\"tagify--invalid\",tagNotAllowed:\"tagify--notAllowed\",scopeLoading:\"tagify--loading\",hasMaxTags:\"tagify--hasMaxTags\",hasNoTags:\"tagify--noTags\",empty:\"tagify--empty\",inputInvalid:\"tagify__input--invalid\",dropdown:\"tagify__dropdown\",dropdownWrapper:\"tagify__dropdown__wrapper\",dropdownHeader:\"tagify__dropdown__header\",dropdownFooter:\"tagify__dropdown__footer\",dropdownItem:\"tagify__dropdown__item\",dropdownItemActive:\"tagify__dropdown__item--active\",dropdownItemHidden:\"tagify__dropdown__item--hidden\",dropdownInital:\"tagify__dropdown--initial\",tag:\"tagify__tag\",tagText:\"tagify__tag-text\",tagX:\"tagify__tag__removeBtn\",tagLoading:\"tagify__tag--loading\",tagEditing:\"tagify__tag--editable\",tagFlash:\"tagify__tag--flash\",tagHide:\"tagify__tag--hide\"},dropdown:{classname:\"\",enabled:2,maxItems:10,searchKeys:[\"value\",\"searchBy\"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,includeSelectedTags:!1,highlightFirst:!1,closeOnSelect:!0,clearOnSelect:!0,position:\"all\",appendTarget:null},hooks:{beforeRemoveTag:()=>Promise.resolve(),beforePaste:()=>Promise.resolve(),suggestionClick:()=>Promise.resolve()}};function T(){this.dropdown={};for(let t in this._dropdown)this.dropdown[t]=\"function\"==typeof this._dropdown[t]?this._dropdown[t].bind(this):this._dropdown[t];this.dropdown.refs()}var w={refs(){this.DOM.dropdown=this.parseTemplate(\"dropdown\",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector(\"[data-selector='tagify-suggestions-wrapper']\")},getHeaderRef(){return this.DOM.dropdown.querySelector(\"[data-selector='tagify-suggestions-header']\")},getFooterRef(){return this.DOM.dropdown.querySelector(\"[data-selector='tagify-suggestions-footer']\")},getAllSuggestionsRefs(){return[...this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector)]},show(t){var e,i,a,n=this.settings,o=\"mix\"==n.mode&&!n.enforceWhitelist,r=!n.whitelist||!n.whitelist.length,l=\"manual\"==n.dropdown.position;if(t=void 0===t?this.state.inputText:t,!(r&&!o&&!n.templates.dropdownItemNoMatch||!1===n.dropdown.enable||this.state.isLoading||this.settings.readonly)){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(t),t&&!this.suggestedListItems.length&&(this.trigger(\"dropdown:noMatch\",t),n.templates.dropdownItemNoMatch&&(a=n.templates.dropdownItemNoMatch.call(this,{value:t}))),!a){if(this.suggestedListItems.length)t&&o&&!this.state.editing.scope&&!s(this.suggestedListItems[0].value,t)&&this.suggestedListItems.unshift({value:t});else{if(!t||!o||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:t}]}i=\"\"+(h(e=this.suggestedListItems[0])?e.value:e),n.autoComplete&&i&&0==i.indexOf(t)&&this.input.autocomplete.suggest.call(this,e)}this.dropdown.fill(a),n.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(n.classNames.dropdownItemSelector)),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=t||!0,this.state.dropdown.query=t,this.setStateSelection(),l||setTimeout((()=>{this.dropdown.position(),this.dropdown.render()})),setTimeout((()=>{this.trigger(\"dropdown:show\",this.DOM.dropdown)}))}},hide(t){var e=this.DOM,i=e.scope,s=e.dropdown,a=\"manual\"==this.settings.dropdown.position&&!t;if(s&&document.body.contains(s)&&!a)return window.removeEventListener(\"resize\",this.dropdown.position),this.dropdown.events.binding.call(this,!1),i.setAttribute(\"aria-expanded\",!1),s.parentNode.removeChild(s),setTimeout((()=>{this.state.dropdown.visible=!1}),100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger(\"dropdown:hide\",s),this},toggle(t){this.dropdown[this.state.dropdown.visible&&!t?\"hide\":\"show\"]()},render(){var t,e,i,s=(t=this.DOM.dropdown,(i=t.cloneNode(!0)).style.cssText=\"position:fixed; top:-9999px; opacity:0\",document.body.appendChild(i),e=i.clientHeight,i.parentNode.removeChild(i),e),a=this.settings;return\"number\"==typeof a.dropdown.enabled&&a.dropdown.enabled>=0?(this.DOM.scope.setAttribute(\"aria-expanded\",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(a.classNames.dropdownInital),this.dropdown.position(s),a.dropdown.appendTarget.appendChild(this.DOM.dropdown),setTimeout((()=>this.DOM.dropdown.classList.remove(a.classNames.dropdownInital)))),this):this},fill(t){t=\"string\"==typeof t?t:this.dropdown.createListHTML(t||this.suggestedListItems);var e,i=this.settings.templates.dropdownContent.call(this,t);this.DOM.dropdown.content.innerHTML=(e=i)?e.replace(/\\>[\\r\\n ]+\\</g,\"><\").replace(/(<.*?>)|\\s+/g,((t,e)=>e||\" \")):\"\"},fillHeaderFooter(){this.settings.templates;var t=this.dropdown.filterListItems(this.state.dropdown.query),e=this.parseTemplate(\"dropdownHeader\",[t]),i=this.parseTemplate(\"dropdownFooter\",[t]),s=this.dropdown.getHeaderRef(),a=this.dropdown.getFooterRef();e&&s?.parentNode.replaceChild(e,s),i&&a?.parentNode.replaceChild(i,a)},refilter(t){t=t||this.state.dropdown.query||\"\",this.suggestedListItems=this.dropdown.filterListItems(t),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger(\"dropdown:updated\",this.DOM.dropdown)},position(t){var e=this.settings.dropdown;if(\"manual\"!=e.position){var i,s,a,n,o,r,l=this.DOM.dropdown,d=e.placeAbove,h=e.appendTarget===document.body,g=h?window.pageYOffset:e.appendTarget.scrollTop,p=document.fullscreenElement||document.webkitFullscreenElement||document.documentElement,c=p.clientHeight,u=Math.max(p.clientWidth||0,window.innerWidth||0)>480?e.position:\"all\",m=this.DOM[\"input\"==u?\"input\":\"scope\"];if(t=t||l.clientHeight,this.state.dropdown.visible){if(\"text\"==u?(a=(i=this.getCaretGlobalPosition()).bottom,s=i.top,n=i.left,o=\"auto\"):(r=function(t){for(var e=0,i=0;t&&t!=p;)e+=t.offsetLeft||0,i+=t.offsetTop||0,t=t.parentNode;return{left:e,top:i}}(e.appendTarget),s=(i=m.getBoundingClientRect()).top-r.top,a=i.bottom-1-r.top,n=i.left-r.left,o=i.width+\"px\"),!h){let t=function(){for(var t=0,i=e.appendTarget.parentNode;i;)t+=i.scrollTop||0,i=i.parentNode;return t}();s+=t,a+=t}s=Math.floor(s),a=Math.ceil(a),d=void 0===d?c-i.bottom<t:d,l.style.cssText=\"left:\"+(n+window.pageXOffset)+\"px; width:\"+o+\";\"+(d?\"top: \"+(s+g)+\"px\":\"top: \"+(a+g)+\"px\"),l.setAttribute(\"placement\",d?\"top\":\"bottom\"),l.setAttribute(\"position\",u)}}},events:{binding(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e=this.dropdown.events.callbacks,i=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this,null),onKeyDown:e.onKeyDown.bind(this),onMouseOver:e.onMouseOver.bind(this),onMouseLeave:e.onMouseLeave.bind(this),onClick:e.onClick.bind(this),onScroll:e.onScroll.bind(this)},s=t?\"addEventListener\":\"removeEventListener\";\"manual\"!=this.settings.dropdown.position&&(document[s](\"scroll\",i.position,!0),window[s](\"resize\",i.position),window[s](\"keydown\",i.onKeyDown)),this.DOM.dropdown[s](\"mouseover\",i.onMouseOver),this.DOM.dropdown[s](\"mouseleave\",i.onMouseLeave),this.DOM.dropdown[s](\"mousedown\",i.onClick),this.DOM.dropdown.content[s](\"scroll\",i.onScroll)},callbacks:{onKeyDown(t){if(this.state.hasFocus&&!this.state.composing){var e=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownItemActiveSelector),i=this.dropdown.getSuggestionDataByNode(e);switch(t.key){case\"ArrowDown\":case\"ArrowUp\":case\"Down\":case\"Up\":t.preventDefault();var s=this.dropdown.getAllSuggestionsRefs(),a=\"ArrowUp\"==t.key||\"Up\"==t.key;e&&(e=this.dropdown.getNextOrPrevOption(e,!a)),e&&e.matches(this.settings.classNames.dropdownItemSelector)||(e=s[a?s.length-1:0]),i=this.dropdown.getSuggestionDataByNode(e),this.dropdown.highlightOption(e,!0);break;case\"Escape\":case\"Esc\":this.dropdown.hide();break;case\"ArrowRight\":if(this.state.actions.ArrowLeft)return;case\"Tab\":if(\"mix\"!=this.settings.mode&&e&&!this.settings.autoComplete.rightKey&&!this.state.editing){t.preventDefault();var n=this.dropdown.getMappedValue(i);return this.input.autocomplete.set.call(this,n),!1}return!0;case\"Enter\":t.preventDefault(),this.settings.hooks.suggestionClick(t,{tagify:this,tagData:i,suggestionElm:e}).then((()=>{if(e)return this.dropdown.selectOption(e),e=this.dropdown.getNextOrPrevOption(e,!a),void this.dropdown.highlightOption(e);this.dropdown.hide(),\"mix\"!=this.settings.mode&&this.addTags(this.state.inputText.trim(),!0)})).catch((t=>t));break;case\"Backspace\":{if(\"mix\"==this.settings.mode||this.state.editing.scope)return;const t=this.input.raw.call(this);\"\"!=t&&8203!=t.charCodeAt(0)||(!0===this.settings.backspace?this.removeTags():\"edit\"==this.settings.backspace&&setTimeout(this.editTag.bind(this),0))}}}},onMouseOver(t){var e=t.target.closest(this.settings.classNames.dropdownItemSelector);e&&this.dropdown.highlightOption(e)},onMouseLeave(t){this.dropdown.highlightOption()},onClick(t){if(0==t.button&&t.target!=this.DOM.dropdown&&t.target!=this.DOM.dropdown.content){var e=t.target.closest(this.settings.classNames.dropdownItemSelector),i=this.dropdown.getSuggestionDataByNode(e);this.state.actions.selectOption=!0,setTimeout((()=>this.state.actions.selectOption=!1),50),this.settings.hooks.suggestionClick(t,{tagify:this,tagData:i,suggestionElm:e}).then((()=>{e?this.dropdown.selectOption(e,t):this.dropdown.hide()})).catch((t=>console.warn(t)))}},onScroll(t){var e=t.target,i=e.scrollTop/(e.scrollHeight-e.parentNode.clientHeight)*100;this.trigger(\"dropdown:scroll\",{percentage:Math.round(i)})}}},getSuggestionDataByNode(t){var e=t&&t.getAttribute(\"value\");return this.suggestedListItems.find((t=>t.value==e))||null},getNextOrPrevOption(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var i=this.dropdown.getAllSuggestionsRefs(),s=i.findIndex((e=>e===t));return e?i[s+1]:i[s-1]},highlightOption(t,e){var i,s=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(s),this.state.ddItemElm.removeAttribute(\"aria-selected\")),!t)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);i=this.dropdown.getSuggestionDataByNode(t),this.state.ddItemData=i,this.state.ddItemElm=t,t.classList.add(s),t.setAttribute(\"aria-selected\",!0),e&&(t.parentNode.scrollTop=t.clientHeight+t.offsetTop-t.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,i),this.dropdown.position())},selectOption(t,e){var i=this.settings.dropdown,s=i.clearOnSelect,a=i.closeOnSelect;if(!t)return this.addTags(this.state.inputText,!0),void(a&&this.dropdown.hide());e=e||{};var n=t.getAttribute(\"value\"),o=\"noMatch\"==n,r=this.suggestedListItems.find((t=>(t.value||t)==n));this.trigger(\"dropdown:select\",{data:r,elm:t,event:e}),n&&(r||o)?(this.state.editing?this.onEditTagDone(null,g({__isValid:!0},this.normalizeTags([r])[0])):this[\"mix\"==this.settings.mode?\"addMixTags\":\"addTags\"]([r||this.input.raw.call(this)],s),this.DOM.input.parentNode&&(setTimeout((()=>{this.DOM.input.focus(),this.toggleFocusClass(!0),this.setRangeAtStartEnd(!1)})),a&&setTimeout(this.dropdown.hide.bind(this)),t.addEventListener(\"transitionend\",(()=>{this.dropdown.fillHeaderFooter(),setTimeout((()=>t.remove()),100)}),{once:!0}),t.classList.add(this.settings.classNames.dropdownItemHidden))):a&&setTimeout(this.dropdown.hide.bind(this))},selectAll(t){this.suggestedListItems.length=0,this.dropdown.hide(),this.dropdown.filterListItems(\"\");var e=this.dropdown.filterListItems(\"\");return t||(e=this.state.dropdown.suggestions),this.addTags(e,!0),this},filterListItems(t,e){var i,s,a,n,o,r=this.settings,l=r.dropdown,d=(e=e||{},[]),g=[],p=r.whitelist,u=l.maxItems>=0?l.maxItems:1/0,m=l.searchKeys,v=0;if(!(t=\"select\"==r.mode&&this.value.length&&this.value[0][r.tagTextProp]==t?\"\":t)||!m.length)return d=l.includeSelectedTags?p:p.filter((t=>!this.isTagDuplicate(h(t)?t.value:t))),this.state.dropdown.suggestions=d,d.slice(0,u);function f(t,e){return e.toLowerCase().split(\" \").every((e=>t.includes(e.toLowerCase())))}for(o=l.caseSensitive?\"\"+t:(\"\"+t).toLowerCase();v<p.length;v++){let t,r;i=p[v]instanceof Object?p[v]:{value:p[v]};let u=!Object.keys(i).some((t=>m.includes(t)))?[\"value\"]:m;l.fuzzySearch&&!e.exact?(a=u.reduce(((t,e)=>t+\" \"+(i[e]||\"\")),\"\").toLowerCase().trim(),l.accentedSearch&&(a=c(a),o=c(o)),t=0==a.indexOf(o),r=a===o,s=f(a,o)):(t=!0,s=u.some((t=>{var s=\"\"+(i[t]||\"\");return l.accentedSearch&&(s=c(s),o=c(o)),l.caseSensitive||(s=s.toLowerCase()),r=s===o,e.exact?s===o:0==s.indexOf(o)}))),n=!l.includeSelectedTags&&this.isTagDuplicate(h(i)?i.value:i),s&&!n&&(r&&t?g.push(i):\"startsWith\"==l.sortby&&t?d.unshift(i):d.push(i))}return this.state.dropdown.suggestions=g.concat(d),\"function\"==typeof l.sortby?l.sortby(g.concat(d),o):g.concat(d).slice(0,u)},getMappedValue(t){var e=this.settings.dropdown.mapValueTo;return e?\"function\"==typeof e?e(t):t[e]||t.value:t.value},createListHTML(t){return g([],t).map(((t,i)=>{\"string\"!=typeof t&&\"number\"!=typeof t||(t={value:t});var s=this.dropdown.getMappedValue(t);return s=\"string\"==typeof s?d(s):s,this.settings.templates.dropdownItem.apply(this,[e(e({},t),{},{mappedValue:s}),this])})).join(\"\")}};const b=\"@yaireo/tagify/\";var y,x={empty:\"empty\",exceed:\"number of tags exceeded\",pattern:\"pattern mismatch\",duplicate:\"already exists\",notAllowed:\"not allowed\"},D={wrapper:(t,e)=>`<tags class=\"${e.classNames.namespace} ${e.mode?`${e.classNames[e.mode+\"Mode\"]}`:\"\"} ${t.className}\"\\n                    ${e.readonly?\"readonly\":\"\"}\\n                    ${e.disabled?\"disabled\":\"\"}\\n                    ${e.required?\"required\":\"\"}\\n                    ${\"select\"===e.mode?\"spellcheck='false'\":\"\"}\\n                    tabIndex=\"-1\">\\n            <span ${!e.readonly&&e.userInput?\"contenteditable\":\"\"} tabIndex=\"0\" data-placeholder=\"${e.placeholder||\"&#8203;\"}\" aria-placeholder=\"${e.placeholder||\"\"}\"\\n                class=\"${e.classNames.input}\"\\n                role=\"textbox\"\\n                aria-autocomplete=\"both\"\\n                aria-multiline=\"${\"mix\"==e.mode}\"></span>\\n                &#8203;\\n        </tags>`,tag(t,e){let i=e.settings;return`<tag title=\"${t.title||t.value}\"\\n                    contenteditable='false'\\n                    spellcheck='false'\\n                    tabIndex=\"${i.a11y.focusableTags?0:-1}\"\\n                    class=\"${i.classNames.tag} ${t.class||\"\"}\"\\n                    ${this.getAttributes(t)}>\\n            <x title='' class=\"${i.classNames.tagX}\" role='button' aria-label='remove tag'></x>\\n            <div>\\n                <span class=\"${i.classNames.tagText}\">${t[i.tagTextProp]||t.value}</span>\\n            </div>\\n        </tag>`},dropdown(t){var e=t.dropdown,i=\"manual\"==e.position,s=`${t.classNames.dropdown}`;return`<div class=\"${i?\"\":s} ${e.classname}\" role=\"listbox\" aria-labelledby=\"dropdown\">\\n                    <div data-selector='tagify-suggestions-wrapper' class=\"${t.classNames.dropdownWrapper}\"></div>\\n                </div>`},dropdownContent(t){var e=this.settings,i=this.state.dropdown.suggestions;return`\\n            ${e.templates.dropdownHeader.call(this,i)}\\n            ${t}\\n            ${e.templates.dropdownFooter.call(this,i)}\\n        `},dropdownItem(t){return`<div ${this.getAttributes(t)}\\n                    class='${this.settings.classNames.dropdownItem} ${t.class?t.class:\"\"}'\\n                    tabindex=\"0\"\\n                    role=\"option\">${t.mappedValue||t.value}</div>`},dropdownHeader(t){return`<header data-selector='tagify-suggestions-header' class=\"${this.settings.classNames.dropdownHeader}\"></header>`},dropdownFooter(t){var e=t.length-this.settings.dropdown.maxItems;return e>0?`<footer data-selector='tagify-suggestions-footer' class=\"${this.settings.classNames.dropdownFooter}\">\\n                ${e} more items. Refine your search.\\n            </footer>`:\"\"},dropdownItemNoMatch:null};var O={customBinding(){this.customEventsList.forEach((t=>{this.on(t,this.settings.callbacks[t])}))},binding(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e,i=this.events.callbacks,s=t?\"addEventListener\":\"removeEventListener\";if(!this.state.mainEvents||!t){for(var a in this.state.mainEvents=t,t&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on(\"tagify.removeAllTags\",this.removeAllTags.bind(this))),e=this.listeners.main=this.listeners.main||{focus:[\"input\",i.onFocusBlur.bind(this)],keydown:[\"input\",i.onKeydown.bind(this)],click:[\"scope\",i.onClickScope.bind(this)],dblclick:[\"scope\",i.onDoubleClickScope.bind(this)],paste:[\"input\",i.onPaste.bind(this)],drop:[\"input\",i.onDrop.bind(this)],compositionstart:[\"input\",i.onCompositionStart.bind(this)],compositionend:[\"input\",i.onCompositionEnd.bind(this)]})this.DOM[e[a][0]][s](a,e[a][1]);clearInterval(this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=setInterval(i.observeOriginalInputValue.bind(this),500);var n=this.listeners.main.inputMutationObserver||new MutationObserver(i.onInputDOMChange.bind(this));n&&n.disconnect(),\"mix\"==this.settings.mode&&n.observe(this.DOM.input,{childList:!0})}},bindGlobal(t){var e,i=this.events.callbacks,s=t?\"removeEventListener\":\"addEventListener\";if(t||!this.listeners.global)for(e of(this.listeners.global=this.listeners&&this.listeners.global||[{type:this.isIE?\"keydown\":\"input\",target:this.DOM.input,cb:i[this.isIE?\"onInputIE\":\"onInput\"].bind(this)},{type:\"keydown\",target:window,cb:i.onWindowKeyDown.bind(this)},{type:\"blur\",target:this.DOM.input,cb:i.onFocusBlur.bind(this)}],this.listeners.global))e.target[s](e.type,e.cb)},unbindGlobal(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur(t){var e=this.settings,i=t.target?this.trim(t.target.textContent):\"\",s=this.value?.[0]?.[e.tagTextProp],a=t.type,n=e.dropdown.enabled>=0,o={relatedTarget:t.relatedTarget},r=this.state.actions.selectOption&&(n||!e.dropdown.closeOnSelect),l=this.state.actions.addNew&&n,d=t.relatedTarget&&v.call(this,t.relatedTarget)&&this.DOM.scope.contains(t.relatedTarget);if(\"blur\"==a){if(t.relatedTarget===this.DOM.scope)return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),e.onChangeAfterBlur&&this.triggerChangeEvent()}if(!r&&!l)if(this.state.hasFocus=\"focus\"==a&&+new Date,this.toggleFocusClass(this.state.hasFocus),\"mix\"!=e.mode){if(\"focus\"==a)return this.trigger(\"focus\",o),void(0!==e.dropdown.enabled&&e.userInput||this.dropdown.show(this.value.length?\"\":void 0));\"blur\"==a&&(this.trigger(\"blur\",o),this.loading(!1),\"select\"==e.mode&&(d&&(this.removeTags(),i=\"\"),s===i&&(i=\"\")),i&&!this.state.actions.selectOption&&e.addTagOnBlur&&this.addTags(i,!0)),this.DOM.input.removeAttribute(\"style\"),this.dropdown.hide()}else\"focus\"==a?this.trigger(\"focus\",o):\"blur\"==t.type&&(this.trigger(\"blur\",o),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection())},onCompositionStart(t){this.state.composing=!0},onCompositionEnd(t){this.state.composing=!1},onWindowKeyDown(t){var e,i=document.activeElement;if(v.call(this,i)&&this.DOM.scope.contains(document.activeElement))switch(e=i.nextElementSibling,t.key){case\"Backspace\":this.settings.readonly||(this.removeTags(i),(e||this.DOM.input).focus());break;case\"Enter\":setTimeout(this.editTag.bind(this),0,i)}},onKeydown(t){var e=this.settings;if(!this.state.composing&&e.userInput){\"select\"==e.mode&&e.enforceWhitelist&&this.value.length&&\"Tab\"!=t.key&&t.preventDefault();var i=this.trim(t.target.textContent);if(this.trigger(\"keydown\",{event:t}),\"mix\"==e.mode){switch(t.key){case\"Left\":case\"ArrowLeft\":this.state.actions.ArrowLeft=!0;break;case\"Delete\":case\"Backspace\":if(this.state.editing)return;var s,a,n,r=document.getSelection(),d=\"Delete\"==t.key&&r.anchorOffset==(r.anchorNode.length||0),h=r.anchorNode.previousSibling,g=1==r.anchorNode.nodeType||!r.anchorOffset&&h&&1==h.nodeType&&r.anchorNode.previousSibling,p=o(this.DOM.input.innerHTML),c=this.getTagElms();if(\"edit\"==e.backspace&&g)return s=1==r.anchorNode.nodeType?null:r.anchorNode.previousElementSibling,setTimeout(this.editTag.bind(this),0,s),void t.preventDefault();if(u()&&g)return n=l(g),g.hasAttribute(\"readonly\")||g.remove(),this.DOM.input.focus(),void setTimeout((()=>{this.placeCaretAfterNode(n),this.DOM.input.click()}));if(\"BR\"==r.anchorNode.nodeName)return;if((d||g)&&1==r.anchorNode.nodeType?a=0==r.anchorOffset?d?c[0]:null:c[Math.min(c.length,r.anchorOffset)-1]:d?a=r.anchorNode.nextElementSibling:g&&(a=g),3==r.anchorNode.nodeType&&!r.anchorNode.nodeValue&&r.anchorNode.previousElementSibling&&t.preventDefault(),(g||d)&&!e.backspace)return void t.preventDefault();if(\"Range\"!=r.type&&!r.anchorOffset&&r.anchorNode==this.DOM.input&&\"Delete\"!=t.key)return void t.preventDefault();if(\"Range\"!=r.type&&a&&a.hasAttribute(\"readonly\"))return void this.placeCaretAfterNode(l(a));clearTimeout(y),y=setTimeout((()=>{var t=document.getSelection(),e=o(this.DOM.input.innerHTML),i=!d&&t.anchorNode.previousSibling;if(e.length>=p.length&&i)if(v.call(this,i)&&!i.hasAttribute(\"readonly\")){if(this.removeTags(i),this.fixFirefoxLastTagNoCaret(),2==this.DOM.input.children.length&&\"BR\"==this.DOM.input.children[1].tagName)return this.DOM.input.innerHTML=\"\",this.value.length=0,!0}else i.remove();this.value=[].map.call(c,((t,e)=>{var i=this.tagData(t);if(t.parentNode||i.readonly)return i;this.trigger(\"remove\",{tag:t,index:e,data:i})})).filter((t=>t))}),20)}return!0}switch(t.key){case\"Backspace\":\"select\"==e.mode&&e.enforceWhitelist&&this.value.length?this.removeTags():this.state.dropdown.visible&&\"manual\"!=e.dropdown.position||\"\"!=t.target.textContent&&8203!=i.charCodeAt(0)||(!0===e.backspace?this.removeTags():\"edit\"==e.backspace&&setTimeout(this.editTag.bind(this),0));break;case\"Esc\":case\"Escape\":if(this.state.dropdown.visible)return;t.target.blur();break;case\"Down\":case\"ArrowDown\":this.state.dropdown.visible||this.dropdown.show();break;case\"ArrowRight\":{let t=this.state.inputSuggestion||this.state.ddItemData;if(t&&e.autoComplete.rightKey)return void this.addTags([t],!0);break}case\"Tab\":{let s=\"select\"==e.mode;if(!i||s)return!0;t.preventDefault()}case\"Enter\":if(this.state.dropdown.visible&&\"manual\"!=e.dropdown.position)return;t.preventDefault(),setTimeout((()=>{this.state.actions.selectOption||this.addTags(i,!0)}))}}},onInput(t){this.postUpdate();var e=this.settings;if(\"mix\"==e.mode)return this.events.callbacks.onMixTagsInput.call(this,t);var i=this.input.normalize.call(this),s=i.length>=e.dropdown.enabled,a={value:i,inputElm:this.DOM.input},n=this.validateTag({value:i});\"select\"==e.mode&&this.toggleScopeValidation(n),a.isValid=n,this.state.inputText!=i&&(this.input.set.call(this,i,!1),-1!=i.search(e.delimiters)?this.addTags(i)&&this.input.set.call(this):e.dropdown.enabled>=0&&this.dropdown[s?\"show\":\"hide\"](i),this.trigger(\"input\",a))},onMixTagsInput(t){var e,i,s,a,n,o,r,l,d=this.settings,h=this.value.length,p=this.getTagElms(),c=document.createDocumentFragment(),m=window.getSelection().getRangeAt(0),v=[].map.call(p,(t=>this.tagData(t).value));if(\"deleteContentBackward\"==t.inputType&&u()&&this.events.callbacks.onKeydown.call(this,{target:t.target,key:\"Backspace\"}),this.value.slice().forEach((t=>{t.readonly&&!v.includes(t.value)&&c.appendChild(this.createTagElem(t))})),c.childNodes.length&&(m.insertNode(c),this.setRangeAtStartEnd(!1,c.lastChild)),p.length!=h)return this.value=[].map.call(this.getTagElms(),(t=>this.tagData(t))),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(o=window.getSelection()).rangeCount>0&&3==o.anchorNode.nodeType){if((m=o.getRangeAt(0).cloneRange()).collapse(!0),m.setStart(o.focusNode,0),s=(e=m.toString().slice(0,m.endOffset)).split(d.pattern).length-1,(i=e.match(d.pattern))&&(a=e.slice(e.lastIndexOf(i[i.length-1]))),a){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:a.match(d.pattern)[0],value:a.replace(d.pattern,\"\")},this.state.tag.baseOffset=o.baseOffset-this.state.tag.value.length,l=this.state.tag.value.match(d.delimiters))return this.state.tag.value=this.state.tag.value.replace(d.delimiters,\"\"),this.state.tag.delimiters=l[0],this.addTags(this.state.tag.value,d.dropdown.clearOnSelect),void this.dropdown.hide();n=this.state.tag.value.length>=d.dropdown.enabled;try{r=(r=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&r.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch(t){}(r||s<this.state.mixMode.matchedPatternCount)&&(n=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=s}setTimeout((()=>{this.update({withoutChangeEvent:!0}),this.trigger(\"input\",g({},this.state.tag,{textContent:this.DOM.input.textContent})),this.state.tag&&this.dropdown[n?\"show\":\"hide\"](this.state.tag.value)}),10)},onInputIE(t){var e=this;setTimeout((function(){e.events.callbacks.onInput.call(e,t)}))},observeOriginalInputValue(){this.DOM.originalInput.parentNode||this.destroy(),this.DOM.originalInput.value!=this.DOM.originalInput.tagifyValue&&this.loadOriginalValues()},onClickScope(t){var e=this.settings,i=t.target.closest(\".\"+e.classNames.tag),s=+new Date-this.state.hasFocus;if(t.target!=this.DOM.scope){if(!t.target.classList.contains(e.classNames.tagX))return i?(this.trigger(\"click\",{tag:i,index:this.getNodeIndex(i),data:this.tagData(i),event:t}),void(1!==e.editTags&&1!==e.editTags.clicks||this.events.callbacks.onDoubleClickScope.call(this,t))):void(t.target==this.DOM.input&&(\"mix\"==e.mode&&this.fixFirefoxLastTagNoCaret(),s>500)?this.state.dropdown.visible?this.dropdown.hide():0===e.dropdown.enabled&&\"mix\"!=e.mode&&this.dropdown.show(this.value.length?\"\":void 0):\"select\"==e.mode&&!this.state.dropdown.visible&&this.dropdown.show());this.removeTags(t.target.parentNode)}else this.state.hasFocus||this.DOM.input.focus()},onPaste(t){t.preventDefault();var e,i,s=this.settings;if(\"select\"==s.mode&&s.enforceWhitelist||!s.userInput)return!1;s.readonly||(e=t.clipboardData||window.clipboardData,i=e.getData(\"Text\"),s.hooks.beforePaste(t,{tagify:this,pastedText:i,clipboardData:e}).then((e=>{void 0===e&&(e=i),e&&(this.injectAtCaret(e,window.getSelection().getRangeAt(0)),\"mix\"==this.settings.mode?this.events.callbacks.onMixTagsInput.call(this,t):this.settings.pasteAsTags?this.addTags(this.state.inputText+e,!0):this.state.inputText=e)})).catch((t=>t)))},onDrop(t){t.preventDefault()},onEditTagInput(t,e){var i=t.closest(\".\"+this.settings.classNames.tag),s=this.getNodeIndex(i),a=this.tagData(i),n=this.input.normalize.call(this,t),o={[this.settings.tagTextProp]:n,__tagId:a.__tagId},r=this.validateTag(o);this.editTagChangeDetected(g(a,o))||!0!==t.originalIsValid||(r=!0),i.classList.toggle(this.settings.classNames.tagInvalid,!0!==r),a.__isValid=r,i.title=!0===r?a.title||a.value:r,n.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=n),this.dropdown.show(n)),this.trigger(\"edit:input\",{tag:i,index:s,data:g({},this.value[s],{newValue:n}),event:e})},onEditTagFocus(t){this.state.editing={scope:t,input:t.querySelector(\"[contenteditable]\")}},onEditTagBlur(t){if(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(t)){var e,i,s=this.settings,a=t.closest(\".\"+s.classNames.tag),n=this.input.normalize.call(this,t),o=this.tagData(a),r=o.__originalData,l=this.editTagChangeDetected(o),d=this.validateTag({[s.tagTextProp]:n,__tagId:o.__tagId});if(n)if(l){if(e=this.hasMaxTags(),i=g({},r,{[s.tagTextProp]:this.trim(n),__isValid:d}),s.transformTag.call(this,i,r),!0!==(d=(!e||!0===r.__isValid)&&this.validateTag(i))){if(this.trigger(\"invalid\",{data:i,tag:a,message:d}),s.editTags.keepInvalid)return;s.keepInvalidTags?i.__isValid=d:i=r}else s.keepInvalidTags&&(delete i.title,delete i[\"aria-invalid\"],delete i.class);this.onEditTagDone(a,i)}else this.onEditTagDone(a,r);else this.onEditTagDone(a)}},onEditTagkeydown(t,e){if(!this.state.composing)switch(this.trigger(\"edit:keydown\",{event:t}),t.key){case\"Esc\":case\"Escape\":e.parentNode.replaceChild(e.__tagifyTagData.__originalHTML,e),this.state.editing=!1;case\"Enter\":case\"Tab\":t.preventDefault(),t.target.blur()}},onDoubleClickScope(t){var e,i,s=t.target.closest(\".\"+this.settings.classNames.tag),a=this.tagData(s),n=this.settings;s&&n.userInput&&!1!==a.editable&&(e=s.classList.contains(this.settings.classNames.tagEditing),i=s.hasAttribute(\"readonly\"),\"select\"==n.mode||n.readonly||e||i||!this.settings.editTags||this.editTag(s),this.toggleFocusClass(!0),this.trigger(\"dblclick\",{tag:s,index:this.getNodeIndex(s),data:this.tagData(s)}))},onInputDOMChange(t){t.forEach((t=>{t.addedNodes.forEach((t=>{if(\"<div><br></div>\"==t.outerHTML)t.replaceWith(document.createElement(\"br\"));else if(1==t.nodeType&&t.querySelector(this.settings.classNames.tagSelector)){let e=document.createTextNode(\"\");3==t.childNodes[0].nodeType&&\"BR\"!=t.previousSibling.nodeName&&(e=document.createTextNode(\"\\n\")),t.replaceWith(e,...[...t.childNodes].slice(0,-1)),this.placeCaretAfterNode(e)}else if(v.call(this,t)&&(3!=t.previousSibling?.nodeType||t.previousSibling.textContent||t.previousSibling.remove(),t.previousSibling&&\"BR\"==t.previousSibling.nodeName)){t.previousSibling.replaceWith(\"\\n\u200B\");let e=t.nextSibling,i=\"\";for(;e;)i+=e.textContent,e=e.nextSibling;i.trim()&&this.placeCaretAfterNode(t.previousSibling)}})),t.removedNodes.forEach((t=>{t&&\"BR\"==t.nodeName&&v.call(this,e)&&(this.removeTags(e),this.fixFirefoxLastTagNoCaret())}))}));var e=this.DOM.input.lastChild;e&&\"\"==e.nodeValue&&e.remove(),e&&\"BR\"==e.nodeName||this.DOM.input.appendChild(document.createElement(\"br\"))}}};function M(t,e){if(!t){console.warn(\"Tagify:\",\"input element not found\",t);const e=new Proxy(this,{get:()=>()=>e});return e}if(t.__tagify)return console.warn(\"Tagify: \",\"input element is already Tagified - Same instance is returned.\",t),t.__tagify;var i;g(this,function(t){var e=document.createTextNode(\"\");function i(t,i,s){s&&i.split(/\\s+/g).forEach((i=>e[t+\"EventListener\"].call(e,i,s)))}return{off(t,e){return i(\"remove\",t,e),this},on(t,e){return e&&\"function\"==typeof e&&i(\"add\",t,e),this},trigger(i,s,a){var n;if(a=a||{cloneData:!0},i)if(t.settings.isJQueryPlugin)\"remove\"==i&&(i=\"removeTag\"),jQuery(t.DOM.originalInput).triggerHandler(i,[s]);else{try{var o=\"object\"==typeof s?s:{value:s};if((o=a.cloneData?g({},o):o).tagify=this,s.event&&(o.event=this.cloneEvent(s.event)),s instanceof Object)for(var r in s)s[r]instanceof HTMLElement&&(o[r]=s[r]);n=new CustomEvent(i,{detail:o})}catch(t){console.warn(t)}e.dispatchEvent(n)}}}}(this)),this.isFirefox=\"undefined\"!=typeof InstallTrigger,this.isIE=window.document.documentMode,e=e||{},this.getPersistedData=(i=e.id,t=>{let e,s=\"/\"+t;if(1==localStorage.getItem(b+i+\"/v\",1))try{e=JSON.parse(localStorage[b+i+s])}catch(t){}return e}),this.setPersistedData=(t=>t?(localStorage.setItem(b+t+\"/v\",1),(e,i)=>{let s=\"/\"+i,a=JSON.stringify(e);e&&i&&(localStorage.setItem(b+t+s,a),dispatchEvent(new Event(\"storage\")))}):()=>{})(e.id),this.clearPersistedData=(t=>e=>{const i=b+\"/\"+t+\"/\";if(e)localStorage.removeItem(i+e);else for(let t in localStorage)t.includes(i)&&localStorage.removeItem(t)})(e.id),this.applySettings(t,e),this.state={inputText:\"\",editing:!1,composing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(t),T.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),t.autofocus&&this.DOM.input.focus(),t.__tagify=this}return M.prototype={_dropdown:w,helpers:{sameStr:s,removeCollectionProp:a,omit:n,isObject:h,parseHTML:r,escapeHTML:d,extend:g,concatWithoutDups:p,getUID:m,isNodeTag:v},customEventsList:[\"change\",\"add\",\"remove\",\"invalid\",\"input\",\"click\",\"keydown\",\"focus\",\"blur\",\"edit:input\",\"edit:beforeUpdate\",\"edit:updated\",\"edit:start\",\"edit:keydown\",\"dropdown:show\",\"dropdown:hide\",\"dropdown:select\",\"dropdown:updated\",\"dropdown:noMatch\",\"dropdown:scroll\"],dataProps:[\"__isValid\",\"__removed\",\"__originalData\",\"__originalHTML\",\"__tagId\"],trim(t){return this.settings.trim&&t&&\"string\"==typeof t?t.trim():t},parseHTML:r,templates:D,parseTemplate(t,e){return t=this.settings.templates[t]||t,this.parseHTML(t.apply(this,e))},set whitelist(t){const e=t&&Array.isArray(t);this.settings.whitelist=e?t:[],this.setPersistedData(e?t:[],\"whitelist\")},get whitelist(){return this.settings.whitelist},generateClassSelectors(t){for(let e in t){let i=e;Object.defineProperty(t,i+\"Selector\",{get(){return\".\"+this[i].split(\" \")[0]}})}},applySettings(t,i){f.templates=this.templates;var s=this.settings=g({},f,i);if(s.disabled=t.hasAttribute(\"disabled\"),s.readonly=s.readonly||t.hasAttribute(\"readonly\"),s.placeholder=d(t.getAttribute(\"placeholder\")||s.placeholder||\"\"),s.required=t.hasAttribute(\"required\"),this.generateClassSelectors(s.classNames),void 0===s.dropdown.includeSelectedTags&&(s.dropdown.includeSelectedTags=s.duplicates),this.isIE&&(s.autoComplete=!1),[\"whitelist\",\"blacklist\"].forEach((e=>{var i=t.getAttribute(\"data-\"+e);i&&(i=i.split(s.delimiters))instanceof Array&&(s[e]=i)})),\"autoComplete\"in i&&!h(i.autoComplete)&&(s.autoComplete=f.autoComplete,s.autoComplete.enabled=i.autoComplete),\"mix\"==s.mode&&(s.autoComplete.rightKey=!0,s.delimiters=i.delimiters||null,s.tagTextProp&&!s.dropdown.searchKeys.includes(s.tagTextProp)&&s.dropdown.searchKeys.push(s.tagTextProp)),t.pattern)try{s.pattern=new RegExp(t.pattern)}catch(t){}if(s.delimiters){s._delimiters=s.delimiters;try{s.delimiters=new RegExp(this.settings.delimiters,\"g\")}catch(t){}}s.disabled&&(s.userInput=!1),this.TEXTS=e(e({},x),s.texts||{}),\"select\"!=s.mode&&s.userInput||(s.dropdown.enabled=0),s.dropdown.appendTarget=i.dropdown&&i.dropdown.appendTarget?i.dropdown.appendTarget:document.body;let a=this.getPersistedData(\"whitelist\");Array.isArray(a)&&(this.whitelist=Array.isArray(s.whitelist)?p(s.whitelist,a):a)},getAttributes(t){var e,i=this.getCustomAttributes(t),s=\"\";for(e in i)s+=\" \"+e+(void 0!==t[e]?`=\"${i[e]}\"`:\"\");return s},getCustomAttributes(t){if(!h(t))return\"\";var e,i={};for(e in t)\"__\"!=e.slice(0,2)&&\"class\"!=e&&t.hasOwnProperty(e)&&void 0!==t[e]&&(i[e]=d(t[e]));return i},setStateSelection(){var t=window.getSelection(),e={anchorOffset:t.anchorOffset,anchorNode:t.anchorNode,range:t.getRangeAt&&t.rangeCount&&t.getRangeAt(0)};return this.state.selection=e,e},getCaretGlobalPosition(){const t=document.getSelection();if(t.rangeCount){const e=t.getRangeAt(0),i=e.startContainer,s=e.startOffset;let a,n;if(s>0)return n=document.createRange(),n.setStart(i,s-1),n.setEnd(i,s),a=n.getBoundingClientRect(),{left:a.right,top:a.top,bottom:a.bottom};if(i.getBoundingClientRect)return i.getBoundingClientRect()}return{left:-9999,top:-9999}},getCSSVars(){var t=getComputedStyle(this.DOM.scope,null);var e;this.CSSVars={tagHideTransition:(t=>{let e=t.value;return\"s\"==t.unit?1e3*e:e})(function(t){if(!t)return{};var e=(t=t.trim().split(\" \")[0]).split(/\\d+/g).filter((t=>t)).pop().trim();return{value:+t.split(e).filter((t=>t))[0].trim(),unit:e}}((e=\"tag-hide-transition\",t.getPropertyValue(\"--\"+e))))}},build(t){var e=this.DOM;this.settings.mixMode.integrated?(e.originalInput=null,e.scope=t,e.input=t):(e.originalInput=t,e.originalInput_tabIndex=t.tabIndex,e.scope=this.parseTemplate(\"wrapper\",[t,this.settings]),e.input=e.scope.querySelector(this.settings.classNames.inputSelector),t.parentNode.insertBefore(e.scope,t),t.tabIndex=-1)},destroy(){this.events.unbindGlobal.call(this),this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.DOM.originalInput.tabIndex=this.DOM.originalInput_tabIndex,delete this.DOM.originalInput.__tagify,this.dropdown.hide(!0),clearTimeout(this.dropdownHide__bindEventsTimeout),clearInterval(this.listeners.main.originalInputValueObserverInterval)},loadOriginalValues(t){var e,i=this.settings;if(this.state.blockChangeEvent=!0,void 0===t){const e=this.getPersistedData(\"value\");t=e&&!this.DOM.originalInput.value?e:i.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value}if(this.removeAllTags(),t)if(\"mix\"==i.mode)this.parseMixTags(this.trim(t)),(e=this.DOM.input.lastChild)&&\"BR\"==e.tagName||this.DOM.input.insertAdjacentHTML(\"beforeend\",\"<br>\");else{try{JSON.parse(t)instanceof Array&&(t=JSON.parse(t))}catch(t){}this.addTags(t,!0).forEach((t=>t&&t.classList.add(i.classNames.tagNoAnimation)))}else this.postUpdate();this.state.lastOriginalValueReported=i.mixMode.integrated?\"\":this.DOM.originalInput.value,this.state.blockChangeEvent=!1},cloneEvent(t){var e={};for(var i in t)\"path\"!=i&&(e[i]=t[i]);return e},loading(t){return this.state.isLoading=t,this.DOM.scope.classList[t?\"add\":\"remove\"](this.settings.classNames.scopeLoading),this},tagLoading(t,e){return t&&t.classList[e?\"add\":\"remove\"](this.settings.classNames.tagLoading),this},toggleClass(t,e){\"string\"==typeof t&&this.DOM.scope.classList.toggle(t,e)},toggleScopeValidation(t){var e=!0===t||void 0===t;!this.settings.required&&t&&t===this.TEXTS.empty&&(e=!0),this.toggleClass(this.settings.classNames.tagInvalid,!e),this.DOM.scope.title=e?\"\":t},toggleFocusClass(t){this.toggleClass(this.settings.classNames.focus,!!t)},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var t=this.DOM.originalInput,e=this.state.lastOriginalValueReported!==t.value,i=new CustomEvent(\"change\",{bubbles:!0});e&&(this.state.lastOriginalValueReported=t.value,i.simulated=!0,t._valueTracker&&t._valueTracker.setValue(Math.random()),t.dispatchEvent(i),this.trigger(\"change\",this.state.lastOriginalValueReported),t.value=this.state.lastOriginalValueReported)}},events:O,fixFirefoxLastTagNoCaret(){},placeCaretAfterNode(t){if(t&&t.parentNode){var e=t,i=window.getSelection(),s=i.getRangeAt(0);i.rangeCount&&(s.setStartAfter(e||t),s.collapse(!0),i.removeAllRanges(),i.addRange(s))}},insertAfterTag(t,e){if(e=e||this.settings.mixMode.insertAfterTag,t&&t.parentNode&&e)return e=\"string\"==typeof e?document.createTextNode(e):e,t.parentNode.insertBefore(e,t.nextSibling),e},editTagChangeDetected(t){var e=t.__originalData;for(var i in e)if(!this.dataProps.includes(i)&&t[i]!=e[i])return!0;return!1},getTagTextNode(t){return t.querySelector(this.settings.classNames.tagTextSelector)},setTagTextNode(t,e){this.getTagTextNode(t).innerHTML=d(e)},editTag(t,e){t=t||this.getLastTag(),e=e||{},this.dropdown.hide();var i=this.settings,s=this.getTagTextNode(t),a=this.getNodeIndex(t),n=this.tagData(t),o=this.events.callbacks,r=this,l=!0;if(s){if(!(n instanceof Object&&\"editable\"in n)||n.editable)return n=this.tagData(t,{__originalData:g({},n),__originalHTML:t.cloneNode(!0)}),this.tagData(n.__originalHTML,n.__originalData),s.setAttribute(\"contenteditable\",!0),t.classList.add(i.classNames.tagEditing),s.addEventListener(\"focus\",o.onEditTagFocus.bind(this,t)),s.addEventListener(\"blur\",(function(){setTimeout((()=>o.onEditTagBlur.call(r,r.getTagTextNode(t))))})),s.addEventListener(\"input\",o.onEditTagInput.bind(this,s)),s.addEventListener(\"keydown\",(e=>o.onEditTagkeydown.call(this,e,t))),s.addEventListener(\"compositionstart\",o.onCompositionStart.bind(this)),s.addEventListener(\"compositionend\",o.onCompositionEnd.bind(this)),e.skipValidation||(l=this.editTagToggleValidity(t)),s.originalIsValid=l,this.trigger(\"edit:start\",{tag:t,index:a,data:n,isValid:l}),s.focus(),this.setRangeAtStartEnd(!1,s),this}else console.warn(\"Cannot find element in Tag template: .\",i.classNames.tagTextSelector)},editTagToggleValidity(t,e){var i;if(e=e||this.tagData(t))return(i=!(\"__isValid\"in e)||!0===e.__isValid)||this.removeTagsFromValue(t),this.update(),t.classList.toggle(this.settings.classNames.tagNotAllowed,!i),e.__isValid;console.warn(\"tag has no data: \",t,e)},onEditTagDone(t,e){e=e||{};var i={tag:t=t||this.state.editing.scope,index:this.getNodeIndex(t),previousData:this.tagData(t),data:e};this.trigger(\"edit:beforeUpdate\",i,{cloneData:!1}),this.state.editing=!1,delete e.__originalData,delete e.__originalHTML,t&&e[this.settings.tagTextProp]?(t=this.replaceTag(t,e),this.editTagToggleValidity(t,e),this.settings.a11y.focusableTags?t.focus():this.placeCaretAfterNode(t)):t&&this.removeTags(t),this.trigger(\"edit:updated\",i),this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag(t,e){e&&e.value||(e=t.__tagifyTagData),e.__isValid&&1!=e.__isValid&&g(e,this.getInvalidTagAttrs(e,e.__isValid));var i=this.createTagElem(e);return t.parentNode.replaceChild(i,t),this.updateValueByDOMTags(),i},updateValueByDOMTags(){this.value.length=0,[].forEach.call(this.getTagElms(),(t=>{t.classList.contains(this.settings.classNames.tagNotAllowed.split(\" \")[0])||this.value.push(this.tagData(t))})),this.update()},setRangeAtStartEnd(t,e){t=\"number\"==typeof t?t:!!t,e=(e=e||this.DOM.input).lastChild||e;var i=document.getSelection();try{i.rangeCount>=1&&[\"Start\",\"End\"].forEach((s=>i.getRangeAt(0)[\"set\"+s](e,t||e.length)))}catch(t){}},injectAtCaret(t,e){return!(e=e||this.state.selection?.range)&&t?(this.appendMixTags(t),this):(\"string\"==typeof t&&(t=document.createTextNode(t)),e.deleteContents(),e.insertNode(t),this.setRangeAtStartEnd(!1,t),this.updateValueByDOMTags(),this.update(),this)},input:{set(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var i=this.settings.dropdown.closeOnSelect;this.state.inputText=t,e&&(this.DOM.input.innerHTML=d(\"\"+t)),!t&&i&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw(){return this.DOM.input.textContent},validate(){var t=!this.state.inputText||!0===this.validateTag({value:this.state.inputText});return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!t),t},normalize(t){var e=t||this.DOM.input,i=[];e.childNodes.forEach((t=>3==t.nodeType&&i.push(t.nodeValue))),i=i.join(\"\\n\");try{i=i.replace(/(?:\\r\\n|\\r|\\n)/g,this.settings.delimiters.source.charAt(0))}catch(t){}return i=i.replace(/\\s/g,\" \"),this.trim(i)},autocomplete:{suggest(t){if(this.settings.autoComplete.enabled){\"string\"==typeof(t=t||{})&&(t={value:t});var e=t.value?\"\"+t.value:\"\",i=e.substr(0,this.state.inputText.length).toLowerCase(),s=e.substring(this.state.inputText.length);e&&this.state.inputText&&i==this.state.inputText.toLowerCase()?(this.DOM.input.setAttribute(\"data-suggest\",s),this.state.inputSuggestion=t):(this.DOM.input.removeAttribute(\"data-suggest\"),delete this.state.inputSuggestion)}},set(t){var e=this.DOM.input.getAttribute(\"data-suggest\"),i=t||(e?this.state.inputText+e:null);return!!i&&(\"mix\"==this.settings.mode?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+i)):(this.input.set.call(this,i),this.setRangeAtStartEnd()),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx(t){return this.value.findIndex((e=>e.__tagId==(t||{}).__tagId))},getNodeIndex(t){var e=0;if(t)for(;t=t.previousElementSibling;)e++;return e},getTagElms(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var s=\".\"+[...this.settings.classNames.tag.split(\" \"),...e].join(\".\");return[].slice.call(this.DOM.scope.querySelectorAll(s))},getLastTag(){var t=this.DOM.scope.querySelectorAll(`${this.settings.classNames.tagSelector}:not(.${this.settings.classNames.tagHide}):not([readonly])`);return t[t.length-1]},tagData:(t,e,i)=>t?(e&&(t.__tagifyTagData=i?e:g({},t.__tagifyTagData||{},e)),t.__tagifyTagData):(console.warn(\"tag element doesn't exist\",t,e),e),isTagDuplicate(t,e,i){var a=0;if(\"select\"==this.settings.mode)return!1;for(let n of this.value){s(this.trim(\"\"+t),n.value,e)&&i!=n.__tagId&&a++}return a},getTagIndexByValue(t){var e=[];return this.getTagElms().forEach(((i,a)=>{s(this.trim(i.textContent),t,this.settings.dropdown.caseSensitive)&&e.push(a)})),e},getTagElmByValue(t){var e=this.getTagIndexByValue(t)[0];return this.getTagElms()[e]},flashTag(t){t&&(t.classList.add(this.settings.classNames.tagFlash),setTimeout((()=>{t.classList.remove(this.settings.classNames.tagFlash)}),100))},isTagBlacklisted(t){return t=this.trim(t.toLowerCase()),this.settings.blacklist.filter((e=>(\"\"+e).toLowerCase()==t)).length},isTagWhitelisted(t){return!!this.getWhitelistItem(t)},getWhitelistItem(t,e,i){e=e||\"value\";var a,n=this.settings;return(i=i||n.whitelist).some((i=>{var o=\"string\"==typeof i?i:i[e]||i.value;if(s(o,t,n.dropdown.caseSensitive,n.trim))return a=\"string\"==typeof i?{value:i}:i,!0})),a||\"value\"!=e||\"value\"==n.tagTextProp||(a=this.getWhitelistItem(t,n.tagTextProp,i)),a},validateTag(t){var e=this.settings,i=\"value\"in t?\"value\":e.tagTextProp,s=this.trim(t[i]+\"\");return(t[i]+\"\").trim()?e.pattern&&e.pattern instanceof RegExp&&!e.pattern.test(s)?this.TEXTS.pattern:!e.duplicates&&this.isTagDuplicate(s,e.dropdown.caseSensitive,t.__tagId)?this.TEXTS.duplicate:this.isTagBlacklisted(s)||e.enforceWhitelist&&!this.isTagWhitelisted(s)?this.TEXTS.notAllowed:!e.validate||e.validate(t):this.TEXTS.empty},getInvalidTagAttrs(t,e){return{\"aria-invalid\":!0,class:`${t.class||\"\"} ${this.settings.classNames.tagNotAllowed}`.trim(),title:e}},hasMaxTags(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly(t,e){var i=this.settings;document.activeElement.blur(),i[e||\"readonly\"]=t,this.DOM.scope[(t?\"set\":\"remove\")+\"Attribute\"](e||\"readonly\",!0),this.setContentEditable(!t)},setContentEditable(t){this.settings.userInput&&(this.DOM.input.contentEditable=t,this.DOM.input.tabIndex=t?0:-1)},setDisabled(t){this.setReadonly(t,\"disabled\")},normalizeTags(t){var e=this.settings,i=e.whitelist,s=e.delimiters,a=e.mode,n=e.tagTextProp;e.enforceWhitelist;var o=[],r=!!i&&i[0]instanceof Object,l=Array.isArray(t),d=l&&t[0].value,h=t=>(t+\"\").split(s).filter((t=>t)).map((t=>({[n]:this.trim(t),value:this.trim(t)})));if(\"number\"==typeof t&&(t=t.toString()),\"string\"==typeof t){if(!t.trim())return[];t=h(t)}else l&&(t=[].concat(...t.map((t=>t.value?t:h(t)))));return r&&!d&&(t.forEach((t=>{var e=o.map((t=>t.value)),i=this.dropdown.filterListItems.call(this,t[n],{exact:!0});this.settings.duplicates||(i=i.filter((t=>!e.includes(t.value))));var s=i.length>1?this.getWhitelistItem(t[n],n,i):i[0];s&&s instanceof Object?o.push(s):\"mix\"!=a&&(null==t.value&&(t.value=t[n]),o.push(t))})),o.length&&(t=o)),t},parseMixTags(t){var e=this.settings,i=e.mixTagsInterpolator,s=e.duplicates,a=e.transformTag,n=e.enforceWhitelist,o=e.maxTags,r=e.tagTextProp,l=[];return t=t.split(i[0]).map(((t,e)=>{var d,h,g,p=t.split(i[1]),c=p[0],u=l.length==o;try{if(c==+c)throw Error;h=JSON.parse(c)}catch(t){h=this.normalizeTags(c)[0]||{value:c}}if(a.call(this,h),u||!(p.length>1)||n&&!this.isTagWhitelisted(h.value)||!s&&this.isTagDuplicate(h.value)){if(t)return e?i[0]+t:t}else h[d=h[r]?r:\"value\"]=this.trim(h[d]),g=this.createTagElem(h),l.push(h),g.classList.add(this.settings.classNames.tagNoAnimation),p[0]=g.outerHTML,this.value.push(h);return p.join(\"\")})).join(\"\"),this.DOM.input.innerHTML=t,this.DOM.input.appendChild(document.createTextNode(\"\")),this.DOM.input.normalize(),this.getTagElms().forEach(((t,e)=>this.tagData(t,l[e]))),this.update({withoutChangeEvent:!0}),t},replaceTextWithNode(t,e){if(this.state.tag||e){e=e||this.state.tag.prefix+this.state.tag.value;var i,s,a=this.state.selection||window.getSelection(),n=a.anchorNode,o=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return n.splitText(a.anchorOffset-o),-1==(i=n.nodeValue.lastIndexOf(e))?!0:(s=n.splitText(i),t&&n.parentNode.replaceChild(t,s),!0)}},selectTag(t,e){var i=this.settings;if(!i.enforceWhitelist||this.isTagWhitelisted(e.value)){this.input.set.call(this,e[i.tagTextProp]||e.value,!0),this.state.actions.selectOption&&setTimeout(this.setRangeAtStartEnd.bind(this));var s=this.getLastTag();return s?this.replaceTag(s,e):this.appendTag(t),this.value[0]=e,this.update(),this.trigger(\"add\",{tag:t,data:e}),[t]}},addEmptyTag(t){var e=g({value:\"\"},t||{}),i=this.createTagElem(e);this.tagData(i,e),this.appendTag(i),this.editTag(i,{skipValidation:!0})},addTags(t,e,i){var s=[],a=this.settings,n=[],o=document.createDocumentFragment();if(i=i||a.skipInvalid,!t||0==t.length)return s;switch(t=this.normalizeTags(t),a.mode){case\"mix\":return this.addMixTags(t);case\"select\":e=!1,this.removeAllTags()}return this.DOM.input.removeAttribute(\"style\"),t.forEach((t=>{var e,r={},l=Object.assign({},t,{value:t.value+\"\"});if(t=Object.assign({},l),a.transformTag.call(this,t),t.__isValid=this.hasMaxTags()||this.validateTag(t),!0!==t.__isValid){if(i)return;if(g(r,this.getInvalidTagAttrs(t,t.__isValid),{__preInvalidData:l}),t.__isValid==this.TEXTS.duplicate&&this.flashTag(this.getTagElmByValue(t.value)),!a.createInvalidTags)return void n.push(t.value)}if(\"readonly\"in t&&(t.readonly?r[\"aria-readonly\"]=!0:delete t.readonly),e=this.createTagElem(t,r),s.push(e),\"select\"==a.mode)return this.selectTag(e,t);o.appendChild(e),t.__isValid&&!0===t.__isValid?(this.value.push(t),this.trigger(\"add\",{tag:e,index:this.value.length-1,data:t})):(this.trigger(\"invalid\",{data:t,index:this.value.length,tag:e,message:t.__isValid}),a.keepInvalidTags||setTimeout((()=>this.removeTags(e,!0)),1e3)),this.dropdown.position()})),this.appendTag(o),this.update(),t.length&&e&&(this.input.set.call(this,a.createInvalidTags?\"\":n.join(a._delimiters)),this.setRangeAtStartEnd()),a.dropdown.enabled&&this.dropdown.refilter(),s},addMixTags(t){if((t=this.normalizeTags(t))[0].prefix||this.state.tag)return this.prefixedTextToTag(t[0]);\"string\"==typeof t&&(t=[{value:t}]),this.state.selection;var e=document.createDocumentFragment();return t.forEach((t=>{var i=this.createTagElem(t);e.appendChild(i),this.insertAfterTag(i)})),this.appendMixTags(e),e},appendMixTags(t){var e=!!this.state.selection;e?this.injectAtCaret(t):(this.DOM.input.focus(),(e=this.setStateSelection()).range.setStart(this.DOM.input,e.range.endOffset),e.range.setEnd(this.DOM.input,e.range.endOffset),this.DOM.input.appendChild(t),this.updateValueByDOMTags(),this.update())},prefixedTextToTag(t){var e,i=this.settings,s=this.state.tag.delimiters;if(i.transformTag.call(this,t),t.prefix=t.prefix||this.state.tag?this.state.tag.prefix:(i.pattern.source||i.pattern)[0],e=this.createTagElem(t),this.replaceTextWithNode(e)||this.DOM.input.appendChild(e),setTimeout((()=>e.classList.add(this.settings.classNames.tagNoAnimation)),300),this.value.push(t),this.update(),!s){var a=this.insertAfterTag(e)||e;this.placeCaretAfterNode(a)}return this.state.tag=null,this.trigger(\"add\",g({},{tag:e},{data:t})),e},appendTag(t){var e=this.DOM,i=e.input;i===e.input?e.scope.insertBefore(t,i):e.scope.appendChild(t)},createTagElem(t,i){t.__tagId=m();var s,a=g({},t,e({value:d(t.value+\"\")},i));return function(t){for(var e,i=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,null,!1);e=i.nextNode();)e.textContent.trim()||e.parentNode.removeChild(e)}(s=this.parseTemplate(\"tag\",[a,this])),this.tagData(s,t),s},reCheckInvalidTags(){var t=this.settings;this.getTagElms(t.classNames.tagNotAllowed).forEach(((e,i)=>{var s=this.tagData(e),a=this.hasMaxTags(),n=this.validateTag(s),o=!0===n&&!a;if(\"select\"==t.mode&&this.toggleScopeValidation(n),o)return s=s.__preInvalidData?s.__preInvalidData:{value:s.value},this.replaceTag(e,s);e.title=a||n}))},removeTags(t,e,i){var s,a=this.settings;if(t=t&&t instanceof HTMLElement?[t]:t instanceof Array?t:t?[t]:[this.getLastTag()],s=t.reduce(((t,e)=>{e&&\"string\"==typeof e&&(e=this.getTagElmByValue(e));var i=this.tagData(e);return e&&i&&!i.readonly&&t.push({node:e,idx:this.getTagIdx(i),data:this.tagData(e,{__removed:!0})}),t}),[]),i=\"number\"==typeof i?i:this.CSSVars.tagHideTransition,\"select\"==a.mode&&(i=0,this.input.set.call(this)),1==s.length&&\"select\"!=a.mode&&s[0].node.classList.contains(a.classNames.tagNotAllowed)&&(e=!0),s.length)return a.hooks.beforeRemoveTag(s,{tagify:this}).then((()=>{function t(t){t.node.parentNode&&(t.node.parentNode.removeChild(t.node),e?a.keepInvalidTags&&this.trigger(\"remove\",{tag:t.node,index:t.idx}):(this.trigger(\"remove\",{tag:t.node,index:t.idx,data:t.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),a.keepInvalidTags&&this.reCheckInvalidTags()))}i&&i>10&&1==s.length?function(e){e.node.style.width=parseFloat(window.getComputedStyle(e.node).width)+\"px\",document.body.clientTop,e.node.classList.add(a.classNames.tagHide),setTimeout(t.bind(this),i,e)}.call(this,s[0]):s.forEach(t.bind(this)),e||(this.removeTagsFromValue(s.map((t=>t.node))),this.update(),\"select\"==a.mode&&this.setContentEditable(!0))})).catch((t=>{}))},removeTagsFromDOM(){[].slice.call(this.getTagElms()).forEach((t=>t.parentNode.removeChild(t)))},removeTagsFromValue(t){(t=Array.isArray(t)?t:[t]).forEach((t=>{var e=this.tagData(t),i=this.getTagIdx(e);i>-1&&this.value.splice(i,1)}))},removeAllTags(t){t=t||{},this.value=[],\"mix\"==this.settings.mode?this.DOM.input.innerHTML=\"\":this.removeTagsFromDOM(),this.dropdown.refilter(),this.dropdown.position(),this.state.dropdown.visible&&setTimeout((()=>{this.DOM.input.focus()})),\"select\"==this.settings.mode&&(this.input.set.call(this),this.setContentEditable(!0)),this.update(t)},postUpdate(){var t=this.settings,e=t.classNames,i=\"mix\"==t.mode?t.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value.trim():this.value.length+this.input.raw.call(this).length;this.toggleClass(e.hasMaxTags,this.value.length>=t.maxTags),this.toggleClass(e.hasNoTags,!this.value.length),this.toggleClass(e.empty,!i),\"select\"==t.mode&&this.toggleScopeValidation(this.value?.[0]?.__isValid)},setOriginalInputValue(t){var e=this.DOM.originalInput;this.settings.mixMode.integrated||(e.value=t,e.tagifyValue=e.value,this.setPersistedData(t,\"value\"))},update(t){var e=this.getInputValue();this.setOriginalInputValue(e),this.postUpdate(),this.settings.onChangeAfterBlur&&(t||{}).withoutChangeEvent||this.state.blockChangeEvent||this.triggerChangeEvent()},getInputValue(){var t=this.getCleanValue();return\"mix\"==this.settings.mode?this.getMixedTagsAsString(t):t.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(t):JSON.stringify(t):\"\"},getCleanValue(t){return a(t||this.value,this.dataProps)},getMixedTagsAsString(){var t=\"\",e=this,i=this.settings,s=i.originalInputValueFormat||JSON.stringify,a=i.mixTagsInterpolator;return function i(o){o.childNodes.forEach((o=>{if(1==o.nodeType){const r=e.tagData(o);if(\"BR\"==o.tagName&&(t+=\"\\r\\n\"),r&&v.call(e,o)){if(r.__removed)return;t+=a[0]+s(n(r,e.dataProps))+a[1]}else o.getAttribute(\"style\")||[\"B\",\"I\",\"U\"].includes(o.tagName)?t+=o.textContent:\"DIV\"!=o.tagName&&\"P\"!=o.tagName||(t+=\"\\r\\n\",i(o))}else t+=o.textContent}))}(this.DOM.input),t}},M.prototype.removeTag=M.prototype.removeTags,M}));\n", "(function() {\n  function maybeRemoveMe(elt) {\n    var timing = elt.getAttribute('remove-me') || elt.getAttribute('data-remove-me')\n    if (timing) {\n      setTimeout(function() {\n        elt.parentElement.removeChild(elt)\n      }, htmx.parseInterval(timing))\n    }\n  }\n\n  htmx.defineExtension('remove-me', {\n    onEvent: function(name, evt) {\n      if (name === 'htmx:afterProcessNode') {\n        var elt = evt.detail.elt\n        if (elt.getAttribute) {\n          maybeRemoveMe(elt)\n          if (elt.querySelectorAll) {\n            var children = elt.querySelectorAll('[remove-me], [data-remove-me]')\n            for (var i = 0; i < children.length; i++) {\n              maybeRemoveMe(children[i])\n            }\n          }\n        }\n      }\n    }\n  })\n})()\n", "var htmx = (function() {\n  'use strict'\n\n  // Public API\n  const htmx = {\n    // Tsc madness here, assigning the functions directly results in an invalid TypeScript output, but reassigning is fine\n    /* Event processing */\n    /** @type {typeof onLoadHelper} */\n    onLoad: null,\n    /** @type {typeof processNode} */\n    process: null,\n    /** @type {typeof addEventListenerImpl} */\n    on: null,\n    /** @type {typeof removeEventListenerImpl} */\n    off: null,\n    /** @type {typeof triggerEvent} */\n    trigger: null,\n    /** @type {typeof ajaxHelper} */\n    ajax: null,\n    /* DOM querying helpers */\n    /** @type {typeof find} */\n    find: null,\n    /** @type {typeof findAll} */\n    findAll: null,\n    /** @type {typeof closest} */\n    closest: null,\n    /**\n     * Returns the input values that would resolve for a given element via the htmx value resolution mechanism\n     *\n     * @see https://htmx.org/api/#values\n     *\n     * @param {Element} elt the element to resolve values on\n     * @param {HttpVerb} type the request type (e.g. **get** or **post**) non-GET's will include the enclosing form of the element. Defaults to **post**\n     * @returns {Object}\n     */\n    values: function(elt, type) {\n      const inputValues = getInputValues(elt, type || 'post')\n      return inputValues.values\n    },\n    /* DOM manipulation helpers */\n    /** @type {typeof removeElement} */\n    remove: null,\n    /** @type {typeof addClassToElement} */\n    addClass: null,\n    /** @type {typeof removeClassFromElement} */\n    removeClass: null,\n    /** @type {typeof toggleClassOnElement} */\n    toggleClass: null,\n    /** @type {typeof takeClassForElement} */\n    takeClass: null,\n    /** @type {typeof swap} */\n    swap: null,\n    /* Extension entrypoints */\n    /** @type {typeof defineExtension} */\n    defineExtension: null,\n    /** @type {typeof removeExtension} */\n    removeExtension: null,\n    /* Debugging */\n    /** @type {typeof logAll} */\n    logAll: null,\n    /** @type {typeof logNone} */\n    logNone: null,\n    /* Debugging */\n    /**\n     * The logger htmx uses to log with\n     *\n     * @see https://htmx.org/api/#logger\n     */\n    logger: null,\n    /**\n     * A property holding the configuration htmx uses at runtime.\n     *\n     * Note that using a [meta tag](https://htmx.org/docs/#config) is the preferred mechanism for setting these properties.\n     *\n     * @see https://htmx.org/api/#config\n     */\n    config: {\n      /**\n       * Whether to use history.\n       * @type boolean\n       * @default true\n       */\n      historyEnabled: true,\n      /**\n       * The number of pages to keep in **localStorage** for history support.\n       * @type number\n       * @default 10\n       */\n      historyCacheSize: 10,\n      /**\n       * @type boolean\n       * @default false\n       */\n      refreshOnHistoryMiss: false,\n      /**\n       * The default swap style to use if **[hx-swap](https://htmx.org/attributes/hx-swap)** is omitted.\n       * @type HtmxSwapStyle\n       * @default 'innerHTML'\n       */\n      defaultSwapStyle: 'innerHTML',\n      /**\n       * The default delay between receiving a response from the server and doing the swap.\n       * @type number\n       * @default 0\n       */\n      defaultSwapDelay: 0,\n      /**\n       * The default delay between completing the content swap and settling attributes.\n       * @type number\n       * @default 20\n       */\n      defaultSettleDelay: 20,\n      /**\n       * If true, htmx will inject a small amount of CSS into the page to make indicators invisible unless the **htmx-indicator** class is present.\n       * @type boolean\n       * @default true\n       */\n      includeIndicatorStyles: true,\n      /**\n       * The class to place on indicators when a request is in flight.\n       * @type string\n       * @default 'htmx-indicator'\n       */\n      indicatorClass: 'htmx-indicator',\n      /**\n       * The class to place on triggering elements when a request is in flight.\n       * @type string\n       * @default 'htmx-request'\n       */\n      requestClass: 'htmx-request',\n      /**\n       * The class to temporarily place on elements that htmx has added to the DOM.\n       * @type string\n       * @default 'htmx-added'\n       */\n      addedClass: 'htmx-added',\n      /**\n       * The class to place on target elements when htmx is in the settling phase.\n       * @type string\n       * @default 'htmx-settling'\n       */\n      settlingClass: 'htmx-settling',\n      /**\n       * The class to place on target elements when htmx is in the swapping phase.\n       * @type string\n       * @default 'htmx-swapping'\n       */\n      swappingClass: 'htmx-swapping',\n      /**\n       * Allows the use of eval-like functionality in htmx, to enable **hx-vars**, trigger conditions & script tag evaluation. Can be set to **false** for CSP compatibility.\n       * @type boolean\n       * @default true\n       */\n      allowEval: true,\n      /**\n       * If set to false, disables the interpretation of script tags.\n       * @type boolean\n       * @default true\n       */\n      allowScriptTags: true,\n      /**\n       * If set, the nonce will be added to inline scripts.\n       * @type string\n       * @default ''\n       */\n      inlineScriptNonce: '',\n      /**\n       * If set, the nonce will be added to inline styles.\n       * @type string\n       * @default ''\n       */\n      inlineStyleNonce: '',\n      /**\n       * The attributes to settle during the settling phase.\n       * @type string[]\n       * @default ['class', 'style', 'width', 'height']\n       */\n      attributesToSettle: ['class', 'style', 'width', 'height'],\n      /**\n       * Allow cross-site Access-Control requests using credentials such as cookies, authorization headers or TLS client certificates.\n       * @type boolean\n       * @default false\n       */\n      withCredentials: false,\n      /**\n       * @type number\n       * @default 0\n       */\n      timeout: 0,\n      /**\n       * The default implementation of **getWebSocketReconnectDelay** for reconnecting after unexpected connection loss by the event code **Abnormal Closure**, **Service Restart** or **Try Again Later**.\n       * @type {'full-jitter' | ((retryCount:number) => number)}\n       * @default \"full-jitter\"\n       */\n      wsReconnectDelay: 'full-jitter',\n      /**\n       * The type of binary data being received over the WebSocket connection\n       * @type BinaryType\n       * @default 'blob'\n       */\n      wsBinaryType: 'blob',\n      /**\n       * @type string\n       * @default '[hx-disable], [data-hx-disable]'\n       */\n      disableSelector: '[hx-disable], [data-hx-disable]',\n      /**\n       * @type {'auto' | 'instant' | 'smooth'}\n       * @default 'smooth'\n       */\n      scrollBehavior: 'instant',\n      /**\n       * If the focused element should be scrolled into view.\n       * @type boolean\n       * @default false\n       */\n      defaultFocusScroll: false,\n      /**\n       * If set to true htmx will include a cache-busting parameter in GET requests to avoid caching partial responses by the browser\n       * @type boolean\n       * @default false\n       */\n      getCacheBusterParam: false,\n      /**\n       * If set to true, htmx will use the View Transition API when swapping in new content.\n       * @type boolean\n       * @default false\n       */\n      globalViewTransitions: false,\n      /**\n       * htmx will format requests with these methods by encoding their parameters in the URL, not the request body\n       * @type {(HttpVerb)[]}\n       * @default ['get', 'delete']\n       */\n      methodsThatUseUrlParams: ['get', 'delete'],\n      /**\n       * If set to true, disables htmx-based requests to non-origin hosts.\n       * @type boolean\n       * @default false\n       */\n      selfRequestsOnly: true,\n      /**\n       * If set to true htmx will not update the title of the document when a title tag is found in new content\n       * @type boolean\n       * @default false\n       */\n      ignoreTitle: false,\n      /**\n       * Whether the target of a boosted element is scrolled into the viewport.\n       * @type boolean\n       * @default true\n       */\n      scrollIntoViewOnBoost: true,\n      /**\n       * The cache to store evaluated trigger specifications into.\n       * You may define a simple object to use a never-clearing cache, or implement your own system using a [proxy object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Proxy)\n       * @type {Object|null}\n       * @default null\n       */\n      triggerSpecsCache: null,\n      /** @type boolean */\n      disableInheritance: false,\n      /** @type HtmxResponseHandlingConfig[] */\n      responseHandling: [\n        { code: '204', swap: false },\n        { code: '[23]..', swap: true },\n        { code: '[45]..', swap: false, error: true }\n      ],\n      /**\n       * Whether to process OOB swaps on elements that are nested within the main response element.\n       * @type boolean\n       * @default true\n       */\n      allowNestedOobSwaps: true\n    },\n    /** @type {typeof parseInterval} */\n    parseInterval: null,\n    /** @type {typeof internalEval} */\n    _: null,\n    version: '2.0.0'\n  }\n  // Tsc madness part 2\n  htmx.onLoad = onLoadHelper\n  htmx.process = processNode\n  htmx.on = addEventListenerImpl\n  htmx.off = removeEventListenerImpl\n  htmx.trigger = triggerEvent\n  htmx.ajax = ajaxHelper\n  htmx.find = find\n  htmx.findAll = findAll\n  htmx.closest = closest\n  htmx.remove = removeElement\n  htmx.addClass = addClassToElement\n  htmx.removeClass = removeClassFromElement\n  htmx.toggleClass = toggleClassOnElement\n  htmx.takeClass = takeClassForElement\n  htmx.swap = swap\n  htmx.defineExtension = defineExtension\n  htmx.removeExtension = removeExtension\n  htmx.logAll = logAll\n  htmx.logNone = logNone\n  htmx.parseInterval = parseInterval\n  htmx._ = internalEval\n\n  const internalAPI = {\n    addTriggerHandler,\n    bodyContains,\n    canAccessLocalStorage,\n    findThisElement,\n    filterValues,\n    swap,\n    hasAttribute,\n    getAttributeValue,\n    getClosestAttributeValue,\n    getClosestMatch,\n    getExpressionVars,\n    getHeaders,\n    getInputValues,\n    getInternalData,\n    getSwapSpecification,\n    getTriggerSpecs,\n    getTarget,\n    makeFragment,\n    mergeObjects,\n    makeSettleInfo,\n    oobSwap,\n    querySelectorExt,\n    settleImmediately,\n    shouldCancel,\n    triggerEvent,\n    triggerErrorEvent,\n    withExtensions\n  }\n\n  const VERBS = ['get', 'post', 'put', 'delete', 'patch']\n  const VERB_SELECTOR = VERBS.map(function(verb) {\n    return '[hx-' + verb + '], [data-hx-' + verb + ']'\n  }).join(', ')\n\n  const HEAD_TAG_REGEX = makeTagRegEx('head')\n\n  //= ===================================================================\n  // Utilities\n  //= ===================================================================\n\n  /**\n   * @param {string} tag\n   * @param {boolean} global\n   * @returns {RegExp}\n   */\n  function makeTagRegEx(tag, global = false) {\n    return new RegExp(`<${tag}(\\\\s[^>]*>|>)([\\\\s\\\\S]*?)<\\\\/${tag}>`,\n      global ? 'gim' : 'im')\n  }\n\n  /**\n   * Parses an interval string consistent with the way htmx does. Useful for plugins that have timing-related attributes.\n   *\n   * Caution: Accepts an int followed by either **s** or **ms**. All other values use **parseFloat**\n   *\n   * @see https://htmx.org/api/#parseInterval\n   *\n   * @param {string} str timing string\n   * @returns {number|undefined}\n   */\n  function parseInterval(str) {\n    if (str == undefined) {\n      return undefined\n    }\n\n    let interval = NaN\n    if (str.slice(-2) == 'ms') {\n      interval = parseFloat(str.slice(0, -2))\n    } else if (str.slice(-1) == 's') {\n      interval = parseFloat(str.slice(0, -1)) * 1000\n    } else if (str.slice(-1) == 'm') {\n      interval = parseFloat(str.slice(0, -1)) * 1000 * 60\n    } else {\n      interval = parseFloat(str)\n    }\n    return isNaN(interval) ? undefined : interval\n  }\n\n  /**\n   * @param {Node} elt\n   * @param {string} name\n   * @returns {(string | null)}\n   */\n  function getRawAttribute(elt, name) {\n    return elt instanceof Element && elt.getAttribute(name)\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {string} qualifiedName\n   * @returns {boolean}\n   */\n  // resolve with both hx and data-hx prefixes\n  function hasAttribute(elt, qualifiedName) {\n    return !!elt.hasAttribute && (elt.hasAttribute(qualifiedName) ||\n      elt.hasAttribute('data-' + qualifiedName))\n  }\n\n  /**\n   *\n   * @param {Node} elt\n   * @param {string} qualifiedName\n   * @returns {(string | null)}\n   */\n  function getAttributeValue(elt, qualifiedName) {\n    return getRawAttribute(elt, qualifiedName) || getRawAttribute(elt, 'data-' + qualifiedName)\n  }\n\n  /**\n   * @param {Node} elt\n   * @returns {Node | null}\n   */\n  function parentElt(elt) {\n    const parent = elt.parentElement\n    if (!parent && elt.parentNode instanceof ShadowRoot) return elt.parentNode\n    return parent\n  }\n\n  /**\n   * @returns {Document}\n   */\n  function getDocument() {\n    return document\n  }\n\n  /**\n   * @param {Node} elt\n   * @param {boolean} global\n   * @returns {Node|Document}\n   */\n  function getRootNode(elt, global) {\n    return elt.getRootNode ? elt.getRootNode({ composed: global }) : getDocument()\n  }\n\n  /**\n   * @param {Node} elt\n   * @param {(e:Node) => boolean} condition\n   * @returns {Node | null}\n   */\n  function getClosestMatch(elt, condition) {\n    while (elt && !condition(elt)) {\n      elt = parentElt(elt)\n    }\n\n    return elt || null\n  }\n\n  /**\n   * @param {Element} initialElement\n   * @param {Element} ancestor\n   * @param {string} attributeName\n   * @returns {string|null}\n   */\n  function getAttributeValueWithDisinheritance(initialElement, ancestor, attributeName) {\n    const attributeValue = getAttributeValue(ancestor, attributeName)\n    const disinherit = getAttributeValue(ancestor, 'hx-disinherit')\n    var inherit = getAttributeValue(ancestor, 'hx-inherit')\n    if (initialElement !== ancestor) {\n      if (htmx.config.disableInheritance) {\n        if (inherit && (inherit === '*' || inherit.split(' ').indexOf(attributeName) >= 0)) {\n          return attributeValue\n        } else {\n          return null\n        }\n      }\n      if (disinherit && (disinherit === '*' || disinherit.split(' ').indexOf(attributeName) >= 0)) {\n        return 'unset'\n      }\n    }\n    return attributeValue\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {string} attributeName\n   * @returns {string | null}\n   */\n  function getClosestAttributeValue(elt, attributeName) {\n    let closestAttr = null\n    getClosestMatch(elt, function(e) {\n      return !!(closestAttr = getAttributeValueWithDisinheritance(elt, asElement(e), attributeName))\n    })\n    if (closestAttr !== 'unset') {\n      return closestAttr\n    }\n  }\n\n  /**\n   * @param {Node} elt\n   * @param {string} selector\n   * @returns {boolean}\n   */\n  function matches(elt, selector) {\n    // @ts-ignore: non-standard properties for browser compatibility\n    // noinspection JSUnresolvedVariable\n    const matchesFunction = elt instanceof Element && (elt.matches || elt.matchesSelector || elt.msMatchesSelector || elt.mozMatchesSelector || elt.webkitMatchesSelector || elt.oMatchesSelector)\n    return !!matchesFunction && matchesFunction.call(elt, selector)\n  }\n\n  /**\n   * @param {string} str\n   * @returns {string}\n   */\n  function getStartTag(str) {\n    const tagMatcher = /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i\n    const match = tagMatcher.exec(str)\n    if (match) {\n      return match[1].toLowerCase()\n    } else {\n      return ''\n    }\n  }\n\n  /**\n   * @param {string} resp\n   * @returns {Document}\n   */\n  function parseHTML(resp) {\n    const parser = new DOMParser()\n    return parser.parseFromString(resp, 'text/html')\n  }\n\n  /**\n   * @param {DocumentFragment} fragment\n   * @param {Node} elt\n   */\n  function takeChildrenFor(fragment, elt) {\n    while (elt.childNodes.length > 0) {\n      fragment.append(elt.childNodes[0])\n    }\n  }\n\n  /**\n   * @param {HTMLScriptElement} script\n   * @returns {HTMLScriptElement}\n   */\n  function duplicateScript(script) {\n    const newScript = getDocument().createElement('script')\n    forEach(script.attributes, function(attr) {\n      newScript.setAttribute(attr.name, attr.value)\n    })\n    newScript.textContent = script.textContent\n    newScript.async = false\n    if (htmx.config.inlineScriptNonce) {\n      newScript.nonce = htmx.config.inlineScriptNonce\n    }\n    return newScript\n  }\n\n  /**\n   * @param {HTMLScriptElement} script\n   * @returns {boolean}\n   */\n  function isJavaScriptScriptNode(script) {\n    return script.matches('script') && (script.type === 'text/javascript' || script.type === 'module' || script.type === '')\n  }\n\n  /**\n   * we have to make new copies of script tags that we are going to insert because\n   * SOME browsers (not saying who, but it involves an element and an animal) don't\n   * execute scripts created in <template> tags when they are inserted into the DOM\n   * and all the others do lmao\n   * @param {DocumentFragment} fragment\n   */\n  function normalizeScriptTags(fragment) {\n    Array.from(fragment.querySelectorAll('script')).forEach(/** @param {HTMLScriptElement} script */ (script) => {\n      if (isJavaScriptScriptNode(script)) {\n        const newScript = duplicateScript(script)\n        const parent = script.parentNode\n        try {\n          parent.insertBefore(newScript, script)\n        } catch (e) {\n          logError(e)\n        } finally {\n          script.remove()\n        }\n      }\n    })\n  }\n\n  /**\n   * @typedef {DocumentFragment & {title?: string}} DocumentFragmentWithTitle\n   * @description  a document fragment representing the response HTML, including\n   * a `title` property for any title information found\n   */\n\n  /**\n   * @param {string} response HTML\n   * @returns {DocumentFragmentWithTitle}\n   */\n  function makeFragment(response) {\n    // strip head tag to determine shape of response we are dealing with\n    const responseWithNoHead = response.replace(HEAD_TAG_REGEX, '')\n    const startTag = getStartTag(responseWithNoHead)\n    /** @type DocumentFragmentWithTitle */\n    let fragment\n    if (startTag === 'html') {\n      // if it is a full document, parse it and return the body\n      fragment = /** @type DocumentFragmentWithTitle */ (new DocumentFragment())\n      const doc = parseHTML(response)\n      takeChildrenFor(fragment, doc.body)\n      fragment.title = doc.title\n    } else if (startTag === 'body') {\n      // parse body w/o wrapping in template\n      fragment = /** @type DocumentFragmentWithTitle */ (new DocumentFragment())\n      const doc = parseHTML(responseWithNoHead)\n      takeChildrenFor(fragment, doc.body)\n      fragment.title = doc.title\n    } else {\n      // otherwise we have non-body partial HTML content, so wrap it in a template to maximize parsing flexibility\n      const doc = parseHTML('<body><template class=\"internal-htmx-wrapper\">' + responseWithNoHead + '</template></body>')\n      fragment = /** @type DocumentFragmentWithTitle */ (doc.querySelector('template').content)\n      // extract title into fragment for later processing\n      fragment.title = doc.title\n\n      // for legacy reasons we support a title tag at the root level of non-body responses, so we need to handle it\n      var titleElement = fragment.querySelector('title')\n      if (titleElement && titleElement.parentNode === fragment) {\n        titleElement.remove()\n        fragment.title = titleElement.innerText\n      }\n    }\n    if (fragment) {\n      if (htmx.config.allowScriptTags) {\n        normalizeScriptTags(fragment)\n      } else {\n        // remove all script tags if scripts are disabled\n        fragment.querySelectorAll('script').forEach((script) => script.remove())\n      }\n    }\n    return fragment\n  }\n\n  /**\n   * @param {Function} func\n   */\n  function maybeCall(func) {\n    if (func) {\n      func()\n    }\n  }\n\n  /**\n   * @param {any} o\n   * @param {string} type\n   * @returns\n   */\n  function isType(o, type) {\n    return Object.prototype.toString.call(o) === '[object ' + type + ']'\n  }\n\n  /**\n   * @param {*} o\n   * @returns {o is Function}\n   */\n  function isFunction(o) {\n    return typeof o === 'function'\n  }\n\n  /**\n   * @param {*} o\n   * @returns {o is Object}\n   */\n  function isRawObject(o) {\n    return isType(o, 'Object')\n  }\n\n  /**\n   * @typedef {Object} OnHandler\n   * @property {(keyof HTMLElementEventMap)|string} event\n   * @property {EventListener} listener\n   */\n\n  /**\n   * @typedef {Object} ListenerInfo\n   * @property {string} trigger\n   * @property {EventListener} listener\n   * @property {EventTarget} on\n   */\n\n  /**\n   * @typedef {Object} HtmxNodeInternalData\n   * Element data\n   * @property {number} [initHash]\n   * @property {boolean} [boosted]\n   * @property {OnHandler[]} [onHandlers]\n   * @property {number} [timeout]\n   * @property {ListenerInfo[]} [listenerInfos]\n   * @property {boolean} [cancelled]\n   * @property {boolean} [triggeredOnce]\n   * @property {number} [delayed]\n   * @property {number|null} [throttle]\n   * @property {string} [lastValue]\n   * @property {boolean} [loaded]\n   * @property {string} [path]\n   * @property {string} [verb]\n   * @property {boolean} [polling]\n   * @property {HTMLButtonElement|HTMLInputElement|null} [lastButtonClicked]\n   * @property {number} [requestCount]\n   * @property {XMLHttpRequest} [xhr]\n   * @property {(() => void)[]} [queuedRequests]\n   * @property {boolean} [abortable]\n   *\n   * Event data\n   * @property {HtmxTriggerSpecification} [triggerSpec]\n   * @property {EventTarget[]} [handledFor]\n   */\n\n  /**\n   * getInternalData retrieves \"private\" data stored by htmx within an element\n   * @param {EventTarget|Event} elt\n   * @returns {HtmxNodeInternalData}\n   */\n  function getInternalData(elt) {\n    const dataProp = 'htmx-internal-data'\n    let data = elt[dataProp]\n    if (!data) {\n      data = elt[dataProp] = {}\n    }\n    return data\n  }\n\n  /**\n   * toArray converts an ArrayLike object into a real array.\n   * @template T\n   * @param {ArrayLike<T>} arr\n   * @returns {T[]}\n   */\n  function toArray(arr) {\n    const returnArr = []\n    if (arr) {\n      for (let i = 0; i < arr.length; i++) {\n        returnArr.push(arr[i])\n      }\n    }\n    return returnArr\n  }\n\n  /**\n   * @template T\n   * @param {T[]|NamedNodeMap|HTMLCollection|HTMLFormControlsCollection|ArrayLike<T>} arr\n   * @param {(T) => void} func\n   */\n  function forEach(arr, func) {\n    if (arr) {\n      for (let i = 0; i < arr.length; i++) {\n        func(arr[i])\n      }\n    }\n  }\n\n  /**\n   * @param {Element} el\n   * @returns {boolean}\n   */\n  function isScrolledIntoView(el) {\n    const rect = el.getBoundingClientRect()\n    const elemTop = rect.top\n    const elemBottom = rect.bottom\n    return elemTop < window.innerHeight && elemBottom >= 0\n  }\n\n  /**\n   * @param {Node} elt\n   * @returns {boolean}\n   */\n  function bodyContains(elt) {\n    // IE Fix\n    const rootNode = elt.getRootNode && elt.getRootNode()\n    if (rootNode && rootNode instanceof window.ShadowRoot) {\n      return getDocument().body.contains(rootNode.host)\n    } else {\n      return getDocument().body.contains(elt)\n    }\n  }\n\n  /**\n   * @param {string} trigger\n   * @returns {string[]}\n   */\n  function splitOnWhitespace(trigger) {\n    return trigger.trim().split(/\\s+/)\n  }\n\n  /**\n   * mergeObjects takes all the keys from\n   * obj2 and duplicates them into obj1\n   * @template T1\n   * @template T2\n   * @param {T1} obj1\n   * @param {T2} obj2\n   * @returns {T1 & T2}\n   */\n  function mergeObjects(obj1, obj2) {\n    for (const key in obj2) {\n      if (obj2.hasOwnProperty(key)) {\n        // @ts-ignore tsc doesn't seem to properly handle types merging\n        obj1[key] = obj2[key]\n      }\n    }\n    // @ts-ignore tsc doesn't seem to properly handle types merging\n    return obj1\n  }\n\n  /**\n   * @param {string} jString\n   * @returns {any|null}\n   */\n  function parseJSON(jString) {\n    try {\n      return JSON.parse(jString)\n    } catch (error) {\n      logError(error)\n      return null\n    }\n  }\n\n  /**\n   * @returns {boolean}\n   */\n  function canAccessLocalStorage() {\n    const test = 'htmx:localStorageTest'\n    try {\n      localStorage.setItem(test, test)\n      localStorage.removeItem(test)\n      return true\n    } catch (e) {\n      return false\n    }\n  }\n\n  /**\n   * @param {string} path\n   * @returns {string}\n   */\n  function normalizePath(path) {\n    try {\n      const url = new URL(path)\n      if (url) {\n        path = url.pathname + url.search\n      }\n      // remove trailing slash, unless index page\n      if (!(/^\\/$/.test(path))) {\n        path = path.replace(/\\/+$/, '')\n      }\n      return path\n    } catch (e) {\n      // be kind to IE11, which doesn't support URL()\n      return path\n    }\n  }\n\n  //= =========================================================================================\n  // public API\n  //= =========================================================================================\n\n  /**\n   * @param {string} str\n   * @returns {any}\n   */\n  function internalEval(str) {\n    return maybeEval(getDocument().body, function() {\n      return eval(str)\n    })\n  }\n\n  /**\n   * Adds a callback for the **htmx:load** event. This can be used to process new content, for example initializing the content with a javascript library\n   *\n   * @see https://htmx.org/api/#onLoad\n   *\n   * @param {(elt: Node) => void} callback the callback to call on newly loaded content\n   * @returns {EventListener}\n   */\n  function onLoadHelper(callback) {\n    const value = htmx.on('htmx:load', /** @param {CustomEvent} evt */ function(evt) {\n      callback(evt.detail.elt)\n    })\n    return value\n  }\n\n  /**\n   * Log all htmx events, useful for debugging.\n   *\n   * @see https://htmx.org/api/#logAll\n   */\n  function logAll() {\n    htmx.logger = function(elt, event, data) {\n      if (console) {\n        console.log(event, elt, data)\n      }\n    }\n  }\n\n  function logNone() {\n    htmx.logger = null\n  }\n\n  /**\n   * Finds an element matching the selector\n   *\n   * @see https://htmx.org/api/#find\n   *\n   * @param {ParentNode|string} eltOrSelector  the root element to find the matching element in, inclusive | the selector to match\n   * @param {string} [selector] the selector to match\n   * @returns {Element|null}\n   */\n  function find(eltOrSelector, selector) {\n    if (typeof eltOrSelector !== 'string') {\n      return eltOrSelector.querySelector(selector)\n    } else {\n      return find(getDocument(), eltOrSelector)\n    }\n  }\n\n  /**\n   * Finds all elements matching the selector\n   *\n   * @see https://htmx.org/api/#findAll\n   *\n   * @param {ParentNode|string} eltOrSelector the root element to find the matching elements in, inclusive | the selector to match\n   * @param {string} [selector] the selector to match\n   * @returns {NodeListOf<Element>}\n   */\n  function findAll(eltOrSelector, selector) {\n    if (typeof eltOrSelector !== 'string') {\n      return eltOrSelector.querySelectorAll(selector)\n    } else {\n      return findAll(getDocument(), eltOrSelector)\n    }\n  }\n\n  /**\n   * @returns Window\n   */\n  function getWindow() {\n    return window\n  }\n\n  /**\n   * Removes an element from the DOM\n   *\n   * @see https://htmx.org/api/#remove\n   *\n   * @param {Node} elt\n   * @param {number} [delay]\n   */\n  function removeElement(elt, delay) {\n    elt = resolveTarget(elt)\n    if (delay) {\n      getWindow().setTimeout(function() {\n        removeElement(elt)\n        elt = null\n      }, delay)\n    } else {\n      parentElt(elt).removeChild(elt)\n    }\n  }\n\n  /**\n   * @param {any} elt\n   * @return {Element|null}\n   */\n  function asElement(elt) {\n    return elt instanceof Element ? elt : null\n  }\n\n  /**\n   * @param {any} elt\n   * @return {HTMLElement|null}\n   */\n  function asHtmlElement(elt) {\n    return elt instanceof HTMLElement ? elt : null\n  }\n\n  /**\n   * @param {any} value\n   * @return {string|null}\n   */\n  function asString(value) {\n    return typeof value === 'string' ? value : null\n  }\n\n  /**\n   * @param {EventTarget} elt\n   * @return {ParentNode|null}\n   */\n  function asParentNode(elt) {\n    return elt instanceof Element || elt instanceof Document || elt instanceof DocumentFragment ? elt : null\n  }\n\n  /**\n   * This method adds a class to the given element.\n   *\n   * @see https://htmx.org/api/#addClass\n   *\n   * @param {Element|string} elt the element to add the class to\n   * @param {string} clazz the class to add\n   * @param {number} [delay] the delay (in milliseconds) before class is added\n   */\n  function addClassToElement(elt, clazz, delay) {\n    elt = asElement(resolveTarget(elt))\n    if (!elt) {\n      return\n    }\n    if (delay) {\n      getWindow().setTimeout(function() {\n        addClassToElement(elt, clazz)\n        elt = null\n      }, delay)\n    } else {\n      elt.classList && elt.classList.add(clazz)\n    }\n  }\n\n  /**\n   * Removes a class from the given element\n   *\n   * @see https://htmx.org/api/#removeClass\n   *\n   * @param {Node|string} node element to remove the class from\n   * @param {string} clazz the class to remove\n   * @param {number} [delay] the delay (in milliseconds before class is removed)\n   */\n  function removeClassFromElement(node, clazz, delay) {\n    let elt = asElement(resolveTarget(node))\n    if (!elt) {\n      return\n    }\n    if (delay) {\n      getWindow().setTimeout(function() {\n        removeClassFromElement(elt, clazz)\n        elt = null\n      }, delay)\n    } else {\n      if (elt.classList) {\n        elt.classList.remove(clazz)\n        // if there are no classes left, remove the class attribute\n        if (elt.classList.length === 0) {\n          elt.removeAttribute('class')\n        }\n      }\n    }\n  }\n\n  /**\n   * Toggles the given class on an element\n   *\n   * @see https://htmx.org/api/#toggleClass\n   *\n   * @param {Element|string} elt the element to toggle the class on\n   * @param {string} clazz the class to toggle\n   */\n  function toggleClassOnElement(elt, clazz) {\n    elt = resolveTarget(elt)\n    elt.classList.toggle(clazz)\n  }\n\n  /**\n   * Takes the given class from its siblings, so that among its siblings, only the given element will have the class.\n   *\n   * @see https://htmx.org/api/#takeClass\n   *\n   * @param {Node|string} elt the element that will take the class\n   * @param {string} clazz the class to take\n   */\n  function takeClassForElement(elt, clazz) {\n    elt = resolveTarget(elt)\n    forEach(elt.parentElement.children, function(child) {\n      removeClassFromElement(child, clazz)\n    })\n    addClassToElement(asElement(elt), clazz)\n  }\n\n  /**\n   * Finds the closest matching element in the given elements parentage, inclusive of the element\n   *\n   * @see https://htmx.org/api/#closest\n   *\n   * @param {Element|string} elt the element to find the selector from\n   * @param {string} selector the selector to find\n   * @returns {Element|null}\n   */\n  function closest(elt, selector) {\n    elt = asElement(resolveTarget(elt))\n    if (elt && elt.closest) {\n      return elt.closest(selector)\n    } else {\n      // TODO remove when IE goes away\n      do {\n        if (elt == null || matches(elt, selector)) {\n          return elt\n        }\n      }\n      while (elt = elt && asElement(parentElt(elt)))\n      return null\n    }\n  }\n\n  /**\n   * @param {string} str\n   * @param {string} prefix\n   * @returns {boolean}\n   */\n  function startsWith(str, prefix) {\n    return str.substring(0, prefix.length) === prefix\n  }\n\n  /**\n   * @param {string} str\n   * @param {string} suffix\n   * @returns {boolean}\n   */\n  function endsWith(str, suffix) {\n    return str.substring(str.length - suffix.length) === suffix\n  }\n\n  /**\n   * @param {string} selector\n   * @returns {string}\n   */\n  function normalizeSelector(selector) {\n    const trimmedSelector = selector.trim()\n    if (startsWith(trimmedSelector, '<') && endsWith(trimmedSelector, '/>')) {\n      return trimmedSelector.substring(1, trimmedSelector.length - 2)\n    } else {\n      return trimmedSelector\n    }\n  }\n\n  /**\n   * @param {Node|Element|Document|string} elt\n   * @param {string} selector\n   * @param {boolean=} global\n   * @returns {(Node|Window)[]}\n   */\n  function querySelectorAllExt(elt, selector, global) {\n    elt = resolveTarget(elt)\n    if (selector.indexOf('closest ') === 0) {\n      return [closest(asElement(elt), normalizeSelector(selector.substr(8)))]\n    } else if (selector.indexOf('find ') === 0) {\n      return [find(asParentNode(elt), normalizeSelector(selector.substr(5)))]\n    } else if (selector === 'next') {\n      return [asElement(elt).nextElementSibling]\n    } else if (selector.indexOf('next ') === 0) {\n      return [scanForwardQuery(elt, normalizeSelector(selector.substr(5)), !!global)]\n    } else if (selector === 'previous') {\n      return [asElement(elt).previousElementSibling]\n    } else if (selector.indexOf('previous ') === 0) {\n      return [scanBackwardsQuery(elt, normalizeSelector(selector.substr(9)), !!global)]\n    } else if (selector === 'document') {\n      return [document]\n    } else if (selector === 'window') {\n      return [window]\n    } else if (selector === 'body') {\n      return [document.body]\n    } else if (selector === 'root') {\n      return [getRootNode(elt, !!global)]\n    } else if (selector.indexOf('global ') === 0) {\n      return querySelectorAllExt(elt, selector.slice(7), true)\n    } else {\n      return toArray(asParentNode(getRootNode(elt, !!global)).querySelectorAll(normalizeSelector(selector)))\n    }\n  }\n\n  /**\n   * @param {Node} start\n   * @param {string} match\n   * @param {boolean} global\n   * @returns {Element}\n   */\n  var scanForwardQuery = function(start, match, global) {\n    const results = asParentNode(getRootNode(start, global)).querySelectorAll(match)\n    for (let i = 0; i < results.length; i++) {\n      const elt = results[i]\n      if (elt.compareDocumentPosition(start) === Node.DOCUMENT_POSITION_PRECEDING) {\n        return elt\n      }\n    }\n  }\n\n  /**\n   * @param {Node} start\n   * @param {string} match\n   * @param {boolean} global\n   * @returns {Element}\n   */\n  var scanBackwardsQuery = function(start, match, global) {\n    const results = asParentNode(getRootNode(start, global)).querySelectorAll(match)\n    for (let i = results.length - 1; i >= 0; i--) {\n      const elt = results[i]\n      if (elt.compareDocumentPosition(start) === Node.DOCUMENT_POSITION_FOLLOWING) {\n        return elt\n      }\n    }\n  }\n\n  /**\n   * @param {Node|string} eltOrSelector\n   * @param {string=} selector\n   * @returns {Node|Window}\n   */\n  function querySelectorExt(eltOrSelector, selector) {\n    if (typeof eltOrSelector !== 'string') {\n      return querySelectorAllExt(eltOrSelector, selector)[0]\n    } else {\n      return querySelectorAllExt(getDocument().body, eltOrSelector)[0]\n    }\n  }\n\n  /**\n   * @template {EventTarget} T\n   * @param {T|string} eltOrSelector\n   * @param {T} [context]\n   * @returns {Element|T|null}\n   */\n  function resolveTarget(eltOrSelector, context) {\n    if (typeof eltOrSelector === 'string') {\n      return find(asParentNode(context) || document, eltOrSelector)\n    } else {\n      return eltOrSelector\n    }\n  }\n\n  /**\n   * @typedef {keyof HTMLElementEventMap|string} AnyEventName\n   */\n\n  /**\n   * @typedef {Object} EventArgs\n   * @property {EventTarget} target\n   * @property {AnyEventName} event\n   * @property {EventListener} listener\n   */\n\n  /**\n   * @param {EventTarget|AnyEventName} arg1\n   * @param {AnyEventName|EventListener} arg2\n   * @param {EventListener} [arg3]\n   * @returns {EventArgs}\n   */\n  function processEventArgs(arg1, arg2, arg3) {\n    if (isFunction(arg2)) {\n      return {\n        target: getDocument().body,\n        event: asString(arg1),\n        listener: arg2\n      }\n    } else {\n      return {\n        target: resolveTarget(arg1),\n        event: asString(arg2),\n        listener: arg3\n      }\n    }\n  }\n\n  /**\n   * Adds an event listener to an element\n   *\n   * @see https://htmx.org/api/#on\n   *\n   * @param {EventTarget|string} arg1 the element to add the listener to | the event name to add the listener for\n   * @param {string|EventListener} arg2 the event name to add the listener for | the listener to add\n   * @param {EventListener} [arg3] the listener to add\n   * @returns {EventListener}\n   */\n  function addEventListenerImpl(arg1, arg2, arg3) {\n    ready(function() {\n      const eventArgs = processEventArgs(arg1, arg2, arg3)\n      eventArgs.target.addEventListener(eventArgs.event, eventArgs.listener)\n    })\n    const b = isFunction(arg2)\n    return b ? arg2 : arg3\n  }\n\n  /**\n   * Removes an event listener from an element\n   *\n   * @see https://htmx.org/api/#off\n   *\n   * @param {EventTarget|string} arg1 the element to remove the listener from | the event name to remove the listener from\n   * @param {string|EventListener} arg2 the event name to remove the listener from | the listener to remove\n   * @param {EventListener} [arg3] the listener to remove\n   * @returns {EventListener}\n   */\n  function removeEventListenerImpl(arg1, arg2, arg3) {\n    ready(function() {\n      const eventArgs = processEventArgs(arg1, arg2, arg3)\n      eventArgs.target.removeEventListener(eventArgs.event, eventArgs.listener)\n    })\n    return isFunction(arg2) ? arg2 : arg3\n  }\n\n  //= ===================================================================\n  // Node processing\n  //= ===================================================================\n\n  const DUMMY_ELT = getDocument().createElement('output') // dummy element for bad selectors\n  /**\n   * @param {Element} elt\n   * @param {string} attrName\n   * @returns {(Node|Window)[]}\n   */\n  function findAttributeTargets(elt, attrName) {\n    const attrTarget = getClosestAttributeValue(elt, attrName)\n    if (attrTarget) {\n      if (attrTarget === 'this') {\n        return [findThisElement(elt, attrName)]\n      } else {\n        const result = querySelectorAllExt(elt, attrTarget)\n        if (result.length === 0) {\n          logError('The selector \"' + attrTarget + '\" on ' + attrName + ' returned no matches!')\n          return [DUMMY_ELT]\n        } else {\n          return result\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {string} attribute\n   * @returns {Element|null}\n   */\n  function findThisElement(elt, attribute) {\n    return asElement(getClosestMatch(elt, function(elt) {\n      return getAttributeValue(asElement(elt), attribute) != null\n    }))\n  }\n\n  /**\n   * @param {Element} elt\n   * @returns {Node|Window|null}\n   */\n  function getTarget(elt) {\n    const targetStr = getClosestAttributeValue(elt, 'hx-target')\n    if (targetStr) {\n      if (targetStr === 'this') {\n        return findThisElement(elt, 'hx-target')\n      } else {\n        return querySelectorExt(elt, targetStr)\n      }\n    } else {\n      const data = getInternalData(elt)\n      if (data.boosted) {\n        return getDocument().body\n      } else {\n        return elt\n      }\n    }\n  }\n\n  /**\n   * @param {string} name\n   * @returns {boolean}\n   */\n  function shouldSettleAttribute(name) {\n    const attributesToSettle = htmx.config.attributesToSettle\n    for (let i = 0; i < attributesToSettle.length; i++) {\n      if (name === attributesToSettle[i]) {\n        return true\n      }\n    }\n    return false\n  }\n\n  /**\n   * @param {Element} mergeTo\n   * @param {Element} mergeFrom\n   */\n  function cloneAttributes(mergeTo, mergeFrom) {\n    forEach(mergeTo.attributes, function(attr) {\n      if (!mergeFrom.hasAttribute(attr.name) && shouldSettleAttribute(attr.name)) {\n        mergeTo.removeAttribute(attr.name)\n      }\n    })\n    forEach(mergeFrom.attributes, function(attr) {\n      if (shouldSettleAttribute(attr.name)) {\n        mergeTo.setAttribute(attr.name, attr.value)\n      }\n    })\n  }\n\n  /**\n   * @param {HtmxSwapStyle} swapStyle\n   * @param {Element} target\n   * @returns {boolean}\n   */\n  function isInlineSwap(swapStyle, target) {\n    const extensions = getExtensions(target)\n    for (let i = 0; i < extensions.length; i++) {\n      const extension = extensions[i]\n      try {\n        if (extension.isInlineSwap(swapStyle)) {\n          return true\n        }\n      } catch (e) {\n        logError(e)\n      }\n    }\n    return swapStyle === 'outerHTML'\n  }\n\n  /**\n   * @param {string} oobValue\n   * @param {Element} oobElement\n   * @param {HtmxSettleInfo} settleInfo\n   * @returns\n   */\n  function oobSwap(oobValue, oobElement, settleInfo) {\n    let selector = '#' + getRawAttribute(oobElement, 'id')\n    /** @type HtmxSwapStyle */\n    let swapStyle = 'outerHTML'\n    if (oobValue === 'true') {\n      // do nothing\n    } else if (oobValue.indexOf(':') > 0) {\n      swapStyle = oobValue.substr(0, oobValue.indexOf(':'))\n      selector = oobValue.substr(oobValue.indexOf(':') + 1, oobValue.length)\n    } else {\n      swapStyle = oobValue\n    }\n\n    const targets = getDocument().querySelectorAll(selector)\n    if (targets) {\n      forEach(\n        targets,\n        function(target) {\n          let fragment\n          const oobElementClone = oobElement.cloneNode(true)\n          fragment = getDocument().createDocumentFragment()\n          fragment.appendChild(oobElementClone)\n          if (!isInlineSwap(swapStyle, target)) {\n            fragment = asParentNode(oobElementClone) // if this is not an inline swap, we use the content of the node, not the node itself\n          }\n\n          const beforeSwapDetails = { shouldSwap: true, target, fragment }\n          if (!triggerEvent(target, 'htmx:oobBeforeSwap', beforeSwapDetails)) return\n\n          target = beforeSwapDetails.target // allow re-targeting\n          if (beforeSwapDetails.shouldSwap) {\n            swapWithStyle(swapStyle, target, target, fragment, settleInfo)\n          }\n          forEach(settleInfo.elts, function(elt) {\n            triggerEvent(elt, 'htmx:oobAfterSwap', beforeSwapDetails)\n          })\n        }\n      )\n      oobElement.parentNode.removeChild(oobElement)\n    } else {\n      oobElement.parentNode.removeChild(oobElement)\n      triggerErrorEvent(getDocument().body, 'htmx:oobErrorNoTarget', { content: oobElement })\n    }\n    return oobValue\n  }\n\n  /**\n   * @param {DocumentFragment} fragment\n   */\n  function handlePreservedElements(fragment) {\n    forEach(findAll(fragment, '[hx-preserve], [data-hx-preserve]'), function(preservedElt) {\n      const id = getAttributeValue(preservedElt, 'id')\n      const oldElt = getDocument().getElementById(id)\n      if (oldElt != null) {\n        preservedElt.parentNode.replaceChild(oldElt, preservedElt)\n      }\n    })\n  }\n\n  /**\n   * @param {Node} parentNode\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function handleAttributes(parentNode, fragment, settleInfo) {\n    forEach(fragment.querySelectorAll('[id]'), function(newNode) {\n      const id = getRawAttribute(newNode, 'id')\n      if (id && id.length > 0) {\n        const normalizedId = id.replace(\"'\", \"\\\\'\")\n        const normalizedTag = newNode.tagName.replace(':', '\\\\:')\n        const parentElt = asParentNode(parentNode)\n        const oldNode = parentElt && parentElt.querySelector(normalizedTag + \"[id='\" + normalizedId + \"']\")\n        if (oldNode && oldNode !== parentElt) {\n          const newAttributes = newNode.cloneNode()\n          cloneAttributes(newNode, oldNode)\n          settleInfo.tasks.push(function() {\n            cloneAttributes(newNode, newAttributes)\n          })\n        }\n      }\n    })\n  }\n\n  /**\n   * @param {Node} child\n   * @returns {HtmxSettleTask}\n   */\n  function makeAjaxLoadTask(child) {\n    return function() {\n      removeClassFromElement(child, htmx.config.addedClass)\n      processNode(asElement(child))\n      processFocus(asParentNode(child))\n      triggerEvent(child, 'htmx:load')\n    }\n  }\n\n  /**\n   * @param {ParentNode} child\n   */\n  function processFocus(child) {\n    const autofocus = '[autofocus]'\n    const autoFocusedElt = asHtmlElement(matches(child, autofocus) ? child : child.querySelector(autofocus))\n    if (autoFocusedElt != null) {\n      autoFocusedElt.focus()\n    }\n  }\n\n  /**\n   * @param {Node} parentNode\n   * @param {Node} insertBefore\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function insertNodesBefore(parentNode, insertBefore, fragment, settleInfo) {\n    handleAttributes(parentNode, fragment, settleInfo)\n    while (fragment.childNodes.length > 0) {\n      const child = fragment.firstChild\n      addClassToElement(asElement(child), htmx.config.addedClass)\n      parentNode.insertBefore(child, insertBefore)\n      if (child.nodeType !== Node.TEXT_NODE && child.nodeType !== Node.COMMENT_NODE) {\n        settleInfo.tasks.push(makeAjaxLoadTask(child))\n      }\n    }\n  }\n\n  /**\n   * based on https://gist.github.com/hyamamoto/fd435505d29ebfa3d9716fd2be8d42f0,\n   * derived from Java's string hashcode implementation\n   * @param {string} string\n   * @param {number} hash\n   * @returns {number}\n   */\n  function stringHash(string, hash) {\n    let char = 0\n    while (char < string.length) {\n      hash = (hash << 5) - hash + string.charCodeAt(char++) | 0 // bitwise or ensures we have a 32-bit int\n    }\n    return hash\n  }\n\n  /**\n   * @param {Element} elt\n   * @returns {number}\n   */\n  function attributeHash(elt) {\n    let hash = 0\n    // IE fix\n    if (elt.attributes) {\n      for (let i = 0; i < elt.attributes.length; i++) {\n        const attribute = elt.attributes[i]\n        if (attribute.value) { // only include attributes w/ actual values (empty is same as non-existent)\n          hash = stringHash(attribute.name, hash)\n          hash = stringHash(attribute.value, hash)\n        }\n      }\n    }\n    return hash\n  }\n\n  /**\n   * @param {EventTarget} elt\n   */\n  function deInitOnHandlers(elt) {\n    const internalData = getInternalData(elt)\n    if (internalData.onHandlers) {\n      for (let i = 0; i < internalData.onHandlers.length; i++) {\n        const handlerInfo = internalData.onHandlers[i]\n        removeEventListenerImpl(elt, handlerInfo.event, handlerInfo.listener)\n      }\n      delete internalData.onHandlers\n    }\n  }\n\n  /**\n   * @param {Node} element\n   */\n  function deInitNode(element) {\n    const internalData = getInternalData(element)\n    if (internalData.timeout) {\n      clearTimeout(internalData.timeout)\n    }\n    if (internalData.listenerInfos) {\n      forEach(internalData.listenerInfos, function(info) {\n        if (info.on) {\n          removeEventListenerImpl(info.on, info.trigger, info.listener)\n        }\n      })\n    }\n    deInitOnHandlers(element)\n    forEach(Object.keys(internalData), function(key) { delete internalData[key] })\n  }\n\n  /**\n   * @param {Node} element\n   */\n  function cleanUpElement(element) {\n    triggerEvent(element, 'htmx:beforeCleanupElement')\n    deInitNode(element)\n    // @ts-ignore IE11 code\n    // noinspection JSUnresolvedReference\n    if (element.children) { // IE\n      // @ts-ignore\n      forEach(element.children, function(child) { cleanUpElement(child) })\n    }\n  }\n\n  /**\n   * @param {Node} target\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function swapOuterHTML(target, fragment, settleInfo) {\n    /** @type {Node} */\n    let newElt\n    const eltBeforeNewContent = target.previousSibling\n    insertNodesBefore(parentElt(target), target, fragment, settleInfo)\n    if (eltBeforeNewContent == null) {\n      newElt = parentElt(target).firstChild\n    } else {\n      newElt = eltBeforeNewContent.nextSibling\n    }\n    settleInfo.elts = settleInfo.elts.filter(function(e) { return e !== target })\n    while (newElt && newElt !== target) {\n      if (newElt instanceof Element) {\n        settleInfo.elts.push(newElt)\n        newElt = newElt.nextElementSibling\n      } else {\n        newElt = null\n      }\n    }\n    cleanUpElement(target)\n    if (target instanceof Element) {\n      target.remove()\n    } else {\n      target.parentNode.removeChild(target)\n    }\n  }\n\n  /**\n   * @param {Node} target\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function swapAfterBegin(target, fragment, settleInfo) {\n    return insertNodesBefore(target, target.firstChild, fragment, settleInfo)\n  }\n\n  /**\n   * @param {Node} target\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function swapBeforeBegin(target, fragment, settleInfo) {\n    return insertNodesBefore(parentElt(target), target, fragment, settleInfo)\n  }\n\n  /**\n   * @param {Node} target\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function swapBeforeEnd(target, fragment, settleInfo) {\n    return insertNodesBefore(target, null, fragment, settleInfo)\n  }\n\n  /**\n   * @param {Node} target\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function swapAfterEnd(target, fragment, settleInfo) {\n    return insertNodesBefore(parentElt(target), target.nextSibling, fragment, settleInfo)\n  }\n\n  /**\n   * @param {Node} target\n   */\n  function swapDelete(target) {\n    cleanUpElement(target)\n    return parentElt(target).removeChild(target)\n  }\n\n  /**\n   * @param {Node} target\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function swapInnerHTML(target, fragment, settleInfo) {\n    const firstChild = target.firstChild\n    insertNodesBefore(target, firstChild, fragment, settleInfo)\n    if (firstChild) {\n      while (firstChild.nextSibling) {\n        cleanUpElement(firstChild.nextSibling)\n        target.removeChild(firstChild.nextSibling)\n      }\n      cleanUpElement(firstChild)\n      target.removeChild(firstChild)\n    }\n  }\n\n  /**\n   * @param {HtmxSwapStyle} swapStyle\n   * @param {Element} elt\n   * @param {Node} target\n   * @param {ParentNode} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function swapWithStyle(swapStyle, elt, target, fragment, settleInfo) {\n    switch (swapStyle) {\n      case 'none':\n        return\n      case 'outerHTML':\n        swapOuterHTML(target, fragment, settleInfo)\n        return\n      case 'afterbegin':\n        swapAfterBegin(target, fragment, settleInfo)\n        return\n      case 'beforebegin':\n        swapBeforeBegin(target, fragment, settleInfo)\n        return\n      case 'beforeend':\n        swapBeforeEnd(target, fragment, settleInfo)\n        return\n      case 'afterend':\n        swapAfterEnd(target, fragment, settleInfo)\n        return\n      case 'delete':\n        swapDelete(target)\n        return\n      default:\n        var extensions = getExtensions(elt)\n        for (let i = 0; i < extensions.length; i++) {\n          const ext = extensions[i]\n          try {\n            const newElements = ext.handleSwap(swapStyle, target, fragment, settleInfo)\n            if (newElements) {\n              if (typeof newElements.length !== 'undefined') {\n                // if handleSwap returns an array (like) of elements, we handle them\n                for (let j = 0; j < newElements.length; j++) {\n                  const child = newElements[j]\n                  if (child.nodeType !== Node.TEXT_NODE && child.nodeType !== Node.COMMENT_NODE) {\n                    settleInfo.tasks.push(makeAjaxLoadTask(child))\n                  }\n                }\n              }\n              return\n            }\n          } catch (e) {\n            logError(e)\n          }\n        }\n        if (swapStyle === 'innerHTML') {\n          swapInnerHTML(target, fragment, settleInfo)\n        } else {\n          swapWithStyle(htmx.config.defaultSwapStyle, elt, target, fragment, settleInfo)\n        }\n    }\n  }\n\n  /**\n   * @param {DocumentFragment} fragment\n   * @param {HtmxSettleInfo} settleInfo\n   */\n  function findAndSwapOobElements(fragment, settleInfo) {\n    forEach(findAll(fragment, '[hx-swap-oob], [data-hx-swap-oob]'), function(oobElement) {\n      if (htmx.config.allowNestedOobSwaps || oobElement.parentElement === null) {\n        const oobValue = getAttributeValue(oobElement, 'hx-swap-oob')\n        if (oobValue != null) {\n          oobSwap(oobValue, oobElement, settleInfo)\n        }\n      } else {\n        oobElement.removeAttribute('hx-swap-oob')\n        oobElement.removeAttribute('data-hx-swap-oob')\n      }\n    })\n  }\n\n  /**\n   * Implements complete swapping pipeline, including: focus and selection preservation,\n   * title updates, scroll, OOB swapping, normal swapping and settling\n   * @param {string|Element} target\n   * @param {string} content\n   * @param {HtmxSwapSpecification} swapSpec\n   * @param {SwapOptions} [swapOptions]\n   */\n  function swap(target, content, swapSpec, swapOptions) {\n    if (!swapOptions) {\n      swapOptions = {}\n    }\n\n    target = resolveTarget(target)\n\n    // preserve focus and selection\n    const activeElt = document.activeElement\n    let selectionInfo = {}\n    try {\n      selectionInfo = {\n        elt: activeElt,\n        // @ts-ignore\n        start: activeElt ? activeElt.selectionStart : null,\n        // @ts-ignore\n        end: activeElt ? activeElt.selectionEnd : null\n      }\n    } catch (e) {\n      // safari issue - see https://github.com/microsoft/playwright/issues/5894\n    }\n    const settleInfo = makeSettleInfo(target)\n\n    // For text content swaps, don't parse the response as HTML, just insert it\n    if (swapSpec.swapStyle === 'textContent') {\n      target.textContent = content\n    // Otherwise, make the fragment and process it\n    } else {\n      let fragment = makeFragment(content)\n\n      settleInfo.title = fragment.title\n\n      // select-oob swaps\n      if (swapOptions.selectOOB) {\n        const oobSelectValues = swapOptions.selectOOB.split(',')\n        for (let i = 0; i < oobSelectValues.length; i++) {\n          const oobSelectValue = oobSelectValues[i].split(':', 2)\n          let id = oobSelectValue[0].trim()\n          if (id.indexOf('#') === 0) {\n            id = id.substring(1)\n          }\n          const oobValue = oobSelectValue[1] || 'true'\n          const oobElement = fragment.querySelector('#' + id)\n          if (oobElement) {\n            oobSwap(oobValue, oobElement, settleInfo)\n          }\n        }\n      }\n      // oob swaps\n      findAndSwapOobElements(fragment, settleInfo)\n      forEach(findAll(fragment, 'template'), /** @param {HTMLTemplateElement} template */function(template) {\n        findAndSwapOobElements(template.content, settleInfo)\n        if (template.content.childElementCount === 0) {\n        // Avoid polluting the DOM with empty templates that were only used to encapsulate oob swap\n          template.remove()\n        }\n      })\n\n      // normal swap\n      if (swapOptions.select) {\n        const newFragment = getDocument().createDocumentFragment()\n        forEach(fragment.querySelectorAll(swapOptions.select), function(node) {\n          newFragment.appendChild(node)\n        })\n        fragment = newFragment\n      }\n      handlePreservedElements(fragment)\n      swapWithStyle(swapSpec.swapStyle, swapOptions.contextElement, target, fragment, settleInfo)\n    }\n\n    // apply saved focus and selection information to swapped content\n    if (selectionInfo.elt &&\n      !bodyContains(selectionInfo.elt) &&\n      getRawAttribute(selectionInfo.elt, 'id')) {\n      const newActiveElt = document.getElementById(getRawAttribute(selectionInfo.elt, 'id'))\n      const focusOptions = { preventScroll: swapSpec.focusScroll !== undefined ? !swapSpec.focusScroll : !htmx.config.defaultFocusScroll }\n      if (newActiveElt) {\n        // @ts-ignore\n        if (selectionInfo.start && newActiveElt.setSelectionRange) {\n          try {\n            // @ts-ignore\n            newActiveElt.setSelectionRange(selectionInfo.start, selectionInfo.end)\n          } catch (e) {\n            // the setSelectionRange method is present on fields that don't support it, so just let this fail\n          }\n        }\n        newActiveElt.focus(focusOptions)\n      }\n    }\n\n    target.classList.remove(htmx.config.swappingClass)\n    forEach(settleInfo.elts, function(elt) {\n      if (elt.classList) {\n        elt.classList.add(htmx.config.settlingClass)\n      }\n      triggerEvent(elt, 'htmx:afterSwap', swapOptions.eventInfo)\n    })\n    if (swapOptions.afterSwapCallback) {\n      swapOptions.afterSwapCallback()\n    }\n\n    // merge in new title after swap but before settle\n    if (!swapSpec.ignoreTitle) {\n      handleTitle(settleInfo.title)\n    }\n\n    // settle\n    const doSettle = function() {\n      forEach(settleInfo.tasks, function(task) {\n        task.call()\n      })\n      forEach(settleInfo.elts, function(elt) {\n        if (elt.classList) {\n          elt.classList.remove(htmx.config.settlingClass)\n        }\n        triggerEvent(elt, 'htmx:afterSettle', swapOptions.eventInfo)\n      })\n\n      if (swapOptions.anchor) {\n        const anchorTarget = asElement(resolveTarget('#' + swapOptions.anchor))\n        if (anchorTarget) {\n          anchorTarget.scrollIntoView({ block: 'start', behavior: 'auto' })\n        }\n      }\n\n      updateScrollState(settleInfo.elts, swapSpec)\n      if (swapOptions.afterSettleCallback) {\n        swapOptions.afterSettleCallback()\n      }\n    }\n\n    if (swapSpec.settleDelay > 0) {\n      getWindow().setTimeout(doSettle, swapSpec.settleDelay)\n    } else {\n      doSettle()\n    }\n  }\n\n  /**\n   * @param {XMLHttpRequest} xhr\n   * @param {string} header\n   * @param {EventTarget} elt\n   */\n  function handleTriggerHeader(xhr, header, elt) {\n    const triggerBody = xhr.getResponseHeader(header)\n    if (triggerBody.indexOf('{') === 0) {\n      const triggers = parseJSON(triggerBody)\n      for (const eventName in triggers) {\n        if (triggers.hasOwnProperty(eventName)) {\n          let detail = triggers[eventName]\n          if (!isRawObject(detail)) {\n            detail = { value: detail }\n          }\n          triggerEvent(elt, eventName, detail)\n        }\n      }\n    } else {\n      const eventNames = triggerBody.split(',')\n      for (let i = 0; i < eventNames.length; i++) {\n        triggerEvent(elt, eventNames[i].trim(), [])\n      }\n    }\n  }\n\n  const WHITESPACE = /\\s/\n  const WHITESPACE_OR_COMMA = /[\\s,]/\n  const SYMBOL_START = /[_$a-zA-Z]/\n  const SYMBOL_CONT = /[_$a-zA-Z0-9]/\n  const STRINGISH_START = ['\"', \"'\", '/']\n  const NOT_WHITESPACE = /[^\\s]/\n  const COMBINED_SELECTOR_START = /[{(]/\n  const COMBINED_SELECTOR_END = /[})]/\n\n  /**\n   * @param {string} str\n   * @returns {string[]}\n   */\n  function tokenizeString(str) {\n    /** @type string[] */\n    const tokens = []\n    let position = 0\n    while (position < str.length) {\n      if (SYMBOL_START.exec(str.charAt(position))) {\n        var startPosition = position\n        while (SYMBOL_CONT.exec(str.charAt(position + 1))) {\n          position++\n        }\n        tokens.push(str.substr(startPosition, position - startPosition + 1))\n      } else if (STRINGISH_START.indexOf(str.charAt(position)) !== -1) {\n        const startChar = str.charAt(position)\n        var startPosition = position\n        position++\n        while (position < str.length && str.charAt(position) !== startChar) {\n          if (str.charAt(position) === '\\\\') {\n            position++\n          }\n          position++\n        }\n        tokens.push(str.substr(startPosition, position - startPosition + 1))\n      } else {\n        const symbol = str.charAt(position)\n        tokens.push(symbol)\n      }\n      position++\n    }\n    return tokens\n  }\n\n  /**\n   * @param {string} token\n   * @param {string|null} last\n   * @param {string} paramName\n   * @returns {boolean}\n   */\n  function isPossibleRelativeReference(token, last, paramName) {\n    return SYMBOL_START.exec(token.charAt(0)) &&\n      token !== 'true' &&\n      token !== 'false' &&\n      token !== 'this' &&\n      token !== paramName &&\n      last !== '.'\n  }\n\n  /**\n   * @param {EventTarget|string} elt\n   * @param {string[]} tokens\n   * @param {string} paramName\n   * @returns {ConditionalFunction|null}\n   */\n  function maybeGenerateConditional(elt, tokens, paramName) {\n    if (tokens[0] === '[') {\n      tokens.shift()\n      let bracketCount = 1\n      let conditionalSource = ' return (function(' + paramName + '){ return ('\n      let last = null\n      while (tokens.length > 0) {\n        const token = tokens[0]\n        // @ts-ignore For some reason tsc doesn't understand the shift call, and thinks we're comparing the same value here, i.e. '[' vs ']'\n        if (token === ']') {\n          bracketCount--\n          if (bracketCount === 0) {\n            if (last === null) {\n              conditionalSource = conditionalSource + 'true'\n            }\n            tokens.shift()\n            conditionalSource += ')})'\n            try {\n              const conditionFunction = maybeEval(elt, function() {\n                return Function(conditionalSource)()\n              },\n              function() { return true })\n              conditionFunction.source = conditionalSource\n              return conditionFunction\n            } catch (e) {\n              triggerErrorEvent(getDocument().body, 'htmx:syntax:error', { error: e, source: conditionalSource })\n              return null\n            }\n          }\n        } else if (token === '[') {\n          bracketCount++\n        }\n        if (isPossibleRelativeReference(token, last, paramName)) {\n          conditionalSource += '((' + paramName + '.' + token + ') ? (' + paramName + '.' + token + ') : (window.' + token + '))'\n        } else {\n          conditionalSource = conditionalSource + token\n        }\n        last = tokens.shift()\n      }\n    }\n  }\n\n  /**\n   * @param {string[]} tokens\n   * @param {RegExp} match\n   * @returns {string}\n   */\n  function consumeUntil(tokens, match) {\n    let result = ''\n    while (tokens.length > 0 && !match.test(tokens[0])) {\n      result += tokens.shift()\n    }\n    return result\n  }\n\n  /**\n   * @param {string[]} tokens\n   * @returns {string}\n   */\n  function consumeCSSSelector(tokens) {\n    let result\n    if (tokens.length > 0 && COMBINED_SELECTOR_START.test(tokens[0])) {\n      tokens.shift()\n      result = consumeUntil(tokens, COMBINED_SELECTOR_END).trim()\n      tokens.shift()\n    } else {\n      result = consumeUntil(tokens, WHITESPACE_OR_COMMA)\n    }\n    return result\n  }\n\n  const INPUT_SELECTOR = 'input, textarea, select'\n\n  /**\n   * @param {Element} elt\n   * @param {string} explicitTrigger\n   * @param {Object} cache for trigger specs\n   * @returns {HtmxTriggerSpecification[]}\n   */\n  function parseAndCacheTrigger(elt, explicitTrigger, cache) {\n    /** @type HtmxTriggerSpecification[] */\n    const triggerSpecs = []\n    const tokens = tokenizeString(explicitTrigger)\n    do {\n      consumeUntil(tokens, NOT_WHITESPACE)\n      const initialLength = tokens.length\n      const trigger = consumeUntil(tokens, /[,\\[\\s]/)\n      if (trigger !== '') {\n        if (trigger === 'every') {\n          /** @type HtmxTriggerSpecification */\n          const every = { trigger: 'every' }\n          consumeUntil(tokens, NOT_WHITESPACE)\n          every.pollInterval = parseInterval(consumeUntil(tokens, /[,\\[\\s]/))\n          consumeUntil(tokens, NOT_WHITESPACE)\n          var eventFilter = maybeGenerateConditional(elt, tokens, 'event')\n          if (eventFilter) {\n            every.eventFilter = eventFilter\n          }\n          triggerSpecs.push(every)\n        } else {\n          /** @type HtmxTriggerSpecification */\n          const triggerSpec = { trigger }\n          var eventFilter = maybeGenerateConditional(elt, tokens, 'event')\n          if (eventFilter) {\n            triggerSpec.eventFilter = eventFilter\n          }\n          while (tokens.length > 0 && tokens[0] !== ',') {\n            consumeUntil(tokens, NOT_WHITESPACE)\n            const token = tokens.shift()\n            if (token === 'changed') {\n              triggerSpec.changed = true\n            } else if (token === 'once') {\n              triggerSpec.once = true\n            } else if (token === 'consume') {\n              triggerSpec.consume = true\n            } else if (token === 'delay' && tokens[0] === ':') {\n              tokens.shift()\n              triggerSpec.delay = parseInterval(consumeUntil(tokens, WHITESPACE_OR_COMMA))\n            } else if (token === 'from' && tokens[0] === ':') {\n              tokens.shift()\n              if (COMBINED_SELECTOR_START.test(tokens[0])) {\n                var from_arg = consumeCSSSelector(tokens)\n              } else {\n                var from_arg = consumeUntil(tokens, WHITESPACE_OR_COMMA)\n                if (from_arg === 'closest' || from_arg === 'find' || from_arg === 'next' || from_arg === 'previous') {\n                  tokens.shift()\n                  const selector = consumeCSSSelector(tokens)\n                  // `next` and `previous` allow a selector-less syntax\n                  if (selector.length > 0) {\n                    from_arg += ' ' + selector\n                  }\n                }\n              }\n              triggerSpec.from = from_arg\n            } else if (token === 'target' && tokens[0] === ':') {\n              tokens.shift()\n              triggerSpec.target = consumeCSSSelector(tokens)\n            } else if (token === 'throttle' && tokens[0] === ':') {\n              tokens.shift()\n              triggerSpec.throttle = parseInterval(consumeUntil(tokens, WHITESPACE_OR_COMMA))\n            } else if (token === 'queue' && tokens[0] === ':') {\n              tokens.shift()\n              triggerSpec.queue = consumeUntil(tokens, WHITESPACE_OR_COMMA)\n            } else if (token === 'root' && tokens[0] === ':') {\n              tokens.shift()\n              triggerSpec[token] = consumeCSSSelector(tokens)\n            } else if (token === 'threshold' && tokens[0] === ':') {\n              tokens.shift()\n              triggerSpec[token] = consumeUntil(tokens, WHITESPACE_OR_COMMA)\n            } else {\n              triggerErrorEvent(elt, 'htmx:syntax:error', { token: tokens.shift() })\n            }\n          }\n          triggerSpecs.push(triggerSpec)\n        }\n      }\n      if (tokens.length === initialLength) {\n        triggerErrorEvent(elt, 'htmx:syntax:error', { token: tokens.shift() })\n      }\n      consumeUntil(tokens, NOT_WHITESPACE)\n    } while (tokens[0] === ',' && tokens.shift())\n    if (cache) {\n      cache[explicitTrigger] = triggerSpecs\n    }\n    return triggerSpecs\n  }\n\n  /**\n   * @param {Element} elt\n   * @returns {HtmxTriggerSpecification[]}\n   */\n  function getTriggerSpecs(elt) {\n    const explicitTrigger = getAttributeValue(elt, 'hx-trigger')\n    let triggerSpecs = []\n    if (explicitTrigger) {\n      const cache = htmx.config.triggerSpecsCache\n      triggerSpecs = (cache && cache[explicitTrigger]) || parseAndCacheTrigger(elt, explicitTrigger, cache)\n    }\n\n    if (triggerSpecs.length > 0) {\n      return triggerSpecs\n    } else if (matches(elt, 'form')) {\n      return [{ trigger: 'submit' }]\n    } else if (matches(elt, 'input[type=\"button\"], input[type=\"submit\"]')) {\n      return [{ trigger: 'click' }]\n    } else if (matches(elt, INPUT_SELECTOR)) {\n      return [{ trigger: 'change' }]\n    } else {\n      return [{ trigger: 'click' }]\n    }\n  }\n\n  /**\n   * @param {Element} elt\n   */\n  function cancelPolling(elt) {\n    getInternalData(elt).cancelled = true\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {TriggerHandler} handler\n   * @param {HtmxTriggerSpecification} spec\n   */\n  function processPolling(elt, handler, spec) {\n    const nodeData = getInternalData(elt)\n    nodeData.timeout = getWindow().setTimeout(function() {\n      if (bodyContains(elt) && nodeData.cancelled !== true) {\n        if (!maybeFilterEvent(spec, elt, makeEvent('hx:poll:trigger', {\n          triggerSpec: spec,\n          target: elt\n        }))) {\n          handler(elt)\n        }\n        processPolling(elt, handler, spec)\n      }\n    }, spec.pollInterval)\n  }\n\n  /**\n   * @param {HTMLAnchorElement} elt\n   * @returns {boolean}\n   */\n  function isLocalLink(elt) {\n    return location.hostname === elt.hostname &&\n      getRawAttribute(elt, 'href') &&\n      getRawAttribute(elt, 'href').indexOf('#') !== 0\n  }\n\n  /**\n   * @param {Element} elt\n   */\n  function eltIsDisabled(elt) {\n    return closest(elt, htmx.config.disableSelector)\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {HtmxNodeInternalData} nodeData\n   * @param {HtmxTriggerSpecification[]} triggerSpecs\n   */\n  function boostElement(elt, nodeData, triggerSpecs) {\n    if ((elt instanceof HTMLAnchorElement && isLocalLink(elt) && (elt.target === '' || elt.target === '_self')) || elt.tagName === 'FORM') {\n      nodeData.boosted = true\n      let verb, path\n      if (elt.tagName === 'A') {\n        verb = 'get'\n        path = getRawAttribute(elt, 'href')\n      } else {\n        const rawAttribute = getRawAttribute(elt, 'method')\n        verb = rawAttribute ? rawAttribute.toLowerCase() : 'get'\n        if (verb === 'get') {\n        }\n        path = getRawAttribute(elt, 'action')\n      }\n      triggerSpecs.forEach(function(triggerSpec) {\n        addEventListener(elt, function(node, evt) {\n          const elt = asElement(node)\n          if (eltIsDisabled(elt)) {\n            cleanUpElement(elt)\n            return\n          }\n          issueAjaxRequest(verb, path, elt, evt)\n        }, nodeData, triggerSpec, true)\n      })\n    }\n  }\n\n  /**\n   * @param {Event} evt\n   * @param {Node} node\n   * @returns {boolean}\n   */\n  function shouldCancel(evt, node) {\n    const elt = asElement(node)\n    if (!elt) {\n      return false\n    }\n    if (evt.type === 'submit' || evt.type === 'click') {\n      if (elt.tagName === 'FORM') {\n        return true\n      }\n      if (matches(elt, 'input[type=\"submit\"], button') && closest(elt, 'form') !== null) {\n        return true\n      }\n      if (elt instanceof HTMLAnchorElement && elt.href &&\n        (elt.getAttribute('href') === '#' || elt.getAttribute('href').indexOf('#') !== 0)) {\n        return true\n      }\n    }\n    return false\n  }\n\n  /**\n   * @param {Node} elt\n   * @param {Event|MouseEvent|KeyboardEvent|TouchEvent} evt\n   * @returns {boolean}\n   */\n  function ignoreBoostedAnchorCtrlClick(elt, evt) {\n    return getInternalData(elt).boosted && elt instanceof HTMLAnchorElement && evt.type === 'click' &&\n      // @ts-ignore this will resolve to undefined for events that don't define those properties, which is fine\n      (evt.ctrlKey || evt.metaKey)\n  }\n\n  /**\n   * @param {HtmxTriggerSpecification} triggerSpec\n   * @param {Node} elt\n   * @param {Event} evt\n   * @returns {boolean}\n   */\n  function maybeFilterEvent(triggerSpec, elt, evt) {\n    const eventFilter = triggerSpec.eventFilter\n    if (eventFilter) {\n      try {\n        return eventFilter.call(elt, evt) !== true\n      } catch (e) {\n        const source = eventFilter.source\n        triggerErrorEvent(getDocument().body, 'htmx:eventFilter:error', { error: e, source })\n        return true\n      }\n    }\n    return false\n  }\n\n  /**\n   * @param {Node} elt\n   * @param {TriggerHandler} handler\n   * @param {HtmxNodeInternalData} nodeData\n   * @param {HtmxTriggerSpecification} triggerSpec\n   * @param {boolean} [explicitCancel]\n   */\n  function addEventListener(elt, handler, nodeData, triggerSpec, explicitCancel) {\n    const elementData = getInternalData(elt)\n    /** @type {(Node|Window)[]} */\n    let eltsToListenOn\n    if (triggerSpec.from) {\n      eltsToListenOn = querySelectorAllExt(elt, triggerSpec.from)\n    } else {\n      eltsToListenOn = [elt]\n    }\n    // store the initial values of the elements, so we can tell if they change\n    if (triggerSpec.changed) {\n      eltsToListenOn.forEach(function(eltToListenOn) {\n        const eltToListenOnData = getInternalData(eltToListenOn)\n        // @ts-ignore value will be undefined for non-input elements, which is fine\n        eltToListenOnData.lastValue = eltToListenOn.value\n      })\n    }\n    forEach(eltsToListenOn, function(eltToListenOn) {\n      /** @type EventListener */\n      const eventListener = function(evt) {\n        if (!bodyContains(elt)) {\n          eltToListenOn.removeEventListener(triggerSpec.trigger, eventListener)\n          return\n        }\n        if (ignoreBoostedAnchorCtrlClick(elt, evt)) {\n          return\n        }\n        if (explicitCancel || shouldCancel(evt, elt)) {\n          evt.preventDefault()\n        }\n        if (maybeFilterEvent(triggerSpec, elt, evt)) {\n          return\n        }\n        const eventData = getInternalData(evt)\n        eventData.triggerSpec = triggerSpec\n        if (eventData.handledFor == null) {\n          eventData.handledFor = []\n        }\n        if (eventData.handledFor.indexOf(elt) < 0) {\n          eventData.handledFor.push(elt)\n          if (triggerSpec.consume) {\n            evt.stopPropagation()\n          }\n          if (triggerSpec.target && evt.target) {\n            if (!matches(asElement(evt.target), triggerSpec.target)) {\n              return\n            }\n          }\n          if (triggerSpec.once) {\n            if (elementData.triggeredOnce) {\n              return\n            } else {\n              elementData.triggeredOnce = true\n            }\n          }\n          if (triggerSpec.changed) {\n            const eltToListenOnData = getInternalData(eltToListenOn)\n            // @ts-ignore value will be undefined for non-input elements, which is fine\n            const value = eltToListenOn.value\n            if (eltToListenOnData.lastValue === value) {\n              return\n            }\n            eltToListenOnData.lastValue = value\n          }\n          if (elementData.delayed) {\n            clearTimeout(elementData.delayed)\n          }\n          if (elementData.throttle) {\n            return\n          }\n\n          if (triggerSpec.throttle > 0) {\n            if (!elementData.throttle) {\n              handler(elt, evt)\n              elementData.throttle = getWindow().setTimeout(function() {\n                elementData.throttle = null\n              }, triggerSpec.throttle)\n            }\n          } else if (triggerSpec.delay > 0) {\n            elementData.delayed = getWindow().setTimeout(function() { handler(elt, evt) }, triggerSpec.delay)\n          } else {\n            triggerEvent(elt, 'htmx:trigger')\n            handler(elt, evt)\n          }\n        }\n      }\n      if (nodeData.listenerInfos == null) {\n        nodeData.listenerInfos = []\n      }\n      nodeData.listenerInfos.push({\n        trigger: triggerSpec.trigger,\n        listener: eventListener,\n        on: eltToListenOn\n      })\n      eltToListenOn.addEventListener(triggerSpec.trigger, eventListener)\n    })\n  }\n\n  let windowIsScrolling = false // used by initScrollHandler\n  let scrollHandler = null\n  function initScrollHandler() {\n    if (!scrollHandler) {\n      scrollHandler = function() {\n        windowIsScrolling = true\n      }\n      window.addEventListener('scroll', scrollHandler)\n      setInterval(function() {\n        if (windowIsScrolling) {\n          windowIsScrolling = false\n          forEach(getDocument().querySelectorAll(\"[hx-trigger*='revealed'],[data-hx-trigger*='revealed']\"), function(elt) {\n            maybeReveal(elt)\n          })\n        }\n      }, 200)\n    }\n  }\n\n  /**\n   * @param {Element} elt\n   */\n  function maybeReveal(elt) {\n    if (!hasAttribute(elt, 'data-hx-revealed') && isScrolledIntoView(elt)) {\n      elt.setAttribute('data-hx-revealed', 'true')\n      const nodeData = getInternalData(elt)\n      if (nodeData.initHash) {\n        triggerEvent(elt, 'revealed')\n      } else {\n        // if the node isn't initialized, wait for it before triggering the request\n        elt.addEventListener('htmx:afterProcessNode', function() { triggerEvent(elt, 'revealed') }, { once: true })\n      }\n    }\n  }\n\n  //= ===================================================================\n\n  /**\n   * @param {Element} elt\n   * @param {TriggerHandler} handler\n   * @param {HtmxNodeInternalData} nodeData\n   * @param {number} delay\n   */\n  function loadImmediately(elt, handler, nodeData, delay) {\n    const load = function() {\n      if (!nodeData.loaded) {\n        nodeData.loaded = true\n        handler(elt)\n      }\n    }\n    if (delay > 0) {\n      getWindow().setTimeout(load, delay)\n    } else {\n      load()\n    }\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {HtmxNodeInternalData} nodeData\n   * @param {HtmxTriggerSpecification[]} triggerSpecs\n   * @returns {boolean}\n   */\n  function processVerbs(elt, nodeData, triggerSpecs) {\n    let explicitAction = false\n    forEach(VERBS, function(verb) {\n      if (hasAttribute(elt, 'hx-' + verb)) {\n        const path = getAttributeValue(elt, 'hx-' + verb)\n        explicitAction = true\n        nodeData.path = path\n        nodeData.verb = verb\n        triggerSpecs.forEach(function(triggerSpec) {\n          addTriggerHandler(elt, triggerSpec, nodeData, function(node, evt) {\n            const elt = asElement(node)\n            if (closest(elt, htmx.config.disableSelector)) {\n              cleanUpElement(elt)\n              return\n            }\n            issueAjaxRequest(verb, path, elt, evt)\n          })\n        })\n      }\n    })\n    return explicitAction\n  }\n\n  /**\n   * @callback TriggerHandler\n   * @param {Node} elt\n   * @param {Event} [evt]\n   */\n\n  /**\n   * @param {Node} elt\n   * @param {HtmxTriggerSpecification} triggerSpec\n   * @param {HtmxNodeInternalData} nodeData\n   * @param {TriggerHandler} handler\n   */\n  function addTriggerHandler(elt, triggerSpec, nodeData, handler) {\n    if (triggerSpec.trigger === 'revealed') {\n      initScrollHandler()\n      addEventListener(elt, handler, nodeData, triggerSpec)\n      maybeReveal(asElement(elt))\n    } else if (triggerSpec.trigger === 'intersect') {\n      const observerOptions = {}\n      if (triggerSpec.root) {\n        observerOptions.root = querySelectorExt(elt, triggerSpec.root)\n      }\n      if (triggerSpec.threshold) {\n        observerOptions.threshold = parseFloat(triggerSpec.threshold)\n      }\n      const observer = new IntersectionObserver(function(entries) {\n        for (let i = 0; i < entries.length; i++) {\n          const entry = entries[i]\n          if (entry.isIntersecting) {\n            triggerEvent(elt, 'intersect')\n            break\n          }\n        }\n      }, observerOptions)\n      observer.observe(asElement(elt))\n      addEventListener(asElement(elt), handler, nodeData, triggerSpec)\n    } else if (triggerSpec.trigger === 'load') {\n      if (!maybeFilterEvent(triggerSpec, elt, makeEvent('load', { elt }))) {\n        loadImmediately(asElement(elt), handler, nodeData, triggerSpec.delay)\n      }\n    } else if (triggerSpec.pollInterval > 0) {\n      nodeData.polling = true\n      processPolling(asElement(elt), handler, triggerSpec)\n    } else {\n      addEventListener(elt, handler, nodeData, triggerSpec)\n    }\n  }\n\n  /**\n   * @param {Node} node\n   * @returns {boolean}\n   */\n  function shouldProcessHxOn(node) {\n    const elt = asElement(node)\n    if (!elt) {\n      return false\n    }\n    const attributes = elt.attributes\n    for (let j = 0; j < attributes.length; j++) {\n      const attrName = attributes[j].name\n      if (startsWith(attrName, 'hx-on:') || startsWith(attrName, 'data-hx-on:') ||\n        startsWith(attrName, 'hx-on-') || startsWith(attrName, 'data-hx-on-')) {\n        return true\n      }\n    }\n    return false\n  }\n\n  /**\n   * @param {Node} elt\n   * @returns {Element[]}\n   */\n  const HX_ON_QUERY = new XPathEvaluator()\n    .createExpression('.//*[@*[ starts-with(name(), \"hx-on:\") or starts-with(name(), \"data-hx-on:\") or' +\n      ' starts-with(name(), \"hx-on-\") or starts-with(name(), \"data-hx-on-\") ]]')\n\n  function processHXOnRoot(elt, elements) {\n    if (shouldProcessHxOn(elt)) {\n      elements.push(asElement(elt))\n    }\n    const iter = HX_ON_QUERY.evaluate(elt)\n    let node = null\n    while (node = iter.iterateNext()) elements.push(asElement(node))\n  }\n\n  function findHxOnWildcardElements(elt) {\n    /** @type {Element[]} */\n    const elements = []\n    if (elt instanceof DocumentFragment) {\n      for (const child of elt.childNodes) {\n        processHXOnRoot(child, elements)\n      }\n    } else {\n      processHXOnRoot(elt, elements)\n    }\n    return elements\n  }\n\n  /**\n   * @param {Element} elt\n   * @returns {NodeListOf<Element>|[]}\n   */\n  function findElementsToProcess(elt) {\n    if (elt.querySelectorAll) {\n      const boostedSelector = ', [hx-boost] a, [data-hx-boost] a, a[hx-boost], a[data-hx-boost]'\n\n      const extensionSelectors = []\n      for (const e in extensions) {\n        const extension = extensions[e]\n        if (extension.getSelectors) {\n          var selectors = extension.getSelectors()\n          if (selectors) {\n            extensionSelectors.push(selectors)\n          }\n        }\n      }\n\n      const results = elt.querySelectorAll(VERB_SELECTOR + boostedSelector + \", form, [type='submit'],\" +\n        ' [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger]' + extensionSelectors.flat().map(s => ', ' + s).join(''))\n\n      return results\n    } else {\n      return []\n    }\n  }\n\n  /**\n   * Handle submit buttons/inputs that have the form attribute set\n   * see https://developer.mozilla.org/docs/Web/HTML/Element/button\n   * @param {Event} evt\n   */\n  function maybeSetLastButtonClicked(evt) {\n    const elt = /** @type {HTMLButtonElement|HTMLInputElement} */ (closest(asElement(evt.target), \"button, input[type='submit']\"))\n    const internalData = getRelatedFormData(evt)\n    if (internalData) {\n      internalData.lastButtonClicked = elt\n    }\n  }\n\n  /**\n   * @param {Event} evt\n   */\n  function maybeUnsetLastButtonClicked(evt) {\n    const internalData = getRelatedFormData(evt)\n    if (internalData) {\n      internalData.lastButtonClicked = null\n    }\n  }\n\n  /**\n   * @param {Event} evt\n   * @returns {HtmxNodeInternalData|undefined}\n   */\n  function getRelatedFormData(evt) {\n    const elt = closest(asElement(evt.target), \"button, input[type='submit']\")\n    if (!elt) {\n      return\n    }\n    const form = resolveTarget('#' + getRawAttribute(elt, 'form'), elt.getRootNode()) || closest(elt, 'form')\n    if (!form) {\n      return\n    }\n    return getInternalData(form)\n  }\n\n  /**\n   * @param {EventTarget} elt\n   */\n  function initButtonTracking(elt) {\n    // need to handle both click and focus in:\n    //   focusin - in case someone tabs in to a button and hits the space bar\n    //   click - on OSX buttons do not focus on click see https://bugs.webkit.org/show_bug.cgi?id=13724\n    elt.addEventListener('click', maybeSetLastButtonClicked)\n    elt.addEventListener('focusin', maybeSetLastButtonClicked)\n    elt.addEventListener('focusout', maybeUnsetLastButtonClicked)\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {string} eventName\n   * @param {string} code\n   */\n  function addHxOnEventHandler(elt, eventName, code) {\n    const nodeData = getInternalData(elt)\n    if (!Array.isArray(nodeData.onHandlers)) {\n      nodeData.onHandlers = []\n    }\n    let func\n    /** @type EventListener */\n    const listener = function(e) {\n      maybeEval(elt, function() {\n        if (eltIsDisabled(elt)) {\n          return\n        }\n        if (!func) {\n          func = new Function('event', code)\n        }\n        func.call(elt, e)\n      })\n    }\n    elt.addEventListener(eventName, listener)\n    nodeData.onHandlers.push({ event: eventName, listener })\n  }\n\n  /**\n   * @param {Element} elt\n   */\n  function processHxOnWildcard(elt) {\n    // wipe any previous on handlers so that this function takes precedence\n    deInitOnHandlers(elt)\n\n    for (let i = 0; i < elt.attributes.length; i++) {\n      const name = elt.attributes[i].name\n      const value = elt.attributes[i].value\n      if (startsWith(name, 'hx-on') || startsWith(name, 'data-hx-on')) {\n        const afterOnPosition = name.indexOf('-on') + 3\n        const nextChar = name.slice(afterOnPosition, afterOnPosition + 1)\n        if (nextChar === '-' || nextChar === ':') {\n          let eventName = name.slice(afterOnPosition + 1)\n          // if the eventName starts with a colon or dash, prepend \"htmx\" for shorthand support\n          if (startsWith(eventName, ':')) {\n            eventName = 'htmx' + eventName\n          } else if (startsWith(eventName, '-')) {\n            eventName = 'htmx:' + eventName.slice(1)\n          } else if (startsWith(eventName, 'htmx-')) {\n            eventName = 'htmx:' + eventName.slice(5)\n          }\n\n          addHxOnEventHandler(elt, eventName, value)\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {Element|HTMLInputElement} elt\n   */\n  function initNode(elt) {\n    if (closest(elt, htmx.config.disableSelector)) {\n      cleanUpElement(elt)\n      return\n    }\n    const nodeData = getInternalData(elt)\n    if (nodeData.initHash !== attributeHash(elt)) {\n      // clean up any previously processed info\n      deInitNode(elt)\n\n      nodeData.initHash = attributeHash(elt)\n\n      triggerEvent(elt, 'htmx:beforeProcessNode')\n\n      // @ts-ignore value will be undefined for non-input elements, which is fine\n      if (elt.value) {\n        // @ts-ignore\n        nodeData.lastValue = elt.value\n      }\n\n      const triggerSpecs = getTriggerSpecs(elt)\n      const hasExplicitHttpAction = processVerbs(elt, nodeData, triggerSpecs)\n\n      if (!hasExplicitHttpAction) {\n        if (getClosestAttributeValue(elt, 'hx-boost') === 'true') {\n          boostElement(elt, nodeData, triggerSpecs)\n        } else if (hasAttribute(elt, 'hx-trigger')) {\n          triggerSpecs.forEach(function(triggerSpec) {\n            // For \"naked\" triggers, don't do anything at all\n            addTriggerHandler(elt, triggerSpec, nodeData, function() {\n            })\n          })\n        }\n      }\n\n      // Handle submit buttons/inputs that have the form attribute set\n      // see https://developer.mozilla.org/docs/Web/HTML/Element/button\n      if (elt.tagName === 'FORM' || (getRawAttribute(elt, 'type') === 'submit' && hasAttribute(elt, 'form'))) {\n        initButtonTracking(elt)\n      }\n\n      triggerEvent(elt, 'htmx:afterProcessNode')\n    }\n  }\n\n  /**\n   * Processes new content, enabling htmx behavior. This can be useful if you have content that is added to the DOM outside of the normal htmx request cycle but still want htmx attributes to work.\n   *\n   * @see https://htmx.org/api/#process\n   *\n   * @param {Element|string} elt element to process\n   */\n  function processNode(elt) {\n    elt = resolveTarget(elt)\n    if (closest(elt, htmx.config.disableSelector)) {\n      cleanUpElement(elt)\n      return\n    }\n    initNode(elt)\n    forEach(findElementsToProcess(elt), function(child) { initNode(child) })\n    forEach(findHxOnWildcardElements(elt), processHxOnWildcard)\n  }\n\n  //= ===================================================================\n  // Event/Log Support\n  //= ===================================================================\n\n  /**\n   * @param {string} str\n   * @returns {string}\n   */\n  function kebabEventName(str) {\n    return str.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase()\n  }\n\n  /**\n   * @param {string} eventName\n   * @param {any} detail\n   * @returns {CustomEvent}\n   */\n  function makeEvent(eventName, detail) {\n    let evt\n    if (window.CustomEvent && typeof window.CustomEvent === 'function') {\n      // TODO: `composed: true` here is a hack to make global event handlers work with events in shadow DOM\n      // This breaks expected encapsulation but needs to be here until decided otherwise by core devs\n      evt = new CustomEvent(eventName, { bubbles: true, cancelable: true, composed: true, detail })\n    } else {\n      evt = getDocument().createEvent('CustomEvent')\n      evt.initCustomEvent(eventName, true, true, detail)\n    }\n    return evt\n  }\n\n  /**\n   * @param {EventTarget|string} elt\n   * @param {string} eventName\n   * @param {any=} detail\n   */\n  function triggerErrorEvent(elt, eventName, detail) {\n    triggerEvent(elt, eventName, mergeObjects({ error: eventName }, detail))\n  }\n\n  /**\n   * @param {string} eventName\n   * @returns {boolean}\n   */\n  function ignoreEventForLogging(eventName) {\n    return eventName === 'htmx:afterProcessNode'\n  }\n\n  /**\n   * `withExtensions` locates all active extensions for a provided element, then\n   * executes the provided function using each of the active extensions.  It should\n   * be called internally at every extendable execution point in htmx.\n   *\n   * @param {Element} elt\n   * @param {(extension:HtmxExtension) => void} toDo\n   * @returns void\n   */\n  function withExtensions(elt, toDo) {\n    forEach(getExtensions(elt), function(extension) {\n      try {\n        toDo(extension)\n      } catch (e) {\n        logError(e)\n      }\n    })\n  }\n\n  function logError(msg) {\n    if (console.error) {\n      console.error(msg)\n    } else if (console.log) {\n      console.log('ERROR: ', msg)\n    }\n  }\n\n  /**\n   * Triggers a given event on an element\n   *\n   * @see https://htmx.org/api/#trigger\n   *\n   * @param {EventTarget|string} elt the element to trigger the event on\n   * @param {string} eventName the name of the event to trigger\n   * @param {any=} detail details for the event\n   * @returns {boolean}\n   */\n  function triggerEvent(elt, eventName, detail) {\n    elt = resolveTarget(elt)\n    if (detail == null) {\n      detail = {}\n    }\n    detail.elt = elt\n    const event = makeEvent(eventName, detail)\n    if (htmx.logger && !ignoreEventForLogging(eventName)) {\n      htmx.logger(elt, eventName, detail)\n    }\n    if (detail.error) {\n      logError(detail.error)\n      triggerEvent(elt, 'htmx:error', { errorInfo: detail })\n    }\n    let eventResult = elt.dispatchEvent(event)\n    const kebabName = kebabEventName(eventName)\n    if (eventResult && kebabName !== eventName) {\n      const kebabedEvent = makeEvent(kebabName, event.detail)\n      eventResult = eventResult && elt.dispatchEvent(kebabedEvent)\n    }\n    withExtensions(asElement(elt), function(extension) {\n      eventResult = eventResult && (extension.onEvent(eventName, event) !== false && !event.defaultPrevented)\n    })\n    return eventResult\n  }\n\n  //= ===================================================================\n  // History Support\n  //= ===================================================================\n  let currentPathForHistory = location.pathname + location.search\n\n  /**\n   * @returns {Element}\n   */\n  function getHistoryElement() {\n    const historyElt = getDocument().querySelector('[hx-history-elt],[data-hx-history-elt]')\n    return historyElt || getDocument().body\n  }\n\n  /**\n   * @param {string} url\n   * @param {Element} rootElt\n   */\n  function saveToHistoryCache(url, rootElt) {\n    if (!canAccessLocalStorage()) {\n      return\n    }\n\n    // get state to save\n    const innerHTML = cleanInnerHtmlForHistory(rootElt)\n    const title = getDocument().title\n    const scroll = window.scrollY\n\n    if (htmx.config.historyCacheSize <= 0) {\n      // make sure that an eventually already existing cache is purged\n      localStorage.removeItem('htmx-history-cache')\n      return\n    }\n\n    url = normalizePath(url)\n\n    const historyCache = parseJSON(localStorage.getItem('htmx-history-cache')) || []\n    for (let i = 0; i < historyCache.length; i++) {\n      if (historyCache[i].url === url) {\n        historyCache.splice(i, 1)\n        break\n      }\n    }\n\n    /** @type HtmxHistoryItem */\n    const newHistoryItem = { url, content: innerHTML, title, scroll }\n\n    triggerEvent(getDocument().body, 'htmx:historyItemCreated', { item: newHistoryItem, cache: historyCache })\n\n    historyCache.push(newHistoryItem)\n    while (historyCache.length > htmx.config.historyCacheSize) {\n      historyCache.shift()\n    }\n\n    // keep trying to save the cache until it succeeds or is empty\n    while (historyCache.length > 0) {\n      try {\n        localStorage.setItem('htmx-history-cache', JSON.stringify(historyCache))\n        break\n      } catch (e) {\n        triggerErrorEvent(getDocument().body, 'htmx:historyCacheError', { cause: e, cache: historyCache })\n        historyCache.shift() // shrink the cache and retry\n      }\n    }\n  }\n\n  /**\n   * @typedef {Object} HtmxHistoryItem\n   * @property {string} url\n   * @property {string} content\n   * @property {string} title\n   * @property {number} scroll\n   */\n\n  /**\n   * @param {string} url\n   * @returns {HtmxHistoryItem|null}\n   */\n  function getCachedHistory(url) {\n    if (!canAccessLocalStorage()) {\n      return null\n    }\n\n    url = normalizePath(url)\n\n    const historyCache = parseJSON(localStorage.getItem('htmx-history-cache')) || []\n    for (let i = 0; i < historyCache.length; i++) {\n      if (historyCache[i].url === url) {\n        return historyCache[i]\n      }\n    }\n    return null\n  }\n\n  /**\n   * @param {Element} elt\n   * @returns {string}\n   */\n  function cleanInnerHtmlForHistory(elt) {\n    const className = htmx.config.requestClass\n    const clone = /** @type Element */ (elt.cloneNode(true))\n    forEach(findAll(clone, '.' + className), function(child) {\n      removeClassFromElement(child, className)\n    })\n    return clone.innerHTML\n  }\n\n  function saveCurrentPageToHistory() {\n    const elt = getHistoryElement()\n    const path = currentPathForHistory || location.pathname + location.search\n\n    // Allow history snapshot feature to be disabled where hx-history=\"false\"\n    // is present *anywhere* in the current document we're about to save,\n    // so we can prevent privileged data entering the cache.\n    // The page will still be reachable as a history entry, but htmx will fetch it\n    // live from the server onpopstate rather than look in the localStorage cache\n    let disableHistoryCache\n    try {\n      disableHistoryCache = getDocument().querySelector('[hx-history=\"false\" i],[data-hx-history=\"false\" i]')\n    } catch (e) {\n    // IE11: insensitive modifier not supported so fallback to case sensitive selector\n      disableHistoryCache = getDocument().querySelector('[hx-history=\"false\"],[data-hx-history=\"false\"]')\n    }\n    if (!disableHistoryCache) {\n      triggerEvent(getDocument().body, 'htmx:beforeHistorySave', { path, historyElt: elt })\n      saveToHistoryCache(path, elt)\n    }\n\n    if (htmx.config.historyEnabled) history.replaceState({ htmx: true }, getDocument().title, window.location.href)\n  }\n\n  /**\n   * @param {string} path\n   */\n  function pushUrlIntoHistory(path) {\n  // remove the cache buster parameter, if any\n    if (htmx.config.getCacheBusterParam) {\n      path = path.replace(/org\\.htmx\\.cache-buster=[^&]*&?/, '')\n      if (endsWith(path, '&') || endsWith(path, '?')) {\n        path = path.slice(0, -1)\n      }\n    }\n    if (htmx.config.historyEnabled) {\n      history.pushState({ htmx: true }, '', path)\n    }\n    currentPathForHistory = path\n  }\n\n  /**\n   * @param {string} path\n   */\n  function replaceUrlInHistory(path) {\n    if (htmx.config.historyEnabled) history.replaceState({ htmx: true }, '', path)\n    currentPathForHistory = path\n  }\n\n  /**\n   * @param {HtmxSettleTask[]} tasks\n   */\n  function settleImmediately(tasks) {\n    forEach(tasks, function(task) {\n      task.call(undefined)\n    })\n  }\n\n  /**\n   * @param {string} path\n   */\n  function loadHistoryFromServer(path) {\n    const request = new XMLHttpRequest()\n    const details = { path, xhr: request }\n    triggerEvent(getDocument().body, 'htmx:historyCacheMiss', details)\n    request.open('GET', path, true)\n    request.setRequestHeader('HX-Request', 'true')\n    request.setRequestHeader('HX-History-Restore-Request', 'true')\n    request.setRequestHeader('HX-Current-URL', getDocument().location.href)\n    request.onload = function() {\n      if (this.status >= 200 && this.status < 400) {\n        triggerEvent(getDocument().body, 'htmx:historyCacheMissLoad', details)\n        const fragment = makeFragment(this.response)\n        /** @type ParentNode */\n        const content = fragment.querySelector('[hx-history-elt],[data-hx-history-elt]') || fragment\n        const historyElement = getHistoryElement()\n        const settleInfo = makeSettleInfo(historyElement)\n        handleTitle(fragment.title)\n\n        swapInnerHTML(historyElement, content, settleInfo)\n        settleImmediately(settleInfo.tasks)\n        currentPathForHistory = path\n        triggerEvent(getDocument().body, 'htmx:historyRestore', { path, cacheMiss: true, serverResponse: this.response })\n      } else {\n        triggerErrorEvent(getDocument().body, 'htmx:historyCacheMissLoadError', details)\n      }\n    }\n    request.send()\n  }\n\n  /**\n   * @param {string} [path]\n   */\n  function restoreHistory(path) {\n    saveCurrentPageToHistory()\n    path = path || location.pathname + location.search\n    const cached = getCachedHistory(path)\n    if (cached) {\n      const fragment = makeFragment(cached.content)\n      const historyElement = getHistoryElement()\n      const settleInfo = makeSettleInfo(historyElement)\n      handleTitle(fragment.title)\n      swapInnerHTML(historyElement, fragment, settleInfo)\n      settleImmediately(settleInfo.tasks)\n      getWindow().setTimeout(function() {\n        window.scrollTo(0, cached.scroll)\n      }, 0) // next 'tick', so browser has time to render layout\n      currentPathForHistory = path\n      triggerEvent(getDocument().body, 'htmx:historyRestore', { path, item: cached })\n    } else {\n      if (htmx.config.refreshOnHistoryMiss) {\n        // @ts-ignore: optional parameter in reload() function throws error\n        // noinspection JSUnresolvedReference\n        window.location.reload(true)\n      } else {\n        loadHistoryFromServer(path)\n      }\n    }\n  }\n\n  /**\n   * @param {Element} elt\n   * @returns {Element[]}\n   */\n  function addRequestIndicatorClasses(elt) {\n    let indicators = /** @type Element[] */ (findAttributeTargets(elt, 'hx-indicator'))\n    if (indicators == null) {\n      indicators = [elt]\n    }\n    forEach(indicators, function(ic) {\n      const internalData = getInternalData(ic)\n      internalData.requestCount = (internalData.requestCount || 0) + 1\n      ic.classList.add.call(ic.classList, htmx.config.requestClass)\n    })\n    return indicators\n  }\n\n  /**\n   * @param {Element} elt\n   * @returns {Element[]}\n   */\n  function disableElements(elt) {\n    let disabledElts = /** @type Element[] */ (findAttributeTargets(elt, 'hx-disabled-elt'))\n    if (disabledElts == null) {\n      disabledElts = []\n    }\n    forEach(disabledElts, function(disabledElement) {\n      const internalData = getInternalData(disabledElement)\n      internalData.requestCount = (internalData.requestCount || 0) + 1\n      disabledElement.setAttribute('disabled', '')\n    })\n    return disabledElts\n  }\n\n  /**\n   * @param {Element[]} indicators\n   * @param {Element[]} disabled\n   */\n  function removeRequestIndicators(indicators, disabled) {\n    forEach(indicators, function(ic) {\n      const internalData = getInternalData(ic)\n      internalData.requestCount = (internalData.requestCount || 0) - 1\n      if (internalData.requestCount === 0) {\n        ic.classList.remove.call(ic.classList, htmx.config.requestClass)\n      }\n    })\n    forEach(disabled, function(disabledElement) {\n      const internalData = getInternalData(disabledElement)\n      internalData.requestCount = (internalData.requestCount || 0) - 1\n      if (internalData.requestCount === 0) {\n        disabledElement.removeAttribute('disabled')\n      }\n    })\n  }\n\n  //= ===================================================================\n  // Input Value Processing\n  //= ===================================================================\n\n  /**\n   * @param {Element[]} processed\n   * @param {Element} elt\n   * @returns {boolean}\n   */\n  function haveSeenNode(processed, elt) {\n    for (let i = 0; i < processed.length; i++) {\n      const node = processed[i]\n      if (node.isSameNode(elt)) {\n        return true\n      }\n    }\n    return false\n  }\n\n  /**\n   * @param {Element} element\n   * @return {boolean}\n   */\n  function shouldInclude(element) {\n    // Cast to trick tsc, undefined values will work fine here\n    const elt = /** @type {HTMLInputElement} */ (element)\n    if (elt.name === '' || elt.name == null || elt.disabled || closest(elt, 'fieldset[disabled]')) {\n      return false\n    }\n    // ignore \"submitter\" types (see jQuery src/serialize.js)\n    if (elt.type === 'button' || elt.type === 'submit' || elt.tagName === 'image' || elt.tagName === 'reset' || elt.tagName === 'file') {\n      return false\n    }\n    if (elt.type === 'checkbox' || elt.type === 'radio') {\n      return elt.checked\n    }\n    return true\n  }\n\n  /** @param {string} name\n   * @param {string|Array|FormDataEntryValue} value\n   * @param {FormData} formData */\n  function addValueToFormData(name, value, formData) {\n    if (name != null && value != null) {\n      if (Array.isArray(value)) {\n        value.forEach(function(v) { formData.append(name, v) })\n      } else {\n        formData.append(name, value)\n      }\n    }\n  }\n\n  /** @param {string} name\n   * @param {string|Array} value\n   * @param {FormData} formData */\n  function removeValueFromFormData(name, value, formData) {\n    if (name != null && value != null) {\n      let values = formData.getAll(name)\n      if (Array.isArray(value)) {\n        values = values.filter(v => value.indexOf(v) < 0)\n      } else {\n        values = values.filter(v => v !== value)\n      }\n      formData.delete(name)\n      forEach(values, v => formData.append(name, v))\n    }\n  }\n\n  /**\n   * @param {Element[]} processed\n   * @param {FormData} formData\n   * @param {HtmxElementValidationError[]} errors\n   * @param {Element|HTMLInputElement|HTMLSelectElement|HTMLFormElement} elt\n   * @param {boolean} validate\n   */\n  function processInputValue(processed, formData, errors, elt, validate) {\n    if (elt == null || haveSeenNode(processed, elt)) {\n      return\n    } else {\n      processed.push(elt)\n    }\n    if (shouldInclude(elt)) {\n      const name = getRawAttribute(elt, 'name')\n      // @ts-ignore value will be undefined for non-input elements, which is fine\n      let value = elt.value\n      if (elt instanceof HTMLSelectElement && elt.multiple) {\n        value = toArray(elt.querySelectorAll('option:checked')).map(function(e) { return (/** @type HTMLOptionElement */(e)).value })\n      }\n      // include file inputs\n      if (elt instanceof HTMLInputElement && elt.files) {\n        value = toArray(elt.files)\n      }\n      addValueToFormData(name, value, formData)\n      if (validate) {\n        validateElement(elt, errors)\n      }\n    }\n    if (elt instanceof HTMLFormElement) {\n      forEach(elt.elements, function(input) {\n        if (processed.indexOf(input) >= 0) {\n          // The input has already been processed and added to the values, but the FormData that will be\n          //  constructed right after on the form, will include it once again. So remove that input's value\n          //  now to avoid duplicates\n          removeValueFromFormData(input.name, input.value, formData)\n        } else {\n          processed.push(input)\n        }\n        if (validate) {\n          validateElement(input, errors)\n        }\n      })\n      new FormData(elt).forEach(function(value, name) {\n        if (value instanceof File && value.name === '') {\n          return // ignore no-name files\n        }\n        addValueToFormData(name, value, formData)\n      })\n    }\n  }\n\n  /**\n   *\n   * @param {Element} elt\n   * @param {HtmxElementValidationError[]} errors\n   */\n  function validateElement(elt, errors) {\n    const element = /** @type {HTMLElement & ElementInternals} */ (elt)\n    if (element.willValidate) {\n      triggerEvent(element, 'htmx:validation:validate')\n      if (!element.checkValidity()) {\n        errors.push({ elt: element, message: element.validationMessage, validity: element.validity })\n        triggerEvent(element, 'htmx:validation:failed', { message: element.validationMessage, validity: element.validity })\n      }\n    }\n  }\n\n  /**\n   * Override values in the one FormData with those from another.\n   * @param {FormData} receiver the formdata that will be mutated\n   * @param {FormData} donor the formdata that will provide the overriding values\n   * @returns {FormData} the {@linkcode receiver}\n   */\n  function overrideFormData(receiver, donor) {\n    for (const key of donor.keys()) {\n      receiver.delete(key)\n      donor.getAll(key).forEach(function(value) {\n        receiver.append(key, value)\n      })\n    }\n    return receiver\n  }\n\n  /**\n * @param {Element|HTMLFormElement} elt\n * @param {HttpVerb} verb\n * @returns {{errors: HtmxElementValidationError[], formData: FormData, values: Object}}\n */\n  function getInputValues(elt, verb) {\n    /** @type Element[] */\n    const processed = []\n    const formData = new FormData()\n    const priorityFormData = new FormData()\n    /** @type HtmxElementValidationError[] */\n    const errors = []\n    const internalData = getInternalData(elt)\n    if (internalData.lastButtonClicked && !bodyContains(internalData.lastButtonClicked)) {\n      internalData.lastButtonClicked = null\n    }\n\n    // only validate when form is directly submitted and novalidate or formnovalidate are not set\n    // or if the element has an explicit hx-validate=\"true\" on it\n    let validate = (elt instanceof HTMLFormElement && elt.noValidate !== true) || getAttributeValue(elt, 'hx-validate') === 'true'\n    if (internalData.lastButtonClicked) {\n      validate = validate && internalData.lastButtonClicked.formNoValidate !== true\n    }\n\n    // for a non-GET include the closest form\n    if (verb !== 'get') {\n      processInputValue(processed, priorityFormData, errors, closest(elt, 'form'), validate)\n    }\n\n    // include the element itself\n    processInputValue(processed, formData, errors, elt, validate)\n\n    // if a button or submit was clicked last, include its value\n    if (internalData.lastButtonClicked || elt.tagName === 'BUTTON' ||\n    (elt.tagName === 'INPUT' && getRawAttribute(elt, 'type') === 'submit')) {\n      const button = internalData.lastButtonClicked || (/** @type HTMLInputElement|HTMLButtonElement */(elt))\n      const name = getRawAttribute(button, 'name')\n      addValueToFormData(name, button.value, priorityFormData)\n    }\n\n    // include any explicit includes\n    const includes = findAttributeTargets(elt, 'hx-include')\n    forEach(includes, function(node) {\n      processInputValue(processed, formData, errors, asElement(node), validate)\n      // if a non-form is included, include any input values within it\n      if (!matches(node, 'form')) {\n        forEach(asParentNode(node).querySelectorAll(INPUT_SELECTOR), function(descendant) {\n          processInputValue(processed, formData, errors, descendant, validate)\n        })\n      }\n    })\n\n    // values from a <form> take precedence, overriding the regular values\n    overrideFormData(formData, priorityFormData)\n\n    return { errors, formData, values: formDataProxy(formData) }\n  }\n\n  /**\n   * @param {string} returnStr\n   * @param {string} name\n   * @param {any} realValue\n   * @returns {string}\n   */\n  function appendParam(returnStr, name, realValue) {\n    if (returnStr !== '') {\n      returnStr += '&'\n    }\n    if (String(realValue) === '[object Object]') {\n      realValue = JSON.stringify(realValue)\n    }\n    const s = encodeURIComponent(realValue)\n    returnStr += encodeURIComponent(name) + '=' + s\n    return returnStr\n  }\n\n  /**\n   * @param {FormData|Object} values\n   * @returns string\n   */\n  function urlEncode(values) {\n    values = formDataFromObject(values)\n    let returnStr = ''\n    values.forEach(function(value, key) {\n      returnStr = appendParam(returnStr, key, value)\n    })\n    return returnStr\n  }\n\n  //= ===================================================================\n  // Ajax\n  //= ===================================================================\n\n  /**\n * @param {Element} elt\n * @param {Element} target\n * @param {string} prompt\n * @returns {HtmxHeaderSpecification}\n */\n  function getHeaders(elt, target, prompt) {\n    /** @type HtmxHeaderSpecification */\n    const headers = {\n      'HX-Request': 'true',\n      'HX-Trigger': getRawAttribute(elt, 'id'),\n      'HX-Trigger-Name': getRawAttribute(elt, 'name'),\n      'HX-Target': getAttributeValue(target, 'id'),\n      'HX-Current-URL': getDocument().location.href\n    }\n    getValuesForElement(elt, 'hx-headers', false, headers)\n    if (prompt !== undefined) {\n      headers['HX-Prompt'] = prompt\n    }\n    if (getInternalData(elt).boosted) {\n      headers['HX-Boosted'] = 'true'\n    }\n    return headers\n  }\n\n  /**\n * filterValues takes an object containing form input values\n * and returns a new object that only contains keys that are\n * specified by the closest \"hx-params\" attribute\n * @param {FormData} inputValues\n * @param {Element} elt\n * @returns {FormData}\n */\n  function filterValues(inputValues, elt) {\n    const paramsValue = getClosestAttributeValue(elt, 'hx-params')\n    if (paramsValue) {\n      if (paramsValue === 'none') {\n        return new FormData()\n      } else if (paramsValue === '*') {\n        return inputValues\n      } else if (paramsValue.indexOf('not ') === 0) {\n        forEach(paramsValue.substr(4).split(','), function(name) {\n          name = name.trim()\n          inputValues.delete(name)\n        })\n        return inputValues\n      } else {\n        const newValues = new FormData()\n        forEach(paramsValue.split(','), function(name) {\n          name = name.trim()\n          if (inputValues.has(name)) {\n            inputValues.getAll(name).forEach(function(value) { newValues.append(name, value) })\n          }\n        })\n        return newValues\n      }\n    } else {\n      return inputValues\n    }\n  }\n\n  /**\n   * @param {Element} elt\n   * @return {boolean}\n   */\n  function isAnchorLink(elt) {\n    return !!getRawAttribute(elt, 'href') && getRawAttribute(elt, 'href').indexOf('#') >= 0\n  }\n\n  /**\n * @param {Element} elt\n * @param {HtmxSwapStyle} [swapInfoOverride]\n * @returns {HtmxSwapSpecification}\n */\n  function getSwapSpecification(elt, swapInfoOverride) {\n    const swapInfo = swapInfoOverride || getClosestAttributeValue(elt, 'hx-swap')\n    /** @type HtmxSwapSpecification */\n    const swapSpec = {\n      swapStyle: getInternalData(elt).boosted ? 'innerHTML' : htmx.config.defaultSwapStyle,\n      swapDelay: htmx.config.defaultSwapDelay,\n      settleDelay: htmx.config.defaultSettleDelay\n    }\n    if (htmx.config.scrollIntoViewOnBoost && getInternalData(elt).boosted && !isAnchorLink(elt)) {\n      swapSpec.show = 'top'\n    }\n    if (swapInfo) {\n      const split = splitOnWhitespace(swapInfo)\n      if (split.length > 0) {\n        for (let i = 0; i < split.length; i++) {\n          const value = split[i]\n          if (value.indexOf('swap:') === 0) {\n            swapSpec.swapDelay = parseInterval(value.substr(5))\n          } else if (value.indexOf('settle:') === 0) {\n            swapSpec.settleDelay = parseInterval(value.substr(7))\n          } else if (value.indexOf('transition:') === 0) {\n            swapSpec.transition = value.substr(11) === 'true'\n          } else if (value.indexOf('ignoreTitle:') === 0) {\n            swapSpec.ignoreTitle = value.substr(12) === 'true'\n          } else if (value.indexOf('scroll:') === 0) {\n            const scrollSpec = value.substr(7)\n            var splitSpec = scrollSpec.split(':')\n            const scrollVal = splitSpec.pop()\n            var selectorVal = splitSpec.length > 0 ? splitSpec.join(':') : null\n            // @ts-ignore\n            swapSpec.scroll = scrollVal\n            swapSpec.scrollTarget = selectorVal\n          } else if (value.indexOf('show:') === 0) {\n            const showSpec = value.substr(5)\n            var splitSpec = showSpec.split(':')\n            const showVal = splitSpec.pop()\n            var selectorVal = splitSpec.length > 0 ? splitSpec.join(':') : null\n            swapSpec.show = showVal\n            swapSpec.showTarget = selectorVal\n          } else if (value.indexOf('focus-scroll:') === 0) {\n            const focusScrollVal = value.substr('focus-scroll:'.length)\n            swapSpec.focusScroll = focusScrollVal == 'true'\n          } else if (i == 0) {\n            swapSpec.swapStyle = value\n          } else {\n            logError('Unknown modifier in hx-swap: ' + value)\n          }\n        }\n      }\n    }\n    return swapSpec\n  }\n\n  /**\n   * @param {Element} elt\n   * @return {boolean}\n   */\n  function usesFormData(elt) {\n    return getClosestAttributeValue(elt, 'hx-encoding') === 'multipart/form-data' ||\n    (matches(elt, 'form') && getRawAttribute(elt, 'enctype') === 'multipart/form-data')\n  }\n\n  /**\n   * @param {XMLHttpRequest} xhr\n   * @param {Element} elt\n   * @param {FormData} filteredParameters\n   * @returns {*|string|null}\n   */\n  function encodeParamsForBody(xhr, elt, filteredParameters) {\n    let encodedParameters = null\n    withExtensions(elt, function(extension) {\n      if (encodedParameters == null) {\n        encodedParameters = extension.encodeParameters(xhr, filteredParameters, elt)\n      }\n    })\n    if (encodedParameters != null) {\n      return encodedParameters\n    } else {\n      if (usesFormData(elt)) {\n        // Force conversion to an actual FormData object in case filteredParameters is a formDataProxy\n        // See https://github.com/bigskysoftware/htmx/issues/2317\n        return overrideFormData(new FormData(), formDataFromObject(filteredParameters))\n      } else {\n        return urlEncode(filteredParameters)\n      }\n    }\n  }\n\n  /**\n *\n * @param {Element} target\n * @returns {HtmxSettleInfo}\n */\n  function makeSettleInfo(target) {\n    return { tasks: [], elts: [target] }\n  }\n\n  /**\n   * @param {Element[]} content\n   * @param {HtmxSwapSpecification} swapSpec\n   */\n  function updateScrollState(content, swapSpec) {\n    const first = content[0]\n    const last = content[content.length - 1]\n    if (swapSpec.scroll) {\n      var target = null\n      if (swapSpec.scrollTarget) {\n        target = asElement(querySelectorExt(first, swapSpec.scrollTarget))\n      }\n      if (swapSpec.scroll === 'top' && (first || target)) {\n        target = target || first\n        target.scrollTop = 0\n      }\n      if (swapSpec.scroll === 'bottom' && (last || target)) {\n        target = target || last\n        target.scrollTop = target.scrollHeight\n      }\n    }\n    if (swapSpec.show) {\n      var target = null\n      if (swapSpec.showTarget) {\n        let targetStr = swapSpec.showTarget\n        if (swapSpec.showTarget === 'window') {\n          targetStr = 'body'\n        }\n        target = asElement(querySelectorExt(first, targetStr))\n      }\n      if (swapSpec.show === 'top' && (first || target)) {\n        target = target || first\n        // @ts-ignore For some reason tsc doesn't recognize \"instant\" as a valid option for now\n        target.scrollIntoView({ block: 'start', behavior: htmx.config.scrollBehavior })\n      }\n      if (swapSpec.show === 'bottom' && (last || target)) {\n        target = target || last\n        // @ts-ignore For some reason tsc doesn't recognize \"instant\" as a valid option for now\n        target.scrollIntoView({ block: 'end', behavior: htmx.config.scrollBehavior })\n      }\n    }\n  }\n\n  /**\n * @param {Element} elt\n * @param {string} attr\n * @param {boolean=} evalAsDefault\n * @param {Object=} values\n * @returns {Object}\n */\n  function getValuesForElement(elt, attr, evalAsDefault, values) {\n    if (values == null) {\n      values = {}\n    }\n    if (elt == null) {\n      return values\n    }\n    const attributeValue = getAttributeValue(elt, attr)\n    if (attributeValue) {\n      let str = attributeValue.trim()\n      let evaluateValue = evalAsDefault\n      if (str === 'unset') {\n        return null\n      }\n      if (str.indexOf('javascript:') === 0) {\n        str = str.substr(11)\n        evaluateValue = true\n      } else if (str.indexOf('js:') === 0) {\n        str = str.substr(3)\n        evaluateValue = true\n      }\n      if (str.indexOf('{') !== 0) {\n        str = '{' + str + '}'\n      }\n      let varsValues\n      if (evaluateValue) {\n        varsValues = maybeEval(elt, function() { return Function('return (' + str + ')')() }, {})\n      } else {\n        varsValues = parseJSON(str)\n      }\n      for (const key in varsValues) {\n        if (varsValues.hasOwnProperty(key)) {\n          if (values[key] == null) {\n            values[key] = varsValues[key]\n          }\n        }\n      }\n    }\n    return getValuesForElement(asElement(parentElt(elt)), attr, evalAsDefault, values)\n  }\n\n  /**\n   * @param {EventTarget|string} elt\n   * @param {() => any} toEval\n   * @param {any=} defaultVal\n   * @returns {any}\n   */\n  function maybeEval(elt, toEval, defaultVal) {\n    if (htmx.config.allowEval) {\n      return toEval()\n    } else {\n      triggerErrorEvent(elt, 'htmx:evalDisallowedError')\n      return defaultVal\n    }\n  }\n\n  /**\n * @param {Element} elt\n * @param {*?} expressionVars\n * @returns\n */\n  function getHXVarsForElement(elt, expressionVars) {\n    return getValuesForElement(elt, 'hx-vars', true, expressionVars)\n  }\n\n  /**\n * @param {Element} elt\n * @param {*?} expressionVars\n * @returns\n */\n  function getHXValsForElement(elt, expressionVars) {\n    return getValuesForElement(elt, 'hx-vals', false, expressionVars)\n  }\n\n  /**\n * @param {Element} elt\n * @returns {FormData}\n */\n  function getExpressionVars(elt) {\n    return mergeObjects(getHXVarsForElement(elt), getHXValsForElement(elt))\n  }\n\n  /**\n   * @param {XMLHttpRequest} xhr\n   * @param {string} header\n   * @param {string|null} headerValue\n   */\n  function safelySetHeaderValue(xhr, header, headerValue) {\n    if (headerValue !== null) {\n      try {\n        xhr.setRequestHeader(header, headerValue)\n      } catch (e) {\n      // On an exception, try to set the header URI encoded instead\n        xhr.setRequestHeader(header, encodeURIComponent(headerValue))\n        xhr.setRequestHeader(header + '-URI-AutoEncoded', 'true')\n      }\n    }\n  }\n\n  /**\n   * @param {XMLHttpRequest} xhr\n   * @return {string}\n   */\n  function getPathFromResponse(xhr) {\n  // NB: IE11 does not support this stuff\n    if (xhr.responseURL && typeof (URL) !== 'undefined') {\n      try {\n        const url = new URL(xhr.responseURL)\n        return url.pathname + url.search\n      } catch (e) {\n        triggerErrorEvent(getDocument().body, 'htmx:badResponseUrl', { url: xhr.responseURL })\n      }\n    }\n  }\n\n  /**\n   * @param {XMLHttpRequest} xhr\n   * @param {RegExp} regexp\n   * @return {boolean}\n   */\n  function hasHeader(xhr, regexp) {\n    return regexp.test(xhr.getAllResponseHeaders())\n  }\n\n  /**\n   * Issues an htmx-style AJAX request\n   *\n   * @see https://htmx.org/api/#ajax\n   *\n   * @param {HttpVerb} verb\n   * @param {string} path the URL path to make the AJAX\n   * @param {Element|string|HtmxAjaxHelperContext} context the element to target (defaults to the **body**) | a selector for the target | a context object that contains any of the following\n   * @return {Promise<void>} Promise that resolves immediately if no request is sent, or when the request is complete\n   */\n  function ajaxHelper(verb, path, context) {\n    verb = (/** @type HttpVerb */(verb.toLowerCase()))\n    if (context) {\n      if (context instanceof Element || typeof context === 'string') {\n        return issueAjaxRequest(verb, path, null, null, {\n          targetOverride: resolveTarget(context),\n          returnPromise: true\n        })\n      } else {\n        return issueAjaxRequest(verb, path, resolveTarget(context.source), context.event,\n          {\n            handler: context.handler,\n            headers: context.headers,\n            values: context.values,\n            targetOverride: resolveTarget(context.target),\n            swapOverride: context.swap,\n            select: context.select,\n            returnPromise: true\n          })\n      }\n    } else {\n      return issueAjaxRequest(verb, path, null, null, {\n        returnPromise: true\n      })\n    }\n  }\n\n  /**\n   * @param {Element} elt\n   * @return {Element[]}\n   */\n  function hierarchyForElt(elt) {\n    const arr = []\n    while (elt) {\n      arr.push(elt)\n      elt = elt.parentElement\n    }\n    return arr\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {string} path\n   * @param {HtmxRequestConfig} requestConfig\n   * @return {boolean}\n   */\n  function verifyPath(elt, path, requestConfig) {\n    let sameHost\n    let url\n    if (typeof URL === 'function') {\n      url = new URL(path, document.location.href)\n      const origin = document.location.origin\n      sameHost = origin === url.origin\n    } else {\n    // IE11 doesn't support URL\n      url = path\n      sameHost = startsWith(path, document.location.origin)\n    }\n\n    if (htmx.config.selfRequestsOnly) {\n      if (!sameHost) {\n        return false\n      }\n    }\n    return triggerEvent(elt, 'htmx:validateUrl', mergeObjects({ url, sameHost }, requestConfig))\n  }\n\n  /**\n   * @param {Object|FormData} obj\n   * @return {FormData}\n   */\n  function formDataFromObject(obj) {\n    if (obj instanceof FormData) return obj\n    const formData = new FormData()\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        if (typeof obj[key].forEach === 'function') {\n          obj[key].forEach(function(v) { formData.append(key, v) })\n        } else if (typeof obj[key] === 'object') {\n          formData.append(key, JSON.stringify(obj[key]))\n        } else {\n          formData.append(key, obj[key])\n        }\n      }\n    }\n    return formData\n  }\n\n  /**\n   * @param {FormData} formData\n   * @param {string} name\n   * @param {Array} array\n   * @returns {Array}\n   */\n  function formDataArrayProxy(formData, name, array) {\n    // mutating the array should mutate the underlying form data\n    return new Proxy(array, {\n      get: function(target, key) {\n        if (typeof key === 'number') return target[key]\n        if (key === 'length') return target.length\n        if (key === 'push') {\n          return function(value) {\n            target.push(value)\n            formData.append(name, value)\n          }\n        }\n        if (typeof target[key] === 'function') {\n          return function() {\n            target[key].apply(target, arguments)\n            formData.delete(name)\n            target.forEach(function(v) { formData.append(name, v) })\n          }\n        }\n\n        if (target[key] && target[key].length === 1) {\n          return target[key][0]\n        } else {\n          return target[key]\n        }\n      },\n      set: function(target, index, value) {\n        target[index] = value\n        formData.delete(name)\n        target.forEach(function(v) { formData.append(name, v) })\n        return true\n      }\n    })\n  }\n\n  /**\n   * @param {FormData} formData\n   * @returns {Object}\n   */\n  function formDataProxy(formData) {\n    return new Proxy(formData, {\n      get: function(target, name) {\n        if (typeof name === 'symbol') {\n          // Forward symbol calls to the FormData itself directly\n          return Reflect.get(target, name)\n        }\n        if (name === 'toJSON') {\n          // Support JSON.stringify call on proxy\n          return () => Object.fromEntries(formData)\n        }\n        if (name in target) {\n          // Wrap in function with apply to correctly bind the FormData context, as a direct call would result in an illegal invocation error\n          if (typeof target[name] === 'function') {\n            return function() {\n              return formData[name].apply(formData, arguments)\n            }\n          } else {\n            return target[name]\n          }\n        }\n        const array = formData.getAll(name)\n        // Those 2 undefined & single value returns are for retro-compatibility as we weren't using FormData before\n        if (array.length === 0) {\n          return undefined\n        } else if (array.length === 1) {\n          return array[0]\n        } else {\n          return formDataArrayProxy(target, name, array)\n        }\n      },\n      set: function(target, name, value) {\n        if (typeof name !== 'string') {\n          return false\n        }\n        target.delete(name)\n        if (typeof value.forEach === 'function') {\n          value.forEach(function(v) { target.append(name, v) })\n        } else {\n          target.append(name, value)\n        }\n        return true\n      },\n      deleteProperty: function(target, name) {\n        if (typeof name === 'string') {\n          target.delete(name)\n        }\n        return true\n      },\n      // Support Object.assign call from proxy\n      ownKeys: function(target) {\n        return Reflect.ownKeys(Object.fromEntries(target))\n      },\n      getOwnPropertyDescriptor: function(target, prop) {\n        return Reflect.getOwnPropertyDescriptor(Object.fromEntries(target), prop)\n      }\n    })\n  }\n\n  /**\n   * @param {HttpVerb} verb\n   * @param {string} path\n   * @param {Element} elt\n   * @param {Event} event\n   * @param {HtmxAjaxEtc} [etc]\n   * @param {boolean} [confirmed]\n   * @return {Promise<void>}\n   */\n  function issueAjaxRequest(verb, path, elt, event, etc, confirmed) {\n    let resolve = null\n    let reject = null\n    etc = etc != null ? etc : {}\n    if (etc.returnPromise && typeof Promise !== 'undefined') {\n      var promise = new Promise(function(_resolve, _reject) {\n        resolve = _resolve\n        reject = _reject\n      })\n    }\n    if (elt == null) {\n      elt = getDocument().body\n    }\n    const responseHandler = etc.handler || handleAjaxResponse\n    const select = etc.select || null\n\n    if (!bodyContains(elt)) {\n    // do not issue requests for elements removed from the DOM\n      maybeCall(resolve)\n      return promise\n    }\n    const target = etc.targetOverride || asElement(getTarget(elt))\n    if (target == null || target == DUMMY_ELT) {\n      triggerErrorEvent(elt, 'htmx:targetError', { target: getAttributeValue(elt, 'hx-target') })\n      maybeCall(reject)\n      return promise\n    }\n\n    let eltData = getInternalData(elt)\n    const submitter = eltData.lastButtonClicked\n\n    if (submitter) {\n      const buttonPath = getRawAttribute(submitter, 'formaction')\n      if (buttonPath != null) {\n        path = buttonPath\n      }\n\n      const buttonVerb = getRawAttribute(submitter, 'formmethod')\n      if (buttonVerb != null) {\n      // ignore buttons with formmethod=\"dialog\"\n        if (buttonVerb.toLowerCase() !== 'dialog') {\n          verb = (/** @type HttpVerb */(buttonVerb))\n        }\n      }\n    }\n\n    const confirmQuestion = getClosestAttributeValue(elt, 'hx-confirm')\n    // allow event-based confirmation w/ a callback\n    if (confirmed === undefined) {\n      const issueRequest = function(skipConfirmation) {\n        return issueAjaxRequest(verb, path, elt, event, etc, !!skipConfirmation)\n      }\n      const confirmDetails = { target, elt, path, verb, triggeringEvent: event, etc, issueRequest, question: confirmQuestion }\n      if (triggerEvent(elt, 'htmx:confirm', confirmDetails) === false) {\n        maybeCall(resolve)\n        return promise\n      }\n    }\n\n    let syncElt = elt\n    let syncStrategy = getClosestAttributeValue(elt, 'hx-sync')\n    let queueStrategy = null\n    let abortable = false\n    if (syncStrategy) {\n      const syncStrings = syncStrategy.split(':')\n      const selector = syncStrings[0].trim()\n      if (selector === 'this') {\n        syncElt = findThisElement(elt, 'hx-sync')\n      } else {\n        syncElt = asElement(querySelectorExt(elt, selector))\n      }\n      // default to the drop strategy\n      syncStrategy = (syncStrings[1] || 'drop').trim()\n      eltData = getInternalData(syncElt)\n      if (syncStrategy === 'drop' && eltData.xhr && eltData.abortable !== true) {\n        maybeCall(resolve)\n        return promise\n      } else if (syncStrategy === 'abort') {\n        if (eltData.xhr) {\n          maybeCall(resolve)\n          return promise\n        } else {\n          abortable = true\n        }\n      } else if (syncStrategy === 'replace') {\n        triggerEvent(syncElt, 'htmx:abort') // abort the current request and continue\n      } else if (syncStrategy.indexOf('queue') === 0) {\n        const queueStrArray = syncStrategy.split(' ')\n        queueStrategy = (queueStrArray[1] || 'last').trim()\n      }\n    }\n\n    if (eltData.xhr) {\n      if (eltData.abortable) {\n        triggerEvent(syncElt, 'htmx:abort') // abort the current request and continue\n      } else {\n        if (queueStrategy == null) {\n          if (event) {\n            const eventData = getInternalData(event)\n            if (eventData && eventData.triggerSpec && eventData.triggerSpec.queue) {\n              queueStrategy = eventData.triggerSpec.queue\n            }\n          }\n          if (queueStrategy == null) {\n            queueStrategy = 'last'\n          }\n        }\n        if (eltData.queuedRequests == null) {\n          eltData.queuedRequests = []\n        }\n        if (queueStrategy === 'first' && eltData.queuedRequests.length === 0) {\n          eltData.queuedRequests.push(function() {\n            issueAjaxRequest(verb, path, elt, event, etc)\n          })\n        } else if (queueStrategy === 'all') {\n          eltData.queuedRequests.push(function() {\n            issueAjaxRequest(verb, path, elt, event, etc)\n          })\n        } else if (queueStrategy === 'last') {\n          eltData.queuedRequests = [] // dump existing queue\n          eltData.queuedRequests.push(function() {\n            issueAjaxRequest(verb, path, elt, event, etc)\n          })\n        }\n        maybeCall(resolve)\n        return promise\n      }\n    }\n\n    const xhr = new XMLHttpRequest()\n    eltData.xhr = xhr\n    eltData.abortable = abortable\n    const endRequestLock = function() {\n      eltData.xhr = null\n      eltData.abortable = false\n      if (eltData.queuedRequests != null &&\n      eltData.queuedRequests.length > 0) {\n        const queuedRequest = eltData.queuedRequests.shift()\n        queuedRequest()\n      }\n    }\n    const promptQuestion = getClosestAttributeValue(elt, 'hx-prompt')\n    if (promptQuestion) {\n      var promptResponse = prompt(promptQuestion)\n      // prompt returns null if cancelled and empty string if accepted with no entry\n      if (promptResponse === null ||\n      !triggerEvent(elt, 'htmx:prompt', { prompt: promptResponse, target })) {\n        maybeCall(resolve)\n        endRequestLock()\n        return promise\n      }\n    }\n\n    if (confirmQuestion && !confirmed) {\n      if (!confirm(confirmQuestion)) {\n        maybeCall(resolve)\n        endRequestLock()\n        return promise\n      }\n    }\n\n    let headers = getHeaders(elt, target, promptResponse)\n\n    if (verb !== 'get' && !usesFormData(elt)) {\n      headers['Content-Type'] = 'application/x-www-form-urlencoded'\n    }\n\n    if (etc.headers) {\n      headers = mergeObjects(headers, etc.headers)\n    }\n    const results = getInputValues(elt, verb)\n    let errors = results.errors\n    const rawFormData = results.formData\n    if (etc.values) {\n      overrideFormData(rawFormData, formDataFromObject(etc.values))\n    }\n    const expressionVars = formDataFromObject(getExpressionVars(elt))\n    const allFormData = overrideFormData(rawFormData, expressionVars)\n    let filteredFormData = filterValues(allFormData, elt)\n\n    if (htmx.config.getCacheBusterParam && verb === 'get') {\n      filteredFormData.set('org.htmx.cache-buster', getRawAttribute(target, 'id') || 'true')\n    }\n\n    // behavior of anchors w/ empty href is to use the current URL\n    if (path == null || path === '') {\n      path = getDocument().location.href\n    }\n\n    /**\n     * @type {Object}\n     * @property {boolean} [credentials]\n     * @property {number} [timeout]\n     * @property {boolean} [noHeaders]\n     */\n    const requestAttrValues = getValuesForElement(elt, 'hx-request')\n\n    const eltIsBoosted = getInternalData(elt).boosted\n\n    let useUrlParams = htmx.config.methodsThatUseUrlParams.indexOf(verb) >= 0\n\n    /** @type HtmxRequestConfig */\n    const requestConfig = {\n      boosted: eltIsBoosted,\n      useUrlParams,\n      formData: filteredFormData,\n      parameters: formDataProxy(filteredFormData),\n      unfilteredFormData: allFormData,\n      unfilteredParameters: formDataProxy(allFormData),\n      headers,\n      target,\n      verb,\n      errors,\n      withCredentials: etc.credentials || requestAttrValues.credentials || htmx.config.withCredentials,\n      timeout: etc.timeout || requestAttrValues.timeout || htmx.config.timeout,\n      path,\n      triggeringEvent: event\n    }\n\n    if (!triggerEvent(elt, 'htmx:configRequest', requestConfig)) {\n      maybeCall(resolve)\n      endRequestLock()\n      return promise\n    }\n\n    // copy out in case the object was overwritten\n    path = requestConfig.path\n    verb = requestConfig.verb\n    headers = requestConfig.headers\n    filteredFormData = formDataFromObject(requestConfig.parameters)\n    errors = requestConfig.errors\n    useUrlParams = requestConfig.useUrlParams\n\n    if (errors && errors.length > 0) {\n      triggerEvent(elt, 'htmx:validation:halted', requestConfig)\n      maybeCall(resolve)\n      endRequestLock()\n      return promise\n    }\n\n    const splitPath = path.split('#')\n    const pathNoAnchor = splitPath[0]\n    const anchor = splitPath[1]\n\n    let finalPath = path\n    if (useUrlParams) {\n      finalPath = pathNoAnchor\n      const hasValues = !filteredFormData.keys().next().done\n      if (hasValues) {\n        if (finalPath.indexOf('?') < 0) {\n          finalPath += '?'\n        } else {\n          finalPath += '&'\n        }\n        finalPath += urlEncode(filteredFormData)\n        if (anchor) {\n          finalPath += '#' + anchor\n        }\n      }\n    }\n\n    if (!verifyPath(elt, finalPath, requestConfig)) {\n      triggerErrorEvent(elt, 'htmx:invalidPath', requestConfig)\n      maybeCall(reject)\n      return promise\n    }\n\n    xhr.open(verb.toUpperCase(), finalPath, true)\n    xhr.overrideMimeType('text/html')\n    xhr.withCredentials = requestConfig.withCredentials\n    xhr.timeout = requestConfig.timeout\n\n    // request headers\n    if (requestAttrValues.noHeaders) {\n    // ignore all headers\n    } else {\n      for (const header in headers) {\n        if (headers.hasOwnProperty(header)) {\n          const headerValue = headers[header]\n          safelySetHeaderValue(xhr, header, headerValue)\n        }\n      }\n    }\n\n    /** @type {HtmxResponseInfo} */\n    const responseInfo = {\n      xhr,\n      target,\n      requestConfig,\n      etc,\n      boosted: eltIsBoosted,\n      select,\n      pathInfo: {\n        requestPath: path,\n        finalRequestPath: finalPath,\n        responsePath: null,\n        anchor\n      }\n    }\n\n    xhr.onload = function() {\n      try {\n        const hierarchy = hierarchyForElt(elt)\n        responseInfo.pathInfo.responsePath = getPathFromResponse(xhr)\n        responseHandler(elt, responseInfo)\n        removeRequestIndicators(indicators, disableElts)\n        triggerEvent(elt, 'htmx:afterRequest', responseInfo)\n        triggerEvent(elt, 'htmx:afterOnLoad', responseInfo)\n        // if the body no longer contains the element, trigger the event on the closest parent\n        // remaining in the DOM\n        if (!bodyContains(elt)) {\n          let secondaryTriggerElt = null\n          while (hierarchy.length > 0 && secondaryTriggerElt == null) {\n            const parentEltInHierarchy = hierarchy.shift()\n            if (bodyContains(parentEltInHierarchy)) {\n              secondaryTriggerElt = parentEltInHierarchy\n            }\n          }\n          if (secondaryTriggerElt) {\n            triggerEvent(secondaryTriggerElt, 'htmx:afterRequest', responseInfo)\n            triggerEvent(secondaryTriggerElt, 'htmx:afterOnLoad', responseInfo)\n          }\n        }\n        maybeCall(resolve)\n        endRequestLock()\n      } catch (e) {\n        triggerErrorEvent(elt, 'htmx:onLoadError', mergeObjects({ error: e }, responseInfo))\n        throw e\n      }\n    }\n    xhr.onerror = function() {\n      removeRequestIndicators(indicators, disableElts)\n      triggerErrorEvent(elt, 'htmx:afterRequest', responseInfo)\n      triggerErrorEvent(elt, 'htmx:sendError', responseInfo)\n      maybeCall(reject)\n      endRequestLock()\n    }\n    xhr.onabort = function() {\n      removeRequestIndicators(indicators, disableElts)\n      triggerErrorEvent(elt, 'htmx:afterRequest', responseInfo)\n      triggerErrorEvent(elt, 'htmx:sendAbort', responseInfo)\n      maybeCall(reject)\n      endRequestLock()\n    }\n    xhr.ontimeout = function() {\n      removeRequestIndicators(indicators, disableElts)\n      triggerErrorEvent(elt, 'htmx:afterRequest', responseInfo)\n      triggerErrorEvent(elt, 'htmx:timeout', responseInfo)\n      maybeCall(reject)\n      endRequestLock()\n    }\n    if (!triggerEvent(elt, 'htmx:beforeRequest', responseInfo)) {\n      maybeCall(resolve)\n      endRequestLock()\n      return promise\n    }\n    var indicators = addRequestIndicatorClasses(elt)\n    var disableElts = disableElements(elt)\n\n    forEach(['loadstart', 'loadend', 'progress', 'abort'], function(eventName) {\n      forEach([xhr, xhr.upload], function(target) {\n        target.addEventListener(eventName, function(event) {\n          triggerEvent(elt, 'htmx:xhr:' + eventName, {\n            lengthComputable: event.lengthComputable,\n            loaded: event.loaded,\n            total: event.total\n          })\n        })\n      })\n    })\n    triggerEvent(elt, 'htmx:beforeSend', responseInfo)\n    const params = useUrlParams ? null : encodeParamsForBody(xhr, elt, filteredFormData)\n    xhr.send(params)\n    return promise\n  }\n\n  /**\n   * @typedef {Object} HtmxHistoryUpdate\n   * @property {string|null} [type]\n   * @property {string|null} [path]\n   */\n\n  /**\n   * @param {Element} elt\n   * @param {HtmxResponseInfo} responseInfo\n   * @return {HtmxHistoryUpdate}\n   */\n  function determineHistoryUpdates(elt, responseInfo) {\n    const xhr = responseInfo.xhr\n\n    //= ==========================================\n    // First consult response headers\n    //= ==========================================\n    let pathFromHeaders = null\n    let typeFromHeaders = null\n    if (hasHeader(xhr, /HX-Push:/i)) {\n      pathFromHeaders = xhr.getResponseHeader('HX-Push')\n      typeFromHeaders = 'push'\n    } else if (hasHeader(xhr, /HX-Push-Url:/i)) {\n      pathFromHeaders = xhr.getResponseHeader('HX-Push-Url')\n      typeFromHeaders = 'push'\n    } else if (hasHeader(xhr, /HX-Replace-Url:/i)) {\n      pathFromHeaders = xhr.getResponseHeader('HX-Replace-Url')\n      typeFromHeaders = 'replace'\n    }\n\n    // if there was a response header, that has priority\n    if (pathFromHeaders) {\n      if (pathFromHeaders === 'false') {\n        return {}\n      } else {\n        return {\n          type: typeFromHeaders,\n          path: pathFromHeaders\n        }\n      }\n    }\n\n    //= ==========================================\n    // Next resolve via DOM values\n    //= ==========================================\n    const requestPath = responseInfo.pathInfo.finalRequestPath\n    const responsePath = responseInfo.pathInfo.responsePath\n\n    const pushUrl = getClosestAttributeValue(elt, 'hx-push-url')\n    const replaceUrl = getClosestAttributeValue(elt, 'hx-replace-url')\n    const elementIsBoosted = getInternalData(elt).boosted\n\n    let saveType = null\n    let path = null\n\n    if (pushUrl) {\n      saveType = 'push'\n      path = pushUrl\n    } else if (replaceUrl) {\n      saveType = 'replace'\n      path = replaceUrl\n    } else if (elementIsBoosted) {\n      saveType = 'push'\n      path = responsePath || requestPath // if there is no response path, go with the original request path\n    }\n\n    if (path) {\n    // false indicates no push, return empty object\n      if (path === 'false') {\n        return {}\n      }\n\n      // true indicates we want to follow wherever the server ended up sending us\n      if (path === 'true') {\n        path = responsePath || requestPath // if there is no response path, go with the original request path\n      }\n\n      // restore any anchor associated with the request\n      if (responseInfo.pathInfo.anchor && path.indexOf('#') === -1) {\n        path = path + '#' + responseInfo.pathInfo.anchor\n      }\n\n      return {\n        type: saveType,\n        path\n      }\n    } else {\n      return {}\n    }\n  }\n\n  /**\n   * @param {HtmxResponseHandlingConfig} responseHandlingConfig\n   * @param {number} status\n   * @return {boolean}\n   */\n  function codeMatches(responseHandlingConfig, status) {\n    var regExp = new RegExp(responseHandlingConfig.code)\n    return regExp.test(status.toString(10))\n  }\n\n  /**\n   * @param {XMLHttpRequest} xhr\n   * @return {HtmxResponseHandlingConfig}\n   */\n  function resolveResponseHandling(xhr) {\n    for (var i = 0; i < htmx.config.responseHandling.length; i++) {\n      /** @type HtmxResponseHandlingConfig */\n      var responseHandlingElement = htmx.config.responseHandling[i]\n      if (codeMatches(responseHandlingElement, xhr.status)) {\n        return responseHandlingElement\n      }\n    }\n    // no matches, return no swap\n    return {\n      swap: false\n    }\n  }\n\n  /**\n   * @param {string} title\n   */\n  function handleTitle(title) {\n    if (title) {\n      const titleElt = find('title')\n      if (titleElt) {\n        titleElt.innerHTML = title\n      } else {\n        window.document.title = title\n      }\n    }\n  }\n\n  /**\n   * @param {Element} elt\n   * @param {HtmxResponseInfo} responseInfo\n   */\n  function handleAjaxResponse(elt, responseInfo) {\n    const xhr = responseInfo.xhr\n    let target = responseInfo.target\n    const etc = responseInfo.etc\n    const responseInfoSelect = responseInfo.select\n\n    if (!triggerEvent(elt, 'htmx:beforeOnLoad', responseInfo)) return\n\n    if (hasHeader(xhr, /HX-Trigger:/i)) {\n      handleTriggerHeader(xhr, 'HX-Trigger', elt)\n    }\n\n    if (hasHeader(xhr, /HX-Location:/i)) {\n      saveCurrentPageToHistory()\n      let redirectPath = xhr.getResponseHeader('HX-Location')\n      /** @type {HtmxAjaxHelperContext&{path:string}} */\n      var redirectSwapSpec\n      if (redirectPath.indexOf('{') === 0) {\n        redirectSwapSpec = parseJSON(redirectPath)\n        // what's the best way to throw an error if the user didn't include this\n        redirectPath = redirectSwapSpec.path\n        delete redirectSwapSpec.path\n      }\n      ajaxHelper('get', redirectPath, redirectSwapSpec).then(function() {\n        pushUrlIntoHistory(redirectPath)\n      })\n      return\n    }\n\n    const shouldRefresh = hasHeader(xhr, /HX-Refresh:/i) && xhr.getResponseHeader('HX-Refresh') === 'true'\n\n    if (hasHeader(xhr, /HX-Redirect:/i)) {\n      location.href = xhr.getResponseHeader('HX-Redirect')\n      shouldRefresh && location.reload()\n      return\n    }\n\n    if (shouldRefresh) {\n      location.reload()\n      return\n    }\n\n    if (hasHeader(xhr, /HX-Retarget:/i)) {\n      if (xhr.getResponseHeader('HX-Retarget') === 'this') {\n        responseInfo.target = elt\n      } else {\n        responseInfo.target = asElement(querySelectorExt(elt, xhr.getResponseHeader('HX-Retarget')))\n      }\n    }\n\n    const historyUpdate = determineHistoryUpdates(elt, responseInfo)\n\n    const responseHandling = resolveResponseHandling(xhr)\n    const shouldSwap = responseHandling.swap\n    let isError = !!responseHandling.error\n    let ignoreTitle = htmx.config.ignoreTitle || responseHandling.ignoreTitle\n    let selectOverride = responseHandling.select\n    if (responseHandling.target) {\n      responseInfo.target = asElement(querySelectorExt(elt, responseHandling.target))\n    }\n    var swapOverride = etc.swapOverride\n    if (swapOverride == null && responseHandling.swapOverride) {\n      swapOverride = responseHandling.swapOverride\n    }\n\n    // response headers override response handling config\n    if (hasHeader(xhr, /HX-Retarget:/i)) {\n      if (xhr.getResponseHeader('HX-Retarget') === 'this') {\n        responseInfo.target = elt\n      } else {\n        responseInfo.target = asElement(querySelectorExt(elt, xhr.getResponseHeader('HX-Retarget')))\n      }\n    }\n    if (hasHeader(xhr, /HX-Reswap:/i)) {\n      swapOverride = xhr.getResponseHeader('HX-Reswap')\n    }\n\n    var serverResponse = xhr.response\n    /** @type HtmxBeforeSwapDetails */\n    var beforeSwapDetails = mergeObjects({\n      shouldSwap,\n      serverResponse,\n      isError,\n      ignoreTitle,\n      selectOverride\n    }, responseInfo)\n\n    if (responseHandling.event && !triggerEvent(target, responseHandling.event, beforeSwapDetails)) return\n\n    if (!triggerEvent(target, 'htmx:beforeSwap', beforeSwapDetails)) return\n\n    target = beforeSwapDetails.target // allow re-targeting\n    serverResponse = beforeSwapDetails.serverResponse // allow updating content\n    isError = beforeSwapDetails.isError // allow updating error\n    ignoreTitle = beforeSwapDetails.ignoreTitle // allow updating ignoring title\n    selectOverride = beforeSwapDetails.selectOverride // allow updating select override\n\n    responseInfo.target = target // Make updated target available to response events\n    responseInfo.failed = isError // Make failed property available to response events\n    responseInfo.successful = !isError // Make successful property available to response events\n\n    if (beforeSwapDetails.shouldSwap) {\n      if (xhr.status === 286) {\n        cancelPolling(elt)\n      }\n\n      withExtensions(elt, function(extension) {\n        serverResponse = extension.transformResponse(serverResponse, xhr, elt)\n      })\n\n      // Save current page if there will be a history update\n      if (historyUpdate.type) {\n        saveCurrentPageToHistory()\n      }\n\n      if (hasHeader(xhr, /HX-Reswap:/i)) {\n        swapOverride = xhr.getResponseHeader('HX-Reswap')\n      }\n      var swapSpec = getSwapSpecification(elt, swapOverride)\n\n      if (!swapSpec.hasOwnProperty('ignoreTitle')) {\n        swapSpec.ignoreTitle = ignoreTitle\n      }\n\n      target.classList.add(htmx.config.swappingClass)\n\n      // optional transition API promise callbacks\n      let settleResolve = null\n      let settleReject = null\n\n      if (responseInfoSelect) {\n        selectOverride = responseInfoSelect\n      }\n\n      if (hasHeader(xhr, /HX-Reselect:/i)) {\n        selectOverride = xhr.getResponseHeader('HX-Reselect')\n      }\n\n      const selectOOB = getClosestAttributeValue(elt, 'hx-select-oob')\n      const select = getClosestAttributeValue(elt, 'hx-select')\n\n      let doSwap = function() {\n        try {\n          // if we need to save history, do so, before swapping so that relative resources have the correct base URL\n          if (historyUpdate.type) {\n            triggerEvent(getDocument().body, 'htmx:beforeHistoryUpdate', mergeObjects({ history: historyUpdate }, responseInfo))\n            if (historyUpdate.type === 'push') {\n              pushUrlIntoHistory(historyUpdate.path)\n              triggerEvent(getDocument().body, 'htmx:pushedIntoHistory', { path: historyUpdate.path })\n            } else {\n              replaceUrlInHistory(historyUpdate.path)\n              triggerEvent(getDocument().body, 'htmx:replacedInHistory', { path: historyUpdate.path })\n            }\n          }\n\n          swap(target, serverResponse, swapSpec, {\n            select: selectOverride || select,\n            selectOOB,\n            eventInfo: responseInfo,\n            anchor: responseInfo.pathInfo.anchor,\n            contextElement: elt,\n            afterSwapCallback: function() {\n              if (hasHeader(xhr, /HX-Trigger-After-Swap:/i)) {\n                let finalElt = elt\n                if (!bodyContains(elt)) {\n                  finalElt = getDocument().body\n                }\n                handleTriggerHeader(xhr, 'HX-Trigger-After-Swap', finalElt)\n              }\n            },\n            afterSettleCallback: function() {\n              if (hasHeader(xhr, /HX-Trigger-After-Settle:/i)) {\n                let finalElt = elt\n                if (!bodyContains(elt)) {\n                  finalElt = getDocument().body\n                }\n                handleTriggerHeader(xhr, 'HX-Trigger-After-Settle', finalElt)\n              }\n              maybeCall(settleResolve)\n            }\n          })\n        } catch (e) {\n          triggerErrorEvent(elt, 'htmx:swapError', responseInfo)\n          maybeCall(settleReject)\n          throw e\n        }\n      }\n\n      let shouldTransition = htmx.config.globalViewTransitions\n      if (swapSpec.hasOwnProperty('transition')) {\n        shouldTransition = swapSpec.transition\n      }\n\n      if (shouldTransition &&\n              triggerEvent(elt, 'htmx:beforeTransition', responseInfo) &&\n              typeof Promise !== 'undefined' &&\n              // @ts-ignore experimental feature atm\n              document.startViewTransition) {\n        const settlePromise = new Promise(function(_resolve, _reject) {\n          settleResolve = _resolve\n          settleReject = _reject\n        })\n        // wrap the original doSwap() in a call to startViewTransition()\n        const innerDoSwap = doSwap\n        doSwap = function() {\n          // @ts-ignore experimental feature atm\n          document.startViewTransition(function() {\n            innerDoSwap()\n            return settlePromise\n          })\n        }\n      }\n\n      if (swapSpec.swapDelay > 0) {\n        getWindow().setTimeout(doSwap, swapSpec.swapDelay)\n      } else {\n        doSwap()\n      }\n    }\n    if (isError) {\n      triggerErrorEvent(elt, 'htmx:responseError', mergeObjects({ error: 'Response Status Error Code ' + xhr.status + ' from ' + responseInfo.pathInfo.requestPath }, responseInfo))\n    }\n  }\n\n  //= ===================================================================\n  // Extensions API\n  //= ===================================================================\n\n  /** @type {Object<string, HtmxExtension>} */\n  const extensions = {}\n\n  /**\n   * extensionBase defines the default functions for all extensions.\n   * @returns {HtmxExtension}\n   */\n  function extensionBase() {\n    return {\n      init: function(api) { return null },\n      getSelectors: function() { return null },\n      onEvent: function(name, evt) { return true },\n      transformResponse: function(text, xhr, elt) { return text },\n      isInlineSwap: function(swapStyle) { return false },\n      handleSwap: function(swapStyle, target, fragment, settleInfo) { return false },\n      encodeParameters: function(xhr, parameters, elt) { return null }\n    }\n  }\n\n  /**\n   * defineExtension initializes the extension and adds it to the htmx registry\n   *\n   * @see https://htmx.org/api/#defineExtension\n   *\n   * @param {string} name the extension name\n   * @param {HtmxExtension} extension the extension definition\n   */\n  function defineExtension(name, extension) {\n    if (extension.init) {\n      extension.init(internalAPI)\n    }\n    extensions[name] = mergeObjects(extensionBase(), extension)\n  }\n\n  /**\n   * removeExtension removes an extension from the htmx registry\n   *\n   * @see https://htmx.org/api/#removeExtension\n   *\n   * @param {string} name\n   */\n  function removeExtension(name) {\n    delete extensions[name]\n  }\n\n  /**\n   * getExtensions searches up the DOM tree to return all extensions that can be applied to a given element\n   *\n   * @param {Element} elt\n   * @param {HtmxExtension[]=} extensionsToReturn\n   * @param {string[]=} extensionsToIgnore\n   * @returns {HtmxExtension[]}\n   */\n  function getExtensions(elt, extensionsToReturn, extensionsToIgnore) {\n    if (extensionsToReturn == undefined) {\n      extensionsToReturn = []\n    }\n    if (elt == undefined) {\n      return extensionsToReturn\n    }\n    if (extensionsToIgnore == undefined) {\n      extensionsToIgnore = []\n    }\n    const extensionsForElement = getAttributeValue(elt, 'hx-ext')\n    if (extensionsForElement) {\n      forEach(extensionsForElement.split(','), function(extensionName) {\n        extensionName = extensionName.replace(/ /g, '')\n        if (extensionName.slice(0, 7) == 'ignore:') {\n          extensionsToIgnore.push(extensionName.slice(7))\n          return\n        }\n        if (extensionsToIgnore.indexOf(extensionName) < 0) {\n          const extension = extensions[extensionName]\n          if (extension && extensionsToReturn.indexOf(extension) < 0) {\n            extensionsToReturn.push(extension)\n          }\n        }\n      })\n    }\n    return getExtensions(asElement(parentElt(elt)), extensionsToReturn, extensionsToIgnore)\n  }\n\n  //= ===================================================================\n  // Initialization\n  //= ===================================================================\n  var isReady = false\n  getDocument().addEventListener('DOMContentLoaded', function() {\n    isReady = true\n  })\n\n  /**\n   * Execute a function now if DOMContentLoaded has fired, otherwise listen for it.\n   *\n   * This function uses isReady because there is no reliable way to ask the browser whether\n   * the DOMContentLoaded event has already been fired; there's a gap between DOMContentLoaded\n   * firing and readystate=complete.\n   */\n  function ready(fn) {\n    // Checking readyState here is a failsafe in case the htmx script tag entered the DOM by\n    // some means other than the initial page load.\n    if (isReady || getDocument().readyState === 'complete') {\n      fn()\n    } else {\n      getDocument().addEventListener('DOMContentLoaded', fn)\n    }\n  }\n\n  function insertIndicatorStyles() {\n    if (htmx.config.includeIndicatorStyles !== false) {\n      const nonceAttribute = htmx.config.inlineStyleNonce ? ` nonce=\"${htmx.config.inlineStyleNonce}\"` : ''\n      getDocument().head.insertAdjacentHTML('beforeend',\n        '<style' + nonceAttribute + '>\\\n      .' + htmx.config.indicatorClass + '{opacity:0}\\\n      .' + htmx.config.requestClass + ' .' + htmx.config.indicatorClass + '{opacity:1; transition: opacity 200ms ease-in;}\\\n      .' + htmx.config.requestClass + '.' + htmx.config.indicatorClass + '{opacity:1; transition: opacity 200ms ease-in;}\\\n      </style>')\n    }\n  }\n\n  function getMetaConfig() {\n    /** @type HTMLMetaElement */\n    const element = getDocument().querySelector('meta[name=\"htmx-config\"]')\n    if (element) {\n      return parseJSON(element.content)\n    } else {\n      return null\n    }\n  }\n\n  function mergeMetaConfig() {\n    const metaConfig = getMetaConfig()\n    if (metaConfig) {\n      htmx.config = mergeObjects(htmx.config, metaConfig)\n    }\n  }\n\n  // initialize the document\n  ready(function() {\n    mergeMetaConfig()\n    insertIndicatorStyles()\n    let body = getDocument().body\n    processNode(body)\n    const restoredElts = getDocument().querySelectorAll(\n      \"[hx-trigger='restored'],[data-hx-trigger='restored']\"\n    )\n    body.addEventListener('htmx:abort', function(evt) {\n      const target = evt.target\n      const internalData = getInternalData(target)\n      if (internalData && internalData.xhr) {\n        internalData.xhr.abort()\n      }\n    })\n    /** @type {(ev: PopStateEvent) => any} */\n    const originalPopstate = window.onpopstate ? window.onpopstate.bind(window) : null\n    /** @type {(ev: PopStateEvent) => any} */\n    window.onpopstate = function(event) {\n      if (event.state && event.state.htmx) {\n        restoreHistory()\n        forEach(restoredElts, function(elt) {\n          triggerEvent(elt, 'htmx:restored', {\n            document: getDocument(),\n            triggerEvent\n          })\n        })\n      } else {\n        if (originalPopstate) {\n          originalPopstate(event)\n        }\n      }\n    }\n    getWindow().setTimeout(function() {\n      triggerEvent(body, 'htmx:load', {}) // give ready handlers a chance to load up before firing this event\n      body = null // kill reference for gc\n    }, 0)\n  })\n\n  return htmx\n})()\n\n/** @typedef {'get'|'head'|'post'|'put'|'delete'|'connect'|'options'|'trace'|'patch'} HttpVerb */\n\n/**\n * @typedef {Object} SwapOptions\n * @property {string} [select]\n * @property {string} [selectOOB]\n * @property {*} [eventInfo]\n * @property {string} [anchor]\n * @property {Element} [contextElement]\n * @property {swapCallback} [afterSwapCallback]\n * @property {swapCallback} [afterSettleCallback]\n */\n\n/**\n * @callback swapCallback\n */\n\n/**\n * @typedef {'innerHTML' | 'outerHTML' | 'beforebegin' | 'afterbegin' | 'beforeend' | 'afterend' | 'delete' | 'none' | string} HtmxSwapStyle\n */\n\n/**\n * @typedef HtmxSwapSpecification\n * @property {HtmxSwapStyle} swapStyle\n * @property {number} swapDelay\n * @property {number} settleDelay\n * @property {boolean} [transition]\n * @property {boolean} [ignoreTitle]\n * @property {string} [head]\n * @property {'top' | 'bottom'} [scroll]\n * @property {string} [scrollTarget]\n * @property {string} [show]\n * @property {string} [showTarget]\n * @property {boolean} [focusScroll]\n */\n\n/**\n * @typedef {((this:Node, evt:Event) => boolean) & {source: string}} ConditionalFunction\n */\n\n/**\n * @typedef {Object} HtmxTriggerSpecification\n * @property {string} trigger\n * @property {number} [pollInterval]\n * @property {ConditionalFunction} [eventFilter]\n * @property {boolean} [changed]\n * @property {boolean} [once]\n * @property {boolean} [consume]\n * @property {number} [delay]\n * @property {string} [from]\n * @property {string} [target]\n * @property {number} [throttle]\n * @property {string} [queue]\n * @property {string} [root]\n * @property {string} [threshold]\n */\n\n/**\n * @typedef {{elt: Element, message: string, validity: ValidityState}} HtmxElementValidationError\n */\n\n/**\n * @typedef {Record<string, string>} HtmxHeaderSpecification\n * @property {'true'} HX-Request\n * @property {string|null} HX-Trigger\n * @property {string|null} HX-Trigger-Name\n * @property {string|null} HX-Target\n * @property {string} HX-Current-URL\n * @property {string} [HX-Prompt]\n * @property {'true'} [HX-Boosted]\n * @property {string} [Content-Type]\n * @property {'true'} [HX-History-Restore-Request]\n */\n\n/** @typedef HtmxAjaxHelperContext\n * @property {Element|string} [source]\n * @property {Event} [event]\n * @property {HtmxAjaxHandler} [handler]\n * @property {Element|string} target\n * @property {HtmxSwapStyle} [swap]\n * @property {Object|FormData} [values]\n * @property {Record<string,string>} [headers]\n * @property {string} [select]\n */\n\n/**\n * @typedef {Object} HtmxRequestConfig\n * @property {boolean} boosted\n * @property {boolean} useUrlParams\n * @property {FormData} formData\n * @property {Object} parameters formData proxy\n * @property {FormData} unfilteredFormData\n * @property {Object} unfilteredParameters unfilteredFormData proxy\n * @property {HtmxHeaderSpecification} headers\n * @property {Element} target\n * @property {HttpVerb} verb\n * @property {HtmxElementValidationError[]} errors\n * @property {boolean} withCredentials\n * @property {number} timeout\n * @property {string} path\n * @property {Event} triggeringEvent\n */\n\n/**\n * @typedef {Object} HtmxResponseInfo\n * @property {XMLHttpRequest} xhr\n * @property {Element} target\n * @property {HtmxRequestConfig} requestConfig\n * @property {HtmxAjaxEtc} etc\n * @property {boolean} boosted\n * @property {string} select\n * @property {{requestPath: string, finalRequestPath: string, responsePath: string|null, anchor: string}} pathInfo\n * @property {boolean} [failed]\n * @property {boolean} [successful]\n */\n\n/**\n * @typedef {Object} HtmxAjaxEtc\n * @property {boolean} [returnPromise]\n * @property {HtmxAjaxHandler} [handler]\n * @property {string} [select]\n * @property {Element} [targetOverride]\n * @property {HtmxSwapStyle} [swapOverride]\n * @property {Record<string,string>} [headers]\n * @property {Object|FormData} [values]\n * @property {boolean} [credentials]\n * @property {number} [timeout]\n */\n\n/**\n * @typedef {Object} HtmxResponseHandlingConfig\n * @property {string} [code]\n * @property {boolean} swap\n * @property {boolean} [error]\n * @property {boolean} [ignoreTitle]\n * @property {string} [select]\n * @property {string} [target]\n * @property {string} [swapOverride]\n * @property {string} [event]\n */\n\n/**\n * @typedef {HtmxResponseInfo & {shouldSwap: boolean, serverResponse: any, isError: boolean, ignoreTitle: boolean, selectOverride:string}} HtmxBeforeSwapDetails\n */\n\n/**\n * @callback HtmxAjaxHandler\n * @param {Element} elt\n * @param {HtmxResponseInfo} responseInfo\n */\n\n/**\n * @typedef {(() => void)} HtmxSettleTask\n */\n\n/**\n * @typedef {Object} HtmxSettleInfo\n * @property {HtmxSettleTask[]} tasks\n * @property {Element[]} elts\n * @property {string} [title]\n */\n\n/**\n * @typedef {Object} HtmxExtension\n * @see https://htmx.org/extensions/#defining\n * @property {(api: any) => void} init\n * @property {(name: string, event: Event|CustomEvent) => boolean} onEvent\n * @property {(text: string, xhr: XMLHttpRequest, elt: Element) => string} transformResponse\n * @property {(swapStyle: HtmxSwapStyle) => boolean} isInlineSwap\n * @property {(swapStyle: HtmxSwapStyle, target: Element, fragment: Node, settleInfo: HtmxSettleInfo) => boolean} handleSwap\n * @property {(xhr: XMLHttpRequest, parameters: FormData, elt: Element) => *|string|null} encodeParameters\n */\nexport default htmx\n", "const pe = \"aria-checked\", fe = \"aria-description\", me = \"aria-describedby\", ge = \"aria-expanded\", ve = \"aria-haspopup\", Ee = \"aria-hidden\", be = \"aria-label\", he = \"aria-labelledby\", ye = \"aria-modal\", we = \"aria-pressed\", Ae = \"aria-selected\", Se = \"aria-valuemin\", Me = \"aria-valuemax\", Ne = \"aria-valuenow\", ke = \"aria-valuetext\", G = \"abort\", j = \"beforeunload\", J = \"blur\", K = \"change\", X = \"contextmenu\", P = \"DOMContentLoaded\", Y = \"DOMMouseScroll\", Z = \"error\", $ = \"focus\", _ = \"focusin\", tt = \"focusout\", et = \"gesturechange\", nt = \"gestureend\", ot = \"gesturestart\", st = \"keydown\", ct = \"keypress\", rt = \"keyup\", at = \"load\", it = \"click\", ut = \"dblclick\", lt = \"mousedown\", dt = \"mouseup\", pt = \"hover\", ft = \"mouseenter\", mt = \"mouseleave\", gt = \"mousein\", vt = \"mouseout\", Et = \"mouseover\", bt = \"mousemove\", ht = \"mousewheel\", yt = \"move\", wt = \"orientationchange\", At = \"pointercancel\", St = \"pointerdown\", Mt = \"pointerleave\", Nt = \"pointermove\", kt = \"pointerup\", Tt = \"readystatechange\", Dt = \"reset\", Ct = \"resize\", Lt = \"select\", Ot = \"selectend\", It = \"selectstart\", zt = \"scroll\", xt = \"submit\", Vt = \"touchstart\", Bt = \"touchmove\", Ht = \"touchcancel\", Pt = \"touchend\", Ut = \"unload\", Te = {\n  DOMContentLoaded: P,\n  DOMMouseScroll: Y,\n  abort: G,\n  beforeunload: j,\n  blur: J,\n  change: K,\n  click: it,\n  contextmenu: X,\n  dblclick: ut,\n  error: Z,\n  focus: $,\n  focusin: _,\n  focusout: tt,\n  gesturechange: et,\n  gestureend: nt,\n  gesturestart: ot,\n  hover: pt,\n  keydown: st,\n  keypress: ct,\n  keyup: rt,\n  load: at,\n  mousedown: lt,\n  mousemove: bt,\n  mousein: gt,\n  mouseout: vt,\n  mouseenter: ft,\n  mouseleave: mt,\n  mouseover: Et,\n  mouseup: dt,\n  mousewheel: ht,\n  move: yt,\n  orientationchange: wt,\n  pointercancel: At,\n  pointerdown: St,\n  pointerleave: Mt,\n  pointermove: Nt,\n  pointerup: kt,\n  readystatechange: Tt,\n  reset: Dt,\n  resize: Ct,\n  scroll: zt,\n  select: Lt,\n  selectend: Ot,\n  selectstart: It,\n  submit: xt,\n  touchcancel: Ht,\n  touchend: Pt,\n  touchmove: Bt,\n  touchstart: Vt,\n  unload: Ut\n}, De = \"drag\", Ce = \"dragstart\", Le = \"dragenter\", Oe = \"dragleave\", Ie = \"dragover\", ze = \"dragend\", xe = \"loadstart\", Ve = {\n  start: \"mousedown\",\n  end: \"mouseup\",\n  move: \"mousemove\",\n  cancel: \"mouseleave\"\n}, Be = { down: \"mousedown\", up: \"mouseup\" }, He = \"onmouseleave\" in document ? [\"mouseenter\", \"mouseleave\"] : (\n  /* istanbul ignore next */\n  [\"mouseover\", \"mouseout\"]\n), Pe = {\n  start: \"touchstart\",\n  end: \"touchend\",\n  move: \"touchmove\",\n  cancel: \"touchcancel\"\n}, Ue = { in: \"focusin\", out: \"focusout\" }, Fe = {\n  Backspace: \"Backspace\",\n  //  8\n  Tab: \"Tab\",\n  //  9\n  Enter: \"Enter\",\n  // 13\n  Shift: \"Shift\",\n  // 16\n  Control: \"Control\",\n  // 17\n  Alt: \"Alt\",\n  // 18\n  Pause: \"Pause\",\n  // 19\n  CapsLock: \"CapsLock\",\n  // 20\n  Escape: \"Escape\",\n  // 27\n  Scape: \"Space\",\n  // 32\n  ArrowLeft: \"ArrowLeft\",\n  // 37\n  ArrowUp: \"ArrowUp\",\n  // 38\n  ArrowRight: \"ArrowRight\",\n  // 39\n  ArrowDown: \"ArrowDown\",\n  // 40\n  Insert: \"Insert\",\n  // 45\n  Delete: \"Delete\",\n  // 46\n  Meta: \"Meta\",\n  // 91 windows key\n  ContextMenu: \"ContextMenu\",\n  // 93\n  ScrollLock: \"ScrollLock\"\n  // 145\n}, We = \"Alt\", Re = \"ArrowDown\", Qe = \"ArrowUp\", qe = \"ArrowLeft\", Ge = \"ArrowRight\", je = \"Backspace\", Je = \"CapsLock\", Ke = \"Control\", Xe = \"Delete\", Ye = \"Enter\", Ze = \"Escape\", $e = \"Insert\", _e = \"Meta\", tn = \"Pause\", en = \"ScrollLock\", nn = \"Shift\", on = \"Space\", sn = \"Tab\", Ft = \"animationDuration\", Wt = \"animationDelay\", U = \"animationName\", D = \"animationend\", Rt = \"transitionDuration\", Qt = \"transitionDelay\", C = \"transitionend\", F = \"transitionProperty\", cn = \"addEventListener\", rn = \"removeEventListener\", an = {\n  linear: \"linear\",\n  easingSinusoidalIn: \"cubic-bezier(0.47,0,0.745,0.715)\",\n  easingSinusoidalOut: \"cubic-bezier(0.39,0.575,0.565,1)\",\n  easingSinusoidalInOut: \"cubic-bezier(0.445,0.05,0.55,0.95)\",\n  easingQuadraticIn: \"cubic-bezier(0.550,0.085,0.680,0.530)\",\n  easingQuadraticOut: \"cubic-bezier(0.250,0.460,0.450,0.940)\",\n  easingQuadraticInOut: \"cubic-bezier(0.455,0.030,0.515,0.955)\",\n  easingCubicIn: \"cubic-bezier(0.55,0.055,0.675,0.19)\",\n  easingCubicOut: \"cubic-bezier(0.215,0.61,0.355,1)\",\n  easingCubicInOut: \"cubic-bezier(0.645,0.045,0.355,1)\",\n  easingQuarticIn: \"cubic-bezier(0.895,0.03,0.685,0.22)\",\n  easingQuarticOut: \"cubic-bezier(0.165,0.84,0.44,1)\",\n  easingQuarticInOut: \"cubic-bezier(0.77,0,0.175,1)\",\n  easingQuinticIn: \"cubic-bezier(0.755,0.05,0.855,0.06)\",\n  easingQuinticOut: \"cubic-bezier(0.23,1,0.32,1)\",\n  easingQuinticInOut: \"cubic-bezier(0.86,0,0.07,1)\",\n  easingExponentialIn: \"cubic-bezier(0.95,0.05,0.795,0.035)\",\n  easingExponentialOut: \"cubic-bezier(0.19,1,0.22,1)\",\n  easingExponentialInOut: \"cubic-bezier(1,0,0,1)\",\n  easingCircularIn: \"cubic-bezier(0.6,0.04,0.98,0.335)\",\n  easingCircularOut: \"cubic-bezier(0.075,0.82,0.165,1)\",\n  easingCircularInOut: \"cubic-bezier(0.785,0.135,0.15,0.86)\",\n  easingBackIn: \"cubic-bezier(0.6,-0.28,0.735,0.045)\",\n  easingBackOut: \"cubic-bezier(0.175,0.885,0.32,1.275)\",\n  easingBackInOut: \"cubic-bezier(0.68,-0.55,0.265,1.55)\"\n}, un = \"offsetHeight\", ln = \"offsetWidth\", dn = \"scrollHeight\", pn = \"scrollWidth\", fn = \"tabindex\", qt = navigator.userAgentData, A = qt, { userAgent: Gt } = navigator, S = Gt, z = /iPhone|iPad|iPod|Android/i;\nlet L = !1;\nA ? L = A.brands.some((t) => z.test(t.brand)) : L = z.test(S);\nconst mn = L, x = /(iPhone|iPod|iPad)/, gn = A ? A.brands.some((t) => x.test(t.brand)) : (\n  /* istanbul ignore next */\n  x.test(S)\n), vn = S ? S.includes(\"Firefox\") : (\n  /* istanbul ignore next */\n  !1\n), { head: M } = document, En = [\"webkitPerspective\", \"perspective\"].some((t) => t in M.style), jt = (t, e, n, o) => {\n  const s = o || !1;\n  t.addEventListener(e, n, s);\n}, Jt = (t, e, n, o) => {\n  const s = o || !1;\n  t.removeEventListener(e, n, s);\n}, Kt = (t, e, n, o) => {\n  const s = (r) => {\n    (r.target === t || r.currentTarget === t) && (n.apply(t, [r]), Jt(t, e, s, o));\n  };\n  jt(t, e, s, o);\n}, Xt = () => {\n}, bn = (() => {\n  let t = !1;\n  try {\n    const e = Object.defineProperty({}, \"passive\", {\n      get: () => (t = !0, t)\n    });\n    Kt(document, P, Xt, e);\n  } catch {\n  }\n  return t;\n})(), hn = [\"webkitTransform\", \"transform\"].some((t) => t in M.style), yn = \"ontouchstart\" in window || /* istanbul ignore next */\n\"msMaxTouchPoints\" in navigator, wn = [\"webkitAnimation\", \"animation\"].some((t) => t in M.style), An = [\"webkitTransition\", \"transition\"].some((t) => t in M.style), Yt = (t, e) => t.getAttribute(e), Sn = (t, e, n) => e.getAttributeNS(t, n), Mn = (t, e) => t.hasAttribute(e), Nn = (t, e, n) => e.hasAttributeNS(t, n), kn = (t, e, n) => t.setAttribute(e, n), Tn = (t, e, n, o) => e.setAttributeNS(t, n, o), Dn = (t, e) => t.removeAttribute(e), Cn = (t, e, n) => e.removeAttributeNS(t, n), Ln = (t, ...e) => {\n  t.classList.add(...e);\n}, On = (t, ...e) => {\n  t.classList.remove(...e);\n}, In = (t, e) => t.classList.contains(e), { body: zn } = document, { documentElement: xn } = document, Vn = (t) => Array.from(t), v = (t) => t != null && typeof t == \"object\" || !1, i = (t) => v(t) && typeof t.nodeType == \"number\" && [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].some((e) => t.nodeType === e) || !1, u = (t) => i(t) && t.nodeType === 1 || !1, E = /* @__PURE__ */ new Map(), O = {\n  data: E,\n  /**\n   * Sets web components data.\n   *\n   * @param element target element\n   * @param component the component's name or a unique key\n   * @param instance the component instance\n   */\n  set: (t, e, n) => {\n    if (!u(t))\n      return;\n    E.has(e) || E.set(e, /* @__PURE__ */ new Map()), E.get(e).set(t, n);\n  },\n  /**\n   * Returns all instances for specified component.\n   *\n   * @param component the component's name or a unique key\n   * @returns all the component instances\n   */\n  getAllFor: (t) => E.get(t) || null,\n  /**\n   * Returns the instance associated with the target.\n   *\n   * @param element target element\n   * @param component the component's name or a unique key\n   * @returns the instance\n   */\n  get: (t, e) => {\n    if (!u(t) || !e)\n      return null;\n    const n = O.getAllFor(e);\n    return t && n && n.get(t) || null;\n  },\n  /**\n   * Removes web components data.\n   *\n   * @param element target element\n   * @param component the component's name or a unique key\n   */\n  remove: (t, e) => {\n    const n = O.getAllFor(e);\n    !n || !u(t) || (n.delete(t), n.size === 0 && E.delete(e));\n  }\n}, Bn = (t, e) => O.get(t, e), N = (t) => typeof t == \"string\" || !1, W = (t) => v(t) && t.constructor.name === \"Window\" || !1, R = (t) => i(t) && t.nodeType === 9 || !1, d = (t) => W(t) ? t.document : R(t) ? t : i(t) ? t.ownerDocument : window.document, k = (t, ...e) => Object.assign(t, ...e), Zt = (t) => {\n  if (!t)\n    return;\n  if (N(t))\n    return d().createElement(t);\n  const { tagName: e } = t, n = Zt(e);\n  if (!n)\n    return;\n  const o = { ...t };\n  return delete o.tagName, k(n, o);\n}, $t = (t, e) => {\n  if (!t || !e)\n    return;\n  if (N(e))\n    return d().createElementNS(t, e);\n  const { tagName: n } = e, o = $t(t, n);\n  if (!o)\n    return;\n  const s = { ...e };\n  return delete s.tagName, k(o, s);\n}, Q = (t, e) => t.dispatchEvent(e), Hn = (t, e, n) => n.indexOf(t) === e, g = (t, e) => {\n  const n = getComputedStyle(t), o = e.replace(\"webkit\", \"Webkit\").replace(/([A-Z])/g, \"-$1\").toLowerCase();\n  return n.getPropertyValue(o);\n}, _t = (t) => {\n  const e = g(t, U), n = g(t, Wt), o = n.includes(\"ms\") ? (\n    /* istanbul ignore next */\n    1\n  ) : 1e3, s = e && e !== \"none\" ? parseFloat(n) * o : 0;\n  return Number.isNaN(s) ? (\n    /* istanbul ignore next */\n    0\n  ) : s;\n}, te = (t) => {\n  const e = g(t, U), n = g(t, Ft), o = n.includes(\"ms\") ? (\n    /* istanbul ignore next */\n    1\n  ) : 1e3, s = e && e !== \"none\" ? parseFloat(n) * o : 0;\n  return Number.isNaN(s) ? (\n    /* istanbul ignore next */\n    0\n  ) : s;\n}, Pn = (t, e) => {\n  let n = 0;\n  const o = new Event(D), s = te(t), r = _t(t);\n  if (s) {\n    const a = (l) => {\n      l.target === t && (e.apply(t, [l]), t.removeEventListener(D, a), n = 1);\n    };\n    t.addEventListener(D, a), setTimeout(() => {\n      n || Q(t, o);\n    }, s + r + 17);\n  } else\n    e.apply(t, [o]);\n}, ee = (t) => {\n  const e = g(t, F), n = g(t, Qt), o = n.includes(\"ms\") ? (\n    /* istanbul ignore next */\n    1\n  ) : 1e3, s = e && e !== \"none\" ? parseFloat(n) * o : (\n    /* istanbul ignore next */\n    0\n  );\n  return Number.isNaN(s) ? (\n    /* istanbul ignore next */\n    0\n  ) : s;\n}, ne = (t) => {\n  const e = g(t, F), n = g(t, Rt), o = n.includes(\"ms\") ? (\n    /* istanbul ignore next */\n    1\n  ) : 1e3, s = e && e !== \"none\" ? parseFloat(n) * o : (\n    /* istanbul ignore next */\n    0\n  );\n  return Number.isNaN(s) ? (\n    /* istanbul ignore next */\n    0\n  ) : s;\n}, Un = (t, e) => {\n  let n = 0;\n  const o = new Event(C), s = ne(t), r = ee(t);\n  if (s) {\n    const a = (l) => {\n      l.target === t && (e.apply(t, [l]), t.removeEventListener(C, a), n = 1);\n    };\n    t.addEventListener(C, a), setTimeout(() => {\n      n || Q(t, o);\n    }, s + r + 17);\n  } else\n    e.apply(t, [o]);\n}, Fn = (t) => Float32Array.from(Array.from(t)), Wn = (t) => Float64Array.from(Array.from(t)), Rn = (t, e) => t.focus(e), V = (t) => [\"true\", !0].includes(t) ? !0 : [\"false\", !1].includes(t) ? !1 : [\"null\", \"\", null, void 0].includes(t) ? null : t !== \"\" && !Number.isNaN(+t) ? +t : t, w = (t) => Object.entries(t), oe = (t) => t.toLowerCase(), Qn = (t, e, n, o) => {\n  const s = { ...n }, r = { ...t.dataset }, a = { ...e }, l = {}, p = \"title\";\n  return w(r).forEach(([c, f]) => {\n    const y = o && typeof c == \"string\" && c.includes(o) ? c.replace(o, \"\").replace(/[A-Z]/g, (q) => oe(q)) : c;\n    l[y] = V(f);\n  }), w(s).forEach(([c, f]) => {\n    s[c] = V(f);\n  }), w(e).forEach(([c, f]) => {\n    c in s ? a[c] = s[c] : c in l ? a[c] = l[c] : a[c] = c === p ? Yt(t, p) : f;\n  }), a;\n}, qn = (t, e) => v(t) && (Object.hasOwn(t, e) || e in t), Gn = (t) => Object.keys(t), jn = (t) => Object.values(t), Jn = (t, e) => {\n  const n = new CustomEvent(t, {\n    cancelable: !0,\n    bubbles: !0\n  });\n  return v(e) && k(n, e), n;\n}, Kn = { passive: !0 }, Xn = (t) => t.offsetHeight, Yn = (t, e) => {\n  w(e).forEach(([n, o]) => {\n    if (o && N(n) && n.includes(\"--\"))\n      t.style.setProperty(n, o);\n    else {\n      const s = {};\n      s[n] = o, k(t.style, s);\n    }\n  });\n}, I = (t) => v(t) && t.constructor.name === \"Map\" || !1, se = (t) => typeof t == \"number\" || !1, m = /* @__PURE__ */ new Map(), Zn = {\n  /**\n   * Sets a new timeout timer for an element, or element -> key association.\n   *\n   * @param element target element\n   * @param callback the callback\n   * @param delay the execution delay\n   * @param key a unique key\n   */\n  set: (t, e, n, o) => {\n    u(t) && (o && o.length ? (m.has(t) || m.set(t, /* @__PURE__ */ new Map()), m.get(t).set(o, setTimeout(e, n))) : m.set(t, setTimeout(e, n)));\n  },\n  /**\n   * Returns the timer associated with the target.\n   *\n   * @param element target element\n   * @param key a unique\n   * @returns the timer\n   */\n  get: (t, e) => {\n    if (!u(t))\n      return null;\n    const n = m.get(t);\n    return e && n && I(n) ? n.get(e) || /* istanbul ignore next */\n    null : se(n) ? n : null;\n  },\n  /**\n   * Clears the element's timer.\n   *\n   * @param element target element\n   * @param key a unique key\n   */\n  clear: (t, e) => {\n    if (!u(t))\n      return;\n    const n = m.get(t);\n    e && e.length && I(n) ? (clearTimeout(n.get(e)), n.delete(e), n.size === 0 && m.delete(t)) : (clearTimeout(n), m.delete(t));\n  }\n}, $n = (t) => t.toUpperCase(), h = (t, e) => {\n  const { width: n, height: o, top: s, right: r, bottom: a, left: l } = t.getBoundingClientRect();\n  let p = 1, c = 1;\n  if (e && u(t)) {\n    const { offsetWidth: f, offsetHeight: y } = t;\n    p = f > 0 ? Math.round(n) / f : (\n      /* istanbul ignore next */\n      1\n    ), c = y > 0 ? Math.round(o) / y : (\n      /* istanbul ignore next */\n      1\n    );\n  }\n  return {\n    width: n / p,\n    height: o / c,\n    top: s / c,\n    right: r / p,\n    bottom: a / c,\n    left: l / p,\n    x: l / p,\n    y: s / c\n  };\n}, _n = (t) => d(t).body, T = (t) => d(t).documentElement, to = (t) => d(t).head, eo = (t) => {\n  const e = W(t), n = e ? t.scrollX : t.scrollLeft, o = e ? t.scrollY : t.scrollTop;\n  return { x: n, y: o };\n}, ce = (t) => i(t) && t.constructor.name === \"ShadowRoot\" || !1, no = (t) => t.nodeName === \"HTML\" ? t : u(t) && t.assignedSlot || // step into the shadow DOM of the parent of a slotted node\ni(t) && t.parentNode || // DOM Element detected\nce(t) && t.host || // ShadowRoot detected\nT(t), re = (t) => {\n  if (!u(t))\n    return !1;\n  const { width: e, height: n } = h(t), { offsetWidth: o, offsetHeight: s } = t;\n  return Math.round(e) !== o || Math.round(n) !== s;\n}, oo = (t, e, n) => {\n  const o = u(e), s = h(t, o && re(e)), r = { x: 0, y: 0 };\n  if (o) {\n    const a = h(e, !0);\n    r.x = a.x + e.clientLeft, r.y = a.y + e.clientTop;\n  }\n  return {\n    x: s.left + n.x - r.x,\n    y: s.top + n.y - r.y,\n    width: s.width,\n    height: s.height\n  };\n};\nlet B = 0, H = 0;\nconst b = /* @__PURE__ */ new Map(), ae = (t, e) => {\n  let n = e ? B : H;\n  if (e) {\n    const o = ae(t), s = b.get(o) || /* @__PURE__ */ new Map();\n    b.has(o) || b.set(o, s), I(s) && !s.has(e) ? (s.set(e, n), B += 1) : n = s.get(e);\n  } else {\n    const o = t.id || t;\n    b.has(o) ? n = b.get(o) : (b.set(o, n), H += 1);\n  }\n  return n;\n}, so = (t) => {\n  var e;\n  return t ? R(t) ? t.defaultView : i(t) ? (e = t == null ? void 0 : t.ownerDocument) == null ? void 0 : e.defaultView : t : window;\n}, ie = (t) => Array.isArray(t) || !1, co = (t) => i(t) && t.nodeName === \"CANVAS\" || !1, ue = (t) => u(t) && !!t.shadowRoot || !1, ro = (t) => i(t) && [1, 2, 3, 4, 5, 6, 7, 8].some((e) => t.nodeType === e) || !1, ao = (t) => {\n  if (!i(t))\n    return !1;\n  const { top: e, bottom: n } = h(t), { clientHeight: o } = T(t);\n  return e <= o && n >= 0;\n}, io = (t) => {\n  if (!i(t))\n    return !1;\n  const { clientWidth: e, clientHeight: n } = T(t), { top: o, left: s, bottom: r, right: a } = h(t, !0);\n  return o >= 0 && s >= 0 && r <= n && a <= e;\n}, uo = (t) => ie(t) && t.every(u) || !1, lo = (t) => typeof t == \"function\" || !1, po = (t) => v(t) && t.constructor.name === \"HTMLCollection\" || !1, fo = (t) => u(t) && t.tagName === \"IMG\" || !1, mo = (t) => {\n  if (!N(t))\n    return !1;\n  try {\n    JSON.parse(t);\n  } catch {\n    return !1;\n  }\n  return !0;\n}, go = (t) => v(t) && t.constructor.name === \"WeakMap\" || !1, vo = (t) => i(t) && [\"SVG\", \"Image\", \"Video\", \"Canvas\"].some((e) => t.constructor.name.includes(e)) || !1, Eo = (t) => v(t) && t.constructor.name === \"NodeList\" || !1, bo = (t) => T(t).dir === \"rtl\", ho = (t) => i(t) && t.constructor.name.includes(\"SVG\") || !1, yo = (t) => i(t) && [\"TABLE\", \"TD\", \"TH\"].includes(t.nodeName) || !1, le = (t, e) => t ? t.closest(e) || // break out of `ShadowRoot`\nle(t.getRootNode().host, e) : null, wo = (t, e) => u(t) ? t : (i(e) ? e : d()).querySelector(t), de = (t, e) => (i(e) ? e : d()).getElementsByTagName(t), Ao = (t) => [...de(\"*\", t)].filter(ue), So = (t, e) => d(e).getElementById(t) || null, Mo = (t, e) => (i(e) ? e : d()).querySelectorAll(t), No = (t, e) => (e && i(e) ? e : d()).getElementsByClassName(\n  t\n), ko = (t, e) => t.matches(e), To = \"2.0.0alpha16\";\nexport {\n  Vn as ArrayFrom,\n  P as DOMContentLoadedEvent,\n  Y as DOMMouseScrollEvent,\n  O as Data,\n  Fn as Float32ArrayFrom,\n  Wn as Float64ArrayFrom,\n  k as ObjectAssign,\n  w as ObjectEntries,\n  qn as ObjectHasOwn,\n  Gn as ObjectKeys,\n  jn as ObjectValues,\n  Zn as Timer,\n  G as abortEvent,\n  Ln as addClass,\n  cn as addEventListener,\n  Wt as animationDelay,\n  Ft as animationDuration,\n  D as animationEndEvent,\n  U as animationName,\n  pe as ariaChecked,\n  me as ariaDescribedBy,\n  fe as ariaDescription,\n  ge as ariaExpanded,\n  ve as ariaHasPopup,\n  Ee as ariaHidden,\n  be as ariaLabel,\n  he as ariaLabelledBy,\n  ye as ariaModal,\n  we as ariaPressed,\n  Ae as ariaSelected,\n  Me as ariaValueMax,\n  Se as ariaValueMin,\n  Ne as ariaValueNow,\n  ke as ariaValueText,\n  j as beforeunloadEvent,\n  an as bezierEasings,\n  J as blurEvent,\n  K as changeEvent,\n  le as closest,\n  X as contextmenuEvent,\n  Jn as createCustomEvent,\n  Zt as createElement,\n  $t as createElementNS,\n  Q as dispatchEvent,\n  Hn as distinct,\n  zn as documentBody,\n  xn as documentElement,\n  M as documentHead,\n  De as dragEvent,\n  ze as dragendEvent,\n  Le as dragenterEvent,\n  Oe as dragleaveEvent,\n  Ie as dragoverEvent,\n  Ce as dragstartEvent,\n  Pn as emulateAnimationEnd,\n  Un as emulateTransitionEnd,\n  Z as errorEvent,\n  Rn as focus,\n  $ as focusEvent,\n  Ue as focusEvents,\n  _ as focusinEvent,\n  tt as focusoutEvent,\n  et as gesturechangeEvent,\n  nt as gestureendEvent,\n  ot as gesturestartEvent,\n  Yt as getAttribute,\n  Sn as getAttributeNS,\n  h as getBoundingClientRect,\n  Ao as getCustomElements,\n  d as getDocument,\n  _n as getDocumentBody,\n  T as getDocumentElement,\n  to as getDocumentHead,\n  _t as getElementAnimationDelay,\n  te as getElementAnimationDuration,\n  So as getElementById,\n  g as getElementStyle,\n  ee as getElementTransitionDelay,\n  ne as getElementTransitionDuration,\n  No as getElementsByClassName,\n  de as getElementsByTagName,\n  Bn as getInstance,\n  eo as getNodeScroll,\n  no as getParentNode,\n  oo as getRectRelativeToOffsetParent,\n  ae as getUID,\n  so as getWindow,\n  Mn as hasAttribute,\n  Nn as hasAttributeNS,\n  In as hasClass,\n  gn as isApple,\n  ie as isArray,\n  co as isCanvas,\n  ue as isCustomElement,\n  R as isDocument,\n  ro as isElement,\n  ao as isElementInScrollRange,\n  io as isElementInViewport,\n  uo as isElementsArray,\n  vn as isFirefox,\n  lo as isFunction,\n  po as isHTMLCollection,\n  u as isHTMLElement,\n  fo as isHTMLImageElement,\n  mo as isJSON,\n  I as isMap,\n  vo as isMedia,\n  mn as isMobile,\n  i as isNode,\n  Eo as isNodeList,\n  se as isNumber,\n  v as isObject,\n  bo as isRTL,\n  ho as isSVGElement,\n  re as isScaledElement,\n  ce as isShadowRoot,\n  N as isString,\n  yo as isTableElement,\n  go as isWeakMap,\n  W as isWindow,\n  We as keyAlt,\n  Re as keyArrowDown,\n  qe as keyArrowLeft,\n  Ge as keyArrowRight,\n  Qe as keyArrowUp,\n  je as keyBackspace,\n  Je as keyCapsLock,\n  Ke as keyControl,\n  Xe as keyDelete,\n  Ye as keyEnter,\n  Ze as keyEscape,\n  $e as keyInsert,\n  _e as keyMeta,\n  tn as keyPause,\n  en as keyScrollLock,\n  nn as keyShift,\n  on as keySpace,\n  sn as keyTab,\n  Fe as keyboardEventKeys,\n  st as keydownEvent,\n  ct as keypressEvent,\n  rt as keyupEvent,\n  at as loadEvent,\n  xe as loadstartEvent,\n  ko as matches,\n  Be as mouseClickEvents,\n  He as mouseHoverEvents,\n  Ve as mouseSwipeEvents,\n  it as mouseclickEvent,\n  ut as mousedblclickEvent,\n  lt as mousedownEvent,\n  ft as mouseenterEvent,\n  pt as mousehoverEvent,\n  gt as mouseinEvent,\n  mt as mouseleaveEvent,\n  bt as mousemoveEvent,\n  vt as mouseoutEvent,\n  Et as mouseoverEvent,\n  dt as mouseupEvent,\n  ht as mousewheelEvent,\n  yt as moveEvent,\n  Te as nativeEvents,\n  Xt as noop,\n  Qn as normalizeOptions,\n  V as normalizeValue,\n  Jt as off,\n  un as offsetHeight,\n  ln as offsetWidth,\n  jt as on,\n  Kt as one,\n  wt as orientationchangeEvent,\n  Kn as passiveHandler,\n  At as pointercancelEvent,\n  St as pointerdownEvent,\n  Mt as pointerleaveEvent,\n  Nt as pointermoveEvent,\n  kt as pointerupEvent,\n  wo as querySelector,\n  Mo as querySelectorAll,\n  Tt as readystatechangeEvent,\n  Xn as reflow,\n  Dn as removeAttribute,\n  Cn as removeAttributeNS,\n  On as removeClass,\n  rn as removeEventListener,\n  Dt as resetEvent,\n  Ct as resizeEvent,\n  zt as scrollEvent,\n  dn as scrollHeight,\n  pn as scrollWidth,\n  Lt as selectEvent,\n  Ot as selectendEvent,\n  It as selectstartEvent,\n  kn as setAttribute,\n  Tn as setAttributeNS,\n  Yn as setElementStyle,\n  xt as submitEvent,\n  En as support3DTransform,\n  wn as supportAnimation,\n  bn as supportPassive,\n  yn as supportTouch,\n  hn as supportTransform,\n  An as supportTransition,\n  fn as tabindex,\n  oe as toLowerCase,\n  $n as toUpperCase,\n  Pe as touchEvents,\n  Ht as touchcancelEvent,\n  Pt as touchendEvent,\n  Bt as touchmoveEvent,\n  Vt as touchstartEvent,\n  Qt as transitionDelay,\n  Rt as transitionDuration,\n  C as transitionEndEvent,\n  F as transitionProperty,\n  Ut as unloadEvent,\n  S as userAgent,\n  A as userAgentData,\n  To as version\n};\n//# sourceMappingURL=shorty.mjs.map\n", "const e = {}, f = (t) => {\n  const { type: c, currentTarget: i } = t;\n  [...e[c]].forEach(([n, s]) => {\n    i === n && [...s].forEach(([o, a]) => {\n      o.apply(n, [t]), typeof a == \"object\" && a.once && r(n, c, o, a);\n    });\n  });\n}, E = (t, c, i, n) => {\n  e[c] || (e[c] = /* @__PURE__ */ new Map());\n  const s = e[c];\n  s.has(t) || s.set(t, /* @__PURE__ */ new Map());\n  const o = s.get(t), { size: a } = o;\n  o.set(i, n), a || t.addEventListener(c, f, n);\n}, r = (t, c, i, n) => {\n  const s = e[c], o = s && s.get(t), a = o && o.get(i), d = a !== void 0 ? a : n;\n  o && o.has(i) && o.delete(i), s && (!o || !o.size) && s.delete(t), (!s || !s.size) && delete e[c], (!o || !o.size) && t.removeEventListener(c, f, d);\n}, g = E, M = r;\nexport {\n  E as addListener,\n  f as globalListener,\n  M as off,\n  g as on,\n  e as registry,\n  r as removeListener\n};\n//# sourceMappingURL=event-listener.mjs.map\n", "/**\n * Global namespace for most components `fade` class.\n */\nconst fadeClass = 'fade';\nexport default fadeClass;\n", "/**\n * Global namespace for most components `show` class.\n */\nconst showClass = 'show';\nexport default showClass;\n", "/**\n * Global namespace for most components `dismiss` option.\n */\nconst dataBsDismiss = 'data-bs-dismiss';\nexport default dataBsDismiss;\n", "/** @type {string} */\nconst alertString = 'alert';\nexport default alertString;\n", "/** @type {string} */\nconst alertComponent = 'Alert';\nexport default alertComponent;\n", "import { version } from '../package.json';\n\nconst Version = version;\n\nexport default Version;\n", "/* Native JavaScript for Bootstrap 5 | Base Component\n----------------------------------------------------- */\nimport { querySelector, normalizeOptions, Data, ObjectKeys, isString } from '@thednp/shorty';\n\nimport type { BaseOptions } from '../interface/baseComponent';\nimport Version from '../version';\n\n/** Returns a new `BaseComponent` instance. */\nexport default class BaseComponent {\n  declare element: HTMLElement;\n  declare options?: BaseOptions;\n\n  /**\n   * @param target `HTMLElement` or selector string\n   * @param config component instance options\n   */\n  constructor(target: HTMLElement | string, config?: BaseOptions) {\n    const element = querySelector(target);\n\n    if (!element) {\n      if (isString(target)) {\n        throw Error(`${this.name} Error: \"${target}\" is not a valid selector.`);\n      } else {\n        throw Error(`${this.name} Error: your target is not an instance of HTMLElement.`);\n      }\n    }\n\n    const prevInstance = Data.get<typeof this>(element, this.name);\n    /* istanbul ignore else */\n    if (prevInstance) {\n      prevInstance.dispose();\n    }\n\n    this.element = element;\n    this.options =\n      this.defaults && ObjectKeys(this.defaults).length\n        ? normalizeOptions(element, this.defaults, config || {}, 'bs')\n        : {};\n\n    Data.set(element, this.name, this);\n  }\n\n  /* istanbul ignore next */\n  get version() {\n    return Version;\n  }\n\n  /* istanbul ignore next */\n  get name() {\n    return 'BaseComponent';\n  }\n\n  /* istanbul ignore next */\n  get defaults() {\n    return {};\n  }\n\n  /** Removes component from target element. */\n  dispose() {\n    Data.remove(this.element, this.name);\n    ObjectKeys(this).forEach(prop => {\n      delete this[prop];\n    });\n  }\n}\n", "/* Native JavaScript for Bootstrap 5 | Alert\n-------------------------------------------- */\nimport {\n  emulateTransitionEnd,\n  mouseclickEvent,\n  getInstance,\n  querySelector,\n  hasClass,\n  removeClass,\n  dispatchEvent,\n  createCustomEvent,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport fadeClass from '../strings/fadeClass';\nimport showClass from '../strings/showClass';\nimport dataBsDismiss from '../strings/dataBsDismiss';\nimport alertString from '../strings/alertString';\nimport alertComponent from '../strings/alertComponent';\nimport type { AlertEvent } from '../interface/alert';\n\nimport BaseComponent from './base-component';\n\n// ALERT PRIVATE GC\n// ================\nconst alertSelector = `.${alertString}`;\nconst alertDismissSelector = `[${dataBsDismiss}=\"${alertString}\"]`;\n\n/**\n * Static method which returns an existing `Alert` instance associated\n * to a target `Element`.\n *\n */\nconst getAlertInstance = (element: HTMLElement) => getInstance<Alert>(element, alertComponent);\n\n/**\n * An `Alert` initialization callback.\n */\nconst alertInitCallback = <T>(element: HTMLElement) => new Alert(element) as T;\n\n// ALERT CUSTOM EVENTS\n// ===================\nconst closeAlertEvent = createCustomEvent<AlertEvent>(`close.bs.${alertString}`);\nconst closedAlertEvent = createCustomEvent<AlertEvent>(`closed.bs.${alertString}`);\n\n// ALERT EVENT HANDLER\n// ===================\n/**\n * Alert `transitionend` callback.\n *\n * @param that target Alert instance\n */\nconst alertTransitionEnd = (that: Alert) => {\n  const { element } = that;\n  toggleAlertHandler(that);\n\n  dispatchEvent(element, closedAlertEvent);\n\n  that.dispose();\n  element.remove();\n};\n\n// ALERT PRIVATE METHOD\n// ====================\n/**\n * Toggle on / off the `click` event listener.\n *\n * @param that the target alert instance\n * @param add when `true`, event listener is added\n */\nconst toggleAlertHandler = (that: Alert, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { dismiss, close } = that;\n  /* istanbul ignore else */\n  if (dismiss) action(dismiss, mouseclickEvent, close);\n};\n\n// ALERT DEFINITION\n// ================\n/** Creates a new Alert instance. */\nexport default class Alert extends BaseComponent {\n  static selector = alertSelector;\n  static init = alertInitCallback;\n  static getInstance = getAlertInstance;\n  dismiss: HTMLElement | null;\n\n  constructor(target: HTMLElement | string) {\n    super(target);\n\n    // the dismiss button\n    this.dismiss = querySelector(alertDismissSelector, this.element);\n\n    // add event listener\n    toggleAlertHandler(this, true);\n  }\n\n  /** Returns component name string. */\n  get name() {\n    return alertComponent;\n  }\n\n  // ALERT PUBLIC METHODS\n  // ====================\n  /**\n   * Public method that hides the `.alert` element from the user,\n   * disposes the instance once animation is complete, then\n   * removes the element from the DOM.\n   */\n  close = () => {\n    const { element } = this;\n\n    /* istanbul ignore else */\n    if (element && hasClass(element, showClass)) {\n      dispatchEvent(element, closeAlertEvent);\n\n      if (!closeAlertEvent.defaultPrevented) {\n        removeClass(element, showClass);\n\n        if (hasClass(element, fadeClass)) {\n          emulateTransitionEnd(element, () => alertTransitionEnd(this));\n        } else alertTransitionEnd(this);\n      }\n    }\n  };\n\n  /** Remove the component from target element. */\n  dispose() {\n    toggleAlertHandler(this);\n    super.dispose();\n  }\n}\n", "/**\n * Global namespace for most components active class.\n */\nconst activeClass = 'active';\nexport default activeClass;\n", "/**\n * Global namespace for most components `toggle` option.\n */\nconst dataBsToggle = 'data-bs-toggle';\nexport default dataBsToggle;\n", "/** @type {string} */\nconst buttonString = 'button';\nexport default buttonString;\n", "/** @type {string} */\nconst buttonComponent = 'Button';\nexport default buttonComponent;\n", "/* Native JavaScript for Bootstrap 5 | Button\n---------------------------------------------*/\nimport {\n  getInstance,\n  removeClass,\n  hasClass,\n  addClass,\n  setAttribute,\n  mouseclickEvent,\n  ariaPressed,\n  getAttribute,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport activeClass from '../strings/activeClass';\nimport dataBsToggle from '../strings/dataBsToggle';\nimport buttonString from '../strings/buttonString';\nimport buttonComponent from '../strings/buttonComponent';\n\nimport BaseComponent from './base-component';\n\n// BUTTON PRIVATE GC\n// =================\nconst buttonSelector = `[${dataBsToggle}=\"${buttonString}\"]`;\n\n/**\n * Static method which returns an existing `Button` instance associated\n * to a target `Element`.\n */\nconst getButtonInstance = (element: HTMLElement) => getInstance<Button>(element, buttonComponent);\n\n/** A `Button` initialization callback. */\nconst buttonInitCallback = (element: HTMLElement) => new Button(element);\n\n// BUTTON PRIVATE METHOD\n// =====================\n/**\n * Toggles on/off the `click` event listener.\n *\n * @param self the `Button` instance\n * @param add when `true`, event listener is added\n */\nconst toggleButtonHandler = (self: Button, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  action(self.element, mouseclickEvent, self.toggle);\n};\n\n// BUTTON DEFINITION\n// =================\n/** Creates a new `Button` instance. */\nexport default class Button extends BaseComponent {\n  static selector = buttonSelector;\n  static init = buttonInitCallback;\n  static getInstance = getButtonInstance;\n\n  isActive = false;\n\n  /**\n   * @param target usually a `.btn` element\n   */\n  constructor(target: HTMLElement | string) {\n    super(target);\n\n    // initialization element\n    const { element } = this;\n\n    // set initial state\n    this.isActive = hasClass(element, activeClass);\n    setAttribute(element, ariaPressed, String(!!this.isActive));\n\n    // add event listener\n    toggleButtonHandler(this, true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return buttonComponent;\n  }\n\n  // BUTTON PUBLIC METHODS\n  // =====================\n  /**\n   * Toggles the state of the target button.\n   *\n   * @param e usually `click` Event object\n   */\n  toggle = (e: Event) => {\n    if (e) e.preventDefault();\n\n    const { element, isActive } = this;\n    if (!hasClass(element, 'disabled') && !getAttribute(element, 'disabled')) {\n      const action = isActive ? removeClass : addClass;\n      action(element, activeClass);\n      setAttribute(element, ariaPressed, isActive ? 'false' : 'true');\n      this.isActive = hasClass(element, activeClass);\n    }\n  };\n\n  /** Removes the `Button` component from the target element. */\n  dispose() {\n    toggleButtonHandler(this);\n    super.dispose();\n  }\n}\n", "/**\n * Global namespace for most components `target` option.\n */\nconst dataBsTarget = 'data-bs-target';\nexport default dataBsTarget;\n", "/** @type {string} */\nconst carouselString = 'carousel';\nexport default carouselString;\n", "/** @type {string} */\nconst carouselComponent = 'Carousel';\nexport default carouselComponent;\n", "/**\n * Global namespace for most components `parent` option.\n */\nconst dataBsParent = 'data-bs-parent';\nexport default dataBsParent;\n", "/**\n * Global namespace for most components `container` option.\n */\nconst dataBsContainer = 'data-bs-container';\nexport default dataBsContainer;\n", "import { getDocument, getAttribute, closest, querySelector } from '@thednp/shorty';\n\nimport dataBsTarget from '../strings/dataBsTarget';\nimport dataBsParent from '../strings/dataBsParent';\nimport dataBsContainer from '../strings/dataBsContainer';\n\n/**\n * Returns the `Element` that THIS one targets\n * via `data-bs-target`, `href`, `data-bs-parent` or `data-bs-container`.\n *\n * @param element the target element\n * @returns the query result\n */\nconst getTargetElement = (element: HTMLElement) => {\n  const targetAttr = [dataBsTarget, dataBsParent, dataBsContainer, 'href'];\n  const doc = getDocument(element);\n\n  return targetAttr\n    .map(att => {\n      const attValue = getAttribute(element, att);\n      if (attValue) {\n        return att === dataBsParent ? closest(element, attValue) : querySelector(attValue, doc);\n      }\n      return null;\n    })\n    .filter(x => x)[0];\n};\n\nexport default getTargetElement;\n", "/* Native JavaScript for Bootstrap 5 | Carousel\n----------------------------------------------- */\nimport {\n  createCustomEvent,\n  getInstance,\n  dispatchEvent,\n  ObjectAssign,\n  emulateTransitionEnd,\n  passiveHandler,\n  reflow,\n  Timer,\n  getAttribute,\n  getElementsByClassName,\n  querySelectorAll,\n  querySelector,\n  closest,\n  isHTMLElement,\n  isRTL,\n  isElementInScrollRange,\n  getElementTransitionDuration,\n  getDocument,\n  pointerupEvent,\n  pointermoveEvent,\n  pointerdownEvent,\n  keyArrowRight,\n  keyArrowLeft,\n  keydownEvent,\n  mouseclickEvent,\n  mouseleaveEvent,\n  mouseenterEvent,\n  touchstartEvent,\n  dragstartEvent,\n  addClass,\n  hasClass,\n  removeClass,\n  matches,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport activeClass from '../strings/activeClass';\nimport dataBsTarget from '../strings/dataBsTarget';\nimport carouselString from '../strings/carouselString';\nimport carouselComponent from '../strings/carouselComponent';\nimport getTargetElement from '../util/getTargetElement';\nimport BaseComponent from './base-component';\nimport type { CarouselEvent, CarouselOptions } from '../interface/carousel';\n\n// CAROUSEL PRIVATE GC\n// ===================\nconst carouselSelector = `[data-bs-ride=\"${carouselString}\"]`;\nconst carouselItem = `${carouselString}-item`;\nconst dataBsSlideTo = 'data-bs-slide-to';\nconst dataBsSlide = 'data-bs-slide';\nconst pausedClass = 'paused';\n\nconst carouselDefaults: CarouselOptions = {\n  pause: 'hover',\n  keyboard: false,\n  touch: true,\n  interval: 5000,\n};\n\n/**\n * Static method which returns an existing `Carousel` instance associated\n * to a target `Element`.\n */\nconst getCarouselInstance = (element: HTMLElement) => getInstance<Carousel>(element, carouselComponent);\n\n/**\n * A `Carousel` initialization callback.\n */\nconst carouselInitCallback = (element: HTMLElement) => new Carousel(element);\n\nlet startX = 0;\nlet currentX = 0;\nlet endX = 0;\n\n// CAROUSEL CUSTOM EVENTS\n// ======================\nconst carouselSlideEvent = createCustomEvent<CarouselEvent>(`slide.bs.${carouselString}`);\nconst carouselSlidEvent = createCustomEvent<CarouselEvent>(`slid.bs.${carouselString}`);\n\n// CAROUSEL EVENT HANDLERS\n// =======================\n/**\n * The `transitionend` event listener of the `Carousel`.\n *\n * @param self the `Carousel` instance\n */\nconst carouselTransitionEndHandler = (self: Carousel) => {\n  const { index, direction, element, slides, options } = self;\n\n  /* istanbul ignore else */\n  if (self.isAnimating) {\n    const activeItem = getActiveIndex(self);\n    const orientation = direction === 'left' ? 'next' : 'prev';\n    const directionClass = direction === 'left' ? 'start' : 'end';\n\n    addClass(slides[index], activeClass);\n    removeClass(slides[index], `${carouselItem}-${orientation}`);\n    removeClass(slides[index], `${carouselItem}-${directionClass}`);\n\n    removeClass(slides[activeItem], activeClass);\n    removeClass(slides[activeItem], `${carouselItem}-${directionClass}`);\n\n    dispatchEvent(element, carouselSlidEvent);\n    Timer.clear(element, dataBsSlide);\n\n    // must check if a previous instance is disposed\n    if (self.cycle && !getDocument(element).hidden && options.interval && !self.isPaused) {\n      self.cycle();\n    }\n  }\n};\n\n/**\n * Handles the `mouseenter` events when *options.pause*\n * is set to `hover`.\n */\nfunction carouselPauseHandler(this: HTMLElement) {\n  // const element = this;\n  const self = getCarouselInstance(this);\n  /* istanbul ignore else */\n  if (self && !self.isPaused && !Timer.get(this, pausedClass)) {\n    addClass(this, pausedClass);\n  }\n}\n\n/**\n * Handles the `mouseleave` events when *options.pause*\n * is set to `hover`.\n *\n */\nfunction carouselResumeHandler(this: HTMLElement) {\n  // const element = this;\n  const self = getCarouselInstance(this);\n  /* istanbul ignore else */\n  if (self && self.isPaused && !Timer.get(this, pausedClass)) {\n    self.cycle();\n  }\n}\n\n/**\n * Handles the `click` event for the `Carousel` indicators.\n *\n * @param e the `Event` object\n */\nfunction carouselIndicatorHandler(this: HTMLElement, e: MouseEvent) {\n  e.preventDefault();\n  // const indicator = this;\n  const element = (closest(this, carouselSelector) || getTargetElement(this)) as HTMLElement;\n  const self = getCarouselInstance(element);\n\n  if (self && !self.isAnimating) {\n    const newIndex = +(getAttribute(this, dataBsSlideTo) || /* istanbul ignore next */ 0);\n\n    if (\n      this &&\n      !hasClass(this, activeClass) && // event target is not active\n      !Number.isNaN(newIndex)\n    ) {\n      // AND has the specific attribute\n      self.to(newIndex); // do the slide\n    }\n  }\n}\n\n/**\n * Handles the `click` event for the `Carousel` arrows.\n *\n * @param e the `Event` object\n */\nfunction carouselControlsHandler(this: HTMLElement, e: MouseEvent) {\n  e.preventDefault();\n  const element = closest(this, carouselSelector) || (getTargetElement(this) as HTMLElement);\n  const self = getCarouselInstance(element);\n\n  if (self && !self.isAnimating) {\n    const orientation = getAttribute(this, dataBsSlide);\n\n    /* istanbul ignore else */\n    if (orientation === 'next') {\n      self.next();\n    } else if (orientation === 'prev') {\n      self.prev();\n    }\n  }\n}\n\n/**\n * Handles the keyboard `keydown` event for the visible `Carousel` elements.\n *\n * @param e the `Event` object\n */\nconst carouselKeyHandler = ({ code, target }: KeyboardEvent & { target: Node }) => {\n  const doc = getDocument(target);\n  const [element] = [...querySelectorAll(carouselSelector, doc)].filter(x => isElementInScrollRange(x));\n  const self = getCarouselInstance(element);\n\n  /* istanbul ignore next */\n  if (self && !self.isAnimating && !/textarea|input/i.test(target.nodeName)) {\n    const RTL = isRTL(element);\n    const arrowKeyNext = !RTL ? keyArrowRight : keyArrowLeft;\n    const arrowKeyPrev = !RTL ? keyArrowLeft : keyArrowRight;\n\n    /* istanbul ignore else */\n    if (code === arrowKeyPrev) self.prev();\n    else if (code === arrowKeyNext) self.next();\n  }\n};\n\n// CAROUSEL TOUCH HANDLERS\n// =======================\n/**\n * Prevents the `touchstart` and `dragstart` events for the `Carousel` element.\n *\n * @param e the `Event` object\n */\nfunction carouselDragHandler(this: HTMLElement, e: DragEvent | TouchEvent) {\n  const { target } = e;\n  const self = getCarouselInstance(this);\n\n  /* istanbul ignore next */\n  if (\n    self &&\n    self.isTouch &&\n    ((self.indicator && !self.indicator.contains(target as Node)) || !self.controls.includes(target as HTMLElement))\n  ) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    e.preventDefault();\n  }\n}\n\n// CAROUSEL POINTER HANDLERS\n// =========================\n/**\n * Handles the `pointerdown` event for the `Carousel` element.\n *\n * @param e the `Event` object\n */\nfunction carouselPointerDownHandler(this: HTMLElement, e: PointerEvent) {\n  const { target } = e;\n  const self = getCarouselInstance(this);\n\n  if (self && !self.isAnimating && !self.isTouch) {\n    // filter pointer event on controls & indicators\n    const { controls, indicators } = self;\n    if (![...controls, ...indicators].every(el => el === target || el.contains(target as Node))) {\n      startX = e.pageX;\n\n      /* istanbul ignore else */\n      if (this.contains(target as Node)) {\n        self.isTouch = true;\n        toggleCarouselTouchHandlers(self, true);\n      }\n    }\n  }\n}\n\n/**\n * Handles the `pointermove` event for the `Carousel` element.\n *\n * @param e\n */\nconst carouselPointerMoveHandler = (e: PointerEvent) => {\n  currentX = e.pageX;\n};\n\n/**\n * Handles the `pointerup` event for the `Carousel` element.\n *\n * @param e\n */\nconst carouselPointerUpHandler = (e: PointerEvent) => {\n  const { target } = e;\n  const doc = getDocument(target as Node);\n  const self = [...querySelectorAll(carouselSelector, doc)]\n    .map(c => getCarouselInstance(c) as Carousel)\n    .find(i => i.isTouch) as Carousel;\n\n  // impossible to satisfy\n  /* istanbul ignore else */\n  if (self) {\n    const { element, index } = self;\n    const RTL = isRTL(element);\n    endX = e.pageX;\n\n    self.isTouch = false;\n    toggleCarouselTouchHandlers(self);\n\n    if (\n      !doc.getSelection()?.toString().length &&\n      element.contains(target as HTMLElement) &&\n      Math.abs(startX - endX) > 120\n    ) {\n      // determine next index to slide to\n      /* istanbul ignore else */\n      if (currentX < startX) {\n        self.to(index + (RTL ? -1 : 1));\n      } else if (currentX > startX) {\n        self.to(index + (RTL ? 1 : -1));\n      }\n    }\n\n    // reset pointer position\n    startX = 0;\n    currentX = 0;\n    endX = 0;\n  }\n};\n\n// CAROUSEL PRIVATE METHODS\n// ========================\n/**\n * Sets active indicator for the `Carousel` instance.\n *\n * @param self the `Carousel` instance\n * @param index the index of the new active indicator\n */\nconst activateCarouselIndicator = (self: Carousel, index: number) => {\n  const { indicators } = self;\n  [...indicators].forEach(x => removeClass(x, activeClass));\n\n  /* istanbul ignore else */\n  if (self.indicators[index]) addClass(indicators[index], activeClass);\n};\n\n/**\n * Toggles the pointer event listeners for a given `Carousel` instance.\n *\n * @param self the `Carousel` instance\n * @param add when `TRUE` event listeners are added\n */\nconst toggleCarouselTouchHandlers = (self: Carousel, add?: boolean) => {\n  const { element } = self;\n  const action = add ? addListener : removeListener;\n  action(getDocument(element), pointermoveEvent, carouselPointerMoveHandler as EventListener, passiveHandler);\n  action(getDocument(element), pointerupEvent, carouselPointerUpHandler as EventListener, passiveHandler);\n};\n\n/**\n * Toggles all event listeners for a given `Carousel` instance.\n *\n * @param self the `Carousel` instance\n * @param add when `TRUE` event listeners are added\n */\nconst toggleCarouselHandlers = (self: Carousel, add?: boolean) => {\n  const { element, options, slides, controls, indicators } = self;\n  const { touch, pause, interval, keyboard } = options;\n  const action = add ? addListener : removeListener;\n\n  if (pause && interval) {\n    action(element, mouseenterEvent, carouselPauseHandler);\n    action(element, mouseleaveEvent, carouselResumeHandler);\n  }\n\n  if (touch && slides.length > 2) {\n    action(element, pointerdownEvent, carouselPointerDownHandler as EventListener, passiveHandler);\n    action(element, touchstartEvent, carouselDragHandler as unknown as EventListener, { passive: false });\n    action(element, dragstartEvent, carouselDragHandler as unknown as EventListener, { passive: false });\n  }\n\n  /* istanbul ignore else */\n  if (controls.length) {\n    controls.forEach(arrow => {\n      /* istanbul ignore else */\n      if (arrow) action(arrow, mouseclickEvent, carouselControlsHandler as EventListener);\n    });\n  }\n\n  /* istanbul ignore else */\n  if (indicators.length) {\n    indicators.forEach(indicator => {\n      action(indicator, mouseclickEvent, carouselIndicatorHandler as EventListener);\n    });\n  }\n\n  if (keyboard) action(getDocument(element), keydownEvent, carouselKeyHandler as EventListener);\n};\n\n/**\n * Returns the index of the current active item.\n *\n * @param self the `Carousel` instance\n * @returns the query result\n */\nconst getActiveIndex = (self: Carousel) => {\n  const { slides, element } = self;\n  const activeItem = querySelector(`.${carouselItem}.${activeClass}`, element);\n  return isHTMLElement(activeItem) ? [...slides].indexOf(activeItem) : -1;\n};\n\n// CAROUSEL DEFINITION\n// ===================\n/** Creates a new `Carousel` instance. */\nexport default class Carousel extends BaseComponent {\n  static selector = carouselSelector;\n  static init = carouselInitCallback;\n  static getInstance = getCarouselInstance;\n  declare options: CarouselOptions;\n  declare direction: 'right' | 'left';\n  declare index: number;\n  declare isTouch: boolean;\n  declare slides: HTMLCollectionOf<HTMLElement>;\n  declare controls: HTMLElement[];\n  declare indicator: HTMLElement | null;\n  declare indicators: HTMLElement[];\n\n  /**\n   * @param target mostly a `.carousel` element\n   * @param config instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<CarouselOptions>) {\n    super(target, config);\n\n    // initialization element\n    const { element } = this;\n\n    // additional properties\n    this.direction = isRTL(element) ? 'right' : 'left';\n    this.isTouch = false;\n\n    // carousel elements\n    // a LIVE collection is prefferable\n    this.slides = getElementsByClassName(carouselItem, element);\n    const { slides } = this;\n\n    // invalidate when not enough items\n    // no need to go further\n    if (slides.length >= 2) {\n      const activeIndex = getActiveIndex(this);\n      // recover item from disposed instance\n      const transitionItem = [...slides].find(s => matches(s, `.${carouselItem}-next,.${carouselItem}-next`));\n      this.index = activeIndex;\n\n      // external controls must be within same document context\n      const doc = getDocument(element);\n\n      this.controls = [\n        ...querySelectorAll(`[${dataBsSlide}]`, element),\n        ...querySelectorAll(`[${dataBsSlide}][${dataBsTarget}=\"#${element.id}\"]`, doc),\n      ].filter((c, i, ar) => i === ar.indexOf(c));\n\n      this.indicator = querySelector(`.${carouselString}-indicators`, element);\n\n      // a LIVE collection is prefferable\n      this.indicators = [\n        ...(this.indicator ? querySelectorAll(`[${dataBsSlideTo}]`, this.indicator) : []),\n        ...querySelectorAll(`[${dataBsSlideTo}][${dataBsTarget}=\"#${element.id}\"]`, doc),\n      ].filter((c, i, ar) => i === ar.indexOf(c));\n\n      // set JavaScript and DATA API options\n      const { options } = this;\n\n      // don't use TRUE as interval, it's actually 0, use the default 5000ms better\n      this.options.interval = options.interval === true ? carouselDefaults.interval : options.interval;\n\n      // set first slide active if none\n      /* istanbul ignore next - impossible to test with cypress */\n      if (transitionItem) {\n        this.index = [...slides].indexOf(transitionItem);\n      } else if (activeIndex < 0) {\n        this.index = 0;\n        addClass(slides[0], activeClass);\n        if (this.indicators.length) activateCarouselIndicator(this, 0);\n      }\n\n      /* istanbul ignore else */\n      if (this.indicators.length) activateCarouselIndicator(this, this.index);\n\n      // attach event handlers\n      toggleCarouselHandlers(this, true);\n\n      // start to cycle if interval is set\n      if (options.interval) this.cycle();\n    }\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return carouselComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return carouselDefaults;\n  }\n\n  /**\n   * Check if instance is paused.\n   */\n  get isPaused() {\n    return hasClass(this.element, pausedClass);\n  }\n\n  /**\n   * Check if instance is animating.\n   */\n  get isAnimating() {\n    return querySelector(`.${carouselItem}-next,.${carouselItem}-prev`, this.element) !== null;\n  }\n\n  // CAROUSEL PUBLIC METHODS\n  // =======================\n  /** Slide automatically through items. */\n  cycle() {\n    const { element, options, isPaused, index } = this;\n\n    Timer.clear(element, carouselString);\n    if (isPaused) {\n      Timer.clear(element, pausedClass);\n      removeClass(element, pausedClass);\n    }\n\n    Timer.set(\n      element,\n      () => {\n        // it's very important to check self.element\n        // where instance might have been disposed\n        /* istanbul ignore else */\n        if (this.element && !this.isPaused && !this.isTouch && isElementInScrollRange(element)) {\n          this.to(index + 1);\n        }\n      },\n      options.interval as number,\n      carouselString,\n    );\n  }\n\n  /** Pause the automatic cycle. */\n  pause() {\n    const { element, options } = this;\n    /* istanbul ignore else */\n    if (!this.isPaused && options.interval) {\n      addClass(element, pausedClass);\n      Timer.set(\n        element,\n        () => {\n          /* ESLint is now happy */\n        },\n        1,\n        pausedClass,\n      );\n    }\n  }\n\n  /** Slide to the next item. */\n  next() {\n    /* istanbul ignore else */\n    if (!this.isAnimating) {\n      this.to(this.index + 1);\n    }\n  }\n\n  /** Slide to the previous item. */\n  prev() {\n    /* istanbul ignore else */\n    if (!this.isAnimating) {\n      this.to(this.index - 1);\n    }\n  }\n\n  /**\n   * Jump to the item with the `idx` index.\n   *\n   * @param idx the index of the item to jump to\n   */\n  to(idx: number) {\n    const { element, slides, options } = this;\n    const activeItem = getActiveIndex(this);\n    const RTL = isRTL(element);\n    let next = idx;\n\n    // when controled via methods, make sure to check again\n    // first return if we're on the same item #227\n    // `to()` must be SPAM protected by Timer\n    if (!this.isAnimating && activeItem !== next && !Timer.get(element, dataBsSlide)) {\n      // determine transition direction\n      /* istanbul ignore else */\n      if (activeItem < next || (activeItem === 0 && next === slides.length - 1)) {\n        this.direction = RTL ? 'right' : 'left'; // next\n      } else if (activeItem > next || (activeItem === slides.length - 1 && next === 0)) {\n        this.direction = RTL ? 'left' : 'right'; // prev\n      }\n      const { direction } = this;\n\n      // find the right next index\n      if (next < 0) {\n        next = slides.length - 1;\n      } else if (next >= slides.length) {\n        next = 0;\n      }\n\n      // orientation, class name, eventProperties\n      const orientation = direction === 'left' ? 'next' : 'prev';\n      const directionClass = direction === 'left' ? 'start' : 'end';\n\n      const eventProperties = {\n        relatedTarget: slides[next],\n        from: activeItem,\n        to: next,\n        direction,\n      };\n\n      // update event properties\n      ObjectAssign(carouselSlideEvent, eventProperties);\n      ObjectAssign(carouselSlidEvent, eventProperties);\n\n      // discontinue when prevented\n      dispatchEvent(element, carouselSlideEvent);\n      if (!carouselSlideEvent.defaultPrevented) {\n        // update index\n        this.index = next;\n        activateCarouselIndicator(this, next);\n\n        if (getElementTransitionDuration(slides[next]) && hasClass(element, 'slide')) {\n          Timer.set(\n            element,\n            () => {\n              addClass(slides[next], `${carouselItem}-${orientation}`);\n              reflow(slides[next]);\n              addClass(slides[next], `${carouselItem}-${directionClass}`);\n              addClass(slides[activeItem], `${carouselItem}-${directionClass}`);\n\n              // the instance might get diposed mid-animation\n              emulateTransitionEnd(\n                slides[next],\n                () => this.slides && this.slides.length && carouselTransitionEndHandler(this),\n              );\n            },\n            0,\n            dataBsSlide,\n          );\n        } else {\n          addClass(slides[next], activeClass);\n          removeClass(slides[activeItem], activeClass);\n\n          Timer.set(\n            element,\n            () => {\n              Timer.clear(element, dataBsSlide);\n              // check for element, might have been disposed\n              /* istanbul ignore else */\n              if (element && options.interval && !this.isPaused) {\n                this.cycle();\n              }\n\n              dispatchEvent(element, carouselSlidEvent);\n            },\n            0,\n            dataBsSlide,\n          );\n        }\n      }\n    }\n  }\n\n  /** Remove `Carousel` component from target. */\n  dispose() {\n    const { isAnimating } = this;\n\n    const clone = {\n      ...this,\n      isAnimating,\n    };\n    toggleCarouselHandlers(clone);\n    super.dispose();\n\n    // istanbul ignore next - impossible to test with cypress\n    if (clone.isAnimating) {\n      emulateTransitionEnd(clone.slides[clone.index], () => {\n        carouselTransitionEndHandler(clone);\n      });\n    }\n  }\n}\n", "/**\n * Global namespace for most components `collapsing` class.\n * As used by `Collapse` / `Tab`.\n */\nconst collapsingClass = 'collapsing';\nexport default collapsingClass;\n", "/** @type {string} */\nconst collapseString = 'collapse';\nexport default collapseString;\n", "/** @type {string} */\nconst collapseComponent = 'Collapse';\nexport default collapseComponent;\n", "/* Native JavaScript for Bootstrap 5 | Collapse\n----------------------------------------------- */\nimport {\n  getInstance,\n  setAttribute,\n  getDocument,\n  closest,\n  querySelector,\n  querySelectorAll,\n  addClass,\n  hasClass,\n  removeClass,\n  mouseclickEvent,\n  ariaExpanded,\n  emulateTransitionEnd,\n  reflow,\n  dispatchEvent,\n  setElementStyle,\n  Timer,\n  createCustomEvent,\n  noop,\n  isHTMLElement,\n  isString,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport dataBsToggle from '../strings/dataBsToggle';\nimport collapsingClass from '../strings/collapsingClass';\nimport showClass from '../strings/showClass';\nimport collapseString from '../strings/collapseString';\nimport collapseComponent from '../strings/collapseComponent';\n\nimport getTargetElement from '../util/getTargetElement';\nimport BaseComponent from './base-component';\nimport type { CollapseEvent, CollapseOptions } from '../interface/collapse';\n\n// COLLAPSE GC\n// ===========\nconst collapseSelector = `.${collapseString}`;\nconst collapseToggleSelector = `[${dataBsToggle}=\"${collapseString}\"]`;\nconst collapseDefaults = { parent: null };\n\n/**\n * Static method which returns an existing `Collapse` instance associated\n * to a target `Element`.\n */\nconst getCollapseInstance = (element: HTMLElement) => getInstance<Collapse>(element, collapseComponent);\n\n/**\n * A `Collapse` initialization callback.\n */\nconst collapseInitCallback = (element: HTMLElement) => new Collapse(element);\n\n// COLLAPSE CUSTOM EVENTS\n// ======================\nconst showCollapseEvent = createCustomEvent<CollapseEvent>(`show.bs.${collapseString}`);\nconst shownCollapseEvent = createCustomEvent<CollapseEvent>(`shown.bs.${collapseString}`);\nconst hideCollapseEvent = createCustomEvent<CollapseEvent>(`hide.bs.${collapseString}`);\nconst hiddenCollapseEvent = createCustomEvent<CollapseEvent>(`hidden.bs.${collapseString}`);\n\n// COLLAPSE PRIVATE METHODS\n// ========================\n/**\n * Expand the designated `Element`.\n *\n * @param self the `Collapse` instance\n */\nconst expandCollapse = (self: Collapse) => {\n  const { element, parent, triggers } = self;\n\n  dispatchEvent(element, showCollapseEvent);\n  if (!showCollapseEvent.defaultPrevented) {\n    Timer.set(element, noop, 17);\n    if (parent) Timer.set(parent, noop, 17);\n\n    addClass(element, collapsingClass);\n    removeClass(element, collapseString);\n\n    setElementStyle(element, { height: `${element.scrollHeight}px` });\n\n    emulateTransitionEnd(element, () => {\n      Timer.clear(element);\n      if (parent) Timer.clear(parent);\n\n      triggers.forEach(btn => setAttribute(btn, ariaExpanded, 'true'));\n\n      removeClass(element, collapsingClass);\n      addClass(element, collapseString);\n      addClass(element, showClass);\n\n      setElementStyle(element, { height: '' });\n\n      dispatchEvent(element, shownCollapseEvent);\n    });\n  }\n};\n\n/**\n * Collapse the designated `Element`.\n *\n * @param self the `Collapse` instance\n */\nconst collapseContent = (self: Collapse) => {\n  const { element, parent, triggers } = self;\n\n  dispatchEvent(element, hideCollapseEvent);\n\n  if (!hideCollapseEvent.defaultPrevented) {\n    Timer.set(element, noop, 17);\n    if (parent) Timer.set(parent, noop, 17);\n\n    setElementStyle(element, { height: `${element.scrollHeight}px` });\n\n    removeClass(element, collapseString);\n    removeClass(element, showClass);\n    addClass(element, collapsingClass);\n\n    reflow(element);\n    setElementStyle(element, { height: '0px' });\n\n    emulateTransitionEnd(element, () => {\n      Timer.clear(element);\n      /* istanbul ignore else */\n      if (parent) Timer.clear(parent);\n\n      triggers.forEach(btn => setAttribute(btn, ariaExpanded, 'false'));\n\n      removeClass(element, collapsingClass);\n      addClass(element, collapseString);\n\n      setElementStyle(element, { height: '' });\n\n      dispatchEvent(element, hiddenCollapseEvent);\n    });\n  }\n};\n\n/**\n * Toggles on/off the event listener(s) of the `Collapse` instance.\n *\n * @param self the `Collapse` instance\n * @param add when `true`, the event listener is added\n */\nconst toggleCollapseHandler = (self: Collapse, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { triggers } = self;\n\n  /* istanbul ignore else */\n  if (triggers.length) {\n    triggers.forEach(btn => action(btn, mouseclickEvent, collapseClickHandler as EventListener));\n  }\n};\n\n// COLLAPSE EVENT HANDLER\n// ======================\n/**\n * Handles the `click` event for the `Collapse` instance.\n *\n * @param e the `Event` object\n */\nconst collapseClickHandler = (e: MouseEvent) => {\n  const { target } = e; // our target is `HTMLElement`\n  const trigger = target && closest(target as HTMLElement, collapseToggleSelector);\n  const element = trigger && getTargetElement(trigger);\n  const self = element && getCollapseInstance(element);\n  /* istanbul ignore else */\n  if (self) self.toggle();\n\n  // event target is anchor link #398\n  if (trigger && trigger.tagName === 'A') e.preventDefault();\n};\n\n// COLLAPSE DEFINITION\n// ===================\n\n/** Returns a new `Colapse` instance. */\nexport default class Collapse extends BaseComponent {\n  static selector = collapseSelector;\n  static init = collapseInitCallback;\n  static getInstance = getCollapseInstance;\n  declare options: CollapseOptions;\n  declare parent: HTMLElement | null;\n  declare triggers: HTMLElement[];\n\n  /**\n   * @param target and `Element` that matches the selector\n   * @param config instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<CollapseOptions>) {\n    super(target, config);\n\n    // initialization element\n    const { element, options } = this;\n    const doc = getDocument(element);\n\n    // set triggering elements\n    this.triggers = [...querySelectorAll(collapseToggleSelector, doc)].filter(btn => getTargetElement(btn) === element);\n\n    // set parent accordion\n    this.parent = isHTMLElement(options.parent)\n      ? options.parent\n      : isString(options.parent)\n      ? getTargetElement(element) || querySelector(options.parent as string, doc)\n      : null;\n\n    // add event listeners\n    toggleCollapseHandler(this, true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return collapseComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return collapseDefaults;\n  }\n\n  // COLLAPSE PUBLIC METHODS\n  // =======================\n  /** Toggles the visibility of the collapse. */\n  toggle() {\n    if (!hasClass(this.element, showClass)) this.show();\n    else this.hide();\n  }\n\n  /** Hides the collapse. */\n  hide() {\n    const { triggers, element } = this;\n    if (!Timer.get(element)) {\n      collapseContent(this);\n      /* istanbul ignore else */\n      if (triggers.length) {\n        triggers.forEach(btn => addClass(btn, `${collapseString}d`));\n      }\n    }\n  }\n\n  /** Shows the collapse. */\n  show() {\n    const { element, parent, triggers } = this;\n    let activeCollapse;\n    let activeCollapseInstance;\n\n    if (parent) {\n      activeCollapse = [...querySelectorAll(`.${collapseString}.${showClass}`, parent)].find(i =>\n        getCollapseInstance(i),\n      );\n      activeCollapseInstance = activeCollapse && getCollapseInstance(activeCollapse);\n    }\n\n    if ((!parent || !Timer.get(parent)) && !Timer.get(element)) {\n      if (activeCollapseInstance && activeCollapse !== element) {\n        collapseContent(activeCollapseInstance);\n        activeCollapseInstance.triggers.forEach(btn => {\n          addClass(btn, `${collapseString}d`);\n        });\n      }\n\n      expandCollapse(this);\n      /* istanbul ignore else */\n      if (triggers.length) {\n        triggers.forEach(btn => removeClass(btn, `${collapseString}d`));\n      }\n    }\n  }\n\n  /** Remove the `Collapse` component from the target `Element`. */\n  dispose() {\n    toggleCollapseHandler(this);\n\n    super.dispose();\n  }\n}\n", "/**\n * Global namespace for `Dropdown` types / classes.\n */\nconst dropdownMenuClasses = ['dropdown', 'dropup', 'dropstart', 'dropend'];\nexport default dropdownMenuClasses;\n", "/** @type {string} */\nconst dropdownComponent = 'Dropdown';\nexport default dropdownComponent;\n", "/**\n * Global namespace for `.dropdown-menu`.\n */\nconst dropdownMenuClass = 'dropdown-menu';\nexport default dropdownMenuClass;\n", "import { hasAttribute, closest, getAttribute } from '@thednp/shorty';\n\n/**\n * Checks if an *event.target* or its parent has an `href=\"#\"` value.\n * We need to prevent jumping around onclick, don't we?\n *\n * @param element the target element\n * @returns the query result\n */\nconst isEmptyAnchor = (element: HTMLElement) => {\n  // `EventTarget` must be `HTMLElement`\n  const parentAnchor = closest(element, 'A');\n  return (\n    (element.tagName === 'A' &&\n      // anchor href starts with #\n      hasAttribute(element, 'href') &&\n      (getAttribute(element, 'href') as string).slice(-1) === '#') ||\n    // OR a child of an anchor with href starts with #\n    (parentAnchor &&\n      hasAttribute(parentAnchor, 'href') &&\n      (getAttribute(parentAnchor, 'href') as string).slice(-1) === '#')\n  );\n};\nexport default isEmptyAnchor;\n", "/* Native JavaScript for Bootstrap 5 | Dropdown\n----------------------------------------------- */\nimport {\n  ariaExpanded,\n  focusEvent,\n  keydownEvent,\n  setAttribute,\n  keyEscape,\n  keyArrowDown,\n  keyArrowUp,\n  mouseclickEvent,\n  resizeEvent,\n  scrollEvent,\n  keyupEvent,\n  dispatchEvent,\n  setElementStyle,\n  getInstance,\n  ObjectAssign,\n  passiveHandler,\n  getElementsByClassName,\n  closest,\n  getAttribute,\n  getDocument,\n  getBoundingClientRect,\n  getDocumentElement,\n  getElementStyle,\n  isRTL,\n  removeClass,\n  hasClass,\n  addClass,\n  createCustomEvent,\n  focus,\n  getWindow,\n  CSS4Declaration,\n  isHTMLElement,\n  mousedownEvent,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport showClass from '../strings/showClass';\nimport dataBsToggle from '../strings/dataBsToggle';\nimport dropdownClasses from '../strings/dropdownClasses';\nimport dropdownComponent from '../strings/dropdownComponent';\nimport dropdownMenuClass from '../strings/dropdownMenuClass';\n\nimport isEmptyAnchor from '../util/isEmptyAnchor';\nimport BaseComponent from './base-component';\nimport type { DropdownEvent, DropdownOptions } from '../interface/dropdown';\n\n// DROPDOWN PRIVATE GC\n// ===================\nconst [dropdownString, dropupString, dropstartString, dropendString] = dropdownClasses;\nconst dropdownSelector = `[${dataBsToggle}=\"${dropdownString}\"]`;\n\n/**\n * Static method which returns an existing `Dropdown` instance associated\n * to a target `Element`.\n */\nconst getDropdownInstance = (element: HTMLElement) => getInstance<Dropdown>(element, dropdownComponent);\n\n/**\n * A `Dropdown` initialization callback.\n */\nconst dropdownInitCallback = (element: HTMLElement) => new Dropdown(element);\n\n// DROPDOWN PRIVATE GC\n// ===================\n// const dropdownMenuStartClass = `${dropdownMenuClass}-start`;\nconst dropdownMenuEndClass = `${dropdownMenuClass}-end`;\nconst verticalClass = [dropdownString, dropupString];\nconst horizontalClass = [dropstartString, dropendString];\nconst menuFocusTags = ['A', 'BUTTON'];\n\nconst dropdownDefaults = {\n  offset: 5, // [number] 5(px)\n  display: 'dynamic', // [dynamic|static]\n};\n\n// DROPDOWN CUSTOM EVENTS\n// ======================\nconst showDropdownEvent = createCustomEvent<DropdownEvent>(`show.bs.${dropdownString}`);\nconst shownDropdownEvent = createCustomEvent<DropdownEvent>(`shown.bs.${dropdownString}`);\nconst hideDropdownEvent = createCustomEvent<DropdownEvent>(`hide.bs.${dropdownString}`);\nconst hiddenDropdownEvent = createCustomEvent<DropdownEvent>(`hidden.bs.${dropdownString}`);\nconst updatedDropdownEvent = createCustomEvent<DropdownEvent>(`updated.bs.${dropdownString}`);\n\n// DROPDOWN PRIVATE METHODS\n// ========================\n/**\n * Apply specific style or class names to a `.dropdown-menu` to automatically\n * accomodate the layout and the page scroll.\n *\n * @param self the `Dropdown` instance\n */\nconst styleDropdown = (self: Dropdown) => {\n  const { element, menu, parentElement, options } = self;\n  const { offset } = options;\n\n  // don't apply any style on mobile view\n  /* istanbul ignore else: this test requires a navbar */\n  if (getElementStyle(menu, 'position') !== 'static') {\n    const RTL = isRTL(element);\n    // const menuStart = hasClass(menu, dropdownMenuStartClass);\n    const menuEnd = hasClass(menu, dropdownMenuEndClass);\n\n    // reset menu offset and position\n    const resetProps = ['margin', 'top', 'bottom', 'left', 'right'];\n    resetProps.forEach(p => {\n      // menu.style[p] = '';\n      const style: { [key: string]: string } = {};\n      style[p] = '';\n      setElementStyle(menu, style);\n    });\n\n    // set initial position class\n    // take into account .btn-group parent as .dropdown\n    // this requires navbar/btn-group/input-group\n    let positionClass =\n      dropdownClasses.find(c => hasClass(parentElement, c)) ||\n      /* istanbul ignore next: fallback position */ dropdownString;\n\n    const dropdownMargin: { [key: string]: number[] } = {\n      dropdown: [offset, 0, 0],\n      dropup: [0, 0, offset],\n      dropstart: RTL ? [-1, 0, 0, offset] : [-1, offset, 0],\n      dropend: RTL ? [-1, offset, 0] : [-1, 0, 0, offset],\n    };\n\n    const dropdownPosition: { [key: string]: Partial<CSS4Declaration> } = {\n      dropdown: { top: '100%' },\n      dropup: { top: 'auto', bottom: '100%' },\n      dropstart: RTL ? { left: '100%', right: 'auto' } : { left: 'auto', right: '100%' },\n      dropend: RTL ? { left: 'auto', right: '100%' } : { left: '100%', right: 'auto' },\n      menuStart: RTL ? { right: '0', left: 'auto' } : { right: 'auto', left: '0' },\n      menuEnd: RTL ? { right: 'auto', left: '0' } : { right: '0', left: 'auto' },\n    };\n\n    const { offsetWidth: menuWidth, offsetHeight: menuHeight } = menu;\n\n    const { clientWidth, clientHeight } = getDocumentElement(element);\n    const {\n      left: targetLeft,\n      top: targetTop,\n      width: targetWidth,\n      height: targetHeight,\n    } = getBoundingClientRect(element);\n\n    // dropstart | dropend\n    const leftFullExceed = targetLeft - menuWidth - offset < 0;\n    // dropend\n    const rightFullExceed = targetLeft + menuWidth + targetWidth + offset >= clientWidth;\n    // dropstart | dropend\n    const bottomExceed = targetTop + menuHeight + offset >= clientHeight;\n    // dropdown\n    const bottomFullExceed = targetTop + menuHeight + targetHeight + offset >= clientHeight;\n    // dropup\n    const topExceed = targetTop - menuHeight - offset < 0;\n    // dropdown / dropup\n    const leftExceed = ((!RTL && menuEnd) || (RTL && !menuEnd)) && targetLeft + targetWidth - menuWidth < 0;\n    const rightExceed = ((RTL && menuEnd) || (!RTL && !menuEnd)) && targetLeft + menuWidth >= clientWidth;\n\n    // recompute position\n    // handle RTL as well\n    if (horizontalClass.includes(positionClass) && leftFullExceed && rightFullExceed) {\n      positionClass = dropdownString;\n    }\n    if (positionClass === dropstartString && (!RTL ? leftFullExceed : rightFullExceed)) {\n      positionClass = dropendString;\n    }\n    if (positionClass === dropendString && (RTL ? leftFullExceed : rightFullExceed)) {\n      positionClass = dropstartString;\n    }\n    if (positionClass === dropupString && topExceed && !bottomFullExceed) {\n      positionClass = dropdownString;\n    }\n    if (positionClass === dropdownString && bottomFullExceed && !topExceed) {\n      positionClass = dropupString;\n    }\n\n    // override position for horizontal classes\n    if (horizontalClass.includes(positionClass) && bottomExceed) {\n      ObjectAssign(dropdownPosition[positionClass], {\n        top: 'auto',\n        bottom: 0,\n      });\n    }\n\n    // override position for vertical classes\n    if (verticalClass.includes(positionClass) && (leftExceed || rightExceed)) {\n      // don't realign when menu is wider than window\n      // in both RTL and non-RTL readability is KING\n      let posAjust: { left: 'auto' | number; right: 'auto' | number } | undefined = { left: 'auto', right: 'auto' };\n      if (!leftExceed && rightExceed && !RTL) posAjust = { left: 'auto', right: 0 };\n      if (leftExceed && !rightExceed && RTL) posAjust = { left: 0, right: 'auto' };\n      if (posAjust) ObjectAssign(dropdownPosition[positionClass], posAjust);\n    }\n\n    const margins: number[] = dropdownMargin[positionClass];\n    setElementStyle(menu, {\n      ...dropdownPosition[positionClass],\n      margin: `${margins.map(x => (x ? `${x}px` : x)).join(' ')}`,\n    });\n\n    // override dropdown-menu-start | dropdown-menu-end\n    if (verticalClass.includes(positionClass) && menuEnd) {\n      /* istanbul ignore else */\n      if (menuEnd) {\n        const endAdjust =\n          (!RTL && leftExceed) || (RTL && rightExceed) ? 'menuStart' : /* istanbul ignore next */ 'menuEnd';\n        setElementStyle(menu, dropdownPosition[endAdjust]);\n      }\n    }\n    // trigger updated event\n    dispatchEvent(parentElement, updatedDropdownEvent);\n  }\n};\n\n/**\n * Returns an `Array` of focusable items in the given dropdown-menu.\n *\n * @param menu the target menu\n * @returns all children of the dropdown menu\n */\nconst getMenuItems = (menu: HTMLElement) => {\n  return [...menu.children]\n    .map(c => {\n      if (c && menuFocusTags.includes(c.tagName)) return c;\n      const { firstElementChild } = c;\n      if (firstElementChild && menuFocusTags.includes(firstElementChild.tagName)) {\n        return firstElementChild;\n      }\n      return null;\n    })\n    .filter(c => c);\n};\n\n/**\n * Toggles on/off the listeners for the events that close the dropdown\n * as well as event that request a new position for the dropdown.\n *\n * @param {Dropdown} self the `Dropdown` instance\n */\nconst toggleDropdownDismiss = (self: Dropdown) => {\n  const { element, options } = self;\n  const action = self.open ? addListener : removeListener;\n  const doc = getDocument(element);\n\n  action(doc, mouseclickEvent, dropdownDismissHandler as EventListener);\n  action(doc, focusEvent, dropdownDismissHandler as EventListener);\n  action(doc, keydownEvent, dropdownPreventScroll as EventListener);\n  action(doc, keyupEvent, dropdownKeyHandler as EventListener);\n\n  /* istanbul ignore else */\n  if (options.display === 'dynamic') {\n    [scrollEvent, resizeEvent].forEach(ev => {\n      action(getWindow(element), ev, dropdownLayoutHandler, passiveHandler);\n    });\n  }\n};\n\n/**\n * Toggles on/off the `click` event listener of the `Dropdown`.\n *\n * @param self the `Dropdown` instance\n * @param add when `true`, it will add the event listener\n */\nconst toggleDropdownHandler = (self: Dropdown, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  action(self.element, mouseclickEvent, dropdownClickHandler as EventListener);\n};\n\n/**\n * Returns the currently open `.dropdown` element.\n *\n * @param element target\n * @returns the query result\n */\nconst getCurrentOpenDropdown = (element: HTMLElement): HTMLElement | undefined => {\n  const currentParent = [...dropdownClasses, 'btn-group', 'input-group']\n    .map(c => getElementsByClassName(`${c} ${showClass}`, getDocument(element)))\n    .find(x => x.length);\n\n  if (currentParent && currentParent.length) {\n    return [...(currentParent[0].children as HTMLCollectionOf<HTMLElement>)].find(x =>\n      dropdownClasses.some(c => c === getAttribute(x, dataBsToggle)),\n    );\n  }\n  return undefined;\n};\n\n// DROPDOWN EVENT HANDLERS\n// =======================\n/**\n * Handles the `click` event for the `Dropdown` instance.\n *\n * @param e event object\n */\nconst dropdownDismissHandler = (e: MouseEvent) => {\n  const { target, type } = e;\n\n  /* istanbul ignore else */\n  if (target && isHTMLElement(target)) {\n    // some weird FF bug #409\n    const element = getCurrentOpenDropdown(target);\n    const self = element && getDropdownInstance(element);\n\n    /* istanbul ignore else */\n    if (self) {\n      const { parentElement, menu } = self;\n\n      const isForm =\n        parentElement &&\n        parentElement.contains(target) &&\n        (target.tagName === 'form' || closest(target, 'form') !== null);\n\n      if ([mouseclickEvent, mousedownEvent].includes(type) && isEmptyAnchor(target)) {\n        e.preventDefault();\n      }\n\n      /* istanbul ignore else */\n      if (!isForm && type !== focusEvent && target !== element && target !== menu) {\n        self.hide();\n      }\n    }\n  }\n};\n\n/**\n * Handles `click` event listener for `Dropdown`.\n *\n * @param e event object\n */\nconst dropdownClickHandler = (e: MouseEvent) => {\n  const { target } = e;\n  const element = target && closest(target as HTMLElement, dropdownSelector);\n  const self = element && getDropdownInstance(element);\n\n  /* istanbul ignore else */\n  if (self) {\n    e.stopPropagation();\n    self.toggle();\n    /* istanbul ignore else */\n    if (element && isEmptyAnchor(element)) e.preventDefault();\n  }\n};\n\n/**\n * Prevents scroll when dropdown-menu is visible.\n *\n * @param e event object\n */\nconst dropdownPreventScroll = (e: KeyboardEvent) => {\n  /* istanbul ignore else */\n  if ([keyArrowDown, keyArrowUp].includes(e.code)) e.preventDefault();\n};\n\n/**\n * Handles keyboard `keydown` events for `Dropdown`.\n *\n * @param e keyboard key\n */\nfunction dropdownKeyHandler(this: HTMLElement, e: KeyboardEvent) {\n  const { code } = e;\n  const element = getCurrentOpenDropdown(this);\n  const self = element && getDropdownInstance(element);\n  const { activeElement } = (element && getDocument(element)) as Document;\n\n  /* istanbul ignore else */\n  if (self && activeElement) {\n    const { menu, open } = self;\n    const menuItems = getMenuItems(menu);\n\n    // arrow up & down\n    if (menuItems && menuItems.length && [keyArrowDown, keyArrowUp].includes(code)) {\n      let idx = menuItems.indexOf(activeElement);\n      /* istanbul ignore else */\n      if (activeElement === element) {\n        idx = 0;\n      } else if (code === keyArrowUp) {\n        idx = idx > 1 ? idx - 1 : 0;\n      } else if (code === keyArrowDown) {\n        idx = idx < menuItems.length - 1 ? idx + 1 : idx;\n      }\n      /* istanbul ignore else */\n      if (menuItems[idx]) focus(menuItems[idx] as HTMLElement);\n    }\n\n    if (keyEscape === code && open) {\n      self.toggle();\n      focus(element);\n    }\n  }\n}\n\n/** Handles dropdown layout changes during resize / scroll. */\nfunction dropdownLayoutHandler(this: HTMLElement) {\n  const element = getCurrentOpenDropdown(this);\n  const self = element && getDropdownInstance(element);\n\n  /* istanbul ignore else */\n  if (self && self.open) styleDropdown(self);\n}\n\n// DROPDOWN DEFINITION\n// ===================\n/** Returns a new Dropdown instance. */\nexport default class Dropdown extends BaseComponent {\n  static selector = dropdownSelector;\n  static init = dropdownInitCallback;\n  static getInstance = getDropdownInstance;\n  declare options: DropdownOptions;\n  declare open: boolean;\n  declare parentElement: HTMLElement;\n  declare menu: HTMLElement;\n\n  /**\n   * @param target Element or string selector\n   * @param config the instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<DropdownOptions>) {\n    super(target, config);\n\n    // initialization element\n    const { parentElement } = this.element;\n    const [menu] = getElementsByClassName(dropdownMenuClass, parentElement as ParentNode);\n\n    // invalidate when dropdown-menu is missing\n    if (menu) {\n      // set targets\n      this.parentElement = parentElement as HTMLElement;\n      this.menu = menu;\n\n      // add event listener\n      toggleDropdownHandler(this, true);\n    }\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return dropdownComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return dropdownDefaults;\n  }\n\n  // DROPDOWN PUBLIC METHODS\n  // =======================\n  /** Shows/hides the dropdown menu to the user. */\n  toggle() {\n    if (this.open) this.hide();\n    else this.show();\n  }\n\n  /** Shows the dropdown menu to the user. */\n  show() {\n    const { element, open, menu, parentElement } = this;\n\n    /* istanbul ignore else */\n    if (!open) {\n      const currentElement = getCurrentOpenDropdown(element);\n      const currentInstance = currentElement && getDropdownInstance(currentElement);\n      if (currentInstance) currentInstance.hide();\n\n      // dispatch event\n      [showDropdownEvent, shownDropdownEvent, updatedDropdownEvent].forEach(e => {\n        e.relatedTarget = element;\n      });\n\n      dispatchEvent(parentElement, showDropdownEvent);\n      if (!showDropdownEvent.defaultPrevented) {\n        addClass(menu, showClass);\n        addClass(parentElement, showClass);\n        setAttribute(element, ariaExpanded, 'true');\n\n        // change menu position\n        styleDropdown(this);\n\n        this.open = !open;\n\n        focus(element); // focus the element\n        toggleDropdownDismiss(this);\n        dispatchEvent(parentElement, shownDropdownEvent);\n      }\n    }\n  }\n\n  /** Hides the dropdown menu from the user. */\n  hide() {\n    const { element, open, menu, parentElement } = this;\n\n    /* istanbul ignore else */\n    if (open) {\n      [hideDropdownEvent, hiddenDropdownEvent].forEach(e => {\n        e.relatedTarget = element;\n      });\n\n      dispatchEvent(parentElement, hideDropdownEvent);\n      if (!hideDropdownEvent.defaultPrevented) {\n        removeClass(menu, showClass);\n        removeClass(parentElement, showClass);\n        setAttribute(element, ariaExpanded, 'false');\n\n        this.open = !open;\n        // only re-attach handler if the instance is not disposed\n        toggleDropdownDismiss(this);\n        dispatchEvent(parentElement, hiddenDropdownEvent);\n      }\n    }\n  }\n\n  /** Removes the `Dropdown` component from the target element. */\n  dispose() {\n    if (this.open) this.hide();\n\n    toggleDropdownHandler(this);\n    super.dispose();\n  }\n}\n", "/** @type {string} */\nconst modalString = 'modal';\nexport default modalString;\n", "/** @type {string} */\nconst modalComponent = 'Modal';\nexport default modalComponent;\n", "/** @type {string} */\nconst offcanvasComponent = 'Offcanvas';\nexport default offcanvasComponent;\n", "/**\n * Global namespace for components `fixed-top` class.\n */\nconst fixedTopClass = 'fixed-top';\nexport default fixedTopClass;\n", "/**\n * Global namespace for components `fixed-bottom` class.\n */\nconst fixedBottomClass = 'fixed-bottom';\nexport default fixedBottomClass;\n", "/**\n * Global namespace for components `sticky-top` class.\n */\nconst stickyTopClass = 'sticky-top';\nexport default stickyTopClass;\n", "/**\n * Global namespace for components `position-sticky` class.\n */\nconst positionStickyClass = 'position-sticky';\nexport default positionStickyClass;\n", "import {\n  getWindow,\n  getDocumentElement,\n  getElementStyle,\n  getDocumentBody,\n  hasClass,\n  setElementStyle,\n  getElementsByClassName,\n} from '@thednp/shorty';\n\nimport fixedTopClass from '../strings/fixedTopClass';\nimport fixedBottomClass from '../strings/fixedBottomClass';\nimport stickyTopClass from '../strings/stickyTopClass';\nimport positionStickyClass from '../strings/positionStickyClass';\n\nconst getFixedItems = (parent?: ParentNode) => [\n  ...getElementsByClassName(fixedTopClass, parent),\n  ...getElementsByClassName(fixedBottomClass, parent),\n  ...getElementsByClassName(stickyTopClass, parent),\n  ...getElementsByClassName(positionStickyClass, parent),\n  ...getElementsByClassName('is-fixed', parent),\n];\n\n/**\n * Removes *padding* and *overflow* from the `<body>`\n * and all spacing from fixed items.\n *\n * @param element the target modal/offcanvas\n */\nexport const resetScrollbar = (element?: HTMLElement) => {\n  const bd = getDocumentBody(element);\n  setElementStyle(bd, {\n    paddingRight: '',\n    overflow: '',\n  });\n\n  const fixedItems = getFixedItems(bd);\n\n  if (fixedItems.length) {\n    fixedItems.forEach(fixed => {\n      setElementStyle(fixed, {\n        paddingRight: '',\n        marginRight: '',\n      });\n    });\n  }\n};\n\n/**\n * Returns the scrollbar width if the body does overflow\n * the window.\n *\n * @param element target element\n * @returns the scrollbar width value\n */\nexport const measureScrollbar = (element: HTMLElement) => {\n  const { clientWidth } = getDocumentElement(element);\n  const { innerWidth } = getWindow(element);\n  return Math.abs(innerWidth - clientWidth);\n};\n\n/**\n * Sets the `<body>` and fixed items style when modal / offcanvas\n * is shown to the user.\n *\n * @param element the target modal/offcanvas\n * @param overflow body does overflow or not\n */\nexport const setScrollbar = (element: HTMLElement, overflow?: boolean) => {\n  const bd = getDocumentBody(element);\n  const bodyPad = parseInt(getElementStyle(bd, 'paddingRight'), 10);\n  const isOpen = getElementStyle(bd, 'overflow') === 'hidden';\n  const sbWidth = isOpen && bodyPad ? 0 : measureScrollbar(element);\n  const fixedItems = getFixedItems(bd);\n\n  /* istanbul ignore else */\n  if (overflow) {\n    setElementStyle(bd, {\n      overflow: 'hidden',\n      paddingRight: `${bodyPad + sbWidth}px`,\n    });\n\n    /* istanbul ignore else */\n    if (fixedItems.length) {\n      fixedItems.forEach(fixed => {\n        const itemPadValue = getElementStyle(fixed, 'paddingRight');\n        fixed.style.paddingRight = `${parseInt(itemPadValue, 10) + sbWidth}px`;\n        /* istanbul ignore else */\n        if ([stickyTopClass, positionStickyClass].some(c => hasClass(fixed, c))) {\n          const itemMValue = getElementStyle(fixed, 'marginRight');\n          fixed.style.marginRight = `${parseInt(itemMValue, 10) - sbWidth}px`;\n        }\n      });\n    }\n  }\n};\n", "/** @type {string} */\nconst offcanvasString = 'offcanvas';\nexport default offcanvasString;\n", "import { getDocumentBody, isNode, createElement } from '@thednp/shorty';\n\n// the default container for Modal, Offcanvas, Popover and Tooltip\nconst popupContainer = createElement({ tagName: 'div', className: 'popup-container' }) as HTMLElement;\n\nconst appendPopup = (target: HTMLElement, customContainer?: ParentNode) => {\n  const containerIsBody = isNode(customContainer) && customContainer.nodeName === 'BODY';\n  const lookup = isNode(customContainer) && !containerIsBody ? customContainer : popupContainer;\n  const BODY = containerIsBody ? customContainer : getDocumentBody(target);\n\n  if (isNode(target)) {\n    if (lookup === popupContainer) {\n      BODY.append(popupContainer);\n    }\n    lookup.append(target);\n  }\n};\n\nconst removePopup = (target: HTMLElement, customContainer?: ParentNode) => {\n  const containerIsBody = isNode(customContainer) && customContainer.nodeName === 'BODY';\n  const lookup = isNode(customContainer) && !containerIsBody ? customContainer : popupContainer;\n\n  if (isNode(target)) {\n    target.remove();\n\n    if (lookup === popupContainer && !popupContainer.children.length) {\n      popupContainer.remove();\n    }\n  }\n};\n\nconst hasPopup = (target: HTMLElement, customContainer?: ParentNode) => {\n  const lookup = isNode(customContainer) && customContainer.nodeName !== 'BODY' ? customContainer : popupContainer;\n  return isNode(target) && lookup.contains(target);\n};\n\nexport { popupContainer, appendPopup, removePopup, hasPopup };\n", "import {\n  createElement,\n  getDocument,\n  reflow,\n  removeClass,\n  hasClass,\n  addClass,\n  querySelector,\n  getDocumentBody,\n} from '@thednp/shorty';\n\nimport fadeClass from '../strings/fadeClass';\nimport showClass from '../strings/showClass';\nimport modalString from '../strings/modalString';\nimport offcanvasString from '../strings/offcanvasString';\nimport { resetScrollbar } from './scrollbar';\nimport { appendPopup, removePopup } from './popupContainer';\n\nconst backdropString = 'backdrop';\nconst modalBackdropClass = `${modalString}-${backdropString}`;\nconst offcanvasBackdropClass = `${offcanvasString}-${backdropString}`;\nconst modalActiveSelector = `.${modalString}.${showClass}`;\nconst offcanvasActiveSelector = `.${offcanvasString}.${showClass}`;\n\n// any document would suffice\nconst overlay = createElement('div') as HTMLElement;\n\n/**\n * Returns the current active modal / offcancas element.\n *\n * @param element the context element\n * @returns the requested element\n */\nconst getCurrentOpen = (element?: HTMLElement): HTMLElement | null => {\n  return querySelector(`${modalActiveSelector},${offcanvasActiveSelector}`, getDocument(element));\n};\n\n/**\n * Toogles from a Modal overlay to an Offcanvas, or vice-versa.\n *\n * @param isModal\n */\nconst toggleOverlayType = (isModal?: boolean) => {\n  const targetClass = isModal ? modalBackdropClass : offcanvasBackdropClass;\n  [modalBackdropClass, offcanvasBackdropClass].forEach(c => {\n    removeClass(overlay, c);\n  });\n  addClass(overlay, targetClass);\n};\n\n/**\n * Append the overlay to DOM.\n *\n * @param element\n * @param hasFade\n * @param isModal\n */\nconst appendOverlay = (element: HTMLElement, hasFade: boolean, isModal?: boolean) => {\n  toggleOverlayType(isModal);\n  appendPopup(overlay, getDocumentBody(element));\n  if (hasFade) addClass(overlay, fadeClass);\n};\n\n/**\n * Shows the overlay to the user.\n */\nconst showOverlay = () => {\n  if (!hasClass(overlay, showClass)) {\n    addClass(overlay, showClass);\n    reflow(overlay);\n  }\n};\n\n/**\n * Hides the overlay from the user.\n */\nconst hideOverlay = () => {\n  removeClass(overlay, showClass);\n};\n\n/**\n * Removes the overlay from DOM.\n *\n * @param element\n */\nconst removeOverlay = (element?: HTMLElement): void => {\n  if (!getCurrentOpen(element)) {\n    removeClass(overlay, fadeClass);\n    removePopup(overlay, getDocumentBody(element));\n    resetScrollbar(element);\n  }\n};\n\nexport {\n  overlay,\n  offcanvasBackdropClass,\n  modalBackdropClass,\n  modalActiveSelector,\n  offcanvasActiveSelector,\n  toggleOverlayType,\n  appendOverlay,\n  showOverlay,\n  hideOverlay,\n  getCurrentOpen,\n  removeOverlay,\n};\n", "import { isHTMLElement, getElementStyle } from '@thednp/shorty';\n\n/**\n * @param element target\n * @returns the check result\n */\nconst isVisible = (element: HTMLElement) => {\n  return isHTMLElement(element) && getElementStyle(element, 'visibility') !== 'hidden' && element.offsetParent !== null;\n};\nexport default isVisible;\n", "/* Native JavaScript for Bootstrap 5 | Modal\n-------------------------------------------- */\nimport {\n  keyEscape,\n  getElementTransitionDuration,\n  removeAttribute,\n  setAttribute,\n  keydownEvent,\n  mouseclickEvent,\n  resizeEvent,\n  ariaModal,\n  ariaHidden,\n  getInstance,\n  isRTL,\n  removeClass,\n  hasClass,\n  addClass,\n  closest,\n  querySelectorAll,\n  querySelector,\n  getDocumentElement,\n  getDocumentBody,\n  getDocument,\n  getWindow,\n  CSS4Declaration,\n  setElementStyle,\n  createCustomEvent,\n  emulateTransitionEnd,\n  passiveHandler,\n  dispatchEvent,\n  focus,\n  Timer,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport dataBsToggle from '../strings/dataBsToggle';\nimport dataBsDismiss from '../strings/dataBsDismiss';\nimport fadeClass from '../strings/fadeClass';\nimport showClass from '../strings/showClass';\nimport modalString from '../strings/modalString';\nimport modalComponent from '../strings/modalComponent';\nimport offcanvasComponent from '../strings/offcanvasComponent';\n\nimport getTargetElement from '../util/getTargetElement';\nimport { setScrollbar, measureScrollbar } from '../util/scrollbar';\nimport {\n  overlay,\n  modalActiveSelector,\n  toggleOverlayType,\n  appendOverlay,\n  showOverlay,\n  hideOverlay,\n  getCurrentOpen,\n  removeOverlay,\n} from '../util/backdrop';\nimport isVisible from '../util/isVisible';\nimport BaseComponent from './base-component';\nimport { ModalOptions, ModalEvent } from '../interface/modal';\nimport { hasPopup } from '../util/popupContainer';\n\n// MODAL PRIVATE GC\n// ================\nconst modalSelector = `.${modalString}`;\nconst modalToggleSelector = `[${dataBsToggle}=\"${modalString}\"]`;\nconst modalDismissSelector = `[${dataBsDismiss}=\"${modalString}\"]`;\nconst modalStaticClass = `${modalString}-static`;\n\nconst modalDefaults = {\n  backdrop: true,\n  keyboard: true,\n};\n\n/**\n * Static method which returns an existing `Modal` instance associated\n * to a target `Element`.\n */\nconst getModalInstance = (element: HTMLElement) => getInstance<Modal>(element, modalComponent);\n\n/**\n * A `Modal` initialization callback.\n */\nconst modalInitCallback = (element: HTMLElement) => new Modal(element);\n\n// MODAL CUSTOM EVENTS\n// ===================\nconst showModalEvent = createCustomEvent<ModalEvent>(`show.bs.${modalString}`);\nconst shownModalEvent = createCustomEvent<ModalEvent>(`shown.bs.${modalString}`);\nconst hideModalEvent = createCustomEvent<ModalEvent>(`hide.bs.${modalString}`);\nconst hiddenModalEvent = createCustomEvent<ModalEvent>(`hidden.bs.${modalString}`);\n\n// MODAL PRIVATE METHODS\n// =====================\n/**\n * Applies special style for the `<body>` and fixed elements\n * when a modal instance is shown to the user.\n *\n * @param self the `Modal` instance\n */\nconst setModalScrollbar = (self: Modal) => {\n  const { element } = self;\n  const scrollbarWidth = measureScrollbar(element);\n  const { clientHeight, scrollHeight } = getDocumentElement(element);\n  const { clientHeight: modalHeight, scrollHeight: modalScrollHeight } = element;\n  const modalOverflow = modalHeight !== modalScrollHeight;\n\n  /* istanbul ignore else */\n  if (!modalOverflow && scrollbarWidth) {\n    const pad = !isRTL(element) ? 'paddingRight' : /* istanbul ignore next */ 'paddingLeft';\n    const padStyle = {} as Partial<CSS4Declaration>;\n    padStyle[pad] = `${scrollbarWidth}px`;\n    setElementStyle(element, padStyle);\n  }\n  setScrollbar(element, modalOverflow || clientHeight !== scrollHeight);\n};\n\n/**\n * Toggles on/off the listeners of events that close the modal.\n *\n * @param self the `Modal` instance\n * @param add when `true`, event listeners are added\n */\nconst toggleModalDismiss = (self: Modal, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { element, update } = self;\n  action(element, mouseclickEvent, modalDismissHandler as EventListener);\n  action(getWindow(element), resizeEvent, update, passiveHandler);\n  action(getDocument(element), keydownEvent, modalKeyHandler as EventListener);\n};\n\n/**\n * Toggles on/off the `click` event listener of the `Modal` instance.\n *\n * @param self the `Modal` instance\n * @param add when `true`, event listener is added\n */\nconst toggleModalHandler = (self: Modal, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { triggers } = self;\n\n  /* istanbul ignore else */\n  if (triggers.length) {\n    triggers.forEach(btn => action(btn, mouseclickEvent, modalClickHandler as EventListener));\n  }\n};\n\n/**\n * Executes after a modal is hidden to the user.\n *\n * @param self the `Modal` instance\n */\nconst afterModalHide = (self: Modal) => {\n  const { triggers, element, relatedTarget } = self;\n  removeOverlay(element);\n  setElementStyle(element, { paddingRight: '', display: '' });\n  toggleModalDismiss(self);\n\n  const focusElement = showModalEvent.relatedTarget || triggers.find(isVisible);\n  /* istanbul ignore else */\n  if (focusElement) focus(focusElement as HTMLElement);\n\n  hiddenModalEvent.relatedTarget = relatedTarget as HTMLElement | undefined;\n  dispatchEvent(element, hiddenModalEvent);\n};\n\n/**\n * Executes after a modal is shown to the user.\n *\n * @param self the `Modal` instance\n */\nconst afterModalShow = (self: Modal) => {\n  const { element, relatedTarget } = self;\n  focus(element);\n  toggleModalDismiss(self, true);\n\n  shownModalEvent.relatedTarget = relatedTarget as HTMLElement | undefined;\n  dispatchEvent(element, shownModalEvent);\n};\n\n/**\n * Executes before a modal is shown to the user.\n *\n * @param self the `Modal` instance\n */\nconst beforeModalShow = (self: Modal) => {\n  const { element, hasFade } = self;\n  setElementStyle(element, { display: 'block' });\n\n  setModalScrollbar(self);\n  /* istanbul ignore else */\n  if (!getCurrentOpen(element)) {\n    setElementStyle(getDocumentBody(element), { overflow: 'hidden' });\n  }\n\n  addClass(element, showClass);\n  removeAttribute(element, ariaHidden);\n  setAttribute(element, ariaModal, 'true');\n\n  if (hasFade) emulateTransitionEnd(element, () => afterModalShow(self));\n  else afterModalShow(self);\n};\n\n/**\n * Executes before a modal is hidden to the user.\n *\n * @param self the `Modal` instance\n */\nconst beforeModalHide = (self: Modal) => {\n  const { element, options, hasFade } = self;\n\n  // callback can also be the transitionEvent object, we wanna make sure it's not\n  // call is not forced and overlay is visible\n  if (options.backdrop && hasFade && hasClass(overlay, showClass) && !getCurrentOpen(element)) {\n    // AND no modal is visible\n    hideOverlay();\n    emulateTransitionEnd(overlay, () => afterModalHide(self));\n  } else {\n    afterModalHide(self);\n  }\n};\n\n// MODAL EVENT HANDLERS\n// ====================\n/**\n * Handles the `click` event listener for modal.\n *\n * @param e the `Event` object\n */\nconst modalClickHandler = (e: MouseEvent) => {\n  const { target } = e;\n\n  const trigger = target && closest(target as HTMLElement, modalToggleSelector);\n  const element = trigger && getTargetElement(trigger);\n  const self = element && getModalInstance(element);\n\n  /* istanbul ignore else */\n  if (self) {\n    /* istanbul ignore else */\n    if (trigger && trigger.tagName === 'A') e.preventDefault();\n    self.relatedTarget = trigger;\n    self.toggle();\n  }\n};\n\n/**\n * Handles the `keydown` event listener for modal\n * to hide the modal when user type the `ESC` key.\n *\n * @param e the `Event` object\n */\nconst modalKeyHandler = ({ code, target }: KeyboardEvent) => {\n  const element = querySelector(modalActiveSelector, getDocument(target as Node));\n  const self = element && getModalInstance(element);\n\n  /* istanbul ignore else */\n  if (self) {\n    const { options } = self;\n    /* istanbul ignore else */\n    if (\n      options.keyboard &&\n      code === keyEscape && // the keyboard option is enabled and the key is 27\n      hasClass(element, showClass)\n    ) {\n      // the modal is not visible\n      self.relatedTarget = null;\n      self.hide();\n    }\n  }\n};\n\n/**\n * Handles the `click` event listeners that hide the modal.\n *\n * @param e the `Event` object\n */\nfunction modalDismissHandler(this: HTMLElement, e: MouseEvent) {\n  const self = getModalInstance(this);\n\n  // this timer is needed\n  /* istanbul ignore else: must have a filter */\n  if (self && !Timer.get(this)) {\n    const { options, isStatic, modalDialog } = self;\n    const { backdrop } = options;\n    const { target } = e;\n\n    const selectedText = getDocument(this)?.getSelection()?.toString().length;\n    const targetInsideDialog = modalDialog.contains(target as HTMLElement);\n    const dismiss = target && closest(target as HTMLElement, modalDismissSelector);\n\n    /* istanbul ignore else */\n    if (isStatic && !targetInsideDialog) {\n      Timer.set(\n        this,\n        () => {\n          addClass(this, modalStaticClass);\n          emulateTransitionEnd(modalDialog, () => staticTransitionEnd(self));\n        },\n        17,\n      );\n    } else if (dismiss || (!selectedText && !isStatic && !targetInsideDialog && backdrop)) {\n      self.relatedTarget = dismiss || null;\n      self.hide();\n      e.preventDefault();\n    }\n  }\n}\n\n/**\n * Handles the `transitionend` event listeners for `Modal`.\n *\n * @param self the `Modal` instance\n */\nconst staticTransitionEnd = (self: Modal) => {\n  const { element, modalDialog } = self;\n  const duration = (getElementTransitionDuration(modalDialog) || 0) + 17;\n  removeClass(element, modalStaticClass);\n  // user must wait for zoom out transition\n  Timer.set(element, () => Timer.clear(element), duration);\n};\n\n// MODAL DEFINITION\n// ================\n/** Returns a new `Modal` instance. */\nexport default class Modal extends BaseComponent {\n  static selector = modalSelector;\n  static init = modalInitCallback;\n  static getInstance = getModalInstance;\n  declare options: ModalOptions;\n  declare modalDialog: HTMLElement;\n  declare triggers: HTMLElement[];\n  declare isStatic: boolean;\n  declare hasFade: boolean;\n  declare relatedTarget: HTMLElement | null;\n\n  /**\n   * @param target usually the `.modal` element\n   * @param config instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<ModalOptions>) {\n    super(target, config);\n\n    // the modal\n    const { element } = this;\n\n    // the modal-dialog\n    const modalDialog = querySelector(`.${modalString}-dialog`, element);\n\n    /* istanbul ignore else */\n    if (modalDialog) {\n      this.modalDialog = modalDialog;\n      // modal can have multiple triggering elements\n      this.triggers = [...querySelectorAll(modalToggleSelector, getDocument(element))].filter(\n        btn => getTargetElement(btn) === element,\n      );\n\n      // additional internals\n      this.isStatic = this.options.backdrop === 'static';\n      this.hasFade = hasClass(element, fadeClass);\n      this.relatedTarget = null;\n\n      // attach event listeners\n      toggleModalHandler(this, true);\n    }\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return modalComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return modalDefaults;\n  }\n\n  // MODAL PUBLIC METHODS\n  // ====================\n  /** Toggles the visibility of the modal. */\n  toggle() {\n    if (hasClass(this.element, showClass)) this.hide();\n    else this.show();\n  }\n\n  /** Shows the modal to the user. */\n  show() {\n    const { element, options, hasFade, relatedTarget } = this;\n    const { backdrop } = options;\n    let overlayDelay = 0;\n\n    if (!hasClass(element, showClass)) {\n      showModalEvent.relatedTarget = relatedTarget || undefined;\n      dispatchEvent(element, showModalEvent);\n      if (!showModalEvent.defaultPrevented) {\n        // we elegantly hide any opened modal/offcanvas\n        const currentOpen = getCurrentOpen(element);\n\n        if (currentOpen && currentOpen !== element) {\n          const that =\n            getModalInstance(currentOpen) ||\n            /* istanbul ignore next */\n            getInstance<typeof BaseComponent & { hide: () => void }>(currentOpen, offcanvasComponent);\n          if (that) that.hide();\n        }\n        if (backdrop) {\n          if (!hasPopup(overlay)) {\n            appendOverlay(element, hasFade, true);\n          } else {\n            toggleOverlayType(true);\n          }\n\n          overlayDelay = getElementTransitionDuration(overlay);\n          showOverlay();\n          setTimeout(() => beforeModalShow(this), overlayDelay);\n        } else {\n          beforeModalShow(this);\n          /* istanbul ignore else */\n          if (currentOpen && hasClass(overlay, showClass)) {\n            hideOverlay();\n          }\n        }\n      }\n    }\n  }\n\n  /** Hide the modal from the user. */\n  hide() {\n    const { element, hasFade, relatedTarget } = this;\n\n    if (hasClass(element, showClass)) {\n      hideModalEvent.relatedTarget = relatedTarget || undefined;\n      dispatchEvent(element, hideModalEvent);\n\n      if (!hideModalEvent.defaultPrevented) {\n        removeClass(element, showClass);\n        setAttribute(element, ariaHidden, 'true');\n        removeAttribute(element, ariaModal);\n\n        /* istanbul ignore else */\n        if (hasFade) {\n          emulateTransitionEnd(element, () => beforeModalHide(this));\n        } else {\n          beforeModalHide(this);\n        }\n      }\n    }\n  }\n\n  /**\n   * Updates the modal layout.\n   */\n  update = () => {\n    /* istanbul ignore else */\n    if (hasClass(this.element, showClass)) setModalScrollbar(this);\n  };\n\n  /** Removes the `Modal` component from target element. */\n  dispose() {\n    const clone = { ...this };\n    const { element, modalDialog } = clone;\n    const callback = () => setTimeout(() => super.dispose(), 17);\n    toggleModalHandler(clone);\n\n    // use transitionend callback\n    this.hide();\n    /* istanbul ignore else */\n    if (hasClass(element, 'fade')) {\n      emulateTransitionEnd(modalDialog, callback);\n    } else {\n      callback();\n    }\n  }\n}\n", "/* Native JavaScript for Bootstrap 5 | OffCanvas\n------------------------------------------------ */\nimport {\n  ariaHidden,\n  addClass,\n  hasClass,\n  closest,\n  querySelectorAll,\n  querySelector,\n  removeAttribute,\n  setAttribute,\n  keyEscape,\n  keydownEvent,\n  mouseclickEvent,\n  ariaModal,\n  emulateTransitionEnd,\n  dispatchEvent,\n  getElementTransitionDuration,\n  getDocumentBody,\n  getDocumentElement,\n  getDocument,\n  removeClass,\n  setElementStyle,\n  createCustomEvent,\n  focus,\n  getInstance,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport dataBsDismiss from '../strings/dataBsDismiss';\nimport dataBsToggle from '../strings/dataBsToggle';\nimport showClass from '../strings/showClass';\nimport offcanvasString from '../strings/offcanvasString';\nimport offcanvasComponent from '../strings/offcanvasComponent';\nimport modalComponent from '../strings/modalComponent';\n\nimport getTargetElement from '../util/getTargetElement';\nimport isVisible from '../util/isVisible';\nimport { setScrollbar } from '../util/scrollbar';\nimport { hasPopup } from '../util/popupContainer';\nimport {\n  overlay,\n  offcanvasActiveSelector,\n  toggleOverlayType,\n  appendOverlay,\n  showOverlay,\n  hideOverlay,\n  getCurrentOpen,\n  removeOverlay,\n} from '../util/backdrop';\nimport BaseComponent from './base-component';\nimport { OffcanvasOptions, OffcanvasEvent } from '../interface/offcanvas';\n\n// OFFCANVAS PRIVATE GC\n// ====================\nconst offcanvasSelector = `.${offcanvasString}`;\nconst offcanvasToggleSelector = `[${dataBsToggle}=\"${offcanvasString}\"]`;\nconst offcanvasDismissSelector = `[${dataBsDismiss}=\"${offcanvasString}\"]`;\nconst offcanvasTogglingClass = `${offcanvasString}-toggling`;\n\nconst offcanvasDefaults = {\n  backdrop: true, // boolean\n  keyboard: true, // boolean\n  scroll: false, // boolean\n};\n\n/**\n * Static method which returns an existing `Offcanvas` instance associated\n * to a target `Element`.\n */\nconst getOffcanvasInstance = (element: HTMLElement) => getInstance<Offcanvas>(element, offcanvasComponent);\n\n/**\n * An `Offcanvas` initialization callback.\n */\nconst offcanvasInitCallback = (element: HTMLElement) => new Offcanvas(element);\n\n// OFFCANVAS CUSTOM EVENTS\n// =======================\nconst showOffcanvasEvent = createCustomEvent<OffcanvasEvent>(`show.bs.${offcanvasString}`);\nconst shownOffcanvasEvent = createCustomEvent<OffcanvasEvent>(`shown.bs.${offcanvasString}`);\nconst hideOffcanvasEvent = createCustomEvent<OffcanvasEvent>(`hide.bs.${offcanvasString}`);\nconst hiddenOffcanvasEvent = createCustomEvent<OffcanvasEvent>(`hidden.bs.${offcanvasString}`);\n\n// OFFCANVAS PRIVATE METHODS\n// =========================\n/**\n * Sets additional style for the `<body>` and other elements\n * when showing an offcanvas to the user.\n *\n * @param self the `Offcanvas` instance\n */\nconst setOffCanvasScrollbar = (self: Offcanvas) => {\n  const { element } = self;\n  const { clientHeight, scrollHeight } = getDocumentElement(element);\n  setScrollbar(element, clientHeight !== scrollHeight);\n};\n\n/**\n * Toggles on/off the `click` event listeners.\n *\n * @param self the `Offcanvas` instance\n * @param add when *true*, listeners are added\n */\nconst toggleOffcanvasEvents = (self: Offcanvas, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  self.triggers.forEach(btn => action(btn, mouseclickEvent, offcanvasTriggerHandler as EventListener));\n};\n\n/**\n * Toggles on/off the listeners of the events that close the offcanvas.\n *\n * @param self the `Offcanvas` instance\n * @param add when *true* listeners are added\n */\nconst toggleOffCanvasDismiss = (self: Offcanvas, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const doc = getDocument(self.element);\n  action(doc, keydownEvent, offcanvasKeyDismissHandler as EventListener);\n  action(doc, mouseclickEvent, offcanvasDismissHandler as EventListener);\n};\n\n/**\n * Executes before showing the offcanvas.\n *\n * @param self the `Offcanvas` instance\n */\nconst beforeOffcanvasShow = (self: Offcanvas) => {\n  const { element, options } = self;\n\n  /* istanbul ignore else */\n  if (!options.scroll) {\n    setOffCanvasScrollbar(self);\n    setElementStyle(getDocumentBody(element), { overflow: 'hidden' });\n  }\n\n  addClass(element, offcanvasTogglingClass);\n  addClass(element, showClass);\n  setElementStyle(element, { visibility: 'visible' });\n\n  emulateTransitionEnd(element, () => showOffcanvasComplete(self));\n};\n\n/**\n * Executes before hiding the offcanvas.\n *\n * @param self the `Offcanvas` instance\n */\nconst beforeOffcanvasHide = (self: Offcanvas) => {\n  const { element, options } = self;\n  const currentOpen = getCurrentOpen(element);\n\n  element.blur();\n\n  if (!currentOpen && options.backdrop && hasClass(overlay, showClass)) {\n    hideOverlay();\n    emulateTransitionEnd(overlay, () => hideOffcanvasComplete(self));\n  } else hideOffcanvasComplete(self);\n};\n\n// OFFCANVAS EVENT HANDLERS\n// ========================\n/**\n * Handles the `click` event listeners.\n *\n * @param e the `Event` object\n */\nconst offcanvasTriggerHandler = (e: MouseEvent) => {\n  const trigger = closest(e.target as HTMLElement, offcanvasToggleSelector);\n  const element = trigger && getTargetElement(trigger);\n  const self = element && getOffcanvasInstance(element);\n\n  /* istanbul ignore else */\n  if (self) {\n    self.relatedTarget = trigger;\n    self.toggle();\n    /* istanbul ignore else */\n    if (trigger && trigger.tagName === 'A') {\n      e.preventDefault();\n    }\n  }\n};\n\n/**\n * Handles the event listeners that close the offcanvas.\n *\n * @param e the `Event` object\n */\nconst offcanvasDismissHandler = (e: MouseEvent) => {\n  const { target } = e;\n  const element = querySelector(offcanvasActiveSelector, getDocument(target as Node));\n  const offCanvasDismiss = querySelector(offcanvasDismissSelector, element as HTMLElement | undefined);\n  const self = element && getOffcanvasInstance(element);\n\n  /* istanbul ignore else */\n  if (self) {\n    const { options, triggers } = self;\n    const { backdrop } = options;\n    const trigger = closest(target as HTMLElement, offcanvasToggleSelector);\n    const selection = getDocument(element).getSelection();\n\n    /* istanbul ignore else: a filter is required here */\n    if (!overlay.contains(target as HTMLElement) || backdrop !== 'static') {\n      /* istanbul ignore else */\n      if (\n        !(selection && selection.toString().length) &&\n        ((!element.contains(target as HTMLElement) &&\n          backdrop &&\n          /* istanbul ignore next */ (!trigger || triggers.includes(target as HTMLElement))) ||\n          (offCanvasDismiss && offCanvasDismiss.contains(target as HTMLElement)))\n      ) {\n        self.relatedTarget =\n          offCanvasDismiss && offCanvasDismiss.contains(target as HTMLElement) ? offCanvasDismiss : null;\n        self.hide();\n      }\n\n      /* istanbul ignore next */\n      if (trigger && trigger.tagName === 'A') e.preventDefault();\n    }\n  }\n};\n\n/**\n * Handles the `keydown` event listener for offcanvas\n * to hide it when user type the `ESC` key.\n *\n * @param e the `Event` object\n */\nconst offcanvasKeyDismissHandler = ({ code, target }: KeyboardEvent) => {\n  const element = querySelector(offcanvasActiveSelector, getDocument(target as Node));\n  const self = element && getOffcanvasInstance(element);\n\n  /* istanbul ignore else */\n  if (self) {\n    /* istanbul ignore else */\n    if (self.options.keyboard && code === keyEscape) {\n      self.relatedTarget = null;\n      self.hide();\n    }\n  }\n};\n\n/**\n * Handles the `transitionend` when showing the offcanvas.\n *\n * @param self the `Offcanvas` instance\n */\nconst showOffcanvasComplete = (self: Offcanvas) => {\n  const { element } = self;\n  removeClass(element, offcanvasTogglingClass);\n\n  removeAttribute(element, ariaHidden);\n  setAttribute(element, ariaModal, 'true');\n  setAttribute(element, 'role', 'dialog');\n\n  dispatchEvent(element, shownOffcanvasEvent);\n\n  toggleOffCanvasDismiss(self, true);\n  focus(element);\n};\n\n/**\n * Handles the `transitionend` when hiding the offcanvas.\n *\n * @param self the `Offcanvas` instance\n */\nconst hideOffcanvasComplete = (self: Offcanvas) => {\n  const { element, triggers } = self;\n\n  setAttribute(element, ariaHidden, 'true');\n  removeAttribute(element, ariaModal);\n  removeAttribute(element, 'role');\n  setElementStyle(element, { visibility: '' });\n\n  const visibleTrigger = showOffcanvasEvent.relatedTarget || triggers.find(isVisible);\n  /* istanbul ignore else */\n  if (visibleTrigger) focus(visibleTrigger as HTMLElement);\n\n  removeOverlay(element);\n\n  dispatchEvent(element, hiddenOffcanvasEvent);\n  removeClass(element, offcanvasTogglingClass);\n\n  // must check for open instances\n  if (!getCurrentOpen(element)) {\n    toggleOffCanvasDismiss(self);\n  }\n};\n\n// OFFCANVAS DEFINITION\n// ====================\n/** Returns a new `Offcanvas` instance. */\nexport default class Offcanvas extends BaseComponent {\n  static selector = offcanvasSelector;\n  static init = offcanvasInitCallback;\n  static getInstance = getOffcanvasInstance;\n  declare options: OffcanvasOptions;\n  declare triggers: HTMLElement[];\n  declare relatedTarget: HTMLElement | null;\n\n  /**\n   * @param target usually an `.offcanvas` element\n   * @param config instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<OffcanvasOptions>) {\n    super(target, config);\n\n    // instance element\n    const { element } = this;\n\n    // all the triggering buttons\n    this.triggers = [...querySelectorAll(offcanvasToggleSelector, getDocument(element))].filter(\n      btn => getTargetElement(btn) === element,\n    );\n\n    // additional instance property\n    this.relatedTarget = null;\n\n    // attach event listeners\n    toggleOffcanvasEvents(this, true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return offcanvasComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return offcanvasDefaults;\n  }\n\n  // OFFCANVAS PUBLIC METHODS\n  // ========================\n  /** Shows or hides the offcanvas from the user. */\n  toggle() {\n    if (hasClass(this.element, showClass)) this.hide();\n    else this.show();\n  }\n\n  /** Shows the offcanvas to the user. */\n  show() {\n    const { element, options, relatedTarget } = this;\n    let overlayDelay = 0;\n\n    if (!hasClass(element, showClass)) {\n      showOffcanvasEvent.relatedTarget = relatedTarget || undefined;\n      shownOffcanvasEvent.relatedTarget = relatedTarget || undefined;\n      dispatchEvent(element, showOffcanvasEvent);\n\n      if (!showOffcanvasEvent.defaultPrevented) {\n        // we elegantly hide any opened modal/offcanvas\n        const currentOpen = getCurrentOpen(element);\n        if (currentOpen && currentOpen !== element) {\n          const that =\n            getOffcanvasInstance(currentOpen) ||\n            /* istanbul ignore next */\n            getInstance<typeof BaseComponent & { hide: () => void }>(currentOpen, modalComponent);\n          if (that) that.hide();\n        }\n\n        if (options.backdrop) {\n          if (!hasPopup(overlay)) {\n            appendOverlay(element, true);\n          } else {\n            toggleOverlayType();\n          }\n\n          overlayDelay = getElementTransitionDuration(overlay);\n          showOverlay();\n\n          setTimeout(() => beforeOffcanvasShow(this), overlayDelay);\n        } else {\n          beforeOffcanvasShow(this);\n          /* istanbul ignore next - this test was done on Modal */\n          if (currentOpen && hasClass(overlay, showClass)) {\n            hideOverlay();\n          }\n        }\n      }\n    }\n  }\n\n  /** Hides the offcanvas from the user. */\n  hide() {\n    const { element, relatedTarget } = this;\n\n    if (hasClass(element, showClass)) {\n      hideOffcanvasEvent.relatedTarget = relatedTarget || undefined;\n      hiddenOffcanvasEvent.relatedTarget = relatedTarget || undefined;\n      dispatchEvent(element, hideOffcanvasEvent);\n      if (!hideOffcanvasEvent.defaultPrevented) {\n        addClass(element, offcanvasTogglingClass);\n        removeClass(element, showClass);\n        beforeOffcanvasHide(this);\n      }\n    }\n  }\n\n  /** Removes the `Offcanvas` from the target element. */\n  dispose() {\n    const clone = { ...this };\n    const { element, options } = clone;\n    const delay = options.backdrop ? getElementTransitionDuration(overlay) : /* istanbul ignore next */ 0;\n    const callback = () => setTimeout(() => super.dispose(), delay + 17);\n    toggleOffcanvasEvents(clone);\n\n    this.hide();\n    if (hasClass(element, showClass)) {\n      emulateTransitionEnd(element, callback);\n      /* istanbul ignore next */\n    } else {\n      callback();\n    }\n  }\n}\n", "/** @type {string} */\nconst popoverString = 'popover';\nexport default popoverString;\n", "/** @type {string} */\nconst popoverComponent = 'Popover';\nexport default popoverComponent;\n", "/** @type {string} */\nconst tooltipString = 'tooltip';\nexport default tooltipString;\n", "import tooltipString from '../strings/tooltipString';\n\n/**\n * Returns a template for Popover / Tooltip.\n *\n * @param tipType the expected markup type\n * @returns the template markup\n */\nconst getTipTemplate = (tipType: string) => {\n  const isTooltip = tipType === tooltipString;\n  const bodyClass = isTooltip ? `${tipType}-inner` : `${tipType}-body`;\n  const header = !isTooltip ? `<h3 class=\"${tipType}-header\"></h3>` : '';\n  const arrow = `<div class=\"${tipType}-arrow\"></div>`;\n  const body = `<div class=\"${bodyClass}\"></div>`;\n  return `<div class=\"${tipType}\" role=\"${tooltipString}\">${header + arrow + body}</div>`;\n};\n\nexport default getTipTemplate;\n", "const tipClassPositions = {\n  top: 'top',\n  bottom: 'bottom',\n  left: 'start',\n  right: 'end',\n};\n\nexport default tipClassPositions;\n", "import {\n  isHTMLElement,\n  setElementStyle,\n  getDocumentElement,\n  getBoundingClientRect,\n  getElementStyle,\n  isRTL,\n  toLowerCase,\n  createCustomEvent,\n  dispatchEvent,\n} from '@thednp/shorty';\n\nimport popoverComponent from '../strings/popoverComponent';\nimport tipClassPositions from './tipClassPositions';\nimport Tooltip from '../components/tooltip';\nimport type { TooltipEvent } from '../interface/tooltip';\nimport type { PopoverEvent } from '../interface/popover';\n\n/**\n * Style popovers and tooltips.\n *\n * @param self the `Popover` / `Tooltip` instance\n */\nconst styleTip = <T extends Tooltip>(self: T) => {\n  const tipClasses = /\\b(top|bottom|start|end)+/;\n  const { element, tooltip, container, options, arrow } = self;\n\n  /* istanbul ignore else */\n  if (tooltip) {\n    const tipPositions = { ...tipClassPositions };\n    const RTL = isRTL(element);\n\n    // reset tooltip style (top: 0, left: 0 works best)\n    setElementStyle(tooltip, {\n      // top: '0px', left: '0px', right: '', bottom: '',\n      top: '',\n      left: '',\n      right: '',\n      bottom: '',\n    });\n    const isPopover = self.name === popoverComponent;\n    const { offsetWidth: tipWidth, offsetHeight: tipHeight } = tooltip;\n    const { clientWidth: htmlcw, clientHeight: htmlch, offsetWidth: htmlow } = getDocumentElement(element);\n    let { placement } = options;\n    const { clientWidth: parentCWidth, offsetWidth: parentOWidth } = container as HTMLElement;\n    const parentPosition = getElementStyle(container as HTMLElement, 'position');\n    const fixedParent = parentPosition === 'fixed';\n    const scrollbarWidth = fixedParent ? Math.abs(parentCWidth - parentOWidth) : Math.abs(htmlcw - htmlow);\n    const leftBoundry = RTL && fixedParent ? /* istanbul ignore next */ scrollbarWidth : 0;\n    const rightBoundry = htmlcw - (!RTL ? scrollbarWidth : 0) - 1;\n    const {\n      width: elemWidth,\n      height: elemHeight,\n      left: elemRectLeft,\n      right: elemRectRight,\n      top: elemRectTop,\n    } = getBoundingClientRect(element, true);\n    const { x, y } = {\n      x: elemRectLeft,\n      y: elemRectTop,\n    };\n    // reset arrow style\n    setElementStyle(arrow as HTMLElement, {\n      top: '',\n      left: '',\n      right: '',\n      bottom: '',\n    });\n    let topPosition: number | string = 0;\n    let bottomPosition: number | string = '';\n    let leftPosition: number | string = 0;\n    let rightPosition: number | string = '';\n    let arrowTop: number | string = '';\n    let arrowLeft: number | string = '';\n    let arrowRight: number | string = '';\n\n    const arrowWidth = (arrow as HTMLElement).offsetWidth || 0;\n    const arrowHeight = (arrow as HTMLElement).offsetHeight || 0;\n    const arrowAdjust = arrowWidth / 2;\n\n    // check placement\n    let topExceed = elemRectTop - tipHeight - arrowHeight < 0;\n    let bottomExceed = elemRectTop + tipHeight + elemHeight + arrowHeight >= htmlch;\n    let leftExceed = elemRectLeft - tipWidth - arrowWidth < leftBoundry;\n    let rightExceed = elemRectLeft + tipWidth + elemWidth + arrowWidth >= rightBoundry;\n\n    const horizontals = ['left', 'right'];\n    const verticals = ['top', 'bottom'];\n\n    topExceed = horizontals.includes(placement)\n      ? elemRectTop + elemHeight / 2 - tipHeight / 2 - arrowHeight < 0\n      : topExceed;\n    bottomExceed = horizontals.includes(placement)\n      ? elemRectTop + tipHeight / 2 + elemHeight / 2 + arrowHeight >= htmlch\n      : bottomExceed;\n    leftExceed = verticals.includes(placement) ? elemRectLeft + elemWidth / 2 - tipWidth / 2 < leftBoundry : leftExceed;\n    rightExceed = verticals.includes(placement)\n      ? elemRectLeft + tipWidth / 2 + elemWidth / 2 >= rightBoundry\n      : rightExceed;\n\n    // first remove side positions if both left and right limits are exceeded\n    // we usually fall back to top|bottom\n    placement = horizontals.includes(placement) && leftExceed && rightExceed ? 'top' : placement;\n    // recompute placement\n    placement = placement === 'top' && topExceed ? 'bottom' : placement;\n    placement = placement === 'bottom' && bottomExceed ? 'top' : placement;\n    placement = placement === 'left' && leftExceed ? 'right' : placement;\n    placement = placement === 'right' && rightExceed ? /* istanbul ignore next */ 'left' : placement;\n\n    // update tooltip/popover class\n    if (!tooltip.className.includes(placement)) {\n      tooltip.className = tooltip.className.replace(tipClasses, tipPositions[placement]);\n    }\n\n    // compute tooltip / popover coordinates\n    /* istanbul ignore else */\n    if (horizontals.includes(placement)) {\n      // secondary|side positions\n      if (placement === 'left') {\n        // LEFT\n        leftPosition = x - tipWidth - (isPopover ? arrowWidth : 0);\n      } else {\n        // RIGHT\n        leftPosition = x + elemWidth + (isPopover ? arrowWidth : 0);\n      }\n\n      // adjust top and arrow\n      if (topExceed && bottomExceed) {\n        topPosition = 0;\n        bottomPosition = 0;\n        arrowTop = elemRectTop + elemHeight / 2 - arrowHeight / 2;\n      } else if (topExceed) {\n        topPosition = y;\n        bottomPosition = '';\n        arrowTop = elemHeight / 2 - arrowWidth;\n      } else if (bottomExceed) {\n        topPosition = y - tipHeight + elemHeight;\n        bottomPosition = '';\n        arrowTop = tipHeight - elemHeight / 2 - arrowWidth;\n      } else {\n        topPosition = y - tipHeight / 2 + elemHeight / 2;\n        arrowTop = tipHeight / 2 - arrowHeight / 2;\n      }\n    } else if (verticals.includes(placement)) {\n      if (placement === 'top') {\n        topPosition = y - tipHeight - (isPopover ? arrowHeight : 0);\n      } else {\n        // BOTTOM\n        topPosition = y + elemHeight + (isPopover ? arrowHeight : 0);\n      }\n\n      // adjust left | right and also the arrow\n      if (leftExceed) {\n        leftPosition = 0;\n        arrowLeft = x + elemWidth / 2 - arrowAdjust;\n      } else if (rightExceed) {\n        leftPosition = 'auto';\n        rightPosition = 0;\n        arrowRight = elemWidth / 2 + rightBoundry - elemRectRight - arrowAdjust;\n      } else {\n        leftPosition = x - tipWidth / 2 + elemWidth / 2;\n        arrowLeft = tipWidth / 2 - arrowAdjust;\n      }\n    }\n\n    // apply style to tooltip/popover\n    setElementStyle(tooltip, {\n      top: `${topPosition}px`,\n      bottom: bottomPosition === '' ? '' : `${bottomPosition}px`,\n      left: leftPosition === 'auto' ? leftPosition : `${leftPosition}px`,\n      right: rightPosition !== '' ? `${rightPosition}px` : '',\n    });\n\n    // update arrow placement\n    /* istanbul ignore else */\n    if (isHTMLElement(arrow)) {\n      if (arrowTop !== '') {\n        arrow.style.top = `${arrowTop}px`;\n      }\n      if (arrowLeft !== '') {\n        arrow.style.left = `${arrowLeft}px`;\n      } else if (arrowRight !== '') {\n        arrow.style.right = `${arrowRight}px`;\n      }\n    }\n    const updatedTooltipEvent = createCustomEvent<TooltipEvent | PopoverEvent>(`updated.bs.${toLowerCase(self.name)}`);\n    dispatchEvent(element, updatedTooltipEvent);\n  }\n};\n\nexport default styleTip;\n", "import getTipTemplate from './getTipTemplate';\nimport tooltipString from '../strings/tooltipString';\nimport { TooltipOptions } from '../interface/tooltip';\n\nconst tooltipDefaults: TooltipOptions = {\n  template: getTipTemplate(tooltipString),\n  title: '',\n  customClass: '',\n  trigger: 'hover focus',\n  placement: 'top',\n  sanitizeFn: undefined,\n  animation: true,\n  delay: 200,\n  container: document.body,\n  content: '',\n  dismissible: false,\n  btnClose: '',\n};\nexport default tooltipDefaults;\n", "/**\n * Global namespace for `data-bs-title` attribute.\n */\nconst dataOriginalTitle = 'data-original-title';\nexport default dataOriginalTitle;\n", "/** @type {string} */\nconst tooltipComponent = 'Tooltip';\nexport default tooltipComponent;\n", "import { isNode, isArray, isFunction, isString, isNodeList, isHTMLElement } from '@thednp/shorty';\n\n/**\n * Append an existing `Element` to Popover / Tooltip component or HTML\n * markup string to be parsed & sanitized to be used as popover / tooltip content.\n *\n * @param element target\n * @param content the `Element` to append / string\n * @param sanitizeFn a function to sanitize string content\n */\nconst setHtml = (element: HTMLElement, content: Node[] | Node | string, sanitizeFn?: (s: string) => string) => {\n  /* istanbul ignore else */\n  if (isString(content) && content.length) {\n    let dirty = content.trim(); // fixing #233\n    if (isFunction(sanitizeFn)) dirty = sanitizeFn(dirty);\n\n    const domParser = new DOMParser();\n    const tempDocument = domParser.parseFromString(dirty, 'text/html');\n    element.append(...[...tempDocument.body.childNodes]);\n  } else if (isHTMLElement(content)) {\n    element.append(content);\n  } else if (isNodeList(content) || (isArray(content) && content.every(isNode))) {\n    element.append(...[...content]);\n  }\n};\nexport default setHtml;\n", "import { createElement, addClass, hasClass, setAttribute, querySelector, isRTL, isHTMLElement } from '@thednp/shorty';\n\nimport tooltipComponent from '../strings/tooltipComponent';\nimport tooltipString from '../strings/tooltipString';\nimport popoverString from '../strings/popoverString';\nimport fadeClass from '../strings/fadeClass';\nimport tipClassPositions from './tipClassPositions';\nimport setHtml from './setHtml';\nimport Tooltip from '../components/tooltip';\nimport Popover from '../components/popover';\n\n/**\n * Creates a new tooltip / popover.\n *\n * @param self the `Tooltip` / `Popover` instance\n */\nconst createTip = (self: Tooltip | Popover) => {\n  const isTooltip = self.name === tooltipComponent;\n\n  const { id, element, options } = self;\n  const { title, placement, template, animation, customClass, sanitizeFn, dismissible, content, btnClose } = options;\n  const tipString = isTooltip ? tooltipString : popoverString;\n  const tipPositions = { ...tipClassPositions };\n  let titleParts: Node[] = [];\n  let contentParts: Node[] = [];\n\n  if (isRTL(element)) {\n    tipPositions.left = 'end';\n    tipPositions.right = 'start';\n  }\n\n  // set initial popover class\n  const placementClass = `bs-${tipString}-${tipPositions[placement]}`;\n\n  // load template\n  let tooltipTemplate: Node | string;\n  if (isHTMLElement(template)) {\n    tooltipTemplate = template;\n  } else {\n    const htmlMarkup = createElement('div') as HTMLElement;\n    setHtml(htmlMarkup, template, sanitizeFn);\n    tooltipTemplate = htmlMarkup.firstChild as HTMLElement;\n  }\n\n  // set popover markup\n  self.tooltip = isHTMLElement(tooltipTemplate)\n    ? (tooltipTemplate.cloneNode(true) as HTMLElement)\n    : /* istanbul ignore next */ undefined;\n\n  const { tooltip } = self;\n  /* istanbul ignore else */\n  if (tooltip) {\n    // set id and role attributes\n    setAttribute(tooltip, 'id', id);\n    setAttribute(tooltip, 'role', tooltipString);\n\n    const bodyClass = isTooltip ? `${tooltipString}-inner` : `${popoverString}-body`;\n    const tooltipHeader = isTooltip ? null : querySelector(`.${popoverString}-header`, tooltip);\n    const tooltipBody = querySelector(`.${bodyClass}`, tooltip);\n\n    // set arrow and enable access for styleTip\n    self.arrow = querySelector(`.${tipString}-arrow`, tooltip) as HTMLElement;\n    const { arrow } = self;\n\n    if (isHTMLElement(title)) titleParts = [title.cloneNode(true)];\n    else {\n      const tempTitle = createElement('div') as HTMLElement;\n      setHtml(tempTitle, title, sanitizeFn);\n      titleParts = [...[...tempTitle.childNodes]];\n    }\n\n    if (isHTMLElement(content)) contentParts = [content.cloneNode(true)];\n    else {\n      const tempContent = createElement('div') as HTMLElement;\n      setHtml(tempContent, content, sanitizeFn);\n      contentParts = [...[...tempContent.childNodes]];\n    }\n\n    // set dismissible button\n    if (dismissible) {\n      if (title) {\n        if (isHTMLElement(btnClose)) titleParts = [...titleParts, btnClose.cloneNode(true)];\n        else {\n          const tempBtn = createElement('div') as HTMLElement;\n          setHtml(tempBtn, btnClose, sanitizeFn);\n          titleParts = [...titleParts, tempBtn.firstChild as Node];\n        }\n      } else {\n        /* istanbul ignore else */\n        if (tooltipHeader) tooltipHeader.remove();\n        if (isHTMLElement(btnClose)) contentParts = [...contentParts, btnClose.cloneNode(true)];\n        else {\n          const tempBtn = createElement('div') as HTMLElement;\n          setHtml(tempBtn, btnClose, sanitizeFn);\n          contentParts = [...contentParts, tempBtn.firstChild as Node];\n        }\n      }\n    }\n\n    // fill the template with content from options / data attributes\n    // also sanitize title && content\n    /* istanbul ignore else */\n    if (!isTooltip) {\n      /* istanbul ignore else */\n      if (title && tooltipHeader) setHtml(tooltipHeader, titleParts, sanitizeFn);\n      /* istanbul ignore else */\n      if (content && tooltipBody) setHtml(tooltipBody, contentParts, sanitizeFn);\n      // set btn\n      self.btn = querySelector('.btn-close', tooltip) || undefined;\n    } else if (title && tooltipBody) setHtml(tooltipBody, title, sanitizeFn);\n\n    // Bootstrap 5.2.x\n    // addClass(tooltip, 'position-absolute');\n    addClass(tooltip, 'position-fixed');\n    addClass(arrow, 'position-absolute');\n\n    // set popover animation and placement\n    /* istanbul ignore else */\n    if (!hasClass(tooltip, tipString)) addClass(tooltip, tipString);\n    /* istanbul ignore else */\n    if (animation && !hasClass(tooltip, fadeClass)) addClass(tooltip, fadeClass);\n    /* istanbul ignore else */\n    if (customClass && !hasClass(tooltip, customClass)) {\n      addClass(tooltip, customClass);\n    }\n    /* istanbul ignore else */\n    if (!hasClass(tooltip, placementClass)) addClass(tooltip, placementClass);\n  }\n};\n\nexport default createTip;\n", "import { getDocument, isShadowRoot, isTableElement, getParentNode, getElementStyle } from '@thednp/shorty';\n\n/**\n * Returns an `HTMLElement` to be used as default value for *options.container*\n * for `Tooltip` / `Popover` components.\n *\n * @see https://github.com/floating-ui/floating-ui\n *\n * @param element the target\n * @returns the query result\n */\nconst getElementContainer = (element: HTMLElement): ParentNode => {\n  const majorBlockTags = ['HTML', 'BODY'];\n  const containers: ParentNode[] = [];\n  let { parentNode } = element as Node;\n\n  while (parentNode && !majorBlockTags.includes(parentNode.nodeName)) {\n    parentNode = getParentNode(parentNode) as ParentNode;\n    /* istanbul ignore else */\n    if (!(isShadowRoot(parentNode) || isTableElement(parentNode))) {\n      containers.push(parentNode);\n    }\n  }\n\n  return (\n    containers.find((c, i) => {\n      if (\n        getElementStyle(c as HTMLElement, 'position') !== 'relative' &&\n        containers.slice(i + 1).every(r => getElementStyle(r as HTMLElement, 'position') === 'static')\n      ) {\n        return c;\n      }\n      return null;\n    }) || /* istanbul ignore next: optional guard */ getDocument(element).body\n  );\n};\n\nexport default getElementContainer;\n", "/* Native JavaScript for Bootstrap 5 | Tooltip\n---------------------------------------------- */\nimport {\n  ariaDescribedBy,\n  focusoutEvent,\n  focusinEvent,\n  focusEvent,\n  mouseleaveEvent,\n  mouseenterEvent,\n  mousedownEvent,\n  mouseclickEvent,\n  closest,\n  getUID,\n  getDocument,\n  getWindow,\n  removeAttribute,\n  getAttribute,\n  setAttribute,\n  hasAttribute,\n  touchstartEvent,\n  resizeEvent,\n  scrollEvent,\n  mousehoverEvent,\n  toLowerCase,\n  focus,\n  Timer,\n  emulateTransitionEnd,\n  passiveHandler,\n  dispatchEvent,\n  isApple,\n  getInstance,\n  ObjectAssign,\n  createCustomEvent,\n  removeClass,\n  hasClass,\n  addClass,\n  getElementStyle,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport dataBsToggle from '../strings/dataBsToggle';\nimport dataOriginalTitle from '../strings/dataOriginalTitle';\nimport showClass from '../strings/showClass';\nimport tooltipString from '../strings/tooltipString';\nimport tooltipComponent from '../strings/tooltipComponent';\nimport popoverString from '../strings/popoverString';\nimport popoverComponent from '../strings/popoverComponent';\nimport modalString from '../strings/modalString';\nimport offcanvasString from '../strings/offcanvasString';\n\nimport styleTip from '../util/styleTip';\nimport createTip from '../util/createTip';\nimport { appendPopup, removePopup, hasPopup } from '../util/popupContainer';\nimport getElementContainer from '../util/getElementContainer';\nimport tooltipDefaults from '../util/tooltipDefaults';\nimport BaseComponent from './base-component';\nimport { TooltipOptions, TooltipEvent } from '../interface/tooltip';\nimport { PopoverOptions, PopoverEvent } from '../interface/popover';\n\n// TOOLTIP PRIVATE GC\n// ==================\nconst tooltipSelector = `[${dataBsToggle}=\"${tooltipString}\"],[data-tip=\"${tooltipString}\"]`;\nconst titleAttr = 'title';\n\n/**\n * Static method which returns an existing `Tooltip` instance associated\n * to a target `Element`.\n *\n */\nlet getTooltipInstance = (element: HTMLElement) => getInstance<Tooltip>(element, tooltipComponent);\n\n/**\n * A `Tooltip` initialization callback.\n */\nconst tooltipInitCallback = (element: HTMLElement) => new Tooltip(element);\n\n// TOOLTIP PRIVATE METHODS\n// =======================\n/**\n * Removes the tooltip from the DOM.\n *\n * @param self the `Tooltip` instance\n */\nconst removeTooltip = (self: Tooltip) => {\n  const { element, tooltip, container, offsetParent } = self;\n  removeAttribute(element, ariaDescribedBy);\n  removePopup(tooltip as HTMLElement, container === offsetParent ? container : offsetParent);\n};\n\n/**\n * Check if container contains the tooltip.\n *\n * @param self Tooltip\n */\nconst hasTip = (self: Tooltip): boolean | undefined => {\n  const { tooltip, container, offsetParent } = self;\n\n  return tooltip && hasPopup(tooltip, container === offsetParent ? container : offsetParent);\n};\n\n/**\n * Executes after the instance has been disposed.\n *\n * @param self the `Tooltip` instance\n * @param callback the parent dispose callback\n */\nconst disposeTooltipComplete = (self: Tooltip, callback?: () => void) => {\n  const { element } = self;\n  toggleTooltipHandlers(self);\n\n  /* istanbul ignore else */\n  if (hasAttribute(element, dataOriginalTitle) && self.name === tooltipComponent) {\n    toggleTooltipTitle(self);\n  }\n  /* istanbul ignore else */\n  if (callback) callback();\n};\n\n/**\n * Toggles on/off the special `Tooltip` event listeners.\n *\n * @param self the `Tooltip` instance\n * @param add when `true`, event listeners are added\n */\nconst toggleTooltipAction = (self: Tooltip, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { element } = self;\n\n  action(getDocument(element), touchstartEvent, self.handleTouch as EventListener, passiveHandler);\n\n  [scrollEvent, resizeEvent].forEach(ev => {\n    action(getWindow(element), ev, self.update, passiveHandler);\n  });\n};\n\n/**\n * Executes after the tooltip was shown to the user.\n *\n * @param self the `Tooltip` instance\n */\nconst tooltipShownAction = (self: Tooltip) => {\n  const { element } = self;\n  const shownTooltipEvent = createCustomEvent<TooltipEvent | PopoverEvent>(`shown.bs.${toLowerCase(self.name)}`);\n\n  toggleTooltipAction(self, true);\n  dispatchEvent(element, shownTooltipEvent);\n  Timer.clear(element, 'in');\n};\n\n/**\n * Executes after the tooltip was hidden to the user.\n *\n * @param self the `Tooltip` instance\n */\nconst tooltipHiddenAction = (self: Tooltip) => {\n  const { element } = self;\n  const hiddenTooltipEvent = createCustomEvent<TooltipEvent | PopoverEvent>(`hidden.bs.${toLowerCase(self.name)}`);\n\n  toggleTooltipAction(self);\n  removeTooltip(self);\n  dispatchEvent(element, hiddenTooltipEvent);\n\n  Timer.clear(element, 'out');\n};\n\n/**\n * Toggles on/off the `Tooltip` event listeners.\n *\n * @param self the `Tooltip` instance\n * @param add when `true`, event listeners are added\n */\nconst toggleTooltipHandlers = (self: Tooltip, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  // btn is only for dismissible popover\n  const { element, options, btn } = self;\n  const { trigger } = options;\n  const isPopover = self.name !== tooltipComponent;\n  const dismissible = isPopover && (options as PopoverOptions).dismissible ? true : false;\n\n  /* istanbul ignore else */\n  if (!trigger.includes('manual')) {\n    self.enabled = !!add;\n\n    const triggerOptions = trigger.split(' ');\n\n    triggerOptions.forEach(tr => {\n      /* istanbul ignore else */\n      if (tr === mousehoverEvent) {\n        action(element, mousedownEvent, self.handleShow);\n        action(element, mouseenterEvent, self.handleShow);\n\n        /* istanbul ignore else */\n        if (!dismissible) {\n          action(element, mouseleaveEvent, self.handleHide);\n          action(getDocument(element), touchstartEvent, self.handleTouch as EventListener, passiveHandler);\n        }\n      } else if (tr === mouseclickEvent) {\n        action(element, tr, !dismissible ? self.toggle : self.handleShow);\n      } else if (tr === focusEvent) {\n        action(element, focusinEvent, self.handleShow);\n        /* istanbul ignore else */\n        if (!dismissible) action(element, focusoutEvent, self.handleHide);\n        /* istanbul ignore else */\n        if (isApple) {\n          action(element, mouseclickEvent, self.handleFocus);\n        }\n      }\n      /* istanbul ignore else */\n      if (dismissible && btn) {\n        action(btn, mouseclickEvent, self.handleHide);\n      }\n    });\n  }\n};\n\n/**\n * Toggles on/off the `Tooltip` event listeners that hide/update the tooltip.\n *\n * @param self the `Tooltip` instance\n * @param add when `true`, event listeners are added\n */\nconst toggleTooltipOpenHandlers = (self: Tooltip, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { element, container, offsetParent } = self;\n  const { offsetHeight, scrollHeight } = container as HTMLElement;\n  const parentModal = closest(element, `.${modalString}`);\n  const parentOffcanvas = closest(element, `.${offcanvasString}`);\n\n  /* istanbul ignore else */\n  const win = getWindow(element);\n  const overflow = offsetHeight !== scrollHeight;\n  const scrollTarget = container === offsetParent && overflow ? container : win;\n  action(scrollTarget, resizeEvent, self.update, passiveHandler);\n  action(scrollTarget, scrollEvent, self.update, passiveHandler);\n\n  // dismiss tooltips inside modal / offcanvas\n  if (parentModal) action(parentModal, `hide.bs.${modalString}`, self.handleHide);\n  if (parentOffcanvas) action(parentOffcanvas, `hide.bs.${offcanvasString}`, self.handleHide);\n};\n\n/**\n * Toggles the `title` and `data-original-title` attributes.\n *\n * @param self the `Tooltip` instance\n * @param content when `true`, event listeners are added\n */\nconst toggleTooltipTitle = (self: Tooltip, content?: string) => {\n  // [0 - add, 1 - remove] | [0 - remove, 1 - add]\n  const titleAtt = [dataOriginalTitle, titleAttr];\n  const { element } = self;\n\n  setAttribute(\n    element,\n    titleAtt[content ? 0 : 1],\n    content || getAttribute(element, titleAtt[0]) || /* istanbul ignore next */ '',\n  );\n  removeAttribute(element, titleAtt[content ? 1 : 0]);\n};\n\n// TOOLTIP DEFINITION\n// ==================\n/** Creates a new `Tooltip` instance. */\nexport default class Tooltip extends BaseComponent {\n  static selector = tooltipSelector;\n  static init = tooltipInitCallback;\n  static getInstance = getTooltipInstance;\n  static styleTip = styleTip;\n  declare options: TooltipOptions;\n  declare btn?: HTMLElement;\n  declare tooltip?: HTMLElement;\n  declare container: ParentNode;\n  declare arrow?: HTMLElement;\n  declare offsetParent?: HTMLElement;\n  declare enabled: boolean;\n  declare id: string;\n\n  /**\n   * @param target the target element\n   * @param config the instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<TooltipOptions>) {\n    super(target, config);\n\n    const { element } = this;\n    const isTooltip = this.name === tooltipComponent;\n    const tipString = isTooltip ? tooltipString : popoverString;\n    const tipComponent = isTooltip ? tooltipComponent : popoverComponent;\n\n    /* istanbul ignore next: this is to set Popover too */\n    getTooltipInstance = <T extends Tooltip>(elem: HTMLElement) => getInstance<T>(elem, tipComponent);\n\n    // additional properties\n    this.enabled = true;\n    /** Set unique ID for `aria-describedby`. */\n    this.id = `${tipString}-${getUID(element, tipString)}`;\n\n    // instance options\n    const { options } = this;\n\n    // invalidate\n    if (!((!options.title && isTooltip) || (!isTooltip && !options.content))) {\n      // reset default options\n      ObjectAssign(tooltipDefaults, { titleAttr: '' });\n\n      // set title attributes and add event listeners\n      /* istanbul ignore else */\n      if (hasAttribute(element, titleAttr) && isTooltip && typeof options.title === 'string') {\n        toggleTooltipTitle(this, options.title);\n      }\n\n      // set containers\n      this.container = getElementContainer(element);\n      this.offsetParent = ['sticky', 'fixed'].some(\n        position => getElementStyle(this.container as HTMLElement, 'position') === position,\n      )\n        ? (this.container as HTMLElement)\n        : getDocument(this.element).body;\n\n      // create tooltip here\n      createTip(this);\n\n      // attach events\n      toggleTooltipHandlers(this, true);\n    }\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return tooltipComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return tooltipDefaults;\n  }\n\n  // TOOLTIP PUBLIC METHODS\n  // ======================\n  /** Handles the focus event on iOS. */\n  handleFocus = () => focus(this.element);\n  /** Shows the tooltip. */\n  handleShow = () => this.show();\n  show() {\n    const { options, tooltip, element, container, offsetParent, id } = this;\n    const { animation } = options;\n    const outTimer = Timer.get(element, 'out');\n    const tipContainer = container === offsetParent ? container : offsetParent;\n\n    Timer.clear(element, 'out');\n\n    if (tooltip && !outTimer && !hasTip(this)) {\n      Timer.set(\n        element,\n        () => {\n          const showTooltipEvent = createCustomEvent<TooltipEvent | PopoverEvent>(`show.bs.${toLowerCase(this.name)}`);\n          dispatchEvent(element, showTooltipEvent);\n          if (!showTooltipEvent.defaultPrevented) {\n            // append to container\n            appendPopup(tooltip, tipContainer);\n\n            setAttribute(element, ariaDescribedBy, `#${id}`);\n\n            this.update();\n            toggleTooltipOpenHandlers(this, true);\n\n            /* istanbul ignore else */\n            if (!hasClass(tooltip, showClass)) addClass(tooltip, showClass);\n            /* istanbul ignore else */\n            if (animation) emulateTransitionEnd(tooltip, () => tooltipShownAction(this));\n            else tooltipShownAction(this);\n          }\n        },\n        17,\n        'in',\n      );\n    }\n  }\n\n  /** Hides the tooltip. */\n  handleHide = () => this.hide();\n  hide() {\n    const { options, tooltip, element } = this;\n    const { animation, delay } = options;\n\n    Timer.clear(element, 'in');\n\n    /* istanbul ignore else */\n    if (tooltip && hasTip(this)) {\n      Timer.set(\n        element,\n        () => {\n          const hideTooltipEvent = createCustomEvent<TooltipEvent | PopoverEvent>(`hide.bs.${toLowerCase(this.name)}`);\n          dispatchEvent(element, hideTooltipEvent);\n\n          if (!hideTooltipEvent.defaultPrevented) {\n            this.update();\n            removeClass(tooltip, showClass);\n            toggleTooltipOpenHandlers(this);\n\n            /* istanbul ignore else */\n            if (animation) emulateTransitionEnd(tooltip, () => tooltipHiddenAction(this));\n            else tooltipHiddenAction(this);\n          }\n        },\n        delay + 17,\n        'out',\n      );\n    }\n  }\n\n  /** Updates the tooltip position. */\n  update = () => {\n    styleTip<Tooltip>(this);\n  };\n\n  /** Toggles the tooltip visibility. */\n  toggle = () => {\n    const { tooltip } = this;\n\n    if (tooltip && !hasTip(this)) this.show();\n    else this.hide();\n  };\n\n  /** Enables the tooltip. */\n  enable() {\n    const { enabled } = this;\n    /* istanbul ignore else */\n    if (!enabled) {\n      toggleTooltipHandlers(this, true);\n      this.enabled = !enabled;\n    }\n  }\n\n  /** Disables the tooltip. */\n  disable() {\n    const { tooltip, options, enabled } = this;\n    const { animation } = options;\n    /* istanbul ignore else */\n    if (enabled) {\n      if (tooltip && hasTip(this) && animation) {\n        this.hide();\n        emulateTransitionEnd(tooltip, () => toggleTooltipHandlers(this));\n      } else {\n        toggleTooltipHandlers(this);\n      }\n      this.enabled = !enabled;\n    }\n  }\n\n  /** Toggles the `disabled` property. */\n  toggleEnabled() {\n    if (!this.enabled) this.enable();\n    else this.disable();\n  }\n\n  /**\n   * Handles the `touchstart` event listener for `Tooltip`\n   *\n   * @this {Tooltip}\n   * @param {TouchEvent} e the `Event` object\n   */\n  handleTouch = ({ target }: TouchEvent) => {\n    const { tooltip, element } = this;\n\n    /* istanbul ignore else */\n    if (\n      (tooltip && tooltip.contains(target as HTMLElement)) ||\n      target === element ||\n      (target && element.contains(target as HTMLElement))\n    ) {\n      // smile for ESLint\n    } else {\n      this.hide();\n    }\n  };\n\n  /** Removes the `Tooltip` from the target element. */\n  dispose() {\n    const { tooltip, options } = this;\n    const clone = { ...this, name: this.name };\n    const callback = () => setTimeout(() => disposeTooltipComplete(clone, () => super.dispose()), 17);\n\n    if (options.animation && hasTip(clone)) {\n      this.options.delay = 0; // reset delay\n      this.hide();\n      emulateTransitionEnd(tooltip as HTMLElement, callback);\n    } else {\n      callback();\n    }\n  }\n}\n", "/* Native JavaScript for Bootstrap 5 | Popover\n---------------------------------------------- */\nimport { getInstance, ObjectAssign, focus } from '@thednp/shorty';\n\nimport dataBsToggle from '../strings/dataBsToggle';\nimport popoverString from '../strings/popoverString';\nimport popoverComponent from '../strings/popoverComponent';\n\nimport getTipTemplate from '../util/getTipTemplate';\nimport styleTip from '../util/styleTip';\nimport tooltipDefaults from '../util/tooltipDefaults';\nimport Tooltip from './tooltip';\n\nimport type { PopoverOptions /* , PopoverEvent */ } from '../interface/popover';\n\n// POPOVER PRIVATE GC\n// ==================\nconst popoverSelector = `[${dataBsToggle}=\"${popoverString}\"],[data-tip=\"${popoverString}\"]`;\n\nconst popoverDefaults: PopoverOptions = ObjectAssign({}, tooltipDefaults, {\n  template: getTipTemplate(popoverString),\n  content: '',\n  dismissible: false,\n  btnClose: '<button class=\"btn-close\" aria-label=\"Close\"></button>',\n});\n\n/**\n * Static method which returns an existing `Popover` instance associated\n * to a target `Element`.\n *\n */\nconst getPopoverInstance = (element: HTMLElement) => getInstance<Popover>(element, popoverComponent);\n\n/**\n * A `Popover` initialization callback.\n */\nconst popoverInitCallback = (element: HTMLElement) => new Popover(element);\n\n// POPOVER DEFINITION\n// ==================\n/** Returns a new `Popover` instance. */\nexport default class Popover extends Tooltip {\n  static selector = popoverSelector;\n  static init = popoverInitCallback;\n  static getInstance = getPopoverInstance;\n  static styleTip = styleTip;\n  declare options: PopoverOptions;\n\n  /**\n   * @param target the target element\n   * @param config the instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<PopoverOptions>) {\n    super(target, config);\n  }\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return popoverComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return popoverDefaults;\n  }\n\n  /* extend original `show()` */\n  show = () => {\n    super.show();\n    // btn only exists within dismissible popover\n    const { options, btn } = this;\n    /* istanbul ignore else */\n    if (options.dismissible && btn) setTimeout(() => focus(btn), 17);\n  };\n}\n", "/** @type {string} */\nconst scrollspyString = 'scrollspy';\nexport default scrollspyString;\n", "/** @type {string} */\nconst scrollspyComponent = 'ScrollSpy';\nexport default scrollspyComponent;\n", "/* Native JavaScript for Bootstrap 5 | ScrollSpy\n------------------------------------------------ */\nimport {\n  getDocumentBody,\n  getDocumentElement,\n  getDocument,\n  getWindow,\n  removeClass,\n  hasClass,\n  addClass,\n  getElementsByTagName,\n  getAttribute,\n  querySelector,\n  isHTMLElement,\n  isWindow,\n  createCustomEvent,\n  getInstance,\n  scrollEvent,\n  // ObjectAssign,\n  passiveHandler,\n  dispatchEvent,\n  getBoundingClientRect,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport activeClass from '../strings/activeClass';\nimport scrollspyString from '../strings/scrollspyString';\nimport scrollspyComponent from '../strings/scrollspyComponent';\n\nimport BaseComponent from './base-component';\nimport { ScrollSpyOptions, ScrollSpyEvent } from '../interface/scrollspy';\n\n// SCROLLSPY PRIVATE GC\n// ====================\nconst scrollspySelector = '[data-bs-spy=\"scroll\"]';\n\nconst scrollspyDefaults: ScrollSpyOptions = {\n  offset: 10,\n  target: null,\n};\n\n/**\n * Static method which returns an existing `ScrollSpy` instance associated\n * to a target `Element`.\n */\nconst getScrollSpyInstance = (element: HTMLElement) => getInstance<ScrollSpy>(element, scrollspyComponent);\n\n/**\n * A `ScrollSpy` initialization callback.\n */\nconst scrollspyInitCallback = (element: HTMLElement) => new ScrollSpy(element);\n\n// SCROLLSPY CUSTOM EVENT\n// ======================\nconst activateScrollSpy = createCustomEvent<ScrollSpyEvent>(`activate.bs.${scrollspyString}`);\n\n// SCROLLSPY PRIVATE METHODS\n// =========================\n/**\n * Update the state of all items.\n *\n * @param self the `ScrollSpy` instance\n */\nconst updateSpyTargets = (self: ScrollSpy) => {\n  const { target, scrollTarget, options, itemsLength, scrollHeight, element } = self;\n  const { offset } = options;\n  const isWin = isWindow(scrollTarget as Node | Window);\n\n  const links = target && getElementsByTagName('A', target);\n  const scrollHEIGHT = scrollTarget ? getScrollHeight(scrollTarget) : /* istanbul ignore next */ scrollHeight;\n\n  self.scrollTop = isWin ? (scrollTarget as Window).scrollY : (scrollTarget as HTMLElement).scrollTop;\n\n  // only update items/offsets once or with each mutation\n  /* istanbul ignore else */\n  if (links && (scrollHEIGHT !== scrollHeight || itemsLength !== links.length)) {\n    let href;\n    let targetItem;\n    let rect;\n\n    // reset arrays & update\n    self.items = [];\n    self.offsets = [];\n    self.scrollHeight = scrollHEIGHT;\n    self.maxScroll = self.scrollHeight - getOffsetHeight(self);\n\n    [...links].forEach(link => {\n      href = getAttribute(link, 'href');\n      targetItem =\n        href && href.charAt(0) === '#' && href.slice(-1) !== '#' && querySelector(href, getDocument(element));\n\n      if (targetItem) {\n        self.items.push(link);\n        rect = getBoundingClientRect(targetItem);\n        self.offsets.push((isWin ? rect.top + self.scrollTop : targetItem.offsetTop) - offset);\n      }\n    });\n    self.itemsLength = self.items.length;\n  }\n};\n\n/**\n * Returns the `scrollHeight` property of the scrolling element.\n *\n * @param scrollTarget the `ScrollSpy` instance\n * @return `scrollTarget` height\n */\nconst getScrollHeight = (scrollTarget: Node | Window) => {\n  return isHTMLElement(scrollTarget as Node)\n    ? (scrollTarget as HTMLElement).scrollHeight\n    : getDocumentElement(scrollTarget as Node).scrollHeight;\n};\n\n/**\n * Returns the height property of the scrolling element.\n *\n * @param params the `ScrollSpy` instance\n */\nconst getOffsetHeight = ({ element, scrollTarget }: ScrollSpy) => {\n  return isWindow(scrollTarget as Node) ? (scrollTarget as Window).innerHeight : getBoundingClientRect(element).height;\n};\n\n/**\n * Clear all items of the target.\n *\n * @param target a single item\n */\nconst clear = (target: HTMLElement) => {\n  [...getElementsByTagName('A', target)].forEach(item => {\n    if (hasClass(item, activeClass)) removeClass(item, activeClass);\n  });\n};\n\n/**\n * Activates a new item.\n *\n * @param self the `ScrollSpy` instance\n * @param item a single item\n */\nconst activate = (self: ScrollSpy, item: HTMLElement) => {\n  const { target, element } = self;\n  if (isHTMLElement(target)) clear(target);\n  self.activeItem = item;\n  addClass(item, activeClass);\n\n  // activate all parents\n  const parents: HTMLElement[] = [];\n  let parentItem = item;\n  while (parentItem !== getDocumentBody(element)) {\n    parentItem = parentItem.parentElement as HTMLElement;\n    if (hasClass(parentItem, 'nav') || hasClass(parentItem, 'dropdown-menu')) parents.push(parentItem);\n  }\n\n  parents.forEach(menuItem => {\n    const parentLink = menuItem.previousElementSibling as HTMLElement | null;\n\n    /* istanbul ignore else */\n    if (parentLink && !hasClass(parentLink, activeClass)) {\n      addClass(parentLink, activeClass);\n    }\n  });\n\n  // dispatch\n  activateScrollSpy.relatedTarget = item;\n  dispatchEvent(element, activateScrollSpy);\n};\n\n/**\n * Toggles on/off the component event listener.\n *\n * @param self the `ScrollSpy` instance\n * @param add when `true`, listener is added\n */\nconst toggleSpyHandlers = (self: ScrollSpy, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  action(self.scrollTarget as EventTarget, scrollEvent, self.refresh, passiveHandler);\n};\n\n// SCROLLSPY DEFINITION\n// ====================\n/** Returns a new `ScrollSpy` instance. */\nexport default class ScrollSpy extends BaseComponent {\n  static selector = scrollspySelector;\n  static init = scrollspyInitCallback;\n  static getInstance = getScrollSpyInstance;\n  declare options: ScrollSpyOptions;\n  declare target: HTMLElement | null;\n  declare scrollTarget: HTMLElement | Window;\n  declare scrollTop: number;\n  declare maxScroll: number;\n  declare scrollHeight: number;\n  declare activeItem: HTMLElement | null;\n  declare items: HTMLElement[];\n  declare itemsLength: number;\n  declare offsets: number[];\n\n  /**\n   * @param target the target element\n   * @param config the instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<ScrollSpyOptions>) {\n    super(target, config);\n\n    // initialization element & options\n    const { element, options } = this;\n\n    // additional properties\n    this.target = querySelector(options.target as HTMLElement | string, getDocument(element));\n\n    // invalidate\n    if (this.target) {\n      // set initial state\n      this.scrollTarget = element.clientHeight < element.scrollHeight ? element : getWindow(element);\n      this.scrollHeight = getScrollHeight(this.scrollTarget);\n\n      // add event handlers\n      toggleSpyHandlers(this, true);\n\n      this.refresh();\n    }\n  }\n\n  /* eslint-disable */\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return scrollspyComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return scrollspyDefaults;\n  }\n  /* eslint-enable */\n\n  // SCROLLSPY PUBLIC METHODS\n  // ========================\n  /** Updates all items. */\n  refresh = () => {\n    const { target } = this;\n\n    // check if target is visible and invalidate\n    /* istanbul ignore else */\n    if (isHTMLElement(target) && target.offsetHeight > 0) {\n      updateSpyTargets(this);\n\n      const { scrollTop, maxScroll, itemsLength, items, activeItem } = this;\n\n      if (scrollTop >= maxScroll) {\n        const newActiveItem = items[itemsLength - 1];\n\n        /* istanbul ignore else */\n        if (activeItem !== newActiveItem) {\n          activate(this, newActiveItem);\n        }\n        return;\n      }\n\n      const { offsets } = this;\n\n      if (activeItem && scrollTop < offsets[0] && offsets[0] > 0) {\n        this.activeItem = null;\n        if (target) clear(target);\n        return;\n      }\n\n      items.forEach((item, i) => {\n        if (\n          activeItem !== item &&\n          scrollTop >= offsets[i] &&\n          (typeof offsets[i + 1] === 'undefined' || scrollTop < offsets[i + 1])\n        ) {\n          activate(this, item);\n        }\n      });\n    }\n  };\n\n  /** Removes `ScrollSpy` from the target element. */\n  dispose() {\n    toggleSpyHandlers(this);\n    super.dispose();\n  }\n}\n", "/** @type {string} */\nconst tabString = 'tab';\nexport default tabString;\n", "/** @type {string} */\nconst tabComponent = 'Tab';\nexport default tabComponent;\n", "/* Native JavaScript for Bootstrap 5 | Tab\n------------------------------------------ */\nimport {\n  emulateTransitionEnd,\n  dispatchEvent,\n  removeClass,\n  hasClass,\n  addClass,\n  querySelector,\n  getElementsByClassName,\n  closest,\n  setAttribute,\n  mouseclickEvent,\n  createCustomEvent,\n  Timer,\n  getInstance,\n  ariaSelected,\n  // ObjectAssign,\n  reflow,\n  isHTMLElement,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport collapsingClass from '../strings/collapsingClass';\nimport activeClass from '../strings/activeClass';\nimport fadeClass from '../strings/fadeClass';\nimport showClass from '../strings/showClass';\nimport dropdownClasses from '../strings/dropdownClasses';\nimport dataBsToggle from '../strings/dataBsToggle';\nimport tabString from '../strings/tabString';\nimport tabComponent from '../strings/tabComponent';\n\nimport getTargetElement from '../util/getTargetElement';\nimport BaseComponent from './base-component';\nimport type { /* TabOptions, */ TabEvent } from '../interface/tab';\n\n// TAB PRIVATE GC\n// ================\nconst tabSelector = `[${dataBsToggle}=\"${tabString}\"]`;\n\n/**\n * Static method which returns an existing `Tab` instance associated\n * to a target `Element`.\n */\nconst getTabInstance = (element: HTMLElement) => getInstance<Tab>(element, tabComponent);\n\n/** A `Tab` initialization callback. */\nconst tabInitCallback = (element: HTMLElement) => new Tab(element);\n\n// TAB CUSTOM EVENTS\n// =================\nconst showTabEvent = createCustomEvent<TabEvent>(`show.bs.${tabString}`);\nconst shownTabEvent = createCustomEvent<TabEvent>(`shown.bs.${tabString}`);\nconst hideTabEvent = createCustomEvent<TabEvent>(`hide.bs.${tabString}`);\nconst hiddenTabEvent = createCustomEvent<TabEvent>(`hidden.bs.${tabString}`);\n\ninterface TabPrivate {\n  tab: HTMLElement | null;\n  content: HTMLElement | null;\n  currentHeight: number;\n  nextHeight: number;\n}\n\n/**\n * Stores the current active tab and its content\n * for a given `.nav` element.\n */\nconst tabPrivate: Map<HTMLElement, TabPrivate> = new Map();\n\n// TAB PRIVATE METHODS\n// ===================\n/**\n * Executes after tab transition has finished.\n *\n * @param self the `Tab` instance\n */\nconst triggerTabEnd = (self: Tab) => {\n  const { tabContent, nav } = self;\n\n  /* istanbul ignore else */\n  if (tabContent && hasClass(tabContent, collapsingClass)) {\n    tabContent.style.height = '';\n    removeClass(tabContent, collapsingClass);\n  }\n\n  /* istanbul ignore else */\n  if (nav) Timer.clear(nav);\n};\n\n/**\n * Executes before showing the tab content.\n *\n * @param self the `Tab` instance\n */\nconst triggerTabShow = (self: Tab) => {\n  const { element, tabContent, content: nextContent, nav } = self;\n  const { tab } = (isHTMLElement(nav) && tabPrivate.get(nav)) || /* istanbul ignore next */ { tab: null };\n\n  /* istanbul ignore else */\n  if (tabContent && nextContent && hasClass(nextContent, fadeClass)) {\n    const { currentHeight, nextHeight } = tabPrivate.get(element) || /* istanbul ignore next */ {\n      currentHeight: 0,\n      nextHeight: 0,\n    };\n    if (currentHeight === nextHeight) {\n      triggerTabEnd(self);\n    } else {\n      // enables height animation\n      setTimeout(() => {\n        tabContent.style.height = `${nextHeight}px`;\n        reflow(tabContent);\n        emulateTransitionEnd(tabContent, () => triggerTabEnd(self));\n      }, 50);\n    }\n  } else if (nav) Timer.clear(nav);\n\n  shownTabEvent.relatedTarget = tab as HTMLElement | undefined;\n\n  dispatchEvent(element, shownTabEvent);\n};\n\n/**\n * Executes before hiding the tab.\n *\n * @param self the `Tab` instance\n */\nconst triggerTabHide = (self: Tab) => {\n  const { element, content: nextContent, tabContent, nav } = self;\n  const { tab, content } = (nav && tabPrivate.get(nav)) || /* istanbul ignore next */ { tab: null, content: null };\n  let currentHeight = 0;\n\n  /* istanbul ignore else */\n  if (tabContent && nextContent && hasClass(nextContent, fadeClass)) {\n    [content, nextContent].forEach(c => {\n      if (isHTMLElement(c)) addClass(c, 'overflow-hidden');\n    });\n    currentHeight = isHTMLElement(content) ? content.scrollHeight : /* istanbul ignore next */ 0;\n  }\n\n  // update relatedTarget and dispatch event\n  showTabEvent.relatedTarget = tab as HTMLElement | undefined;\n  hiddenTabEvent.relatedTarget = element;\n  dispatchEvent(element, showTabEvent);\n\n  if (!showTabEvent.defaultPrevented) {\n    if (nextContent) addClass(nextContent, activeClass);\n    if (content) removeClass(content, activeClass);\n\n    /* istanbul ignore else */\n    if (tabContent && nextContent && hasClass(nextContent, fadeClass)) {\n      const nextHeight = nextContent.scrollHeight;\n      tabPrivate.set(element, { currentHeight, nextHeight, tab: null, content: null });\n\n      addClass(tabContent, collapsingClass);\n      tabContent.style.height = `${currentHeight}px`;\n      reflow(tabContent);\n      [content, nextContent].forEach(c => {\n        if (c) removeClass(c, 'overflow-hidden');\n      });\n    }\n\n    if (nextContent && nextContent && hasClass(nextContent, fadeClass)) {\n      setTimeout(() => {\n        addClass(nextContent, showClass);\n        emulateTransitionEnd(nextContent, () => {\n          triggerTabShow(self);\n        });\n      }, 1);\n    } else {\n      if (nextContent) addClass(nextContent, showClass);\n      triggerTabShow(self);\n    }\n\n    if (tab) dispatchEvent(tab, hiddenTabEvent);\n  }\n};\n\n/**\n * Returns the current active tab and its target content.\n *\n * @param self the `Tab` instance\n * @returns the query result\n */\nconst getActiveTab = (self: Tab): { tab: HTMLElement | null; content: HTMLElement | null } => {\n  const { nav } = self;\n  /* istanbul ignore next */\n  if (!isHTMLElement(nav as HTMLElement | undefined)) return { tab: null, content: null };\n\n  const activeTabs = getElementsByClassName(activeClass, nav as HTMLElement);\n  let tab: HTMLElement | null = null;\n  /* istanbul ignore else */\n  if (activeTabs.length === 1 && !dropdownClasses.some(c => hasClass(activeTabs[0].parentElement as HTMLElement, c))) {\n    [tab] = activeTabs;\n  } else if (activeTabs.length > 1) {\n    tab = activeTabs[activeTabs.length - 1];\n  }\n  const content = isHTMLElement(tab as HTMLElement) ? getTargetElement(tab as HTMLElement) : null;\n  return { tab, content };\n};\n\n/**\n * Returns a parent dropdown.\n *\n * @param element the `Tab` element\n * @returns the parent dropdown\n */\nconst getParentDropdown = (element?: HTMLElement): HTMLElement | null => {\n  /* istanbul ignore next */\n  if (!isHTMLElement(element)) return null;\n  const dropdown = closest(element, `.${dropdownClasses.join(',.')}`);\n  return dropdown ? querySelector(`.${dropdownClasses[0]}-toggle`, dropdown) : null;\n};\n\n/**\n * Toggles on/off the `click` event listener.\n *\n * @param self the `Tab` instance\n * @param add when `true`, event listener is added\n */\nconst toggleTabHandler = (self: Tab, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  action(self.element, mouseclickEvent, tabClickHandler);\n};\n\n// TAB EVENT HANDLER\n// =================\n/**\n * Handles the `click` event listener.\n *\n * @param e the `Event` object\n */\nconst tabClickHandler = (e: Event) => {\n  const self = getTabInstance(e.target as HTMLElement);\n\n  /* istanbul ignore else */\n  if (self) {\n    e.preventDefault();\n    self.show();\n  }\n};\n\n// TAB DEFINITION\n// ==============\n/** Creates a new `Tab` instance. */\nexport default class Tab extends BaseComponent {\n  static selector = tabSelector;\n  static init = tabInitCallback;\n  static getInstance = getTabInstance;\n  declare nav: HTMLElement | null;\n  declare content: HTMLElement | null;\n  declare tabContent: HTMLElement | null;\n  declare nextContent: HTMLElement | null;\n  declare dropdown: HTMLElement | null;\n\n  /** @param target the target element */\n  constructor(target: HTMLElement | string) {\n    super(target);\n\n    // initialization element\n    const { element } = this;\n    const content = getTargetElement(element);\n\n    // no point initializing a tab without a corresponding content\n    /* istanbul ignore else */\n    if (content) {\n      const nav = closest(element, '.nav');\n      const container = closest(content, '.tab-content');\n\n      this.nav = nav;\n      this.content = content;\n      this.tabContent = container;\n\n      // event targets\n      this.dropdown = getParentDropdown(element);\n\n      // show first Tab instance of none is shown\n      // suggested on #432\n      const { tab } = getActiveTab(this);\n      if (nav && !tab) {\n        const firstTab = querySelector(tabSelector, nav);\n        const firstTabContent = firstTab && getTargetElement(firstTab);\n\n        /* istanbul ignore else */\n        if (firstTabContent) {\n          addClass(firstTab, activeClass);\n          addClass(firstTabContent, showClass);\n          addClass(firstTabContent, activeClass);\n          setAttribute(element, ariaSelected, 'true');\n        }\n      }\n\n      // add event listener\n      toggleTabHandler(this, true);\n    }\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return tabComponent;\n  }\n\n  // TAB PUBLIC METHODS\n  // ==================\n  /** Shows the tab to the user. */\n  show() {\n    const { element, content: nextContent, nav, dropdown } = this;\n\n    /* istanbul ignore else */\n    if (!(nav && Timer.get(nav)) && !hasClass(element, activeClass)) {\n      const { tab, content } = getActiveTab(this);\n\n      /* istanbul ignore else */\n      if (nav) tabPrivate.set(nav, { tab, content, currentHeight: 0, nextHeight: 0 });\n\n      // update relatedTarget and dispatch\n      hideTabEvent.relatedTarget = element;\n\n      /* istanbul ignore else */\n      if (isHTMLElement(tab)) {\n        dispatchEvent(tab as EventTarget, hideTabEvent);\n        /* istanbul ignore else */\n        if (!hideTabEvent.defaultPrevented) {\n          addClass(element, activeClass);\n          setAttribute(element, ariaSelected, 'true');\n\n          const activeDropdown = isHTMLElement(tab) && getParentDropdown(tab);\n          if (activeDropdown && hasClass(activeDropdown, activeClass)) {\n            removeClass(activeDropdown, activeClass);\n          }\n\n          /* istanbul ignore else */\n          if (nav) {\n            const toggleTab = () => {\n              if (tab) {\n                removeClass(tab, activeClass);\n                setAttribute(tab, ariaSelected, 'false');\n              }\n              if (dropdown && !hasClass(dropdown, activeClass)) addClass(dropdown, activeClass);\n            };\n\n            if (content && (hasClass(content, fadeClass) || (nextContent && hasClass(nextContent, fadeClass)))) {\n              Timer.set(nav, toggleTab, 1);\n            } else toggleTab();\n          }\n\n          if (content) {\n            removeClass(content, showClass);\n            if (hasClass(content, fadeClass)) {\n              emulateTransitionEnd(content, () => triggerTabHide(this));\n            } else {\n              triggerTabHide(this);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /** Removes the `Tab` component from the target element. */\n  dispose() {\n    toggleTabHandler(this);\n    super.dispose();\n  }\n}\n", "/** @type {string} */\nconst toastString = 'toast';\nexport default toastString;\n", "/** @type {string} */\nconst toastComponent = 'Toast';\nexport default toastComponent;\n", "/* Native JavaScript for Bootstrap 5 | Toast\n-------------------------------------------- */\nimport {\n  mouseclickEvent,\n  closest,\n  removeClass,\n  hasClass,\n  addClass,\n  focusoutEvent,\n  focusinEvent,\n  mouseleaveEvent,\n  mouseenterEvent,\n  createCustomEvent,\n  getDocument,\n  Timer,\n  getInstance,\n  reflow,\n  // ObjectAssign,\n  emulateTransitionEnd,\n  dispatchEvent,\n  querySelectorAll,\n  querySelector,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport fadeClass from '../strings/fadeClass';\nimport showClass from '../strings/showClass';\nimport dataBsDismiss from '../strings/dataBsDismiss';\nimport dataBsToggle from '../strings/dataBsToggle';\nimport toastString from '../strings/toastString';\nimport toastComponent from '../strings/toastComponent';\nimport getTargetElement from '../util/getTargetElement';\nimport BaseComponent from './base-component';\nimport { ToastOptions, ToastEvent } from '../interface/toast';\n\n// TOAST PRIVATE GC\n// ================\nconst toastSelector = `.${toastString}`;\nconst toastDismissSelector = `[${dataBsDismiss}=\"${toastString}\"]`;\nconst toastToggleSelector = `[${dataBsToggle}=\"${toastString}\"]`;\nconst showingClass = 'showing';\n/** @deprecated */\nconst hideClass = 'hide';\n\nconst toastDefaults = {\n  animation: true,\n  autohide: true,\n  delay: 5000,\n};\n\n/**\n * Static method which returns an existing `Toast` instance associated\n * to a target `Element`.\n */\nconst getToastInstance = (element: HTMLElement) => getInstance<Toast>(element, toastComponent);\n\n/**\n * A `Toast` initialization callback.\n */\nconst toastInitCallback = (element: HTMLElement) => new Toast(element);\n\n// TOAST CUSTOM EVENTS\n// ===================\nconst showToastEvent = createCustomEvent<ToastEvent>(`show.bs.${toastString}`);\nconst shownToastEvent = createCustomEvent<ToastEvent>(`shown.bs.${toastString}`);\nconst hideToastEvent = createCustomEvent<ToastEvent>(`hide.bs.${toastString}`);\nconst hiddenToastEvent = createCustomEvent<ToastEvent>(`hidden.bs.${toastString}`);\n\n// TOAST PRIVATE METHODS\n// =====================\n/**\n * Executes after the toast is shown to the user.\n *\n * @param self the `Toast` instance\n */\nconst showToastComplete = (self: Toast) => {\n  const { element, options } = self;\n  removeClass(element, showingClass);\n  Timer.clear(element, showingClass);\n\n  dispatchEvent(element, shownToastEvent);\n  /* istanbul ignore else */\n  if (options.autohide) {\n    Timer.set(element, () => self.hide(), options.delay, toastString);\n  }\n};\n\n/**\n * Executes after the toast is hidden to the user.\n *\n * @param self the `Toast` instance\n */\nconst hideToastComplete = (self: Toast) => {\n  const { element } = self;\n  removeClass(element, showingClass);\n  removeClass(element, showClass);\n  addClass(element, hideClass); // B/C\n  Timer.clear(element, toastString);\n  dispatchEvent(element, hiddenToastEvent);\n};\n\n/**\n * Executes before hiding the toast.\n *\n * @param self the `Toast` instance\n */\nconst hideToast = (self: Toast) => {\n  const { element, options } = self;\n  addClass(element, showingClass);\n\n  if (options.animation) {\n    reflow(element);\n    emulateTransitionEnd(element, () => hideToastComplete(self));\n  } else {\n    hideToastComplete(self);\n  }\n};\n\n/**\n * Executes before showing the toast.\n *\n * @param self the `Toast` instance\n */\nconst showToast = (self: Toast) => {\n  const { element, options } = self;\n  Timer.set(\n    element,\n    () => {\n      removeClass(element, hideClass); // B/C\n      reflow(element);\n      addClass(element, showClass);\n      addClass(element, showingClass);\n\n      if (options.animation) {\n        emulateTransitionEnd(element, () => showToastComplete(self));\n      } else {\n        showToastComplete(self);\n      }\n    },\n    17,\n    showingClass,\n  );\n};\n\n/**\n * Toggles on/off the `click` event listener.\n *\n * @param self the `Toast` instance\n * @param add when `true`, it will add the listener\n */\nconst toggleToastHandlers = (self: Toast, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { element, triggers, dismiss, options, hide } = self;\n\n  /* istanbul ignore else */\n  if (dismiss) {\n    action(dismiss, mouseclickEvent, hide);\n  }\n\n  /* istanbul ignore else */\n  if (options.autohide) {\n    [focusinEvent, focusoutEvent, mouseenterEvent, mouseleaveEvent].forEach(e =>\n      action(element, e, interactiveToastHandler as EventListener),\n    );\n  }\n  /* istanbul ignore else */\n  if (triggers.length) {\n    triggers.forEach(btn => action(btn, mouseclickEvent, toastClickHandler));\n  }\n};\n\n// TOAST EVENT HANDLERS\n// ====================\n/**\n * Executes after the instance has been disposed.\n *\n * @param {Toast} self the `Toast` instance\n */\nconst completeDisposeToast = (self: Toast) => {\n  Timer.clear(self.element, toastString);\n  toggleToastHandlers(self);\n};\n\n/**\n * Handles the `click` event listener for toast.\n *\n * @param e the `Event` object\n */\nconst toastClickHandler = (e: Event) => {\n  const { target } = e;\n\n  const trigger = target && closest(target as HTMLElement, toastToggleSelector);\n  const element = trigger && getTargetElement(trigger);\n  const self = element && getToastInstance(element);\n\n  /* istanbul ignore else */\n  if (self) {\n    /* istanbul ignore else */\n    if (trigger && trigger.tagName === 'A') e.preventDefault();\n    self.relatedTarget = trigger;\n    self.show();\n  }\n};\n\n/**\n * Executes when user interacts with the toast without closing it,\n * usually by hovering or focusing it.\n *\n * @param e the `Toast` instance\n */\nconst interactiveToastHandler = (e: MouseEvent) => {\n  const element = e.target as HTMLElement;\n  const self = getToastInstance(element);\n  const { type, relatedTarget } = e;\n\n  /* istanbul ignore else: a solid filter is required */\n  if (self && element !== relatedTarget && !element.contains(relatedTarget as Node)) {\n    if ([mouseenterEvent, focusinEvent].includes(type)) {\n      Timer.clear(element, toastString);\n    } else {\n      Timer.set(element, () => self.hide(), self.options.delay, toastString);\n    }\n  }\n};\n\n// TOAST DEFINITION\n// ================\n/** Creates a new `Toast` instance. */\nexport default class Toast extends BaseComponent {\n  static selector = toastSelector;\n  static init = toastInitCallback;\n  static getInstance = getToastInstance;\n  declare options: ToastOptions;\n  declare dismiss: HTMLElement | null;\n  declare triggers: HTMLElement[];\n  declare relatedTarget: HTMLElement | null;\n\n  /**\n   * @param target the target `.toast` element\n   * @param config the instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<ToastOptions>) {\n    super(target, config);\n    const { element, options } = this;\n\n    // set fadeClass, the options.animation will override the markup\n    if (options.animation && !hasClass(element, fadeClass)) addClass(element, fadeClass);\n    else if (!options.animation && hasClass(element, fadeClass)) removeClass(element, fadeClass);\n\n    // dismiss button\n    this.dismiss = querySelector(toastDismissSelector, element);\n\n    // toast can have multiple triggering elements\n    this.triggers = [...querySelectorAll(toastToggleSelector, getDocument(element))].filter(\n      btn => getTargetElement(btn) === element,\n    );\n\n    // add event listener\n    toggleToastHandlers(this, true);\n  }\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return toastComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return toastDefaults;\n  }\n  /**\n   * Returns *true* when toast is visible.\n   */\n  get isShown() {\n    return hasClass(this.element, showClass);\n  }\n\n  // TOAST PUBLIC METHODS\n  // ====================\n  /** Shows the toast. */\n  show = () => {\n    const { element, isShown } = this;\n\n    /* istanbul ignore else */\n    if (element && !isShown) {\n      dispatchEvent(element, showToastEvent);\n      if (!showToastEvent.defaultPrevented) {\n        showToast(this);\n      }\n    }\n  };\n\n  /** Hides the toast. */\n  hide = () => {\n    const { element, isShown } = this;\n\n    /* istanbul ignore else */\n    if (element && isShown) {\n      dispatchEvent(element, hideToastEvent);\n      if (!hideToastEvent.defaultPrevented) {\n        hideToast(this);\n      }\n    }\n  };\n\n  /** Removes the `Toast` component from the target element. */\n  dispose() {\n    const { element, isShown } = this;\n\n    /* istanbul ignore else */\n    if (isShown) {\n      removeClass(element, showClass);\n    }\n\n    completeDisposeToast(this);\n\n    super.dispose();\n  }\n}\n", "import { Data, getElementsByTagName, matches } from '@thednp/shorty';\n\nimport { addListener } from '@thednp/event-listener';\n\nimport Alert from '../components/alert';\nimport Button from '../components/button';\nimport Carousel from '../components/carousel';\nimport Collapse from '../components/collapse';\nimport Dropdown from '../components/dropdown';\nimport Modal from '../components/modal';\nimport Offcanvas from '../components/offcanvas';\nimport Popover from '../components/popover';\nimport ScrollSpy from '../components/scrollspy';\nimport Tab from '../components/tab';\nimport Toast from '../components/toast';\nimport Tooltip from '../components/tooltip';\n\nconst componentsList = new Map<\n  string,\n  | typeof Alert\n  | typeof Button\n  | typeof Carousel\n  | typeof Collapse\n  | typeof Dropdown\n  | typeof Modal\n  | typeof Offcanvas\n  | typeof Popover\n  | typeof ScrollSpy\n  | typeof Tab\n  | typeof Toast\n  | typeof Tooltip\n>();\n\n[Alert, Button, Carousel, Collapse, Dropdown, Modal, Offcanvas, Popover, ScrollSpy, Tab, Toast, Tooltip].forEach(c =>\n  componentsList.set(c.prototype.name, c),\n);\n\n/**\n * Initialize all matched `Element`s for one component.\n *\n * @param callback\n * @param collection\n */\nconst initComponentDataAPI = <T>(\n  callback: (el: HTMLElement, ops?: Record<string, unknown>) => T,\n  collection: HTMLCollectionOf<HTMLElement> | HTMLElement[],\n) => {\n  [...collection].forEach(x => callback(x));\n};\n\n/**\n * Remove one component from a target container element or all in the page.\n *\n * @param component the component name\n * @param context parent `Node`\n */\nconst removeComponentDataAPI = <T>(component: string, context: ParentNode) => {\n  const compData = Data.getAllFor(component) as Map<HTMLElement, T>;\n\n  if (compData) {\n    [...compData].forEach(([element, instance]) => {\n      if (context.contains(element)) (instance as T & { dispose: () => void }).dispose();\n    });\n  }\n};\n\n/**\n * Initialize all BSN components for a target container.\n *\n * @param context parent `Node`\n */\nexport const initCallback = (context?: ParentNode) => {\n  const lookUp = context && context.nodeName ? context : document;\n  const elemCollection = [...getElementsByTagName('*', lookUp)];\n\n  componentsList.forEach(cs => {\n    const { init, selector } = cs;\n    initComponentDataAPI(\n      init,\n      elemCollection.filter(item => matches(item, selector)),\n    );\n  });\n};\n\n/**\n * Remove all BSN components for a target container.\n *\n * @param context parent `Node`\n */\nexport const removeDataAPI = (context?: ParentNode) => {\n  const lookUp = context && context.nodeName ? context : document;\n\n  componentsList.forEach(comp => {\n    removeComponentDataAPI(comp.prototype.name, lookUp);\n  });\n};\n\n// Bulk initialize all components\nif (document.body) initCallback();\nelse {\n  addListener(document, 'DOMContentLoaded', () => initCallback(), { once: true });\n}\n", "export default function () {\n  document.body.addEventListener(\"htmx:configRequest\", (evt) => {\n    evt.detail.headers[\"X-CSRF-Token\"] = document.querySelector(\n      'meta[name=\"csrf-token\"]',\n    ).content;\n  });\n}\n", "export default function () {\n  const label_select_all = \"Select all\";\n  const label_deselect_all = \"Deselect all\";\n\n  let formSwitchCheck = function (evt) {\n    let btn = evt.target;\n    let form = btn.closest(\"form\");\n    let chks = form.querySelectorAll(\"input[type='checkbox']\");\n    let isSelectAll = btn.textContent == label_select_all;\n    chks.forEach((el) => (el.checked = isSelectAll));\n    btn.textContent = isSelectAll ? label_deselect_all : label_select_all;\n  };\n\n  document.querySelectorAll(\"button.form-check-all\").forEach((btn) => {\n    btn.addEventListener(\"click\", formSwitchCheck);\n\n    //determine startup button value\n    let form = btn.closest(\"form\");\n    let chks = form.querySelectorAll(\"input[type='checkbox']\");\n    let isSelectAll = true;\n    for (let i = 0; i < chks.length; i++) {\n      if (chks[i].checked) {\n        isSelectAll = false;\n        break;\n      }\n    }\n    btn.textContent = isSelectAll ? label_select_all : label_deselect_all;\n  });\n}\n", "export default function (rootEl) {\n  rootEl.querySelectorAll(\"[data-clipboard]\").forEach((btn) => {\n    btn.addEventListener(\"click\", () => {\n      navigator.clipboard.writeText(btn.dataset.clipboard).then(() => {\n        let icon = btn.querySelector(\".if\");\n        let text = btn.querySelector(\".btn-text\");\n        let origBtnClass = btn.className;\n        let origIconClass = icon.className;\n        let origTextClass = text.className;\n        let origText = text.innerText;\n\n        btn.classList.remove(\"btn-outline-secondary\");\n        btn.classList.add(\"btn-outline-success\");\n\n        icon.classList.remove(\"if-copy\", \"text-muted\");\n        icon.classList.add(\"if-check\", \"text-success\");\n\n        text.classList.remove(\"text-muted\");\n        text.classList.add(\"text-success\");\n        text.setAttribute(\"aria-live\", \"polite\");\n        text.innerText = \"Copied\";\n\n        setTimeout(function () {\n          btn.className = origBtnClass;\n          icon.className = origIconClass;\n          text.className = origTextClass;\n          text.innerText = origText;\n        }, 1500);\n      });\n    });\n  });\n}\n", "import htmx from \"htmx.org/dist/htmx.esm.js\";\nimport { Popover } from \"bootstrap.native\";\n\nexport default function () {\n  let addEvents = function (rootEl) {\n    rootEl\n      .querySelectorAll(\"[data-bs-toggle=popover-custom]\")\n      .forEach(function (el) {\n        let container = document.querySelector(el.dataset.popoverContent);\n        let content = container.querySelector(\".popover-body\");\n        let heading = container.querySelector(\".popover-heading\");\n        let title = \"\";\n        if (heading) {\n          title = heading.innerHTML;\n        }\n        new Popover(el, {\n          content: content.innerHTML,\n          title: title,\n          delay: 1000,\n        });\n      });\n  };\n\n  htmx.onLoad(addEvents);\n}\n", "/**\n * Collapsible header.\n *\n * Collapsible header is used for hiding / showing the summary of a\n * publication on the edit forms. The state of the header (hidden / shown)\n * is persisted across page reloads via the browsers local storage.\n */\nexport default function () {\n  class Header {\n    constructor(el) {\n      this.el = el;\n      this.collapsers = el.querySelectorAll(\".c-header-collapse-trigger\");\n      this.collapsed = false;\n      this.init();\n    }\n\n    init() {\n      try {\n        const savedState = JSON.parse(\n          localStorage.getItem(HEADER_STATE_STORAGE_KEY),\n        );\n        headerState = Object.assign({}, headerState, savedState);\n      } catch (err) {\n        console.warn(\n          \"There was an error parsing the saved state for the prototype navigation.\",\n        );\n      }\n\n      // Handle state on page load: open/close nav and close saved modules\n      if (headerState.isExpanded) {\n        this.show();\n      } else {\n        this.hide();\n      }\n\n      this.collapsers?.forEach((collapser) =>\n        collapser.addEventListener(\"click\", this),\n      );\n    }\n\n    handleEvent(event) {\n      this.toggle(event);\n    }\n\n    toggle(event) {\n      if (this.collapsed) this.show();\n      else if (!this.collapsed) this.hide();\n    }\n\n    show() {\n      this.el.dataset.collapsed = false;\n      this.collapsed = false;\n      headerState.isExpanded = true;\n\n      this.saveNavState();\n    }\n\n    saveNavState() {\n      localStorage.setItem(\n        HEADER_STATE_STORAGE_KEY,\n        JSON.stringify(headerState),\n      );\n    }\n\n    hide() {\n      this.el.dataset.collapsed = true;\n      this.collapsed = true;\n      headerState.isExpanded = false;\n      this.saveNavState();\n    }\n  }\n\n  let headerState = {\n    isExpanded: false,\n  };\n\n  const collapsibleHeaders = document.querySelectorAll(\".c-header-collapsible\");\n  const HEADER_STATE_STORAGE_KEY = `bedrockheaderState`;\n\n  if (collapsibleHeaders.length)\n    [...collapsibleHeaders].map(\n      (collapsibleHeader) => new Header(collapsibleHeader),\n    );\n}\n", "import htmx from \"htmx.org/dist/htmx.esm.js\";\n\n// Handles fields with multiple values\nexport default function () {\n  const reTmpl = /^data-tmpl-(.+)/;\n\n  const setValueIndex = (formValue, valueIndex) => {\n    Array.from(formValue.getElementsByTagName(\"*\")).forEach(function (el) {\n      if (el.hasAttributes()) {\n        let attrs = el.attributes;\n        for (var i = 0; i < attrs.length; i++) {\n          let m = attrs[i].name.match(reTmpl);\n          if (m) {\n            el.setAttribute(m[1], attrs[i].value.replace(\"{i}\", valueIndex));\n          }\n        }\n      }\n    });\n  };\n\n  const addEvents = (rootEl) => {\n    // Delete a value from the field\n    let deleteFormValue = function (e) {\n      let formField = e.target.closest(\"div.form-values\");\n      e.target.closest(\"div.form-value\").remove();\n      let length = Array.from(formField.children).length;\n\n      for (var valueIndex = 0; valueIndex < length; valueIndex++) {\n        setValueIndex(formField.children[valueIndex], valueIndex);\n      }\n    };\n\n    // Add a new value to the field\n    let addFormValue = function (e) {\n      let formField = e.target.closest(\"div.form-values\");\n      let formValues = formField.querySelectorAll(\"div.form-value\");\n      let lastValue = formValues[formValues.length - 1];\n      let valueIndex = formValues.length;\n\n      let newValue = lastValue.cloneNode(true);\n      newValue.querySelector(\".form-control\").value = \"\";\n      newValue.querySelectorAll(\".is-invalid\").forEach((item) => {\n        item.classList.remove(\"is-invalid\");\n      });\n\n      // set html attrs from their templates\n      setValueIndex(newValue, valueIndex);\n\n      // switch last value button to delete\n      let lastBtn = lastValue.querySelector(\"button.form-value-add\");\n      let classList = lastBtn.classList;\n      classList.remove(\"form-value-add\");\n      classList.remove(\"btn-outline-primary\");\n      classList.add(\"btn-link-muted\");\n      classList.add(\"form-value-delete\");\n      classList = lastValue.querySelector(\"i.if-add\").classList;\n      classList.remove(\"if-add\");\n      classList.add(\"if-delete\");\n      lastValue.querySelector(\n        \".form-value-delete .visually-hidden\",\n      ).textContent = \"Delete\";\n      lastBtn.removeEventListener(\"click\", addFormValue);\n      lastBtn.addEventListener(\"click\", deleteFormValue);\n\n      // insert new value\n      lastValue.after(newValue);\n      // activate htmx on new element\n      htmx.process(newValue);\n      // activate add button\n      newValue\n        .querySelector(\"button.form-value-add\")\n        .addEventListener(\"click\", addFormValue);\n      // fire added event\n      newValue.dispatchEvent(\n        new CustomEvent(\"form-value-add\", { bubbles: true }),\n      );\n    };\n\n    rootEl\n      .querySelectorAll(\"button.form-value-delete\")\n      .forEach((el) => el.addEventListener(\"click\", deleteFormValue));\n\n    rootEl\n      .querySelectorAll(\"button.form-value-add\")\n      .forEach((el) => el.addEventListener(\"click\", addFormValue));\n  };\n\n  htmx.onLoad(addEvents);\n}\n", "export default function () {\n  document.querySelectorAll(\"form.form-change-submit\").forEach(function (el) {\n    el.addEventListener(\"change\", function (evt) {\n      const spinner = el.querySelector(\".spinner-border\");\n      if (spinner !== null) {\n        spinner.style.display = \"inline-block\";\n        spinner.style.opacity = \"1\";\n      }\n\n      el.submit();\n    });\n  });\n\n  document.querySelectorAll(\"form .form-change-submit\").forEach(function (el) {\n    el.addEventListener(\"change\", function (evt) {\n      evt.target.closest(\"form\").submit();\n    });\n  });\n}\n", "import htmx from \"htmx.org/dist/htmx.esm.js\";\n\nexport default function () {\n  let addEvents = function (rootEl) {\n    rootEl.querySelectorAll(\".autocomplete\").forEach(function (ac) {\n      let target = document.querySelector(ac.dataset.target);\n      target.addEventListener(\"keydown\", function (evt) {\n        if (evt.key === \"Escape\") {\n          ac.querySelector(\".autocomplete-hits\").innerHTML = \"\";\n        }\n      });\n    });\n\n    rootEl.querySelectorAll(\".autocomplete-hit\").forEach(function (hit) {\n      hit.addEventListener(\"click\", function () {\n        let target = hit.closest(\".autocomplete\").dataset.target;\n        let v = hit.dataset.value;\n        document.querySelector(target).value = v;\n        hit.closest(\".autocomplete-hits\").innerHTML = \"\";\n      });\n    });\n  };\n\n  htmx.onLoad(function (el) {\n    addEvents(el);\n  });\n  // listen for inputs added with multiple.js\n  document.addEventListener(\"form-value-add\", function (evt) {\n    addEvents(evt.target);\n  });\n}\n", "import htmx from \"htmx.org/dist/htmx.esm.js\";\n\n// Set an event handler on any buttons that have the 'modal-close' class.\n// This ensures that any and all modals can be closed via 'close', 'cancel', etc. buttons.\nexport default function () {\n  let modalClose = function (evt) {\n    let modal = document.querySelectorAll(\".modal\").item(0);\n    let backdrop = document.querySelectorAll(\".modal-backdrop\").item(0);\n\n    if (modal) {\n      modal.classList.remove(\"show\");\n    }\n\n    if (backdrop) {\n      backdrop.classList.remove(\"show\");\n    }\n\n    // Timeout gives us a fluid animation\n    setTimeout(function () {\n      if (backdrop) {\n        backdrop.remove();\n      }\n\n      if (modal) {\n        modal.remove();\n      }\n    }, 100);\n  };\n\n  htmx.onLoad(function (el) {\n    el.querySelectorAll(\".modal-close\").forEach(function (btn) {\n      btn.addEventListener(\"click\", modalClose);\n    });\n  });\n}\n", "import htmx from \"htmx.org/dist/htmx.esm.js\";\n\nexport default function () {\n  let toggleSelected = function (evt) {\n    let group = evt.currentTarget.closest(\".radio-card-group\");\n    let cards = group.querySelectorAll(\".c-radio-card\");\n    cards.forEach(function (card) {\n      card.setAttribute(\"aria-selected\", \"false\");\n      card.classList.remove(\"c-radio-card--selected\");\n    });\n    evt.currentTarget.setAttribute(\"aria-selected\", \"true\");\n    evt.currentTarget.classList.add(\"c-radio-card--selected\");\n  };\n\n  let addEvents = function (rootEl) {\n    rootEl\n      .querySelectorAll(\".radio-card-group .c-radio-card\")\n      .forEach((card) => card.addEventListener(\"click\", toggleSelected));\n  };\n\n  addEvents(document);\n\n  htmx.onLoad(addEvents);\n}\n", "import htmx from \"htmx.org/dist/htmx.esm.js\";\n\nexport default function () {\n  let addEvents = function (rootEl) {\n    rootEl\n      .querySelectorAll('.btn-close[data-bs-dismiss=\"toast\"]')\n      .forEach(function (btn) {\n        btn.addEventListener(\"click\", () => {\n          btn.closest(\".toast\").remove();\n        });\n      });\n  };\n\n  htmx.onLoad(addEvents);\n}\n", "/**!\n * Sortable 1.15.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar version = \"1.15.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options, includeDragEl) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar _excluded = [\"evt\"];\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, _excluded);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread2({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\r\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\r\n * @param  {Number} x      X position\r\n * @param  {Number} y      Y position\r\n * @return {HTMLElement}   Element of the first found nearest Sortable\r\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    var threshold = sortable[expando].options.emptyInsertThreshold;\n    if (!threshold || lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists && !ChromeForAndroid) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\r\n * @class  Sortable\r\n * @param  {HTMLElement}  el\r\n * @param  {Object}       [options]\r\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.removeAttribute(\"id\");\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread2({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // Insert to end of list\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // if there is a last element, it is the target\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n\n          if (elLastChild && elLastChild.nextSibling) {\n            // the last draggable element is not the last node\n            el.insertBefore(dragEl, elLastChild.nextSibling);\n          } else {\n            el.appendChild(dragEl);\n          }\n\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n        // Insert to start of list\n        var firstChild = getChild(el, 0, options, true);\n\n        if (firstChild === dragEl) {\n          return completed(false);\n        }\n\n        target = firstChild;\n        targetRect = getRect(target);\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n          capture();\n          el.insertBefore(dragEl, firstChild);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\r\n   * Serializes the item into an array of string.\r\n   * @returns {String[]}\r\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\r\n   * Sorts the elements according to the array.\r\n   * @param  {String[]}  order  order of the items\r\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\r\n   * Save the current sorting\r\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\r\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\r\n   * @param   {HTMLElement}  el\r\n   * @param   {String}       [selector]  default: `options.draggable`\r\n   * @returns {HTMLElement|null}\r\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\r\n   * Set/get option\r\n   * @param   {string} name\r\n   * @param   {*}      [value]\r\n   * @returns {*}\r\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\r\n   * Destroy\r\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsFirst(evt, vertical, sortable) {\n  var rect = getRect(getChild(sortable.el, 0, sortable.options, true));\n  var spacer = 10;\n  return vertical ? evt.clientX < rect.left - spacer || evt.clientY < rect.top && evt.clientX < rect.right : evt.clientY < rect.top - spacer || evt.clientY < rect.bottom && evt.clientX < rect.left;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\r\n * Gets the direction dragEl must be swapped relative to target in order to make it\r\n * seem that dragEl has been \"inserted\" into that element's position\r\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\r\n * @return {Number}                   Direction dragEl must be swapped\r\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\r\n * Generate id\r\n * @param   {HTMLElement} el\r\n * @returns {String}\r\n * @private\r\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\r\n * Get the Sortable instance of an element\r\n * @param  {HTMLElement} element The element\r\n * @return {Sortable|undefined}         The instance of Sortable\r\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\r\n * Mount a plugin to Sortable\r\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\r\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\r\n * Create sortable instance\r\n * @param {HTMLElement}  el\r\n * @param {Object}      [options]\r\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      forceAutoScrollFallback: false,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (!sortable.options.avoidImplicitDeselect) {\n      if (sortable.options.supportPointer) {\n        on(document, 'pointerup', this._deselectMultiDrag);\n      } else {\n        on(document, 'mouseup', this._deselectMultiDrag);\n        on(document, 'touchend', this._deselectMultiDrag);\n      }\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      avoidImplicitDeselect: false,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvent: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        folding = false; // Do not \"unfold\" after around dragEl if reverted\n\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvent: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n", "import htmx from \"htmx.org/dist/htmx.esm.js\";\nimport Sortable from \"sortablejs\";\n\nexport default function () {\n  const addEvents = (content) => {\n    var sortables = content.querySelectorAll(\".sortable\");\n    for (var i = 0; i < sortables.length; i++) {\n      var sortable = sortables[i];\n      new Sortable(sortable, {\n        handle: \".sortable-handle\",\n        animation: 150,\n        revertOnSpill: true,\n      });\n    }\n  };\n\n  htmx.onLoad(addEvents);\n}\n", "// /* ==========================================================================\n//     Collapsible sub sidebar\n//    ========================================================================== */\n\n//    $('[data-sidebar-toggle]').click(function () {\n//     $('[data-sidebar]').toggleClass('collapsed');\n//   });\n\nimport htmx from \"htmx.org/dist/htmx.esm.js\";\n\nexport default function () {\n  let toggler = function (evt) {\n    let showSidebar = evt.currentTarget.closest(\"#show-sidebar\");\n    let sidebar = showSidebar.querySelector(\"[data-sidebar]\");\n    sidebar.classList.toggle(\"collapsed\");\n  };\n\n  let addEvents = function () {\n    document\n      .querySelectorAll(\"[data-sidebar-toggle]\")\n      .forEach((sidebar) => sidebar.addEventListener(\"click\", toggler));\n  };\n\n  addEvents();\n\n  htmx.onLoad(function (el) {\n    addEvents();\n  });\n}\n\n//   import htmx from 'htmx.org';\n\n//   export default function () {\n//       let toggleSelected = function(evt) {\n//           let group = evt.currentTarget.closest('.radio-card-group')\n//           let cards = group.querySelectorAll('.c-radio-card')\n//           cards.forEach(function(card) {\n//               card.setAttribute('aria-selected', 'false');\n//               card.classList.remove('c-radio-card--selected');\n//           })\n//           evt.currentTarget.setAttribute('aria-selected', 'true');\n//           evt.currentTarget.classList.add('c-radio-card--selected');\n//       }\n\n//       // let goToURL = function(evt) {\n//       //     window.location = this.dataset.url\n//       // }\n\n//       let addEvents = function() {\n//           document.querySelectorAll('.radio-card-group .c-radio-card').forEach(card =>\n//               card.addEventListener('click', toggleSelected)\n//           )\n//           // document.querySelectorAll('.c-radio-card[data-url]').forEach(card =>\n//           //     card.addEventListener('click', goToURL)\n//           // )\n//       }\n\n//       addEvents()\n\n//       htmx.onLoad(function(el) {\n//           addEvents()\n//       });\n//   }\n", "export default function (error) {\n  let modals = document.querySelector(\"#modals\");\n\n  if (!modals) return;\n\n  /*\n   * Expects somewhere in the document ..\n   *\n   * <template class=\"template-modal-error\"></template>\n   *\n   * .. a template that encapsulates the modal body\n   * */\n  let templateModalError = document.querySelector(\n    \"template.template-modal-error\",\n  );\n\n  if (!templateModalError) return;\n\n  let modal = templateModalError.content.cloneNode(true);\n\n  // modal-close not triggered for dynamically added modals\n  modal.querySelector(\".modal-close\").addEventListener(\"click\", function () {\n    modals.innerHTML = \"\";\n  });\n\n  modal.querySelector(\".msg\").textContent = error;\n\n  modals.innerHTML = \"\";\n  modals.appendChild(modal);\n}\n", "import htmx from \"htmx.org/dist/htmx.esm.js\";\nimport modalError from \"./modal_error.js\";\n\nexport default function () {\n  htmx.onLoad(function (rootEl) {\n    rootEl\n      .querySelectorAll(\"input[type=file].upload-progress\")\n      .forEach((input) => {\n        input.addEventListener(\"change\", (evt) => {\n          const files = Array.from(input.files);\n          if (!files.length) return;\n\n          const file = files[0];\n          const form = input.closest(\"form\");\n          const target = document.querySelector(form.dataset.target);\n          const headers = JSON.parse(form.dataset.headers);\n          const maxSize = parseInt(input.dataset.maxSize);\n          const maxSizeError = input.dataset.maxSizeError;\n\n          if (!isNaN(maxSize) && maxSize > 0 && input.files[0].size > maxSize) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            modalError(maxSizeError);\n            hideFormUpload(form);\n            return;\n          }\n\n          // weird, but makes sure that middleware does not try to read _method from form\n          headers[\"X-HTTP-Method-Override\"] = \"POST\";\n          //\"Failed to execute 'setRequestHeader' on 'XMLHttpRequest': String contains non ISO-8859-1 code point\"\n          headers[\"X-Upload-Filename\"] = encodeURIComponent(file.name);\n          headers[\"Content-Type\"] = file.type;\n\n          let req = new XMLHttpRequest();\n\n          // request aborted by user\n          // req.addEventListener(\n          //   \"abort\",\n          //   (e) => {\n          //     e.preventDefault();\n          //     e.stopPropagation();\n          //     modalError(input.dataset.uploadMsgFileAborted);\n          //     hideFormUpload(form);\n          //   },\n          //   false,\n          // );\n\n          req.upload.addEventListener(\n            \"progress\",\n            (e) => {\n              if (!e.lengthComputable) return;\n              setProgress(form, Math.floor((e.loaded / e.total) * 100));\n            },\n            false,\n          );\n\n          req.addEventListener(\"readystatechange\", (e) => {\n            if (req.readyState !== XMLHttpRequest.DONE) return;\n\n            hideFormUpload(form);\n\n            // file created\n            if (req.status == 200 || req.status == 201) {\n              htmx.swap(target, req.responseText, { swapStyle: \"innerHTML\" });\n            }\n            // file too large (server side check)\n            else if (req.status == 413) {\n              modalError(input.dataset.uploadMsgFileTooLarge);\n            }\n            // publication has been removed in the meantime\n            else if (req.status == 404) {\n              modalError(input.dataset.uploadMsgRecordNotFound);\n            }\n            // undetermined errors\n            else {\n              modalError(input.dataset.uploadMsgUnexpected);\n            }\n          });\n\n          // switch to form upload\n          showFormUpload(form);\n\n          // and start request\n          req.open(form.method, form.action);\n          for (let key in headers) {\n            req.setRequestHeader(key, headers[key]);\n          }\n          req.send(file);\n        });\n      });\n  });\n}\n\nfunction showFormUpload(form) {\n  setProgress(form, 0);\n  form.querySelectorAll(\"input\").forEach((el) => {\n    el.disabled = true;\n  });\n  form.querySelector(\".file-upload-start\").classList.add(\"d-none\");\n  form.querySelector(\".file-upload-busy\").classList.remove(\"d-none\");\n}\n\nfunction hideFormUpload(form) {\n  setProgress(form, 0);\n  form.querySelectorAll(\"input\").forEach((el) => {\n    el.disabled = false;\n    // important to retrigger \"change\" when someone enters the same file name again\n    el.value = \"\";\n  });\n  form.querySelector(\".file-upload-start\").classList.remove(\"d-none\");\n  form.querySelector(\".file-upload-busy\").classList.add(\"d-none\");\n}\n\nfunction setProgress(form, pct) {\n  let pb = form.querySelector(\".progress-bar\");\n  pb.setAttribute(\"style\", \"width: \" + pct + \"%\");\n  pb.setAttribute(\"aria-valuenow\", pct);\n  let pi = form.querySelector(\".progress-bar-percent\");\n  pi.innerText = pct;\n}\n", "import htmx from \"htmx.org/dist/htmx.esm.js\";\nimport Tagify from \"@yaireo/tagify\"; // see https://github.com/yairEO/tagify\n\nexport default function () {\n  /*\n   * Expected html layout:\n   *\n   * <div class=\"tags\">\n   *  <span class=\"tags-real-values\"></span>\n   *  <textarea class=\"tags-widget-values\" data-input-name=\"keyword\">\n   *    [\"tag1\", \"tag2\"]\n   *  </textarea>\n   * </div>\n   *\n   * \"tags-real-values\" is filled with hidden input (by the widget) that are sent to the server\n   * \"tags-widget-values\" is a textarea that should be prefilled with json array of tags, that should have NO name,\n   * and should therefore not be sent to the server\n   * */\n\n  const fillRealValues = function (element, name, values) {\n    element.innerHTML = \"\";\n    for (let i = 0; i < values.length; i++) {\n      const input = document.createElement(\"input\");\n      input.type = \"hidden\";\n      input.name = `${name}[${i}]`;\n      input.value = values[i];\n      element.appendChild(input);\n    }\n  };\n\n  htmx.onLoad((rootEl) => {\n    rootEl.querySelectorAll(\".tags\").forEach((tags) => {\n      const realValues = tags.querySelector(\".tags-real-values\");\n      const widgetValues = tags.querySelector(\".tags-widget-values\");\n      const { inputName } = widgetValues.dataset;\n\n      // parse json, and fill tags-real-values\n      {\n        let val = widgetValues.value;\n        try {\n          val = JSON.parse(val);\n          if (Array.isArray(val)) {\n            fillRealValues(realValues, inputName, val);\n          }\n        } catch (err) {}\n      }\n\n      // load and configure tagify\n      const tagify = new Tagify(widgetValues, {\n        delimiters: \";|\\n|\\r\",\n        duplicates: false,\n        pasteAsTags: true, //automatically converted pasted text into tags (using delimiters)\n\n        // we have no dropdown, but setting \"caseSensitive\" is used by Tagify for duplicate check\n        dropdown: {\n          enabled: false,\n          caseSensitive: true,\n        },\n      });\n\n      tagify.on(\"change\", function (evt) {\n        fillRealValues(\n          realValues,\n          inputName,\n          evt.detail.tagify.value.map((v) => v.value),\n        );\n      });\n\n      const { originalInput, input } = tagify.DOM;\n      if (originalInput && input) {\n        handleLabelFocus(originalInput, input);\n\n        copyAriaAttributes(originalInput, input);\n      }\n    });\n  });\n}\n\nfunction handleLabelFocus(originalInput, input) {\n  if (originalInput.id) {\n    const label = document.querySelector(`label[for=\"${originalInput.id}\"]`);\n\n    if (label) {\n      label.addEventListener(\"click\", () => {\n        // for some reason focus is lost again immediately if you don't set it with timeout\n        window.setTimeout(() => input.focus(), 0);\n      });\n    }\n  }\n}\n\nfunction copyAriaAttributes(originalInput, input) {\n  if (originalInput && input) {\n    for (const attr of originalInput.attributes) {\n      if (attr.name.startsWith(\"aria-\") && !input.hasAttribute(attr.name)) {\n        input.setAttribute(attr.name, attr.value);\n      }\n    }\n  }\n}\n", "export default function () {\n  document.querySelectorAll(\"[data-facet-dropdown]\").forEach((dropdown) => {\n    const facet = dropdown.getAttribute(\"data-facet-dropdown\");\n    const form = dropdown.querySelector(\"form\");\n\n    if (form) {\n      let beginState = null;\n\n      dropdown.addEventListener(\"show.bs.dropdown\", function () {\n        beginState = getCurrentState(form, facet);\n      });\n\n      dropdown.addEventListener(\"shown.bs.dropdown\", function () {\n        // Auto-focus first input field if it exists\n        form.querySelector(\"input[type=text]\")?.focus();\n      });\n\n      dropdown.addEventListener(\"hidden.bs.dropdown\", function () {\n        const currentState = getCurrentState(form, facet);\n\n        // Apply filter when dropdown fields have been altered\n        if (beginState !== null && beginState !== currentState) {\n          form.submit();\n        }\n\n        beginState = null;\n      });\n    } else {\n      console.log(`Could not find form element for facet '${facet}'.`);\n    }\n  });\n}\n\nfunction getCurrentState(form, facet) {\n  // TODO: test with: new URLSearchParams(new FormData(form)).toString()\n  const entries = Array.from(new FormData(form).entries());\n\n  return entries\n    .filter(([key]) => key === `f[${facet}]`)\n    .map(([_, value]) => value)\n    .join(\",\");\n}\n", "const LOCAL_STORAGE_KEY = \"detail-sidebar-state\";\nconst DEFAULT_SIDEBAR_STATE = \"sidebar-message\";\n\nexport default function initSidebarMenu() {\n  const menuButtons = document.querySelectorAll(\"[data-sidebar-menu] button\");\n  const contents = document.querySelectorAll(\"[data-sidebar-content]\");\n  const closeButtons = document.querySelectorAll(\"[data-sidebar-close]\");\n\n  menuButtons.forEach((button) => {\n    button.addEventListener(\"click\", () => {\n      const targetId = button.getAttribute(\"data-target-id\");\n      const targetContent = document.getElementById(targetId);\n\n      // Check if the target content is currently displayed.\n      if (targetContent.classList.contains(\"open\")) {\n        // If so, hide it.\n        targetContent.classList.remove(\"open\");\n        button.classList.remove(\"active\");\n\n        setActiveSidebar(null);\n      } else {\n        // If not, hide all contents and show the target content.\n        contents.forEach((content) => {\n          content.classList.remove(\"open\");\n        });\n        menuButtons.forEach((btn) => {\n          btn.classList.remove(\"active\");\n        });\n\n        targetContent.classList.add(\"open\");\n        button.classList.add(\"active\");\n\n        setActiveSidebar(targetId);\n      }\n    });\n  });\n\n  closeButtons.forEach((button) => {\n    button.addEventListener(\"click\", () => {\n      const parentContent = button.closest(\"[data-sidebar-content]\");\n      if (parentContent) {\n        parentContent.classList.remove(\"open\");\n\n        // Find the corresponding menu button and remove active class.\n        const correspondingButton = document.querySelector(\n          `[data-sidebar-menu] button[data-target=\"${parentContent.id}\"]`,\n        );\n        if (correspondingButton) {\n          correspondingButton.classList.remove(\"active\");\n        }\n      }\n    });\n  });\n\n  const activeSidebar = getActiveSidebar();\n  if (activeSidebar) {\n    document.getElementById(activeSidebar)?.classList.add(\"open\");\n    document\n      .querySelector(\n        `[data-sidebar-menu] .nav-link[data-target-id=\"${activeSidebar}\"]`,\n      )\n      ?.classList.add(\"active\");\n  }\n}\n\nfunction getActiveSidebar(): string | undefined {\n  const key = getPageKey();\n  if (key) {\n    const state = getDetailSidebarState();\n\n    if (state.has(key)) {\n      return state.get(key);\n    } else {\n      return DEFAULT_SIDEBAR_STATE;\n    }\n  }\n}\n\nfunction setActiveSidebar(activeSidebar: string | null) {\n  const key = getPageKey();\n  if (key) {\n    const state = getDetailSidebarState();\n    if (activeSidebar !== DEFAULT_SIDEBAR_STATE) {\n      state.set(key, activeSidebar);\n    } else {\n      state.delete(key);\n    }\n\n    localStorage.setItem(\n      LOCAL_STORAGE_KEY,\n      JSON.stringify(Object.fromEntries(state)),\n    );\n  }\n}\n\nlet sidebarState: Map<string, string> = null;\n\nfunction getDetailSidebarState(): Map<string, string> {\n  if (!sidebarState) {\n    const savedState = localStorage.getItem(LOCAL_STORAGE_KEY);\n    if (savedState) {\n      try {\n        const state = JSON.parse(savedState) as Record<string, string>;\n\n        sidebarState = new Map(Object.entries(state));\n      } catch (err) {\n        console.warn(\n          `There was an error parsing the saved state with key \"${LOCAL_STORAGE_KEY}\": `,\n          err,\n        );\n\n        sidebarState = new Map();\n      }\n    } else {\n      sidebarState = new Map();\n    }\n  }\n\n  return sidebarState;\n}\n\nfunction getPageKey() {\n  const regex = /^\\/(publication|dataset)\\/(?<id>[A-Z0-9]{10,})$/;\n\n  const match = document.location.pathname.match(regex);\n\n  return match?.groups?.id;\n}\n", "export default function initSearchFields(el: HTMLElement) {\n  el.querySelectorAll<HTMLInputElement>(\"input[data-submit-on-clear]\").forEach(\n    (input) => {\n      const form = input.closest(\"form\");\n      if (form) {\n        input.addEventListener(\"search\", () => {\n          if (input.value === \"\") {\n            form.submit();\n          }\n        });\n      }\n    },\n  );\n}\n", "import htmx from \"htmx.org/dist/htmx.esm.js\";\n\nimport { initCallback } from \"bootstrap.native\";\nimport csrf from \"./ui/csrf.js\";\nimport checkbox from \"./ui/checkbox.js\";\nimport clipboard from \"./ui/clipboard.js\";\nimport popover from \"./ui/popover.js\";\nimport header from \"./ui/header.js\"; // TODO is this still needed?\nimport multiple from \"./ui/multiple.js\";\nimport changeSubmit from \"./ui/form_change_submit.js\";\nimport autocomplete from \"./ui/autocomplete.js\";\nimport modalClose from \"./ui/modal_close.js\";\nimport radioCard from \"./ui/radio_card.js\";\nimport toast from \"./ui/toast.js\";\nimport sortable from \"./ui/sortable.js\";\nimport collapseSubSidebar from \"./ui/collapsible_sub_sidebar.js\";\nimport fileUpload from \"./ui/file_upload.js\";\nimport tags from \"./ui/tags.js\";\nimport facetDropdowns from \"./ui/facet_dropdowns.js\";\nimport initSidebarMenu from \"./ui/sidebar_menu.ts\";\nimport initSearchFields from \"./ui/search\";\n\n// configure htmx\nhtmx.config.defaultFocusScroll = true;\n\n// apply bootstrap js to new dom content\nhtmx.onLoad(initCallback);\n\n// load htmx extensions\nwindow.htmx = htmx;\nrequire(\"htmx-ext-remove-me\");\n\n// initialize everything\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  csrf();\n  checkbox();\n  popover();\n  header();\n  multiple();\n  changeSubmit();\n  autocomplete();\n  modalClose();\n  radioCard();\n  toast();\n  sortable();\n  collapseSubSidebar();\n  fileUpload();\n  tags();\n  facetDropdowns();\n  initSidebarMenu();\n});\n\nhtmx.onLoad(function (el) {\n  clipboard(el);\n  initSearchFields(el);\n});\n"],
  "mappings": "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",
  "names": ["require_tagify_min", "__commonJSMin", "exports", "module", "t", "e", "i", "s", "a", "n", "o", "r", "l", "d", "h", "g", "p", "c", "u", "m", "v", "f", "T", "w", "b", "y", "x", "D", "O", "M", "require_remove_me", "__commonJSMin", "maybeRemoveMe", "elt", "timing", "name", "evt", "children", "i", "htmx", "elt", "type", "verb", "tag", "global", "str", "interval", "name", "qualifiedName", "parent", "condition", "initialElement", "ancestor", "attributeName", "attributeValue", "disinherit", "inherit", "closestAttr", "e", "selector", "matchesFunction", "match", "resp", "fragment", "script", "newScript", "attr", "response", "responseWithNoHead", "startTag", "doc", "titleElement", "func", "o", "dataProp", "data", "arr", "returnArr", "i", "el", "rect", "elemTop", "elemBottom", "rootNode", "trigger", "obj1", "obj2", "key", "jString", "error", "test", "path", "url", "callback", "evt", "event", "eltOrSelector", "delay", "value", "clazz", "node", "child", "prefix", "suffix", "trimmedSelector", "start", "results", "context", "arg1", "arg2", "arg3", "eventArgs", "attrName", "attrTarget", "result", "attribute", "targetStr", "attributesToSettle", "mergeTo", "mergeFrom", "swapStyle", "target", "extensions", "extension", "oobValue", "oobElement", "settleInfo", "targets", "oobElementClone", "beforeSwapDetails", "preservedElt", "id", "oldElt", "parentNode", "newNode", "normalizedId", "normalizedTag", "parentElt", "oldNode", "newAttributes", "autofocus", "autoFocusedElt", "insertBefore", "string", "hash", "char", "internalData", "handlerInfo", "element", "info", "newElt", "eltBeforeNewContent", "firstChild", "ext", "newElements", "j", "content", "swapSpec", "swapOptions", "activeElt", "selectionInfo", "oobSelectValues", "oobSelectValue", "template", "newFragment", "newActiveElt", "focusOptions", "doSettle", "task", "anchorTarget", "xhr", "header", "triggerBody", "triggers", "eventName", "detail", "eventNames", "tokens", "position", "startPosition", "startChar", "symbol", "token", "last", "paramName", "bracketCount", "conditionalSource", "conditionFunction", "explicitTrigger", "cache", "triggerSpecs", "initialLength", "every", "eventFilter", "triggerSpec", "from_arg", "handler", "spec", "nodeData", "rawAttribute", "source", "explicitCancel", "elementData", "eltsToListenOn", "eltToListenOn", "eltToListenOnData", "eventListener", "eventData", "load", "explicitAction", "observerOptions", "entries", "attributes", "elements", "iter", "boostedSelector", "extensionSelectors", "selectors", "s", "form", "code", "listener", "afterOnPosition", "nextChar", "toDo", "msg", "eventResult", "kebabName", "kebabedEvent", "rootElt", "innerHTML", "title", "scroll", "historyCache", "newHistoryItem", "className", "clone", "disableHistoryCache", "tasks", "request", "details", "historyElement", "cached", "indicators", "ic", "disabledElts", "disabledElement", "disabled", "processed", "formData", "v", "values", "errors", "validate", "input", "receiver", "donor", "priorityFormData", "button", "includes", "descendant", "returnStr", "realValue", "prompt", "headers", "inputValues", "paramsValue", "newValues", "swapInfoOverride", "swapInfo", "split", "splitSpec", "scrollVal", "selectorVal", "showVal", "focusScrollVal", "filteredParameters", "encodedParameters", "first", "evalAsDefault", "evaluateValue", "varsValues", "toEval", "defaultVal", "expressionVars", "headerValue", "regexp", "requestConfig", "sameHost", "obj", "array", "index", "prop", "etc", "confirmed", "resolve", "reject", "promise", "_resolve", "_reject", "responseHandler", "select", "eltData", "submitter", "buttonPath", "buttonVerb", "confirmQuestion", "skipConfirmation", "syncElt", "syncStrategy", "queueStrategy", "abortable", "syncStrings", "endRequestLock", "promptQuestion", "promptResponse", "rawFormData", "allFormData", "filteredFormData", "requestAttrValues", "eltIsBoosted", "useUrlParams", "splitPath", "pathNoAnchor", "anchor", "finalPath", "responseInfo", "hierarchy", "disableElts", "secondaryTriggerElt", "parentEltInHierarchy", "params", "pathFromHeaders", "typeFromHeaders", "requestPath", "responsePath", "pushUrl", "replaceUrl", "elementIsBoosted", "saveType", "responseHandlingConfig", "status", "regExp", "responseHandlingElement", "titleElt", "responseInfoSelect", "redirectPath", "redirectSwapSpec", "shouldRefresh", "historyUpdate", "responseHandling", "shouldSwap", "isError", "ignoreTitle", "selectOverride", "swapOverride", "serverResponse", "settleResolve", "settleReject", "selectOOB", "doSwap", "finalElt", "shouldTransition", "settlePromise", "innerDoSwap", "api", "text", "parameters", "extensionsToReturn", "extensionsToIgnore", "extensionsForElement", "extensionName", "fn", "nonceAttribute", "metaConfig", "body", "restoredElts", "originalPopstate", "htmx_esm_default", "me", "ge", "Ee", "ye", "we", "Ae", "P", "$", "_", "tt", "st", "rt", "it", "lt", "pt", "ft", "mt", "St", "Nt", "kt", "Ct", "zt", "Vt", "Ce", "Re", "Qe", "qe", "Ge", "Ze", "Rt", "Qt", "C", "F", "qt", "A", "Gt", "S", "z", "t", "x", "gn", "M", "jt", "e", "n", "o", "s", "Jt", "Kt", "r", "Xt", "Yt", "Mn", "kn", "Dn", "Ln", "On", "In", "v", "i", "u", "E", "O", "Bn", "N", "W", "R", "d", "k", "Zt", "Q", "g", "ee", "ne", "Un", "a", "l", "Rn", "V", "w", "oe", "Qn", "p", "c", "f", "y", "q", "Gn", "Jn", "Kn", "Xn", "Yn", "I", "se", "m", "Zn", "h", "_n", "T", "ce", "no", "B", "H", "b", "ae", "so", "ie", "ao", "lo", "Eo", "bo", "yo", "le", "wo", "de", "Mo", "No", "ko", "fadeClass", "showClass", "dataBsDismiss", "alertString", "alertComponent", "Ti", "Version", "version", "BaseComponent", "target", "config", "element", "querySelector", "isString", "prevInstance", "Data", "ObjectKeys", "normalizeOptions", "prop", "alertSelector", "alertDismissSelector", "getAlertInstance", "getInstance", "alertInitCallback", "Alert", "closeAlertEvent", "createCustomEvent", "closedAlertEvent", "alertTransitionEnd", "that", "toggleAlertHandler", "dispatchEvent", "add", "action", "addListener", "removeListener", "dismiss", "close", "mouseclickEvent", "__publicField", "hasClass", "removeClass", "emulateTransitionEnd", "activeClass", "dataBsToggle", "buttonString", "buttonComponent", "buttonSelector", "getButtonInstance", "buttonInitCallback", "Button", "toggleButtonHandler", "self", "isActive", "getAttribute", "addClass", "setAttribute", "ariaPressed", "dataBsTarget", "carouselString", "carouselComponent", "dataBsParent", "dataBsContainer", "getTargetElement", "targetAttr", "doc", "getDocument", "att", "attValue", "closest", "carouselSelector", "carouselItem", "dataBsSlideTo", "dataBsSlide", "pausedClass", "carouselDefaults", "getCarouselInstance", "carouselInitCallback", "Carousel", "startX", "currentX", "endX", "carouselSlideEvent", "carouselSlidEvent", "carouselTransitionEndHandler", "index", "direction", "slides", "options", "activeItem", "getActiveIndex", "orientation", "directionClass", "Timer", "carouselPauseHandler", "carouselResumeHandler", "carouselIndicatorHandler", "newIndex", "carouselControlsHandler", "carouselKeyHandler", "code", "querySelectorAll", "isElementInScrollRange", "RTL", "isRTL", "keyArrowRight", "keyArrowLeft", "carouselDragHandler", "carouselPointerDownHandler", "controls", "indicators", "el", "toggleCarouselTouchHandlers", "carouselPointerMoveHandler", "carouselPointerUpHandler", "_a", "activateCarouselIndicator", "pointermoveEvent", "passiveHandler", "pointerupEvent", "toggleCarouselHandlers", "touch", "pause", "interval", "keyboard", "mouseenterEvent", "mouseleaveEvent", "pointerdownEvent", "touchstartEvent", "dragstartEvent", "arrow", "indicator", "keydownEvent", "isHTMLElement", "getElementsByClassName", "activeIndex", "transitionItem", "matches", "ar", "isPaused", "idx", "next", "eventProperties", "ObjectAssign", "getElementTransitionDuration", "reflow", "isAnimating", "clone", "collapsingClass", "collapseString", "collapseComponent", "collapseSelector", "collapseToggleSelector", "collapseDefaults", "getCollapseInstance", "collapseInitCallback", "Collapse", "showCollapseEvent", "shownCollapseEvent", "hideCollapseEvent", "hiddenCollapseEvent", "expandCollapse", "parent", "triggers", "noop", "setElementStyle", "btn", "ariaExpanded", "collapseContent", "toggleCollapseHandler", "collapseClickHandler", "trigger", "activeCollapse", "activeCollapseInstance", "dropdownMenuClasses", "dropdownComponent", "dropdownMenuClass", "isEmptyAnchor", "parentAnchor", "hasAttribute", "dropdownString", "dropupString", "dropstartString", "dropendString", "dropdownClasses", "dropdownSelector", "getDropdownInstance", "dropdownInitCallback", "Dropdown", "dropdownMenuEndClass", "verticalClass", "horizontalClass", "menuFocusTags", "dropdownDefaults", "showDropdownEvent", "shownDropdownEvent", "hideDropdownEvent", "hiddenDropdownEvent", "updatedDropdownEvent", "styleDropdown", "menu", "parentElement", "offset", "getElementStyle", "menuEnd", "style", "positionClass", "dropdownMargin", "dropdownPosition", "menuWidth", "menuHeight", "clientWidth", "clientHeight", "getDocumentElement", "targetLeft", "targetTop", "targetWidth", "targetHeight", "getBoundingClientRect", "leftFullExceed", "rightFullExceed", "bottomExceed", "bottomFullExceed", "topExceed", "leftExceed", "rightExceed", "posAjust", "margins", "getMenuItems", "firstElementChild", "toggleDropdownDismiss", "dropdownDismissHandler", "focusEvent", "dropdownPreventScroll", "keyupEvent", "dropdownKeyHandler", "scrollEvent", "resizeEvent", "ev", "getWindow", "dropdownLayoutHandler", "toggleDropdownHandler", "dropdownClickHandler", "getCurrentOpenDropdown", "currentParent", "type", "isForm", "mousedownEvent", "keyArrowDown", "keyArrowUp", "activeElement", "open", "menuItems", "focus", "keyEscape", "currentElement", "currentInstance", "modalString", "modalComponent", "offcanvasComponent", "fixedTopClass", "fixedBottomClass", "stickyTopClass", "positionStickyClass", "getFixedItems", "resetScrollbar", "bd", "getDocumentBody", "fixedItems", "fixed", "measureScrollbar", "innerWidth", "setScrollbar", "overflow", "bodyPad", "sbWidth", "itemPadValue", "itemMValue", "offcanvasString", "popupContainer", "createElement", "appendPopup", "customContainer", "containerIsBody", "isNode", "lookup", "BODY", "removePopup", "hasPopup", "backdropString", "modalBackdropClass", "offcanvasBackdropClass", "modalActiveSelector", "offcanvasActiveSelector", "overlay", "getCurrentOpen", "toggleOverlayType", "isModal", "targetClass", "appendOverlay", "hasFade", "showOverlay", "hideOverlay", "removeOverlay", "isVisible", "modalSelector", "modalToggleSelector", "modalDismissSelector", "modalStaticClass", "modalDefaults", "getModalInstance", "modalInitCallback", "Modal", "showModalEvent", "shownModalEvent", "hideModalEvent", "hiddenModalEvent", "setModalScrollbar", "scrollbarWidth", "scrollHeight", "modalHeight", "modalScrollHeight", "modalOverflow", "pad", "padStyle", "toggleModalDismiss", "update", "modalDismissHandler", "modalKeyHandler", "toggleModalHandler", "modalClickHandler", "afterModalHide", "relatedTarget", "focusElement", "afterModalShow", "beforeModalShow", "removeAttribute", "ariaHidden", "ariaModal", "beforeModalHide", "_b", "isStatic", "modalDialog", "backdrop", "selectedText", "targetInsideDialog", "staticTransitionEnd", "duration", "overlayDelay", "currentOpen", "callback", "offcanvasSelector", "offcanvasToggleSelector", "offcanvasDismissSelector", "offcanvasTogglingClass", "offcanvasDefaults", "getOffcanvasInstance", "offcanvasInitCallback", "Offcanvas", "showOffcanvasEvent", "shownOffcanvasEvent", "hideOffcanvasEvent", "hiddenOffcanvasEvent", "setOffCanvasScrollbar", "toggleOffcanvasEvents", "offcanvasTriggerHandler", "toggleOffCanvasDismiss", "offcanvasKeyDismissHandler", "offcanvasDismissHandler", "beforeOffcanvasShow", "showOffcanvasComplete", "beforeOffcanvasHide", "hideOffcanvasComplete", "offCanvasDismiss", "selection", "visibleTrigger", "delay", "popoverString", "popoverComponent", "tooltipString", "getTipTemplate", "tipType", "isTooltip", "bodyClass", "header", "body", "tipClassPositions", "styleTip", "tipClasses", "tooltip", "container", "tipPositions", "isPopover", "tipWidth", "tipHeight", "htmlcw", "htmlch", "htmlow", "placement", "parentCWidth", "parentOWidth", "fixedParent", "leftBoundry", "rightBoundry", "elemWidth", "elemHeight", "elemRectLeft", "elemRectRight", "elemRectTop", "topPosition", "bottomPosition", "leftPosition", "rightPosition", "arrowTop", "arrowLeft", "arrowRight", "arrowWidth", "arrowHeight", "arrowAdjust", "horizontals", "verticals", "updatedTooltipEvent", "toLowerCase", "tooltipDefaults", "dataOriginalTitle", "tooltipComponent", "setHtml", "content", "sanitizeFn", "dirty", "isFunction", "tempDocument", "isNodeList", "isArray", "createTip", "id", "title", "template", "animation", "customClass", "dismissible", "btnClose", "tipString", "titleParts", "contentParts", "placementClass", "tooltipTemplate", "htmlMarkup", "tooltipHeader", "tooltipBody", "tempTitle", "tempContent", "tempBtn", "getElementContainer", "majorBlockTags", "containers", "parentNode", "getParentNode", "isShadowRoot", "isTableElement", "tooltipSelector", "titleAttr", "getTooltipInstance", "tooltipInitCallback", "Tooltip", "removeTooltip", "offsetParent", "ariaDescribedBy", "hasTip", "disposeTooltipComplete", "toggleTooltipHandlers", "toggleTooltipTitle", "toggleTooltipAction", "tooltipShownAction", "shownTooltipEvent", "tooltipHiddenAction", "hiddenTooltipEvent", "tr", "mousehoverEvent", "focusinEvent", "focusoutEvent", "isApple", "toggleTooltipOpenHandlers", "offsetHeight", "parentModal", "parentOffcanvas", "win", "scrollTarget", "titleAtt", "tipComponent", "elem", "getUID", "position", "outTimer", "tipContainer", "showTooltipEvent", "hideTooltipEvent", "enabled", "popoverSelector", "popoverDefaults", "getPopoverInstance", "popoverInitCallback", "Popover", "scrollspyString", "scrollspyComponent", "scrollspySelector", "scrollspyDefaults", "getScrollSpyInstance", "scrollspyInitCallback", "ScrollSpy", "activateScrollSpy", "updateSpyTargets", "itemsLength", "isWin", "isWindow", "links", "getElementsByTagName", "scrollHEIGHT", "getScrollHeight", "href", "targetItem", "rect", "getOffsetHeight", "link", "clear", "item", "activate", "parents", "parentItem", "menuItem", "parentLink", "toggleSpyHandlers", "scrollTop", "maxScroll", "items", "newActiveItem", "offsets", "tabString", "tabComponent", "tabSelector", "getTabInstance", "tabInitCallback", "Tab", "showTabEvent", "shownTabEvent", "hideTabEvent", "hiddenTabEvent", "tabPrivate", "triggerTabEnd", "tabContent", "nav", "triggerTabShow", "nextContent", "tab", "currentHeight", "nextHeight", "triggerTabHide", "getActiveTab", "activeTabs", "getParentDropdown", "dropdown", "toggleTabHandler", "tabClickHandler", "firstTab", "firstTabContent", "ariaSelected", "activeDropdown", "toggleTab", "toastString", "toastComponent", "toastSelector", "toastDismissSelector", "toastToggleSelector", "showingClass", "hideClass", "toastDefaults", "getToastInstance", "toastInitCallback", "Toast", "showToastEvent", "shownToastEvent", "hideToastEvent", "hiddenToastEvent", "showToastComplete", "hideToastComplete", "hideToast", "showToast", "toggleToastHandlers", "hide", "interactiveToastHandler", "toastClickHandler", "completeDisposeToast", "isShown", "componentsList", "initComponentDataAPI", "collection", "initCallback", "context", "lookUp", "elemCollection", "getElementsByTagName", "componentsList", "cs", "init", "selector", "initComponentDataAPI", "item", "matches", "initCallback", "addListener", "csrf_default", "evt", "checkbox_default", "label_select_all", "label_deselect_all", "formSwitchCheck", "evt", "btn", "chks", "isSelectAll", "el", "i", "clipboard_default", "rootEl", "btn", "icon", "text", "origBtnClass", "origIconClass", "origTextClass", "origText", "popover_default", "addEvents", "rootEl", "el", "container", "content", "heading", "title", "Kt", "htmx_esm_default", "header_default", "Header", "el", "savedState", "HEADER_STATE_STORAGE_KEY", "headerState", "collapser", "event", "collapsibleHeaders", "collapsibleHeader", "multiple_default", "reTmpl", "setValueIndex", "formValue", "valueIndex", "el", "attrs", "i", "m", "addEvents", "rootEl", "deleteFormValue", "e", "formField", "length", "addFormValue", "formValues", "lastValue", "newValue", "item", "lastBtn", "classList", "htmx_esm_default", "form_change_submit_default", "el", "evt", "spinner", "autocomplete_default", "addEvents", "rootEl", "ac", "evt", "hit", "target", "v", "htmx_esm_default", "el", "modal_close_default", "modalClose", "evt", "modal", "backdrop", "htmx_esm_default", "el", "btn", "radio_card_default", "toggleSelected", "evt", "card", "addEvents", "rootEl", "htmx_esm_default", "toast_default", "addEvents", "rootEl", "btn", "htmx_esm_default", "ownKeys", "object", "enumerableOnly", "keys", "symbols", "sym", "_objectSpread2", "target", "i", "source", "key", "_defineProperty", "_typeof", "obj", "value", "_extends", "_objectWithoutPropertiesLoose", "excluded", "sourceKeys", "_objectWithoutProperties", "sourceSymbolKeys", "version", "userAgent", "pattern", "IE11OrLess", "Edge", "FireFox", "Safari", "IOS", "ChromeForAndroid", "captureMode", "on", "el", "event", "fn", "off", "matches", "selector", "getParentOrHost", "closest", "ctx", "includeCTX", "R_SPACE", "toggleClass", "name", "state", "className", "css", "prop", "val", "style", "matrix", "selfOnly", "appliedTransforms", "transform", "matrixFn", "find", "tagName", "iterator", "list", "i", "n", "getWindowScrollingElement", "scrollingElement", "getRect", "relativeToContainingBlock", "relativeToNonStaticParent", "undoScale", "container", "elRect", "top", "left", "bottom", "right", "height", "width", "containerRect", "elMatrix", "scaleX", "scaleY", "isScrolledPast", "elSide", "parentSide", "parent", "getParentAutoScrollElement", "elSideVal", "parentSideVal", "visible", "getChild", "childNum", "options", "includeDragEl", "currentChild", "children", "Sortable", "lastChild", "last", "index", "getRelativeScrollOffset", "offsetLeft", "offsetTop", "winScroller", "indexOfObject", "arr", "obj", "key", "includeSelf", "elem", "gotSelf", "elemCSS", "extend", "dst", "src", "isRectEqual", "rect1", "rect2", "_throttleTimeout", "throttle", "callback", "ms", "args", "_this", "cancelThrottle", "scrollBy", "x", "y", "clone", "Polymer", "$", "expando", "AnimationStateManager", "animationStates", "animationCallbackId", "children", "child", "css", "Sortable", "getRect", "fromRect", "_objectSpread2", "childMatrix", "matrix", "state", "target", "indexOfObject", "callback", "_this", "animating", "animationTime", "time", "toRect", "prevFromRect", "prevToRect", "animatingRect", "targetMatrix", "isRectEqual", "calculateRealTime", "currentRect", "duration", "elMatrix", "scaleX", "scaleY", "translateX", "translateY", "repaint", "options", "plugins", "defaults", "PluginManager", "plugin", "option", "p", "eventName", "sortable", "evt", "eventNameGlobal", "el", "pluginName", "initialized", "_extends", "modified", "name", "eventProperties", "value", "modifiedValue", "dispatchEvent", "_ref", "rootEl", "targetEl", "cloneEl", "toEl", "fromEl", "oldIndex", "newIndex", "oldDraggableIndex", "newDraggableIndex", "originalEvent", "putSortable", "extraEventProperties", "onName", "IE11OrLess", "Edge", "allEventProperties", "_excluded", "pluginEvent", "data", "_objectWithoutProperties", "dragEl", "parentEl", "ghostEl", "nextEl", "lastDownEl", "cloneHidden", "moved", "_hideGhostForTarget", "_unhideGhostForTarget", "_dispatchEvent", "info", "activeGroup", "awaitingDragStarted", "ignoreNextClick", "sortables", "tapEvt", "touchEvt", "lastDx", "lastDy", "tapDistanceLeft", "tapDistanceTop", "lastTarget", "lastDirection", "pastFirstInvertThresh", "isCircumstantialInvert", "targetMoveDistance", "ghostRelativeParent", "ghostRelativeParentInitialScroll", "_silent", "savedInputChecked", "documentExists", "PositionGhostAbsolutely", "IOS", "CSSFloatProperty", "supportDraggable", "ChromeForAndroid", "supportCssPointerEvents", "_detectDirection", "elCSS", "elWidth", "child1", "getChild", "child2", "firstChildCSS", "secondChildCSS", "firstChildWidth", "secondChildWidth", "touchingSideChild2", "_dragElInRowColumn", "dragRect", "targetRect", "vertical", "dragElS1Opp", "dragElS2Opp", "dragElOppLength", "targetS1Opp", "targetS2Opp", "targetOppLength", "_detectNearestEmptySortable", "x", "y", "ret", "threshold", "lastChild", "rect", "insideHorizontally", "insideVertically", "_prepareGroup", "toFn", "pull", "to", "from", "sameGroup", "otherGroup", "group", "originalGroup", "_typeof", "nearestEmptyInsertDetectEvent", "nearest", "event", "i", "_checkOutsideTargetEl", "dataTransfer", "Safari", "fn", "on", "preventOnFilter", "type", "touch", "originalTarget", "filter", "_saveInputCheckedState", "closest", "index", "criteria", "ownerDocument", "dragStartFn", "FireFox", "toggleClass", "find", "_disableDraggable", "e", "off", "_nextTick", "fallback", "parent", "inserted", "fallbackTolerance", "fallbackOffset", "ghostMatrix", "relativeScrollOffset", "getRelativeScrollOffset", "dx", "dy", "cssMatrix", "container", "getWindowScrollingElement", "clone", "revert", "activeSortable", "isOwner", "canSort", "fromSortable", "completedFired", "dragOverEvent", "extra", "completed", "after", "_onMove", "changed", "capture", "insertion", "elLastChild", "_ghostIsLast", "_ghostIsFirst", "firstChild", "direction", "targetBeforeFirstSwap", "differentLevel", "differentRowCol", "side1", "scrolledPastTop", "isScrolledPast", "scrollBefore", "_getSwapDirection", "sibling", "dragIndex", "nextSibling", "moveVector", "_unsilent", "scrollBy", "_cancelNextTick", "_globalDragOver", "order", "n", "_generateId", "useAnimation", "items", "id", "store", "selector", "willInsertAfter", "onMoveFn", "retVal", "spacer", "swapThreshold", "invertedSwapThreshold", "invertSwap", "isLastTarget", "mouseOnAxis", "targetLength", "targetS1", "targetS2", "invert", "_getInsertDirection", "str", "sum", "root", "inputs", "idx", "extend", "throttle", "element", "_len", "_key", "version", "autoScrolls", "scrollEl", "scrollRootEl", "scrolling", "lastAutoScrollX", "lastAutoScrollY", "touchEvt$1", "pointerElemChangedInterval", "AutoScrollPlugin", "AutoScroll", "_ref2", "clearPointerElemChangedInterval", "clearAutoScrolls", "cancelThrottle", "elem", "autoScroll", "ogElemScroller", "getParentAutoScrollElement", "newElem", "isFallback", "sens", "speed", "winScroller", "scrollThisInstance", "scrollCustomFn", "layersOut", "currentParent", "top", "bottom", "left", "right", "width", "height", "canScrollX", "canScrollY", "scrollWidth", "scrollHeight", "scrollPosX", "scrollPosY", "vx", "vy", "scrollOffsetY", "scrollOffsetX", "drop", "dispatchSortableEvent", "hideGhostForTarget", "unhideGhostForTarget", "toSortable", "Revert", "_ref3", "Remove", "_ref4", "parentSortable", "Sortable", "AutoScrollPlugin", "Remove", "Revert", "sortable_esm_default", "sortable_default", "addEvents", "content", "sortables", "sortable", "sortable_esm_default", "htmx_esm_default", "collapsible_sub_sidebar_default", "toggler", "evt", "addEvents", "sidebar", "htmx_esm_default", "el", "modal_error_default", "error", "modals", "templateModalError", "modal", "file_upload_default", "htmx_esm_default", "rootEl", "input", "evt", "files", "file", "form", "target", "headers", "maxSize", "maxSizeError", "modal_error_default", "hideFormUpload", "req", "e", "setProgress", "showFormUpload", "key", "el", "pct", "pb", "pi", "import_tagify", "tags_default", "fillRealValues", "element", "name", "values", "i", "input", "htmx_esm_default", "rootEl", "tags", "realValues", "widgetValues", "inputName", "val", "tagify", "Tagify", "evt", "v", "originalInput", "handleLabelFocus", "copyAriaAttributes", "label", "attr", "facet_dropdowns_default", "dropdown", "facet", "form", "beginState", "getCurrentState", "currentState", "key", "_", "value", "LOCAL_STORAGE_KEY", "DEFAULT_SIDEBAR_STATE", "initSidebarMenu", "menuButtons", "contents", "closeButtons", "button", "targetId", "targetContent", "setActiveSidebar", "content", "btn", "parentContent", "correspondingButton", "activeSidebar", "getActiveSidebar", "key", "getPageKey", "state", "getDetailSidebarState", "sidebarState", "savedState", "err", "regex", "initSearchFields", "el", "input", "form", "htmx_esm_default", "Vn", "csrf_default", "checkbox_default", "popover_default", "header_default", "multiple_default", "form_change_submit_default", "autocomplete_default", "modal_close_default", "radio_card_default", "toast_default", "sortable_default", "collapsible_sub_sidebar_default", "file_upload_default", "tags_default", "facet_dropdowns_default", "initSidebarMenu", "el", "clipboard_default", "initSearchFields"]
}
