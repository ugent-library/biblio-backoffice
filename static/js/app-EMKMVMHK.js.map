{
  "version": 3,
  "sources": ["../../node_modules/htmx.org/dist/htmx.min.js", "../../node_modules/htmx.org/dist/ext/remove-me.js", "../../assets/js/app.js", "../../node_modules/bootstrap.native/node_modules/@thednp/shorty/dist/shorty.mjs", "../../node_modules/bootstrap.native/node_modules/@thednp/event-listener/dist/event-listener.mjs", "../../node_modules/bootstrap.native/src/strings/fadeClass.ts", "../../node_modules/bootstrap.native/src/strings/showClass.ts", "../../node_modules/bootstrap.native/src/strings/dataBsDismiss.ts", "../../node_modules/bootstrap.native/src/strings/alertString.ts", "../../node_modules/bootstrap.native/src/strings/alertComponent.ts", "../../node_modules/bootstrap.native/src/version.ts", "../../node_modules/bootstrap.native/src/components/base-component.ts", "../../node_modules/bootstrap.native/src/components/alert.ts", "../../node_modules/bootstrap.native/src/strings/activeClass.ts", "../../node_modules/bootstrap.native/src/strings/dataBsToggle.ts", "../../node_modules/bootstrap.native/src/strings/buttonString.ts", "../../node_modules/bootstrap.native/src/strings/buttonComponent.ts", "../../node_modules/bootstrap.native/src/components/button.ts", "../../node_modules/bootstrap.native/src/strings/dataBsTarget.ts", "../../node_modules/bootstrap.native/src/strings/carouselString.ts", "../../node_modules/bootstrap.native/src/strings/carouselComponent.ts", "../../node_modules/bootstrap.native/src/strings/dataBsParent.ts", "../../node_modules/bootstrap.native/src/strings/dataBsContainer.ts", "../../node_modules/bootstrap.native/src/util/getTargetElement.ts", "../../node_modules/bootstrap.native/src/components/carousel.ts", "../../node_modules/bootstrap.native/src/strings/collapsingClass.ts", "../../node_modules/bootstrap.native/src/strings/collapseString.ts", "../../node_modules/bootstrap.native/src/strings/collapseComponent.ts", "../../node_modules/bootstrap.native/src/components/collapse.ts", "../../node_modules/bootstrap.native/src/strings/dropdownClasses.ts", "../../node_modules/bootstrap.native/src/strings/dropdownComponent.ts", "../../node_modules/bootstrap.native/src/strings/dropdownMenuClass.ts", "../../node_modules/bootstrap.native/src/util/isEmptyAnchor.ts", "../../node_modules/bootstrap.native/src/components/dropdown.ts", "../../node_modules/bootstrap.native/src/strings/modalString.ts", "../../node_modules/bootstrap.native/src/strings/modalComponent.ts", "../../node_modules/bootstrap.native/src/strings/offcanvasComponent.ts", "../../node_modules/bootstrap.native/src/strings/fixedTopClass.ts", "../../node_modules/bootstrap.native/src/strings/fixedBottomClass.ts", "../../node_modules/bootstrap.native/src/strings/stickyTopClass.ts", "../../node_modules/bootstrap.native/src/strings/positionStickyClass.ts", "../../node_modules/bootstrap.native/src/util/scrollbar.ts", "../../node_modules/bootstrap.native/src/strings/offcanvasString.ts", "../../node_modules/bootstrap.native/src/util/popupContainer.ts", "../../node_modules/bootstrap.native/src/util/backdrop.ts", "../../node_modules/bootstrap.native/src/util/isVisible.ts", "../../node_modules/bootstrap.native/src/components/modal.ts", "../../node_modules/bootstrap.native/src/components/offcanvas.ts", "../../node_modules/bootstrap.native/src/strings/popoverString.ts", "../../node_modules/bootstrap.native/src/strings/popoverComponent.ts", "../../node_modules/bootstrap.native/src/strings/tooltipString.ts", "../../node_modules/bootstrap.native/src/util/getTipTemplate.ts", "../../node_modules/bootstrap.native/src/util/tipClassPositions.ts", "../../node_modules/bootstrap.native/src/util/styleTip.ts", "../../node_modules/bootstrap.native/src/util/tooltipDefaults.ts", "../../node_modules/bootstrap.native/src/strings/dataOriginalTitle.ts", "../../node_modules/bootstrap.native/src/strings/tooltipComponent.ts", "../../node_modules/bootstrap.native/src/util/setHtml.ts", "../../node_modules/bootstrap.native/src/util/createTip.ts", "../../node_modules/bootstrap.native/src/util/getElementContainer.ts", "../../node_modules/bootstrap.native/src/components/tooltip.ts", "../../node_modules/bootstrap.native/src/components/popover.ts", "../../node_modules/bootstrap.native/src/strings/scrollspyString.ts", "../../node_modules/bootstrap.native/src/strings/scrollspyComponent.ts", "../../node_modules/bootstrap.native/src/components/scrollspy.ts", "../../node_modules/bootstrap.native/src/strings/tabString.ts", "../../node_modules/bootstrap.native/src/strings/tabComponent.ts", "../../node_modules/bootstrap.native/src/components/tab.ts", "../../node_modules/bootstrap.native/src/strings/toastString.ts", "../../node_modules/bootstrap.native/src/strings/toastComponent.ts", "../../node_modules/bootstrap.native/src/components/toast.ts", "../../node_modules/bootstrap.native/src/util/init.ts", "../../assets/js/ui/csrf.js", "../../assets/js/ui/checkbox.js", "../../assets/js/ui/clipboard.js", "../../assets/js/ui/popover.js", "../../assets/js/ui/header.js", "../../assets/js/ui/multiple.js", "../../assets/js/ui/form_change_submit.js", "../../assets/js/ui/autocomplete.js", "../../assets/js/ui/modal_close.js", "../../assets/js/ui/radio_card.js", "../../assets/js/ui/toast.js", "../../assets/js/ui/sortable.js", "../../node_modules/sortablejs/modular/sortable.esm.js", "../../assets/js/ui/collapsible_card.js", "../../assets/js/ui/collapsible_sub_sidebar.js", "../../assets/js/ui/form_auto_focus.js", "../../assets/js/ui/file_upload.js", "../../assets/js/ui/modal_error.js", "../../assets/js/ui/tags.js", "../../node_modules/@yaireo/tagify/dist/src/parts/constants.js", "../../node_modules/@yaireo/tagify/dist/src/parts/helpers.js", "../../node_modules/@yaireo/tagify/dist/src/parts/defaults.js", "../../node_modules/@yaireo/tagify/dist/src/parts/dropdown.js", "../../node_modules/@yaireo/tagify/dist/src/parts/events.js", "../../node_modules/@yaireo/tagify/dist/src/parts/suggestions.js", "../../node_modules/@yaireo/tagify/dist/src/parts/persist.js", "../../node_modules/@yaireo/tagify/dist/src/parts/texts.js", "../../node_modules/@yaireo/tagify/dist/src/parts/templates.js", "../../node_modules/@yaireo/tagify/dist/src/tagify.js", "../../node_modules/@yaireo/tagify/dist/src/parts/EventDispatcher.js", "../../assets/js/ui/facet_dropdowns.js"],
  "sourcesContent": ["(function(e,t){if(typeof define===\"function\"&&define.amd){define([],t)}else if(typeof module===\"object\"&&module.exports){module.exports=t()}else{e.htmx=e.htmx||t()}})(typeof self!==\"undefined\"?self:this,function(){return function(){\"use strict\";var Y={onLoad:t,process:Pt,on:Z,off:K,trigger:fe,ajax:wr,find:E,findAll:f,closest:v,values:function(e,t){var r=nr(e,t||\"post\");return r.values},remove:U,addClass:B,removeClass:n,toggleClass:V,takeClass:j,defineExtension:qr,removeExtension:Hr,logAll:X,logNone:F,logger:null,config:{historyEnabled:true,historyCacheSize:10,refreshOnHistoryMiss:false,defaultSwapStyle:\"innerHTML\",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:true,indicatorClass:\"htmx-indicator\",requestClass:\"htmx-request\",addedClass:\"htmx-added\",settlingClass:\"htmx-settling\",swappingClass:\"htmx-swapping\",allowEval:true,allowScriptTags:true,inlineScriptNonce:\"\",attributesToSettle:[\"class\",\"style\",\"width\",\"height\"],withCredentials:false,timeout:0,wsReconnectDelay:\"full-jitter\",wsBinaryType:\"blob\",disableSelector:\"[hx-disable], [data-hx-disable]\",useTemplateFragments:false,scrollBehavior:\"smooth\",defaultFocusScroll:false,getCacheBusterParam:false,globalViewTransitions:false,methodsThatUseUrlParams:[\"get\"],selfRequestsOnly:false},parseInterval:d,_:e,createEventSource:function(e){return new EventSource(e,{withCredentials:true})},createWebSocket:function(e){var t=new WebSocket(e,[]);t.binaryType=Y.config.wsBinaryType;return t},version:\"1.9.6\"};var r={addTriggerHandler:St,bodyContains:oe,canAccessLocalStorage:M,findThisElement:de,filterValues:lr,hasAttribute:o,getAttributeValue:ee,getClosestAttributeValue:re,getClosestMatch:c,getExpressionVars:xr,getHeaders:sr,getInputValues:nr,getInternalData:ie,getSwapSpecification:fr,getTriggerSpecs:Ze,getTarget:ge,makeFragment:l,mergeObjects:se,makeSettleInfo:T,oobSwap:ye,querySelectorExt:le,selectAndSwap:Fe,settleImmediately:Wt,shouldCancel:tt,triggerEvent:fe,triggerErrorEvent:ue,withExtensions:C};var b=[\"get\",\"post\",\"put\",\"delete\",\"patch\"];var w=b.map(function(e){return\"[hx-\"+e+\"], [data-hx-\"+e+\"]\"}).join(\", \");function d(e){if(e==undefined){return undefined}if(e.slice(-2)==\"ms\"){return parseFloat(e.slice(0,-2))||undefined}if(e.slice(-1)==\"s\"){return parseFloat(e.slice(0,-1))*1e3||undefined}if(e.slice(-1)==\"m\"){return parseFloat(e.slice(0,-1))*1e3*60||undefined}return parseFloat(e)||undefined}function Q(e,t){return e.getAttribute&&e.getAttribute(t)}function o(e,t){return e.hasAttribute&&(e.hasAttribute(t)||e.hasAttribute(\"data-\"+t))}function ee(e,t){return Q(e,t)||Q(e,\"data-\"+t)}function u(e){return e.parentElement}function te(){return document}function c(e,t){while(e&&!t(e)){e=u(e)}return e?e:null}function O(e,t,r){var n=ee(t,r);var i=ee(t,\"hx-disinherit\");if(e!==t&&i&&(i===\"*\"||i.split(\" \").indexOf(r)>=0)){return\"unset\"}else{return n}}function re(t,r){var n=null;c(t,function(e){return n=O(t,e,r)});if(n!==\"unset\"){return n}}function h(e,t){var r=e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector;return r&&r.call(e,t)}function q(e){var t=/<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i;var r=t.exec(e);if(r){return r[1].toLowerCase()}else{return\"\"}}function i(e,t){var r=new DOMParser;var n=r.parseFromString(e,\"text/html\");var i=n.body;while(t>0){t--;i=i.firstChild}if(i==null){i=te().createDocumentFragment()}return i}function H(e){return e.match(/<body/)}function l(e){var t=!H(e);if(Y.config.useTemplateFragments&&t){var r=i(\"<body><template>\"+e+\"</template></body>\",0);return r.querySelector(\"template\").content}else{var n=q(e);switch(n){case\"thead\":case\"tbody\":case\"tfoot\":case\"colgroup\":case\"caption\":return i(\"<table>\"+e+\"</table>\",1);case\"col\":return i(\"<table><colgroup>\"+e+\"</colgroup></table>\",2);case\"tr\":return i(\"<table><tbody>\"+e+\"</tbody></table>\",2);case\"td\":case\"th\":return i(\"<table><tbody><tr>\"+e+\"</tr></tbody></table>\",3);case\"script\":case\"style\":return i(\"<div>\"+e+\"</div>\",1);default:return i(e,0)}}}function ne(e){if(e){e()}}function L(e,t){return Object.prototype.toString.call(e)===\"[object \"+t+\"]\"}function A(e){return L(e,\"Function\")}function N(e){return L(e,\"Object\")}function ie(e){var t=\"htmx-internal-data\";var r=e[t];if(!r){r=e[t]={}}return r}function I(e){var t=[];if(e){for(var r=0;r<e.length;r++){t.push(e[r])}}return t}function ae(e,t){if(e){for(var r=0;r<e.length;r++){t(e[r])}}}function P(e){var t=e.getBoundingClientRect();var r=t.top;var n=t.bottom;return r<window.innerHeight&&n>=0}function oe(e){if(e.getRootNode&&e.getRootNode()instanceof window.ShadowRoot){return te().body.contains(e.getRootNode().host)}else{return te().body.contains(e)}}function k(e){return e.trim().split(/\\s+/)}function se(e,t){for(var r in t){if(t.hasOwnProperty(r)){e[r]=t[r]}}return e}function S(e){try{return JSON.parse(e)}catch(e){y(e);return null}}function M(){var e=\"htmx:localStorageTest\";try{localStorage.setItem(e,e);localStorage.removeItem(e);return true}catch(e){return false}}function D(t){try{var e=new URL(t);if(e){t=e.pathname+e.search}if(!t.match(\"^/$\")){t=t.replace(/\\/+$/,\"\")}return t}catch(e){return t}}function e(e){return gr(te().body,function(){return eval(e)})}function t(t){var e=Y.on(\"htmx:load\",function(e){t(e.detail.elt)});return e}function X(){Y.logger=function(e,t,r){if(console){console.log(t,e,r)}}}function F(){Y.logger=null}function E(e,t){if(t){return e.querySelector(t)}else{return E(te(),e)}}function f(e,t){if(t){return e.querySelectorAll(t)}else{return f(te(),e)}}function U(e,t){e=s(e);if(t){setTimeout(function(){U(e);e=null},t)}else{e.parentElement.removeChild(e)}}function B(e,t,r){e=s(e);if(r){setTimeout(function(){B(e,t);e=null},r)}else{e.classList&&e.classList.add(t)}}function n(e,t,r){e=s(e);if(r){setTimeout(function(){n(e,t);e=null},r)}else{if(e.classList){e.classList.remove(t);if(e.classList.length===0){e.removeAttribute(\"class\")}}}}function V(e,t){e=s(e);e.classList.toggle(t)}function j(e,t){e=s(e);ae(e.parentElement.children,function(e){n(e,t)});B(e,t)}function v(e,t){e=s(e);if(e.closest){return e.closest(t)}else{do{if(e==null||h(e,t)){return e}}while(e=e&&u(e));return null}}function g(e,t){return e.substring(0,t.length)===t}function _(e,t){return e.substring(e.length-t.length)===t}function z(e){var t=e.trim();if(g(t,\"<\")&&_(t,\"/>\")){return t.substring(1,t.length-2)}else{return t}}function W(e,t){if(t.indexOf(\"closest \")===0){return[v(e,z(t.substr(8)))]}else if(t.indexOf(\"find \")===0){return[E(e,z(t.substr(5)))]}else if(t.indexOf(\"next \")===0){return[$(e,z(t.substr(5)))]}else if(t.indexOf(\"previous \")===0){return[G(e,z(t.substr(9)))]}else if(t===\"document\"){return[document]}else if(t===\"window\"){return[window]}else if(t===\"body\"){return[document.body]}else{return te().querySelectorAll(z(t))}}var $=function(e,t){var r=te().querySelectorAll(t);for(var n=0;n<r.length;n++){var i=r[n];if(i.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING){return i}}};var G=function(e,t){var r=te().querySelectorAll(t);for(var n=r.length-1;n>=0;n--){var i=r[n];if(i.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_FOLLOWING){return i}}};function le(e,t){if(t){return W(e,t)[0]}else{return W(te().body,e)[0]}}function s(e){if(L(e,\"String\")){return E(e)}else{return e}}function J(e,t,r){if(A(t)){return{target:te().body,event:e,listener:t}}else{return{target:s(e),event:t,listener:r}}}function Z(t,r,n){Nr(function(){var e=J(t,r,n);e.target.addEventListener(e.event,e.listener)});var e=A(r);return e?r:n}function K(t,r,n){Nr(function(){var e=J(t,r,n);e.target.removeEventListener(e.event,e.listener)});return A(r)?r:n}var he=te().createElement(\"output\");function ve(e,t){var r=re(e,t);if(r){if(r===\"this\"){return[de(e,t)]}else{var n=W(e,r);if(n.length===0){y('The selector \"'+r+'\" on '+t+\" returned no matches!\");return[he]}else{return n}}}}function de(e,t){return c(e,function(e){return ee(e,t)!=null})}function ge(e){var t=re(e,\"hx-target\");if(t){if(t===\"this\"){return de(e,\"hx-target\")}else{return le(e,t)}}else{var r=ie(e);if(r.boosted){return te().body}else{return e}}}function me(e){var t=Y.config.attributesToSettle;for(var r=0;r<t.length;r++){if(e===t[r]){return true}}return false}function pe(t,r){ae(t.attributes,function(e){if(!r.hasAttribute(e.name)&&me(e.name)){t.removeAttribute(e.name)}});ae(r.attributes,function(e){if(me(e.name)){t.setAttribute(e.name,e.value)}})}function xe(e,t){var r=Lr(t);for(var n=0;n<r.length;n++){var i=r[n];try{if(i.isInlineSwap(e)){return true}}catch(e){y(e)}}return e===\"outerHTML\"}function ye(e,i,a){var t=\"#\"+Q(i,\"id\");var o=\"outerHTML\";if(e===\"true\"){}else if(e.indexOf(\":\")>0){o=e.substr(0,e.indexOf(\":\"));t=e.substr(e.indexOf(\":\")+1,e.length)}else{o=e}var r=te().querySelectorAll(t);if(r){ae(r,function(e){var t;var r=i.cloneNode(true);t=te().createDocumentFragment();t.appendChild(r);if(!xe(o,e)){t=r}var n={shouldSwap:true,target:e,fragment:t};if(!fe(e,\"htmx:oobBeforeSwap\",n))return;e=n.target;if(n[\"shouldSwap\"]){De(o,e,e,t,a)}ae(a.elts,function(e){fe(e,\"htmx:oobAfterSwap\",n)})});i.parentNode.removeChild(i)}else{i.parentNode.removeChild(i);ue(te().body,\"htmx:oobErrorNoTarget\",{content:i})}return e}function be(e,t,r){var n=re(e,\"hx-select-oob\");if(n){var i=n.split(\",\");for(let e=0;e<i.length;e++){var a=i[e].split(\":\",2);var o=a[0].trim();if(o.indexOf(\"#\")===0){o=o.substring(1)}var s=a[1]||\"true\";var l=t.querySelector(\"#\"+o);if(l){ye(s,l,r)}}}ae(f(t,\"[hx-swap-oob], [data-hx-swap-oob]\"),function(e){var t=ee(e,\"hx-swap-oob\");if(t!=null){ye(t,e,r)}})}function we(e){ae(f(e,\"[hx-preserve], [data-hx-preserve]\"),function(e){var t=ee(e,\"id\");var r=te().getElementById(t);if(r!=null){e.parentNode.replaceChild(r,e)}})}function Se(o,e,s){ae(e.querySelectorAll(\"[id]\"),function(e){var t=Q(e,\"id\");if(t&&t.length>0){var r=t.replace(\"'\",\"\\\\'\");var n=e.tagName.replace(\":\",\"\\\\:\");var i=o.querySelector(n+\"[id='\"+r+\"']\");if(i&&i!==o){var a=e.cloneNode();pe(e,i);s.tasks.push(function(){pe(e,a)})}}})}function Ee(e){return function(){n(e,Y.config.addedClass);Pt(e);Ct(e);Ce(e);fe(e,\"htmx:load\")}}function Ce(e){var t=\"[autofocus]\";var r=h(e,t)?e:e.querySelector(t);if(r!=null){r.focus()}}function a(e,t,r,n){Se(e,r,n);while(r.childNodes.length>0){var i=r.firstChild;B(i,Y.config.addedClass);e.insertBefore(i,t);if(i.nodeType!==Node.TEXT_NODE&&i.nodeType!==Node.COMMENT_NODE){n.tasks.push(Ee(i))}}}function Te(e,t){var r=0;while(r<e.length){t=(t<<5)-t+e.charCodeAt(r++)|0}return t}function Re(e){var t=0;if(e.attributes){for(var r=0;r<e.attributes.length;r++){var n=e.attributes[r];if(n.value){t=Te(n.name,t);t=Te(n.value,t)}}}return t}function Oe(t){var r=ie(t);if(r.onHandlers){for(let e=0;e<r.onHandlers.length;e++){const n=r.onHandlers[e];t.removeEventListener(n.event,n.listener)}delete r.onHandlers}}function qe(e){var t=ie(e);if(t.timeout){clearTimeout(t.timeout)}if(t.webSocket){t.webSocket.close()}if(t.sseEventSource){t.sseEventSource.close()}if(t.listenerInfos){ae(t.listenerInfos,function(e){if(e.on){e.on.removeEventListener(e.trigger,e.listener)}})}if(t.initHash){t.initHash=null}Oe(e)}function m(e){fe(e,\"htmx:beforeCleanupElement\");qe(e);if(e.children){ae(e.children,function(e){m(e)})}}function He(t,e,r){if(t.tagName===\"BODY\"){return ke(t,e,r)}else{var n;var i=t.previousSibling;a(u(t),t,e,r);if(i==null){n=u(t).firstChild}else{n=i.nextSibling}ie(t).replacedWith=n;r.elts=r.elts.filter(function(e){return e!=t});while(n&&n!==t){if(n.nodeType===Node.ELEMENT_NODE){r.elts.push(n)}n=n.nextElementSibling}m(t);u(t).removeChild(t)}}function Le(e,t,r){return a(e,e.firstChild,t,r)}function Ae(e,t,r){return a(u(e),e,t,r)}function Ne(e,t,r){return a(e,null,t,r)}function Ie(e,t,r){return a(u(e),e.nextSibling,t,r)}function Pe(e,t,r){m(e);return u(e).removeChild(e)}function ke(e,t,r){var n=e.firstChild;a(e,n,t,r);if(n){while(n.nextSibling){m(n.nextSibling);e.removeChild(n.nextSibling)}m(n);e.removeChild(n)}}function Me(e,t,r){var n=r||re(e,\"hx-select\");if(n){var i=te().createDocumentFragment();ae(t.querySelectorAll(n),function(e){i.appendChild(e)});t=i}return t}function De(e,t,r,n,i){switch(e){case\"none\":return;case\"outerHTML\":He(r,n,i);return;case\"afterbegin\":Le(r,n,i);return;case\"beforebegin\":Ae(r,n,i);return;case\"beforeend\":Ne(r,n,i);return;case\"afterend\":Ie(r,n,i);return;case\"delete\":Pe(r,n,i);return;default:var a=Lr(t);for(var o=0;o<a.length;o++){var s=a[o];try{var l=s.handleSwap(e,r,n,i);if(l){if(typeof l.length!==\"undefined\"){for(var u=0;u<l.length;u++){var f=l[u];if(f.nodeType!==Node.TEXT_NODE&&f.nodeType!==Node.COMMENT_NODE){i.tasks.push(Ee(f))}}}return}}catch(e){y(e)}}if(e===\"innerHTML\"){ke(r,n,i)}else{De(Y.config.defaultSwapStyle,t,r,n,i)}}}function Xe(e){if(e.indexOf(\"<title\")>-1){var t=e.replace(/<svg(\\s[^>]*>|>)([\\s\\S]*?)<\\/svg>/gim,\"\");var r=t.match(/<title(\\s[^>]*>|>)([\\s\\S]*?)<\\/title>/im);if(r){return r[2]}}}function Fe(e,t,r,n,i,a){i.title=Xe(n);var o=l(n);if(o){be(r,o,i);o=Me(r,o,a);we(o);return De(e,r,t,o,i)}}function Ue(e,t,r){var n=e.getResponseHeader(t);if(n.indexOf(\"{\")===0){var i=S(n);for(var a in i){if(i.hasOwnProperty(a)){var o=i[a];if(!N(o)){o={value:o}}fe(r,a,o)}}}else{var s=n.split(\",\");for(var l=0;l<s.length;l++){fe(r,s[l].trim(),[])}}}var Be=/\\s/;var p=/[\\s,]/;var Ve=/[_$a-zA-Z]/;var je=/[_$a-zA-Z0-9]/;var _e=['\"',\"'\",\"/\"];var ze=/[^\\s]/;function We(e){var t=[];var r=0;while(r<e.length){if(Ve.exec(e.charAt(r))){var n=r;while(je.exec(e.charAt(r+1))){r++}t.push(e.substr(n,r-n+1))}else if(_e.indexOf(e.charAt(r))!==-1){var i=e.charAt(r);var n=r;r++;while(r<e.length&&e.charAt(r)!==i){if(e.charAt(r)===\"\\\\\"){r++}r++}t.push(e.substr(n,r-n+1))}else{var a=e.charAt(r);t.push(a)}r++}return t}function $e(e,t,r){return Ve.exec(e.charAt(0))&&e!==\"true\"&&e!==\"false\"&&e!==\"this\"&&e!==r&&t!==\".\"}function Ge(e,t,r){if(t[0]===\"[\"){t.shift();var n=1;var i=\" return (function(\"+r+\"){ return (\";var a=null;while(t.length>0){var o=t[0];if(o===\"]\"){n--;if(n===0){if(a===null){i=i+\"true\"}t.shift();i+=\")})\";try{var s=gr(e,function(){return Function(i)()},function(){return true});s.source=i;return s}catch(e){ue(te().body,\"htmx:syntax:error\",{error:e,source:i});return null}}}else if(o===\"[\"){n++}if($e(o,a,r)){i+=\"((\"+r+\".\"+o+\") ? (\"+r+\".\"+o+\") : (window.\"+o+\"))\"}else{i=i+o}a=t.shift()}}}function x(e,t){var r=\"\";while(e.length>0&&!e[0].match(t)){r+=e.shift()}return r}var Je=\"input, textarea, select\";function Ze(e){var t=ee(e,\"hx-trigger\");var r=[];if(t){var n=We(t);do{x(n,ze);var i=n.length;var a=x(n,/[,\\[\\s]/);if(a!==\"\"){if(a===\"every\"){var o={trigger:\"every\"};x(n,ze);o.pollInterval=d(x(n,/[,\\[\\s]/));x(n,ze);var s=Ge(e,n,\"event\");if(s){o.eventFilter=s}r.push(o)}else if(a.indexOf(\"sse:\")===0){r.push({trigger:\"sse\",sseEvent:a.substr(4)})}else{var l={trigger:a};var s=Ge(e,n,\"event\");if(s){l.eventFilter=s}while(n.length>0&&n[0]!==\",\"){x(n,ze);var u=n.shift();if(u===\"changed\"){l.changed=true}else if(u===\"once\"){l.once=true}else if(u===\"consume\"){l.consume=true}else if(u===\"delay\"&&n[0]===\":\"){n.shift();l.delay=d(x(n,p))}else if(u===\"from\"&&n[0]===\":\"){n.shift();var f=x(n,p);if(f===\"closest\"||f===\"find\"||f===\"next\"||f===\"previous\"){n.shift();f+=\" \"+x(n,p)}l.from=f}else if(u===\"target\"&&n[0]===\":\"){n.shift();l.target=x(n,p)}else if(u===\"throttle\"&&n[0]===\":\"){n.shift();l.throttle=d(x(n,p))}else if(u===\"queue\"&&n[0]===\":\"){n.shift();l.queue=x(n,p)}else if((u===\"root\"||u===\"threshold\")&&n[0]===\":\"){n.shift();l[u]=x(n,p)}else{ue(e,\"htmx:syntax:error\",{token:n.shift()})}}r.push(l)}}if(n.length===i){ue(e,\"htmx:syntax:error\",{token:n.shift()})}x(n,ze)}while(n[0]===\",\"&&n.shift())}if(r.length>0){return r}else if(h(e,\"form\")){return[{trigger:\"submit\"}]}else if(h(e,'input[type=\"button\"], input[type=\"submit\"]')){return[{trigger:\"click\"}]}else if(h(e,Je)){return[{trigger:\"change\"}]}else{return[{trigger:\"click\"}]}}function Ke(e){ie(e).cancelled=true}function Ye(e,t,r){var n=ie(e);n.timeout=setTimeout(function(){if(oe(e)&&n.cancelled!==true){if(!nt(r,e,Mt(\"hx:poll:trigger\",{triggerSpec:r,target:e}))){t(e)}Ye(e,t,r)}},r.pollInterval)}function Qe(e){return location.hostname===e.hostname&&Q(e,\"href\")&&Q(e,\"href\").indexOf(\"#\")!==0}function et(t,r,e){if(t.tagName===\"A\"&&Qe(t)&&(t.target===\"\"||t.target===\"_self\")||t.tagName===\"FORM\"){r.boosted=true;var n,i;if(t.tagName===\"A\"){n=\"get\";i=Q(t,\"href\")}else{var a=Q(t,\"method\");n=a?a.toLowerCase():\"get\";if(n===\"get\"){}i=Q(t,\"action\")}e.forEach(function(e){it(t,function(e,t){if(v(e,Y.config.disableSelector)){m(e);return}ce(n,i,e,t)},r,e,true)})}}function tt(e,t){if(e.type===\"submit\"||e.type===\"click\"){if(t.tagName===\"FORM\"){return true}if(h(t,'input[type=\"submit\"], button')&&v(t,\"form\")!==null){return true}if(t.tagName===\"A\"&&t.href&&(t.getAttribute(\"href\")===\"#\"||t.getAttribute(\"href\").indexOf(\"#\")!==0)){return true}}return false}function rt(e,t){return ie(e).boosted&&e.tagName===\"A\"&&t.type===\"click\"&&(t.ctrlKey||t.metaKey)}function nt(e,t,r){var n=e.eventFilter;if(n){try{return n.call(t,r)!==true}catch(e){ue(te().body,\"htmx:eventFilter:error\",{error:e,source:n.source});return true}}return false}function it(a,o,e,s,l){var u=ie(a);var t;if(s.from){t=W(a,s.from)}else{t=[a]}if(s.changed){t.forEach(function(e){var t=ie(e);t.lastValue=e.value})}ae(t,function(n){var i=function(e){if(!oe(a)){n.removeEventListener(s.trigger,i);return}if(rt(a,e)){return}if(l||tt(e,a)){e.preventDefault()}if(nt(s,a,e)){return}var t=ie(e);t.triggerSpec=s;if(t.handledFor==null){t.handledFor=[]}if(t.handledFor.indexOf(a)<0){t.handledFor.push(a);if(s.consume){e.stopPropagation()}if(s.target&&e.target){if(!h(e.target,s.target)){return}}if(s.once){if(u.triggeredOnce){return}else{u.triggeredOnce=true}}if(s.changed){var r=ie(n);if(r.lastValue===n.value){return}r.lastValue=n.value}if(u.delayed){clearTimeout(u.delayed)}if(u.throttle){return}if(s.throttle){if(!u.throttle){o(a,e);u.throttle=setTimeout(function(){u.throttle=null},s.throttle)}}else if(s.delay){u.delayed=setTimeout(function(){o(a,e)},s.delay)}else{fe(a,\"htmx:trigger\");o(a,e)}}};if(e.listenerInfos==null){e.listenerInfos=[]}e.listenerInfos.push({trigger:s.trigger,listener:i,on:n});n.addEventListener(s.trigger,i)})}var at=false;var ot=null;function st(){if(!ot){ot=function(){at=true};window.addEventListener(\"scroll\",ot);setInterval(function(){if(at){at=false;ae(te().querySelectorAll(\"[hx-trigger='revealed'],[data-hx-trigger='revealed']\"),function(e){lt(e)})}},200)}}function lt(t){if(!o(t,\"data-hx-revealed\")&&P(t)){t.setAttribute(\"data-hx-revealed\",\"true\");var e=ie(t);if(e.initHash){fe(t,\"revealed\")}else{t.addEventListener(\"htmx:afterProcessNode\",function(e){fe(t,\"revealed\")},{once:true})}}}function ut(e,t,r){var n=k(r);for(var i=0;i<n.length;i++){var a=n[i].split(/:(.+)/);if(a[0]===\"connect\"){ft(e,a[1],0)}if(a[0]===\"send\"){ht(e)}}}function ft(s,r,n){if(!oe(s)){return}if(r.indexOf(\"/\")==0){var e=location.hostname+(location.port?\":\"+location.port:\"\");if(location.protocol==\"https:\"){r=\"wss://\"+e+r}else if(location.protocol==\"http:\"){r=\"ws://\"+e+r}}var t=Y.createWebSocket(r);t.onerror=function(e){ue(s,\"htmx:wsError\",{error:e,socket:t});ct(s)};t.onclose=function(e){if([1006,1012,1013].indexOf(e.code)>=0){var t=vt(n);setTimeout(function(){ft(s,r,n+1)},t)}};t.onopen=function(e){n=0};ie(s).webSocket=t;t.addEventListener(\"message\",function(e){if(ct(s)){return}var t=e.data;C(s,function(e){t=e.transformResponse(t,null,s)});var r=T(s);var n=l(t);var i=I(n.children);for(var a=0;a<i.length;a++){var o=i[a];ye(ee(o,\"hx-swap-oob\")||\"true\",o,r)}Wt(r.tasks)})}function ct(e){if(!oe(e)){ie(e).webSocket.close();return true}}function ht(u){var f=c(u,function(e){return ie(e).webSocket!=null});if(f){u.addEventListener(Ze(u)[0].trigger,function(e){var t=ie(f).webSocket;var r=sr(u,f);var n=nr(u,\"post\");var i=n.errors;var a=n.values;var o=xr(u);var s=se(a,o);var l=lr(s,u);l[\"HEADERS\"]=r;if(i&&i.length>0){fe(u,\"htmx:validation:halted\",i);return}t.send(JSON.stringify(l));if(tt(e,u)){e.preventDefault()}})}else{ue(u,\"htmx:noWebSocketSourceError\")}}function vt(e){var t=Y.config.wsReconnectDelay;if(typeof t===\"function\"){return t(e)}if(t===\"full-jitter\"){var r=Math.min(e,6);var n=1e3*Math.pow(2,r);return n*Math.random()}y('htmx.config.wsReconnectDelay must either be a function or the string \"full-jitter\"')}function dt(e,t,r){var n=k(r);for(var i=0;i<n.length;i++){var a=n[i].split(/:(.+)/);if(a[0]===\"connect\"){gt(e,a[1])}if(a[0]===\"swap\"){mt(e,a[1])}}}function gt(t,e){var r=Y.createEventSource(e);r.onerror=function(e){ue(t,\"htmx:sseError\",{error:e,source:r});xt(t)};ie(t).sseEventSource=r}function mt(a,o){var s=c(a,yt);if(s){var l=ie(s).sseEventSource;var u=function(e){if(xt(s)){return}if(!oe(a)){l.removeEventListener(o,u);return}var t=e.data;C(a,function(e){t=e.transformResponse(t,null,a)});var r=fr(a);var n=ge(a);var i=T(a);Fe(r.swapStyle,n,a,t,i);Wt(i.tasks);fe(a,\"htmx:sseMessage\",e)};ie(a).sseListener=u;l.addEventListener(o,u)}else{ue(a,\"htmx:noSSESourceError\")}}function pt(e,t,r){var n=c(e,yt);if(n){var i=ie(n).sseEventSource;var a=function(){if(!xt(n)){if(oe(e)){t(e)}else{i.removeEventListener(r,a)}}};ie(e).sseListener=a;i.addEventListener(r,a)}else{ue(e,\"htmx:noSSESourceError\")}}function xt(e){if(!oe(e)){ie(e).sseEventSource.close();return true}}function yt(e){return ie(e).sseEventSource!=null}function bt(e,t,r,n){var i=function(){if(!r.loaded){r.loaded=true;t(e)}};if(n){setTimeout(i,n)}else{i()}}function wt(t,i,e){var a=false;ae(b,function(r){if(o(t,\"hx-\"+r)){var n=ee(t,\"hx-\"+r);a=true;i.path=n;i.verb=r;e.forEach(function(e){St(t,e,i,function(e,t){if(v(e,Y.config.disableSelector)){m(e);return}ce(r,n,e,t)})})}});return a}function St(n,e,t,r){if(e.sseEvent){pt(n,r,e.sseEvent)}else if(e.trigger===\"revealed\"){st();it(n,r,t,e);lt(n)}else if(e.trigger===\"intersect\"){var i={};if(e.root){i.root=le(n,e.root)}if(e.threshold){i.threshold=parseFloat(e.threshold)}var a=new IntersectionObserver(function(e){for(var t=0;t<e.length;t++){var r=e[t];if(r.isIntersecting){fe(n,\"intersect\");break}}},i);a.observe(n);it(n,r,t,e)}else if(e.trigger===\"load\"){if(!nt(e,n,Mt(\"load\",{elt:n}))){bt(n,r,t,e.delay)}}else if(e.pollInterval){t.polling=true;Ye(n,r,e)}else{it(n,r,t,e)}}function Et(e){if(Y.config.allowScriptTags&&(e.type===\"text/javascript\"||e.type===\"module\"||e.type===\"\")){var t=te().createElement(\"script\");ae(e.attributes,function(e){t.setAttribute(e.name,e.value)});t.textContent=e.textContent;t.async=false;if(Y.config.inlineScriptNonce){t.nonce=Y.config.inlineScriptNonce}var r=e.parentElement;try{r.insertBefore(t,e)}catch(e){y(e)}finally{if(e.parentElement){e.parentElement.removeChild(e)}}}}function Ct(e){if(h(e,\"script\")){Et(e)}ae(f(e,\"script\"),function(e){Et(e)})}function Tt(){return document.querySelector(\"[hx-boost], [data-hx-boost]\")}function Rt(e){var t=null;var r=[];if(document.evaluate){var n=document.evaluate('//*[@*[ starts-with(name(), \"hx-on:\") or starts-with(name(), \"data-hx-on:\") ]]',e);while(t=n.iterateNext())r.push(t)}else{var i=document.getElementsByTagName(\"*\");for(var a=0;a<i.length;a++){var o=i[a].attributes;for(var s=0;s<o.length;s++){var l=o[s].name;if(g(l,\"hx-on:\")||g(l,\"data-hx-on:\")){r.push(i[a])}}}}return r}function Ot(e){if(e.querySelectorAll){var t=Tt()?\", a\":\"\";var r=e.querySelectorAll(w+t+\", form, [type='submit'], [hx-sse], [data-hx-sse], [hx-ws],\"+\" [data-hx-ws], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger], [hx-on], [data-hx-on]\");return r}else{return[]}}function qt(e){var n=s(\"#\"+Q(e,\"form\"))||v(e,\"form\");if(!n){return}var t=function(e){var t=v(e.target,\"button, input[type='submit']\");if(t!==null){var r=ie(n);r.lastButtonClicked=t}};e.addEventListener(\"click\",t);e.addEventListener(\"focusin\",t);e.addEventListener(\"focusout\",function(e){var t=ie(n);t.lastButtonClicked=null})}function Ht(e){var t=We(e);var r=0;for(let e=0;e<t.length;e++){const n=t[e];if(n===\"{\"){r++}else if(n===\"}\"){r--}}return r}function Lt(t,e,r){var n=ie(t);n.onHandlers=[];var i;var a=function(e){return gr(t,function(){if(!i){i=new Function(\"event\",r)}i.call(t,e)})};t.addEventListener(e,a);n.onHandlers.push({event:e,listener:a})}function At(e){var t=ee(e,\"hx-on\");if(t){var r={};var n=t.split(\"\\n\");var i=null;var a=0;while(n.length>0){var o=n.shift();var s=o.match(/^\\s*([a-zA-Z:\\-\\.]+:)(.*)/);if(a===0&&s){o.split(\":\");i=s[1].slice(0,-1);r[i]=s[2]}else{r[i]+=o}a+=Ht(o)}for(var l in r){Lt(e,l,r[l])}}}function Nt(t){Oe(t);for(var e=0;e<t.attributes.length;e++){var r=t.attributes[e].name;var n=t.attributes[e].value;if(g(r,\"hx-on:\")||g(r,\"data-hx-on:\")){let e=r.slice(r.indexOf(\":\")+1);if(g(e,\":\"))e=\"htmx\"+e;Lt(t,e,n)}}}function It(t){if(v(t,Y.config.disableSelector)){m(t);return}var r=ie(t);if(r.initHash!==Re(t)){qe(t);r.initHash=Re(t);At(t);fe(t,\"htmx:beforeProcessNode\");if(t.value){r.lastValue=t.value}var e=Ze(t);var n=wt(t,r,e);if(!n){if(re(t,\"hx-boost\")===\"true\"){et(t,r,e)}else if(o(t,\"hx-trigger\")){e.forEach(function(e){St(t,e,r,function(){})})}}if(t.tagName===\"FORM\"||Q(t,\"type\")===\"submit\"&&o(t,\"form\")){qt(t)}var i=ee(t,\"hx-sse\");if(i){dt(t,r,i)}var a=ee(t,\"hx-ws\");if(a){ut(t,r,a)}fe(t,\"htmx:afterProcessNode\")}}function Pt(e){e=s(e);if(v(e,Y.config.disableSelector)){m(e);return}It(e);ae(Ot(e),function(e){It(e)});ae(Rt(e),Nt)}function kt(e){return e.replace(/([a-z0-9])([A-Z])/g,\"$1-$2\").toLowerCase()}function Mt(e,t){var r;if(window.CustomEvent&&typeof window.CustomEvent===\"function\"){r=new CustomEvent(e,{bubbles:true,cancelable:true,detail:t})}else{r=te().createEvent(\"CustomEvent\");r.initCustomEvent(e,true,true,t)}return r}function ue(e,t,r){fe(e,t,se({error:t},r))}function Dt(e){return e===\"htmx:afterProcessNode\"}function C(e,t){ae(Lr(e),function(e){try{t(e)}catch(e){y(e)}})}function y(e){if(console.error){console.error(e)}else if(console.log){console.log(\"ERROR: \",e)}}function fe(e,t,r){e=s(e);if(r==null){r={}}r[\"elt\"]=e;var n=Mt(t,r);if(Y.logger&&!Dt(t)){Y.logger(e,t,r)}if(r.error){y(r.error);fe(e,\"htmx:error\",{errorInfo:r})}var i=e.dispatchEvent(n);var a=kt(t);if(i&&a!==t){var o=Mt(a,n.detail);i=i&&e.dispatchEvent(o)}C(e,function(e){i=i&&(e.onEvent(t,n)!==false&&!n.defaultPrevented)});return i}var Xt=location.pathname+location.search;function Ft(){var e=te().querySelector(\"[hx-history-elt],[data-hx-history-elt]\");return e||te().body}function Ut(e,t,r,n){if(!M()){return}e=D(e);var i=S(localStorage.getItem(\"htmx-history-cache\"))||[];for(var a=0;a<i.length;a++){if(i[a].url===e){i.splice(a,1);break}}var o={url:e,content:t,title:r,scroll:n};fe(te().body,\"htmx:historyItemCreated\",{item:o,cache:i});i.push(o);while(i.length>Y.config.historyCacheSize){i.shift()}while(i.length>0){try{localStorage.setItem(\"htmx-history-cache\",JSON.stringify(i));break}catch(e){ue(te().body,\"htmx:historyCacheError\",{cause:e,cache:i});i.shift()}}}function Bt(e){if(!M()){return null}e=D(e);var t=S(localStorage.getItem(\"htmx-history-cache\"))||[];for(var r=0;r<t.length;r++){if(t[r].url===e){return t[r]}}return null}function Vt(e){var t=Y.config.requestClass;var r=e.cloneNode(true);ae(f(r,\".\"+t),function(e){n(e,t)});return r.innerHTML}function jt(){var e=Ft();var t=Xt||location.pathname+location.search;var r;try{r=te().querySelector('[hx-history=\"false\" i],[data-hx-history=\"false\" i]')}catch(e){r=te().querySelector('[hx-history=\"false\"],[data-hx-history=\"false\"]')}if(!r){fe(te().body,\"htmx:beforeHistorySave\",{path:t,historyElt:e});Ut(t,Vt(e),te().title,window.scrollY)}if(Y.config.historyEnabled)history.replaceState({htmx:true},te().title,window.location.href)}function _t(e){if(Y.config.getCacheBusterParam){e=e.replace(/org\\.htmx\\.cache-buster=[^&]*&?/,\"\");if(_(e,\"&\")||_(e,\"?\")){e=e.slice(0,-1)}}if(Y.config.historyEnabled){history.pushState({htmx:true},\"\",e)}Xt=e}function zt(e){if(Y.config.historyEnabled)history.replaceState({htmx:true},\"\",e);Xt=e}function Wt(e){ae(e,function(e){e.call()})}function $t(a){var e=new XMLHttpRequest;var o={path:a,xhr:e};fe(te().body,\"htmx:historyCacheMiss\",o);e.open(\"GET\",a,true);e.setRequestHeader(\"HX-History-Restore-Request\",\"true\");e.onload=function(){if(this.status>=200&&this.status<400){fe(te().body,\"htmx:historyCacheMissLoad\",o);var e=l(this.response);e=e.querySelector(\"[hx-history-elt],[data-hx-history-elt]\")||e;var t=Ft();var r=T(t);var n=Xe(this.response);if(n){var i=E(\"title\");if(i){i.innerHTML=n}else{window.document.title=n}}ke(t,e,r);Wt(r.tasks);Xt=a;fe(te().body,\"htmx:historyRestore\",{path:a,cacheMiss:true,serverResponse:this.response})}else{ue(te().body,\"htmx:historyCacheMissLoadError\",o)}};e.send()}function Gt(e){jt();e=e||location.pathname+location.search;var t=Bt(e);if(t){var r=l(t.content);var n=Ft();var i=T(n);ke(n,r,i);Wt(i.tasks);document.title=t.title;setTimeout(function(){window.scrollTo(0,t.scroll)},0);Xt=e;fe(te().body,\"htmx:historyRestore\",{path:e,item:t})}else{if(Y.config.refreshOnHistoryMiss){window.location.reload(true)}else{$t(e)}}}function Jt(e){var t=ve(e,\"hx-indicator\");if(t==null){t=[e]}ae(t,function(e){var t=ie(e);t.requestCount=(t.requestCount||0)+1;e.classList[\"add\"].call(e.classList,Y.config.requestClass)});return t}function Zt(e){var t=ve(e,\"hx-disabled-elt\");if(t==null){t=[]}ae(t,function(e){var t=ie(e);t.requestCount=(t.requestCount||0)+1;e.setAttribute(\"disabled\",\"\")});return t}function Kt(e,t){ae(e,function(e){var t=ie(e);t.requestCount=(t.requestCount||0)-1;if(t.requestCount===0){e.classList[\"remove\"].call(e.classList,Y.config.requestClass)}});ae(t,function(e){var t=ie(e);t.requestCount=(t.requestCount||0)-1;if(t.requestCount===0){e.removeAttribute(\"disabled\")}})}function Yt(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.isSameNode(t)){return true}}return false}function Qt(e){if(e.name===\"\"||e.name==null||e.disabled){return false}if(e.type===\"button\"||e.type===\"submit\"||e.tagName===\"image\"||e.tagName===\"reset\"||e.tagName===\"file\"){return false}if(e.type===\"checkbox\"||e.type===\"radio\"){return e.checked}return true}function er(e,t,r){if(e!=null&&t!=null){var n=r[e];if(n===undefined){r[e]=t}else if(Array.isArray(n)){if(Array.isArray(t)){r[e]=n.concat(t)}else{n.push(t)}}else{if(Array.isArray(t)){r[e]=[n].concat(t)}else{r[e]=[n,t]}}}}function tr(t,r,n,e,i){if(e==null||Yt(t,e)){return}else{t.push(e)}if(Qt(e)){var a=Q(e,\"name\");var o=e.value;if(e.multiple){o=I(e.querySelectorAll(\"option:checked\")).map(function(e){return e.value})}if(e.files){o=I(e.files)}er(a,o,r);if(i){rr(e,n)}}if(h(e,\"form\")){var s=e.elements;ae(s,function(e){tr(t,r,n,e,i)})}}function rr(e,t){if(e.willValidate){fe(e,\"htmx:validation:validate\");if(!e.checkValidity()){t.push({elt:e,message:e.validationMessage,validity:e.validity});fe(e,\"htmx:validation:failed\",{message:e.validationMessage,validity:e.validity})}}}function nr(e,t){var r=[];var n={};var i={};var a=[];var o=ie(e);var s=h(e,\"form\")&&e.noValidate!==true||ee(e,\"hx-validate\")===\"true\";if(o.lastButtonClicked){s=s&&o.lastButtonClicked.formNoValidate!==true}if(t!==\"get\"){tr(r,i,a,v(e,\"form\"),s)}tr(r,n,a,e,s);if(o.lastButtonClicked||e.tagName===\"BUTTON\"||e.tagName===\"INPUT\"&&Q(e,\"type\")===\"submit\"){var l=o.lastButtonClicked||e;var u=Q(l,\"name\");er(u,l.value,i)}var f=ve(e,\"hx-include\");ae(f,function(e){tr(r,n,a,e,s);if(!h(e,\"form\")){ae(e.querySelectorAll(Je),function(e){tr(r,n,a,e,s)})}});n=se(n,i);return{errors:a,values:n}}function ir(e,t,r){if(e!==\"\"){e+=\"&\"}if(String(r)===\"[object Object]\"){r=JSON.stringify(r)}var n=encodeURIComponent(r);e+=encodeURIComponent(t)+\"=\"+n;return e}function ar(e){var t=\"\";for(var r in e){if(e.hasOwnProperty(r)){var n=e[r];if(Array.isArray(n)){ae(n,function(e){t=ir(t,r,e)})}else{t=ir(t,r,n)}}}return t}function or(e){var t=new FormData;for(var r in e){if(e.hasOwnProperty(r)){var n=e[r];if(Array.isArray(n)){ae(n,function(e){t.append(r,e)})}else{t.append(r,n)}}}return t}function sr(e,t,r){var n={\"HX-Request\":\"true\",\"HX-Trigger\":Q(e,\"id\"),\"HX-Trigger-Name\":Q(e,\"name\"),\"HX-Target\":ee(t,\"id\"),\"HX-Current-URL\":te().location.href};dr(e,\"hx-headers\",false,n);if(r!==undefined){n[\"HX-Prompt\"]=r}if(ie(e).boosted){n[\"HX-Boosted\"]=\"true\"}return n}function lr(t,e){var r=re(e,\"hx-params\");if(r){if(r===\"none\"){return{}}else if(r===\"*\"){return t}else if(r.indexOf(\"not \")===0){ae(r.substr(4).split(\",\"),function(e){e=e.trim();delete t[e]});return t}else{var n={};ae(r.split(\",\"),function(e){e=e.trim();n[e]=t[e]});return n}}else{return t}}function ur(e){return Q(e,\"href\")&&Q(e,\"href\").indexOf(\"#\")>=0}function fr(e,t){var r=t?t:re(e,\"hx-swap\");var n={swapStyle:ie(e).boosted?\"innerHTML\":Y.config.defaultSwapStyle,swapDelay:Y.config.defaultSwapDelay,settleDelay:Y.config.defaultSettleDelay};if(ie(e).boosted&&!ur(e)){n[\"show\"]=\"top\"}if(r){var i=k(r);if(i.length>0){for(var a=0;a<i.length;a++){var o=i[a];if(o.indexOf(\"swap:\")===0){n[\"swapDelay\"]=d(o.substr(5))}else if(o.indexOf(\"settle:\")===0){n[\"settleDelay\"]=d(o.substr(7))}else if(o.indexOf(\"transition:\")===0){n[\"transition\"]=o.substr(11)===\"true\"}else if(o.indexOf(\"ignoreTitle:\")===0){n[\"ignoreTitle\"]=o.substr(12)===\"true\"}else if(o.indexOf(\"scroll:\")===0){var s=o.substr(7);var l=s.split(\":\");var u=l.pop();var f=l.length>0?l.join(\":\"):null;n[\"scroll\"]=u;n[\"scrollTarget\"]=f}else if(o.indexOf(\"show:\")===0){var c=o.substr(5);var l=c.split(\":\");var h=l.pop();var f=l.length>0?l.join(\":\"):null;n[\"show\"]=h;n[\"showTarget\"]=f}else if(o.indexOf(\"focus-scroll:\")===0){var v=o.substr(\"focus-scroll:\".length);n[\"focusScroll\"]=v==\"true\"}else if(a==0){n[\"swapStyle\"]=o}else{y(\"Unknown modifier in hx-swap: \"+o)}}}}return n}function cr(e){return re(e,\"hx-encoding\")===\"multipart/form-data\"||h(e,\"form\")&&Q(e,\"enctype\")===\"multipart/form-data\"}function hr(t,r,n){var i=null;C(r,function(e){if(i==null){i=e.encodeParameters(t,n,r)}});if(i!=null){return i}else{if(cr(r)){return or(n)}else{return ar(n)}}}function T(e){return{tasks:[],elts:[e]}}function vr(e,t){var r=e[0];var n=e[e.length-1];if(t.scroll){var i=null;if(t.scrollTarget){i=le(r,t.scrollTarget)}if(t.scroll===\"top\"&&(r||i)){i=i||r;i.scrollTop=0}if(t.scroll===\"bottom\"&&(n||i)){i=i||n;i.scrollTop=i.scrollHeight}}if(t.show){var i=null;if(t.showTarget){var a=t.showTarget;if(t.showTarget===\"window\"){a=\"body\"}i=le(r,a)}if(t.show===\"top\"&&(r||i)){i=i||r;i.scrollIntoView({block:\"start\",behavior:Y.config.scrollBehavior})}if(t.show===\"bottom\"&&(n||i)){i=i||n;i.scrollIntoView({block:\"end\",behavior:Y.config.scrollBehavior})}}}function dr(e,t,r,n){if(n==null){n={}}if(e==null){return n}var i=ee(e,t);if(i){var a=i.trim();var o=r;if(a===\"unset\"){return null}if(a.indexOf(\"javascript:\")===0){a=a.substr(11);o=true}else if(a.indexOf(\"js:\")===0){a=a.substr(3);o=true}if(a.indexOf(\"{\")!==0){a=\"{\"+a+\"}\"}var s;if(o){s=gr(e,function(){return Function(\"return (\"+a+\")\")()},{})}else{s=S(a)}for(var l in s){if(s.hasOwnProperty(l)){if(n[l]==null){n[l]=s[l]}}}}return dr(u(e),t,r,n)}function gr(e,t,r){if(Y.config.allowEval){return t()}else{ue(e,\"htmx:evalDisallowedError\");return r}}function mr(e,t){return dr(e,\"hx-vars\",true,t)}function pr(e,t){return dr(e,\"hx-vals\",false,t)}function xr(e){return se(mr(e),pr(e))}function yr(t,r,n){if(n!==null){try{t.setRequestHeader(r,n)}catch(e){t.setRequestHeader(r,encodeURIComponent(n));t.setRequestHeader(r+\"-URI-AutoEncoded\",\"true\")}}}function br(t){if(t.responseURL&&typeof URL!==\"undefined\"){try{var e=new URL(t.responseURL);return e.pathname+e.search}catch(e){ue(te().body,\"htmx:badResponseUrl\",{url:t.responseURL})}}}function R(e,t){return e.getAllResponseHeaders().match(t)}function wr(e,t,r){e=e.toLowerCase();if(r){if(r instanceof Element||L(r,\"String\")){return ce(e,t,null,null,{targetOverride:s(r),returnPromise:true})}else{return ce(e,t,s(r.source),r.event,{handler:r.handler,headers:r.headers,values:r.values,targetOverride:s(r.target),swapOverride:r.swap,returnPromise:true})}}else{return ce(e,t,null,null,{returnPromise:true})}}function Sr(e){var t=[];while(e){t.push(e);e=e.parentElement}return t}function Er(e,t,r){var n;var i;if(typeof URL===\"function\"){i=new URL(t,document.location.href);var a=document.location.origin;n=a===i.origin}else{i=t;n=g(t,document.location.origin)}if(Y.config.selfRequestsOnly){if(!n){return false}}return fe(e,\"htmx:validateUrl\",se({url:i,sameHost:n},r))}function ce(e,t,n,r,i,M){var a=null;var o=null;i=i!=null?i:{};if(i.returnPromise&&typeof Promise!==\"undefined\"){var s=new Promise(function(e,t){a=e;o=t})}if(n==null){n=te().body}var D=i.handler||Tr;if(!oe(n)){ne(a);return s}var l=i.targetOverride||ge(n);if(l==null||l==he){ue(n,\"htmx:targetError\",{target:ee(n,\"hx-target\")});ne(o);return s}var u=ie(n);var f=u.lastButtonClicked;if(f){var c=Q(f,\"formaction\");if(c!=null){t=c}var h=Q(f,\"formmethod\");if(h!=null){e=h}}if(!M){var X=function(){return ce(e,t,n,r,i,true)};var F={target:l,elt:n,path:t,verb:e,triggeringEvent:r,etc:i,issueRequest:X};if(fe(n,\"htmx:confirm\",F)===false){ne(a);return s}}var v=n;var d=re(n,\"hx-sync\");var g=null;var m=false;if(d){var p=d.split(\":\");var x=p[0].trim();if(x===\"this\"){v=de(n,\"hx-sync\")}else{v=le(n,x)}d=(p[1]||\"drop\").trim();u=ie(v);if(d===\"drop\"&&u.xhr&&u.abortable!==true){ne(a);return s}else if(d===\"abort\"){if(u.xhr){ne(a);return s}else{m=true}}else if(d===\"replace\"){fe(v,\"htmx:abort\")}else if(d.indexOf(\"queue\")===0){var U=d.split(\" \");g=(U[1]||\"last\").trim()}}if(u.xhr){if(u.abortable){fe(v,\"htmx:abort\")}else{if(g==null){if(r){var y=ie(r);if(y&&y.triggerSpec&&y.triggerSpec.queue){g=y.triggerSpec.queue}}if(g==null){g=\"last\"}}if(u.queuedRequests==null){u.queuedRequests=[]}if(g===\"first\"&&u.queuedRequests.length===0){u.queuedRequests.push(function(){ce(e,t,n,r,i)})}else if(g===\"all\"){u.queuedRequests.push(function(){ce(e,t,n,r,i)})}else if(g===\"last\"){u.queuedRequests=[];u.queuedRequests.push(function(){ce(e,t,n,r,i)})}ne(a);return s}}var b=new XMLHttpRequest;u.xhr=b;u.abortable=m;var w=function(){u.xhr=null;u.abortable=false;if(u.queuedRequests!=null&&u.queuedRequests.length>0){var e=u.queuedRequests.shift();e()}};var B=re(n,\"hx-prompt\");if(B){var S=prompt(B);if(S===null||!fe(n,\"htmx:prompt\",{prompt:S,target:l})){ne(a);w();return s}}var V=re(n,\"hx-confirm\");if(V){if(!confirm(V)){ne(a);w();return s}}var E=sr(n,l,S);if(i.headers){E=se(E,i.headers)}var j=nr(n,e);var C=j.errors;var T=j.values;if(i.values){T=se(T,i.values)}var _=xr(n);var z=se(T,_);var R=lr(z,n);if(e!==\"get\"&&!cr(n)){E[\"Content-Type\"]=\"application/x-www-form-urlencoded\"}if(Y.config.getCacheBusterParam&&e===\"get\"){R[\"org.htmx.cache-buster\"]=Q(l,\"id\")||\"true\"}if(t==null||t===\"\"){t=te().location.href}var O=dr(n,\"hx-request\");var W=ie(n).boosted;var q=Y.config.methodsThatUseUrlParams.indexOf(e)>=0;var H={boosted:W,useUrlParams:q,parameters:R,unfilteredParameters:z,headers:E,target:l,verb:e,errors:C,withCredentials:i.credentials||O.credentials||Y.config.withCredentials,timeout:i.timeout||O.timeout||Y.config.timeout,path:t,triggeringEvent:r};if(!fe(n,\"htmx:configRequest\",H)){ne(a);w();return s}t=H.path;e=H.verb;E=H.headers;R=H.parameters;C=H.errors;q=H.useUrlParams;if(C&&C.length>0){fe(n,\"htmx:validation:halted\",H);ne(a);w();return s}var $=t.split(\"#\");var G=$[0];var L=$[1];var A=t;if(q){A=G;var J=Object.keys(R).length!==0;if(J){if(A.indexOf(\"?\")<0){A+=\"?\"}else{A+=\"&\"}A+=ar(R);if(L){A+=\"#\"+L}}}if(!Er(n,A,H)){ue(n,\"htmx:invalidPath\",H);ne(o);return s}b.open(e.toUpperCase(),A,true);b.overrideMimeType(\"text/html\");b.withCredentials=H.withCredentials;b.timeout=H.timeout;if(O.noHeaders){}else{for(var N in E){if(E.hasOwnProperty(N)){var Z=E[N];yr(b,N,Z)}}}var I={xhr:b,target:l,requestConfig:H,etc:i,boosted:W,pathInfo:{requestPath:t,finalRequestPath:A,anchor:L}};b.onload=function(){try{var e=Sr(n);I.pathInfo.responsePath=br(b);D(n,I);Kt(P,k);fe(n,\"htmx:afterRequest\",I);fe(n,\"htmx:afterOnLoad\",I);if(!oe(n)){var t=null;while(e.length>0&&t==null){var r=e.shift();if(oe(r)){t=r}}if(t){fe(t,\"htmx:afterRequest\",I);fe(t,\"htmx:afterOnLoad\",I)}}ne(a);w()}catch(e){ue(n,\"htmx:onLoadError\",se({error:e},I));throw e}};b.onerror=function(){Kt(P,k);ue(n,\"htmx:afterRequest\",I);ue(n,\"htmx:sendError\",I);ne(o);w()};b.onabort=function(){Kt(P,k);ue(n,\"htmx:afterRequest\",I);ue(n,\"htmx:sendAbort\",I);ne(o);w()};b.ontimeout=function(){Kt(P,k);ue(n,\"htmx:afterRequest\",I);ue(n,\"htmx:timeout\",I);ne(o);w()};if(!fe(n,\"htmx:beforeRequest\",I)){ne(a);w();return s}var P=Jt(n);var k=Zt(n);ae([\"loadstart\",\"loadend\",\"progress\",\"abort\"],function(t){ae([b,b.upload],function(e){e.addEventListener(t,function(e){fe(n,\"htmx:xhr:\"+t,{lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total})})})});fe(n,\"htmx:beforeSend\",I);var K=q?null:hr(b,n,R);b.send(K);return s}function Cr(e,t){var r=t.xhr;var n=null;var i=null;if(R(r,/HX-Push:/i)){n=r.getResponseHeader(\"HX-Push\");i=\"push\"}else if(R(r,/HX-Push-Url:/i)){n=r.getResponseHeader(\"HX-Push-Url\");i=\"push\"}else if(R(r,/HX-Replace-Url:/i)){n=r.getResponseHeader(\"HX-Replace-Url\");i=\"replace\"}if(n){if(n===\"false\"){return{}}else{return{type:i,path:n}}}var a=t.pathInfo.finalRequestPath;var o=t.pathInfo.responsePath;var s=re(e,\"hx-push-url\");var l=re(e,\"hx-replace-url\");var u=ie(e).boosted;var f=null;var c=null;if(s){f=\"push\";c=s}else if(l){f=\"replace\";c=l}else if(u){f=\"push\";c=o||a}if(c){if(c===\"false\"){return{}}if(c===\"true\"){c=o||a}if(t.pathInfo.anchor&&c.indexOf(\"#\")===-1){c=c+\"#\"+t.pathInfo.anchor}return{type:f,path:c}}else{return{}}}function Tr(l,u){var f=u.xhr;var c=u.target;var e=u.etc;var t=u.requestConfig;if(!fe(l,\"htmx:beforeOnLoad\",u))return;if(R(f,/HX-Trigger:/i)){Ue(f,\"HX-Trigger\",l)}if(R(f,/HX-Location:/i)){jt();var r=f.getResponseHeader(\"HX-Location\");var h;if(r.indexOf(\"{\")===0){h=S(r);r=h[\"path\"];delete h[\"path\"]}wr(\"GET\",r,h).then(function(){_t(r)});return}var n=R(f,/HX-Refresh:/i)&&\"true\"===f.getResponseHeader(\"HX-Refresh\");if(R(f,/HX-Redirect:/i)){location.href=f.getResponseHeader(\"HX-Redirect\");n&&location.reload();return}if(n){location.reload();return}if(R(f,/HX-Retarget:/i)){u.target=te().querySelector(f.getResponseHeader(\"HX-Retarget\"))}var v=Cr(l,u);var i=f.status>=200&&f.status<400&&f.status!==204;var d=f.response;var a=f.status>=400;var g=Y.config.ignoreTitle;var o=se({shouldSwap:i,serverResponse:d,isError:a,ignoreTitle:g},u);if(!fe(c,\"htmx:beforeSwap\",o))return;c=o.target;d=o.serverResponse;a=o.isError;g=o.ignoreTitle;u.target=c;u.failed=a;u.successful=!a;if(o.shouldSwap){if(f.status===286){Ke(l)}C(l,function(e){d=e.transformResponse(d,f,l)});if(v.type){jt()}var s=e.swapOverride;if(R(f,/HX-Reswap:/i)){s=f.getResponseHeader(\"HX-Reswap\")}var h=fr(l,s);if(h.hasOwnProperty(\"ignoreTitle\")){g=h.ignoreTitle}c.classList.add(Y.config.swappingClass);var m=null;var p=null;var x=function(){try{var e=document.activeElement;var t={};try{t={elt:e,start:e?e.selectionStart:null,end:e?e.selectionEnd:null}}catch(e){}var r;if(R(f,/HX-Reselect:/i)){r=f.getResponseHeader(\"HX-Reselect\")}var n=T(c);Fe(h.swapStyle,c,l,d,n,r);if(t.elt&&!oe(t.elt)&&Q(t.elt,\"id\")){var i=document.getElementById(Q(t.elt,\"id\"));var a={preventScroll:h.focusScroll!==undefined?!h.focusScroll:!Y.config.defaultFocusScroll};if(i){if(t.start&&i.setSelectionRange){try{i.setSelectionRange(t.start,t.end)}catch(e){}}i.focus(a)}}c.classList.remove(Y.config.swappingClass);ae(n.elts,function(e){if(e.classList){e.classList.add(Y.config.settlingClass)}fe(e,\"htmx:afterSwap\",u)});if(R(f,/HX-Trigger-After-Swap:/i)){var o=l;if(!oe(l)){o=te().body}Ue(f,\"HX-Trigger-After-Swap\",o)}var s=function(){ae(n.tasks,function(e){e.call()});ae(n.elts,function(e){if(e.classList){e.classList.remove(Y.config.settlingClass)}fe(e,\"htmx:afterSettle\",u)});if(v.type){if(v.type===\"push\"){_t(v.path);fe(te().body,\"htmx:pushedIntoHistory\",{path:v.path})}else{zt(v.path);fe(te().body,\"htmx:replacedInHistory\",{path:v.path})}}if(u.pathInfo.anchor){var e=E(\"#\"+u.pathInfo.anchor);if(e){e.scrollIntoView({block:\"start\",behavior:\"auto\"})}}if(n.title&&!g){var t=E(\"title\");if(t){t.innerHTML=n.title}else{window.document.title=n.title}}vr(n.elts,h);if(R(f,/HX-Trigger-After-Settle:/i)){var r=l;if(!oe(l)){r=te().body}Ue(f,\"HX-Trigger-After-Settle\",r)}ne(m)};if(h.settleDelay>0){setTimeout(s,h.settleDelay)}else{s()}}catch(e){ue(l,\"htmx:swapError\",u);ne(p);throw e}};var y=Y.config.globalViewTransitions;if(h.hasOwnProperty(\"transition\")){y=h.transition}if(y&&fe(l,\"htmx:beforeTransition\",u)&&typeof Promise!==\"undefined\"&&document.startViewTransition){var b=new Promise(function(e,t){m=e;p=t});var w=x;x=function(){document.startViewTransition(function(){w();return b})}}if(h.swapDelay>0){setTimeout(x,h.swapDelay)}else{x()}}if(a){ue(l,\"htmx:responseError\",se({error:\"Response Status Error Code \"+f.status+\" from \"+u.pathInfo.requestPath},u))}}var Rr={};function Or(){return{init:function(e){return null},onEvent:function(e,t){return true},transformResponse:function(e,t,r){return e},isInlineSwap:function(e){return false},handleSwap:function(e,t,r,n){return false},encodeParameters:function(e,t,r){return null}}}function qr(e,t){if(t.init){t.init(r)}Rr[e]=se(Or(),t)}function Hr(e){delete Rr[e]}function Lr(e,r,n){if(e==undefined){return r}if(r==undefined){r=[]}if(n==undefined){n=[]}var t=ee(e,\"hx-ext\");if(t){ae(t.split(\",\"),function(e){e=e.replace(/ /g,\"\");if(e.slice(0,7)==\"ignore:\"){n.push(e.slice(7));return}if(n.indexOf(e)<0){var t=Rr[e];if(t&&r.indexOf(t)<0){r.push(t)}}})}return Lr(u(e),r,n)}var Ar=false;te().addEventListener(\"DOMContentLoaded\",function(){Ar=true});function Nr(e){if(Ar||te().readyState===\"complete\"){e()}else{te().addEventListener(\"DOMContentLoaded\",e)}}function Ir(){if(Y.config.includeIndicatorStyles!==false){te().head.insertAdjacentHTML(\"beforeend\",\"<style>                      .\"+Y.config.indicatorClass+\"{opacity:0;transition: opacity 200ms ease-in;}                      .\"+Y.config.requestClass+\" .\"+Y.config.indicatorClass+\"{opacity:1}                      .\"+Y.config.requestClass+\".\"+Y.config.indicatorClass+\"{opacity:1}                    </style>\")}}function Pr(){var e=te().querySelector('meta[name=\"htmx-config\"]');if(e){return S(e.content)}else{return null}}function kr(){var e=Pr();if(e){Y.config=se(Y.config,e)}}Nr(function(){kr();Ir();var e=te().body;Pt(e);var t=te().querySelectorAll(\"[hx-trigger='restored'],[data-hx-trigger='restored']\");e.addEventListener(\"htmx:abort\",function(e){var t=e.target;var r=ie(t);if(r&&r.xhr){r.xhr.abort()}});var r=window.onpopstate;window.onpopstate=function(e){if(e.state&&e.state.htmx){Gt();ae(t,function(e){fe(e,\"htmx:restored\",{document:te(),triggerEvent:fe})})}else{if(r){r(e)}}};setTimeout(function(){fe(e,\"htmx:load\",{});e=null},0)});return Y}()});", "(function(){\n    function maybeRemoveMe(elt) {\n        var timing = elt.getAttribute(\"remove-me\") || elt.getAttribute(\"data-remove-me\");\n        if (timing) {\n            setTimeout(function () {\n                elt.parentElement.removeChild(elt);\n            }, htmx.parseInterval(timing));\n        }\n    }\n\n    htmx.defineExtension('remove-me', {\n        onEvent: function (name, evt) {\n            if (name === \"htmx:afterProcessNode\") {\n                var elt = evt.detail.elt;\n                if (elt.getAttribute) {\n                    maybeRemoveMe(elt);\n                    if (elt.querySelectorAll) {\n                        var children = elt.querySelectorAll(\"[remove-me], [data-remove-me]\");\n                        for (var i = 0; i < children.length; i++) {\n                            maybeRemoveMe(children[i]);\n                        }\n                    }\n                }\n            }\n        }\n    });\n})();\n", "import htmx from \"htmx.org\";\nimport { initCallback } from \"bootstrap.native\";\nimport csrf from \"./ui/csrf.js\";\nimport checkbox from \"./ui/checkbox.js\";\nimport clipboard from \"./ui/clipboard.js\";\nimport popover from \"./ui/popover.js\";\nimport header from \"./ui/header.js\"; // TODO is this still needed?\nimport multiple from \"./ui/multiple.js\";\nimport changeSubmit from \"./ui/form_change_submit.js\";\nimport autocomplete from \"./ui/autocomplete.js\";\nimport modalClose from \"./ui/modal_close.js\";\nimport radioCard from \"./ui/radio_card.js\";\nimport toast from \"./ui/toast.js\";\nimport sortable from \"./ui/sortable.js\";\nimport collapseCard from \"./ui/collapsible_card.js\";\nimport collapseSubSidebar from \"./ui/collapsible_sub_sidebar.js\";\nimport formAutoFocus from \"./ui/form_auto_focus.js\";\nimport fileUpload from \"./ui/file_upload.js\";\nimport tags from \"./ui/tags.js\";\nimport facetDropdowns from \"./ui/facet_dropdowns.js\";\n\n// configure htmx\nhtmx.config.defaultFocusScroll = true;\n\n// apply bootstrap js to new dom content\nhtmx.onLoad(initCallback);\n\n// load htmx extensions\nwindow.htmx = htmx;\nrequire(\"htmx.org/dist/ext/remove-me.js\");\n\n// initialize everything\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  csrf();\n  checkbox();\n  popover();\n  header();\n  multiple();\n  changeSubmit();\n  autocomplete();\n  modalClose();\n  radioCard();\n  toast();\n  sortable();\n  collapseSubSidebar();\n  collapseCard();\n  formAutoFocus();\n  fileUpload();\n  tags();\n  facetDropdowns();\n});\n\nhtmx.onLoad(function (el) {\n  clipboard(el);\n});\n", "const pe = \"aria-checked\", fe = \"aria-description\", me = \"aria-describedby\", ge = \"aria-expanded\", ve = \"aria-haspopup\", Ee = \"aria-hidden\", be = \"aria-label\", he = \"aria-labelledby\", ye = \"aria-modal\", we = \"aria-pressed\", Ae = \"aria-selected\", Se = \"aria-valuemin\", Me = \"aria-valuemax\", Ne = \"aria-valuenow\", ke = \"aria-valuetext\", G = \"abort\", j = \"beforeunload\", J = \"blur\", K = \"change\", X = \"contextmenu\", P = \"DOMContentLoaded\", Y = \"DOMMouseScroll\", Z = \"error\", $ = \"focus\", _ = \"focusin\", tt = \"focusout\", et = \"gesturechange\", nt = \"gestureend\", ot = \"gesturestart\", st = \"keydown\", ct = \"keypress\", rt = \"keyup\", at = \"load\", it = \"click\", ut = \"dblclick\", lt = \"mousedown\", dt = \"mouseup\", pt = \"hover\", ft = \"mouseenter\", mt = \"mouseleave\", gt = \"mousein\", vt = \"mouseout\", Et = \"mouseover\", bt = \"mousemove\", ht = \"mousewheel\", yt = \"move\", wt = \"orientationchange\", At = \"pointercancel\", St = \"pointerdown\", Mt = \"pointerleave\", Nt = \"pointermove\", kt = \"pointerup\", Tt = \"readystatechange\", Dt = \"reset\", Ct = \"resize\", Lt = \"select\", Ot = \"selectend\", It = \"selectstart\", zt = \"scroll\", xt = \"submit\", Vt = \"touchstart\", Bt = \"touchmove\", Ht = \"touchcancel\", Pt = \"touchend\", Ut = \"unload\", Te = {\n  DOMContentLoaded: P,\n  DOMMouseScroll: Y,\n  abort: G,\n  beforeunload: j,\n  blur: J,\n  change: K,\n  click: it,\n  contextmenu: X,\n  dblclick: ut,\n  error: Z,\n  focus: $,\n  focusin: _,\n  focusout: tt,\n  gesturechange: et,\n  gestureend: nt,\n  gesturestart: ot,\n  hover: pt,\n  keydown: st,\n  keypress: ct,\n  keyup: rt,\n  load: at,\n  mousedown: lt,\n  mousemove: bt,\n  mousein: gt,\n  mouseout: vt,\n  mouseenter: ft,\n  mouseleave: mt,\n  mouseover: Et,\n  mouseup: dt,\n  mousewheel: ht,\n  move: yt,\n  orientationchange: wt,\n  pointercancel: At,\n  pointerdown: St,\n  pointerleave: Mt,\n  pointermove: Nt,\n  pointerup: kt,\n  readystatechange: Tt,\n  reset: Dt,\n  resize: Ct,\n  scroll: zt,\n  select: Lt,\n  selectend: Ot,\n  selectstart: It,\n  submit: xt,\n  touchcancel: Ht,\n  touchend: Pt,\n  touchmove: Bt,\n  touchstart: Vt,\n  unload: Ut\n}, De = \"drag\", Ce = \"dragstart\", Le = \"dragenter\", Oe = \"dragleave\", Ie = \"dragover\", ze = \"dragend\", xe = \"loadstart\", Ve = {\n  start: \"mousedown\",\n  end: \"mouseup\",\n  move: \"mousemove\",\n  cancel: \"mouseleave\"\n}, Be = { down: \"mousedown\", up: \"mouseup\" }, He = \"onmouseleave\" in document ? [\"mouseenter\", \"mouseleave\"] : (\n  /* istanbul ignore next */\n  [\"mouseover\", \"mouseout\"]\n), Pe = {\n  start: \"touchstart\",\n  end: \"touchend\",\n  move: \"touchmove\",\n  cancel: \"touchcancel\"\n}, Ue = { in: \"focusin\", out: \"focusout\" }, Fe = {\n  Backspace: \"Backspace\",\n  //  8\n  Tab: \"Tab\",\n  //  9\n  Enter: \"Enter\",\n  // 13\n  Shift: \"Shift\",\n  // 16\n  Control: \"Control\",\n  // 17\n  Alt: \"Alt\",\n  // 18\n  Pause: \"Pause\",\n  // 19\n  CapsLock: \"CapsLock\",\n  // 20\n  Escape: \"Escape\",\n  // 27\n  Scape: \"Space\",\n  // 32\n  ArrowLeft: \"ArrowLeft\",\n  // 37\n  ArrowUp: \"ArrowUp\",\n  // 38\n  ArrowRight: \"ArrowRight\",\n  // 39\n  ArrowDown: \"ArrowDown\",\n  // 40\n  Insert: \"Insert\",\n  // 45\n  Delete: \"Delete\",\n  // 46\n  Meta: \"Meta\",\n  // 91 windows key\n  ContextMenu: \"ContextMenu\",\n  // 93\n  ScrollLock: \"ScrollLock\"\n  // 145\n}, We = \"Alt\", Re = \"ArrowDown\", Qe = \"ArrowUp\", qe = \"ArrowLeft\", Ge = \"ArrowRight\", je = \"Backspace\", Je = \"CapsLock\", Ke = \"Control\", Xe = \"Delete\", Ye = \"Enter\", Ze = \"Escape\", $e = \"Insert\", _e = \"Meta\", tn = \"Pause\", en = \"ScrollLock\", nn = \"Shift\", on = \"Space\", sn = \"Tab\", Ft = \"animationDuration\", Wt = \"animationDelay\", U = \"animationName\", D = \"animationend\", Rt = \"transitionDuration\", Qt = \"transitionDelay\", C = \"transitionend\", F = \"transitionProperty\", cn = \"addEventListener\", rn = \"removeEventListener\", an = {\n  linear: \"linear\",\n  easingSinusoidalIn: \"cubic-bezier(0.47,0,0.745,0.715)\",\n  easingSinusoidalOut: \"cubic-bezier(0.39,0.575,0.565,1)\",\n  easingSinusoidalInOut: \"cubic-bezier(0.445,0.05,0.55,0.95)\",\n  easingQuadraticIn: \"cubic-bezier(0.550,0.085,0.680,0.530)\",\n  easingQuadraticOut: \"cubic-bezier(0.250,0.460,0.450,0.940)\",\n  easingQuadraticInOut: \"cubic-bezier(0.455,0.030,0.515,0.955)\",\n  easingCubicIn: \"cubic-bezier(0.55,0.055,0.675,0.19)\",\n  easingCubicOut: \"cubic-bezier(0.215,0.61,0.355,1)\",\n  easingCubicInOut: \"cubic-bezier(0.645,0.045,0.355,1)\",\n  easingQuarticIn: \"cubic-bezier(0.895,0.03,0.685,0.22)\",\n  easingQuarticOut: \"cubic-bezier(0.165,0.84,0.44,1)\",\n  easingQuarticInOut: \"cubic-bezier(0.77,0,0.175,1)\",\n  easingQuinticIn: \"cubic-bezier(0.755,0.05,0.855,0.06)\",\n  easingQuinticOut: \"cubic-bezier(0.23,1,0.32,1)\",\n  easingQuinticInOut: \"cubic-bezier(0.86,0,0.07,1)\",\n  easingExponentialIn: \"cubic-bezier(0.95,0.05,0.795,0.035)\",\n  easingExponentialOut: \"cubic-bezier(0.19,1,0.22,1)\",\n  easingExponentialInOut: \"cubic-bezier(1,0,0,1)\",\n  easingCircularIn: \"cubic-bezier(0.6,0.04,0.98,0.335)\",\n  easingCircularOut: \"cubic-bezier(0.075,0.82,0.165,1)\",\n  easingCircularInOut: \"cubic-bezier(0.785,0.135,0.15,0.86)\",\n  easingBackIn: \"cubic-bezier(0.6,-0.28,0.735,0.045)\",\n  easingBackOut: \"cubic-bezier(0.175,0.885,0.32,1.275)\",\n  easingBackInOut: \"cubic-bezier(0.68,-0.55,0.265,1.55)\"\n}, un = \"offsetHeight\", ln = \"offsetWidth\", dn = \"scrollHeight\", pn = \"scrollWidth\", fn = \"tabindex\", qt = navigator.userAgentData, A = qt, { userAgent: Gt } = navigator, S = Gt, z = /iPhone|iPad|iPod|Android/i;\nlet L = !1;\nA ? L = A.brands.some((t) => z.test(t.brand)) : L = z.test(S);\nconst mn = L, x = /(iPhone|iPod|iPad)/, gn = A ? A.brands.some((t) => x.test(t.brand)) : (\n  /* istanbul ignore next */\n  x.test(S)\n), vn = S ? S.includes(\"Firefox\") : (\n  /* istanbul ignore next */\n  !1\n), { head: M } = document, En = [\"webkitPerspective\", \"perspective\"].some((t) => t in M.style), jt = (t, e, n, o) => {\n  const s = o || !1;\n  t.addEventListener(e, n, s);\n}, Jt = (t, e, n, o) => {\n  const s = o || !1;\n  t.removeEventListener(e, n, s);\n}, Kt = (t, e, n, o) => {\n  const s = (r) => {\n    (r.target === t || r.currentTarget === t) && (n.apply(t, [r]), Jt(t, e, s, o));\n  };\n  jt(t, e, s, o);\n}, Xt = () => {\n}, bn = (() => {\n  let t = !1;\n  try {\n    const e = Object.defineProperty({}, \"passive\", {\n      get: () => (t = !0, t)\n    });\n    Kt(document, P, Xt, e);\n  } catch {\n  }\n  return t;\n})(), hn = [\"webkitTransform\", \"transform\"].some((t) => t in M.style), yn = \"ontouchstart\" in window || /* istanbul ignore next */\n\"msMaxTouchPoints\" in navigator, wn = [\"webkitAnimation\", \"animation\"].some((t) => t in M.style), An = [\"webkitTransition\", \"transition\"].some((t) => t in M.style), Yt = (t, e) => t.getAttribute(e), Sn = (t, e, n) => e.getAttributeNS(t, n), Mn = (t, e) => t.hasAttribute(e), Nn = (t, e, n) => e.hasAttributeNS(t, n), kn = (t, e, n) => t.setAttribute(e, n), Tn = (t, e, n, o) => e.setAttributeNS(t, n, o), Dn = (t, e) => t.removeAttribute(e), Cn = (t, e, n) => e.removeAttributeNS(t, n), Ln = (t, ...e) => {\n  t.classList.add(...e);\n}, On = (t, ...e) => {\n  t.classList.remove(...e);\n}, In = (t, e) => t.classList.contains(e), { body: zn } = document, { documentElement: xn } = document, Vn = (t) => Array.from(t), v = (t) => t != null && typeof t == \"object\" || !1, i = (t) => v(t) && typeof t.nodeType == \"number\" && [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].some((e) => t.nodeType === e) || !1, u = (t) => i(t) && t.nodeType === 1 || !1, E = /* @__PURE__ */ new Map(), O = {\n  data: E,\n  /**\n   * Sets web components data.\n   *\n   * @param element target element\n   * @param component the component's name or a unique key\n   * @param instance the component instance\n   */\n  set: (t, e, n) => {\n    if (!u(t))\n      return;\n    E.has(e) || E.set(e, /* @__PURE__ */ new Map()), E.get(e).set(t, n);\n  },\n  /**\n   * Returns all instances for specified component.\n   *\n   * @param component the component's name or a unique key\n   * @returns all the component instances\n   */\n  getAllFor: (t) => E.get(t) || null,\n  /**\n   * Returns the instance associated with the target.\n   *\n   * @param element target element\n   * @param component the component's name or a unique key\n   * @returns the instance\n   */\n  get: (t, e) => {\n    if (!u(t) || !e)\n      return null;\n    const n = O.getAllFor(e);\n    return t && n && n.get(t) || null;\n  },\n  /**\n   * Removes web components data.\n   *\n   * @param element target element\n   * @param component the component's name or a unique key\n   */\n  remove: (t, e) => {\n    const n = O.getAllFor(e);\n    !n || !u(t) || (n.delete(t), n.size === 0 && E.delete(e));\n  }\n}, Bn = (t, e) => O.get(t, e), N = (t) => typeof t == \"string\" || !1, W = (t) => v(t) && t.constructor.name === \"Window\" || !1, R = (t) => i(t) && t.nodeType === 9 || !1, d = (t) => W(t) ? t.document : R(t) ? t : i(t) ? t.ownerDocument : window.document, k = (t, ...e) => Object.assign(t, ...e), Zt = (t) => {\n  if (!t)\n    return;\n  if (N(t))\n    return d().createElement(t);\n  const { tagName: e } = t, n = Zt(e);\n  if (!n)\n    return;\n  const o = { ...t };\n  return delete o.tagName, k(n, o);\n}, $t = (t, e) => {\n  if (!t || !e)\n    return;\n  if (N(e))\n    return d().createElementNS(t, e);\n  const { tagName: n } = e, o = $t(t, n);\n  if (!o)\n    return;\n  const s = { ...e };\n  return delete s.tagName, k(o, s);\n}, Q = (t, e) => t.dispatchEvent(e), Hn = (t, e, n) => n.indexOf(t) === e, g = (t, e) => {\n  const n = getComputedStyle(t), o = e.replace(\"webkit\", \"Webkit\").replace(/([A-Z])/g, \"-$1\").toLowerCase();\n  return n.getPropertyValue(o);\n}, _t = (t) => {\n  const e = g(t, U), n = g(t, Wt), o = n.includes(\"ms\") ? (\n    /* istanbul ignore next */\n    1\n  ) : 1e3, s = e && e !== \"none\" ? parseFloat(n) * o : 0;\n  return Number.isNaN(s) ? (\n    /* istanbul ignore next */\n    0\n  ) : s;\n}, te = (t) => {\n  const e = g(t, U), n = g(t, Ft), o = n.includes(\"ms\") ? (\n    /* istanbul ignore next */\n    1\n  ) : 1e3, s = e && e !== \"none\" ? parseFloat(n) * o : 0;\n  return Number.isNaN(s) ? (\n    /* istanbul ignore next */\n    0\n  ) : s;\n}, Pn = (t, e) => {\n  let n = 0;\n  const o = new Event(D), s = te(t), r = _t(t);\n  if (s) {\n    const a = (l) => {\n      l.target === t && (e.apply(t, [l]), t.removeEventListener(D, a), n = 1);\n    };\n    t.addEventListener(D, a), setTimeout(() => {\n      n || Q(t, o);\n    }, s + r + 17);\n  } else\n    e.apply(t, [o]);\n}, ee = (t) => {\n  const e = g(t, F), n = g(t, Qt), o = n.includes(\"ms\") ? (\n    /* istanbul ignore next */\n    1\n  ) : 1e3, s = e && e !== \"none\" ? parseFloat(n) * o : (\n    /* istanbul ignore next */\n    0\n  );\n  return Number.isNaN(s) ? (\n    /* istanbul ignore next */\n    0\n  ) : s;\n}, ne = (t) => {\n  const e = g(t, F), n = g(t, Rt), o = n.includes(\"ms\") ? (\n    /* istanbul ignore next */\n    1\n  ) : 1e3, s = e && e !== \"none\" ? parseFloat(n) * o : (\n    /* istanbul ignore next */\n    0\n  );\n  return Number.isNaN(s) ? (\n    /* istanbul ignore next */\n    0\n  ) : s;\n}, Un = (t, e) => {\n  let n = 0;\n  const o = new Event(C), s = ne(t), r = ee(t);\n  if (s) {\n    const a = (l) => {\n      l.target === t && (e.apply(t, [l]), t.removeEventListener(C, a), n = 1);\n    };\n    t.addEventListener(C, a), setTimeout(() => {\n      n || Q(t, o);\n    }, s + r + 17);\n  } else\n    e.apply(t, [o]);\n}, Fn = (t) => Float32Array.from(Array.from(t)), Wn = (t) => Float64Array.from(Array.from(t)), Rn = (t, e) => t.focus(e), V = (t) => [\"true\", !0].includes(t) ? !0 : [\"false\", !1].includes(t) ? !1 : [\"null\", \"\", null, void 0].includes(t) ? null : t !== \"\" && !Number.isNaN(+t) ? +t : t, w = (t) => Object.entries(t), oe = (t) => t.toLowerCase(), Qn = (t, e, n, o) => {\n  const s = { ...n }, r = { ...t.dataset }, a = { ...e }, l = {}, p = \"title\";\n  return w(r).forEach(([c, f]) => {\n    const y = o && typeof c == \"string\" && c.includes(o) ? c.replace(o, \"\").replace(/[A-Z]/g, (q) => oe(q)) : c;\n    l[y] = V(f);\n  }), w(s).forEach(([c, f]) => {\n    s[c] = V(f);\n  }), w(e).forEach(([c, f]) => {\n    c in s ? a[c] = s[c] : c in l ? a[c] = l[c] : a[c] = c === p ? Yt(t, p) : f;\n  }), a;\n}, qn = (t, e) => v(t) && (Object.hasOwn(t, e) || e in t), Gn = (t) => Object.keys(t), jn = (t) => Object.values(t), Jn = (t, e) => {\n  const n = new CustomEvent(t, {\n    cancelable: !0,\n    bubbles: !0\n  });\n  return v(e) && k(n, e), n;\n}, Kn = { passive: !0 }, Xn = (t) => t.offsetHeight, Yn = (t, e) => {\n  w(e).forEach(([n, o]) => {\n    if (o && N(n) && n.includes(\"--\"))\n      t.style.setProperty(n, o);\n    else {\n      const s = {};\n      s[n] = o, k(t.style, s);\n    }\n  });\n}, I = (t) => v(t) && t.constructor.name === \"Map\" || !1, se = (t) => typeof t == \"number\" || !1, m = /* @__PURE__ */ new Map(), Zn = {\n  /**\n   * Sets a new timeout timer for an element, or element -> key association.\n   *\n   * @param element target element\n   * @param callback the callback\n   * @param delay the execution delay\n   * @param key a unique key\n   */\n  set: (t, e, n, o) => {\n    u(t) && (o && o.length ? (m.has(t) || m.set(t, /* @__PURE__ */ new Map()), m.get(t).set(o, setTimeout(e, n))) : m.set(t, setTimeout(e, n)));\n  },\n  /**\n   * Returns the timer associated with the target.\n   *\n   * @param element target element\n   * @param key a unique\n   * @returns the timer\n   */\n  get: (t, e) => {\n    if (!u(t))\n      return null;\n    const n = m.get(t);\n    return e && n && I(n) ? n.get(e) || /* istanbul ignore next */\n    null : se(n) ? n : null;\n  },\n  /**\n   * Clears the element's timer.\n   *\n   * @param element target element\n   * @param key a unique key\n   */\n  clear: (t, e) => {\n    if (!u(t))\n      return;\n    const n = m.get(t);\n    e && e.length && I(n) ? (clearTimeout(n.get(e)), n.delete(e), n.size === 0 && m.delete(t)) : (clearTimeout(n), m.delete(t));\n  }\n}, $n = (t) => t.toUpperCase(), h = (t, e) => {\n  const { width: n, height: o, top: s, right: r, bottom: a, left: l } = t.getBoundingClientRect();\n  let p = 1, c = 1;\n  if (e && u(t)) {\n    const { offsetWidth: f, offsetHeight: y } = t;\n    p = f > 0 ? Math.round(n) / f : (\n      /* istanbul ignore next */\n      1\n    ), c = y > 0 ? Math.round(o) / y : (\n      /* istanbul ignore next */\n      1\n    );\n  }\n  return {\n    width: n / p,\n    height: o / c,\n    top: s / c,\n    right: r / p,\n    bottom: a / c,\n    left: l / p,\n    x: l / p,\n    y: s / c\n  };\n}, _n = (t) => d(t).body, T = (t) => d(t).documentElement, to = (t) => d(t).head, eo = (t) => {\n  const e = W(t), n = e ? t.scrollX : t.scrollLeft, o = e ? t.scrollY : t.scrollTop;\n  return { x: n, y: o };\n}, ce = (t) => i(t) && t.constructor.name === \"ShadowRoot\" || !1, no = (t) => t.nodeName === \"HTML\" ? t : u(t) && t.assignedSlot || // step into the shadow DOM of the parent of a slotted node\ni(t) && t.parentNode || // DOM Element detected\nce(t) && t.host || // ShadowRoot detected\nT(t), re = (t) => {\n  if (!u(t))\n    return !1;\n  const { width: e, height: n } = h(t), { offsetWidth: o, offsetHeight: s } = t;\n  return Math.round(e) !== o || Math.round(n) !== s;\n}, oo = (t, e, n) => {\n  const o = u(e), s = h(t, o && re(e)), r = { x: 0, y: 0 };\n  if (o) {\n    const a = h(e, !0);\n    r.x = a.x + e.clientLeft, r.y = a.y + e.clientTop;\n  }\n  return {\n    x: s.left + n.x - r.x,\n    y: s.top + n.y - r.y,\n    width: s.width,\n    height: s.height\n  };\n};\nlet B = 0, H = 0;\nconst b = /* @__PURE__ */ new Map(), ae = (t, e) => {\n  let n = e ? B : H;\n  if (e) {\n    const o = ae(t), s = b.get(o) || /* @__PURE__ */ new Map();\n    b.has(o) || b.set(o, s), I(s) && !s.has(e) ? (s.set(e, n), B += 1) : n = s.get(e);\n  } else {\n    const o = t.id || t;\n    b.has(o) ? n = b.get(o) : (b.set(o, n), H += 1);\n  }\n  return n;\n}, so = (t) => {\n  var e;\n  return t ? R(t) ? t.defaultView : i(t) ? (e = t == null ? void 0 : t.ownerDocument) == null ? void 0 : e.defaultView : t : window;\n}, ie = (t) => Array.isArray(t) || !1, co = (t) => i(t) && t.nodeName === \"CANVAS\" || !1, ue = (t) => u(t) && !!t.shadowRoot || !1, ro = (t) => i(t) && [1, 2, 3, 4, 5, 6, 7, 8].some((e) => t.nodeType === e) || !1, ao = (t) => {\n  if (!i(t))\n    return !1;\n  const { top: e, bottom: n } = h(t), { clientHeight: o } = T(t);\n  return e <= o && n >= 0;\n}, io = (t) => {\n  if (!i(t))\n    return !1;\n  const { clientWidth: e, clientHeight: n } = T(t), { top: o, left: s, bottom: r, right: a } = h(t, !0);\n  return o >= 0 && s >= 0 && r <= n && a <= e;\n}, uo = (t) => ie(t) && t.every(u) || !1, lo = (t) => typeof t == \"function\" || !1, po = (t) => v(t) && t.constructor.name === \"HTMLCollection\" || !1, fo = (t) => u(t) && t.tagName === \"IMG\" || !1, mo = (t) => {\n  if (!N(t))\n    return !1;\n  try {\n    JSON.parse(t);\n  } catch {\n    return !1;\n  }\n  return !0;\n}, go = (t) => v(t) && t.constructor.name === \"WeakMap\" || !1, vo = (t) => i(t) && [\"SVG\", \"Image\", \"Video\", \"Canvas\"].some((e) => t.constructor.name.includes(e)) || !1, Eo = (t) => v(t) && t.constructor.name === \"NodeList\" || !1, bo = (t) => T(t).dir === \"rtl\", ho = (t) => i(t) && t.constructor.name.includes(\"SVG\") || !1, yo = (t) => i(t) && [\"TABLE\", \"TD\", \"TH\"].includes(t.nodeName) || !1, le = (t, e) => t ? t.closest(e) || // break out of `ShadowRoot`\nle(t.getRootNode().host, e) : null, wo = (t, e) => u(t) ? t : (i(e) ? e : d()).querySelector(t), de = (t, e) => (i(e) ? e : d()).getElementsByTagName(t), Ao = (t) => [...de(\"*\", t)].filter(ue), So = (t, e) => d(e).getElementById(t) || null, Mo = (t, e) => (i(e) ? e : d()).querySelectorAll(t), No = (t, e) => (e && i(e) ? e : d()).getElementsByClassName(\n  t\n), ko = (t, e) => t.matches(e), To = \"2.0.0alpha16\";\nexport {\n  Vn as ArrayFrom,\n  P as DOMContentLoadedEvent,\n  Y as DOMMouseScrollEvent,\n  O as Data,\n  Fn as Float32ArrayFrom,\n  Wn as Float64ArrayFrom,\n  k as ObjectAssign,\n  w as ObjectEntries,\n  qn as ObjectHasOwn,\n  Gn as ObjectKeys,\n  jn as ObjectValues,\n  Zn as Timer,\n  G as abortEvent,\n  Ln as addClass,\n  cn as addEventListener,\n  Wt as animationDelay,\n  Ft as animationDuration,\n  D as animationEndEvent,\n  U as animationName,\n  pe as ariaChecked,\n  me as ariaDescribedBy,\n  fe as ariaDescription,\n  ge as ariaExpanded,\n  ve as ariaHasPopup,\n  Ee as ariaHidden,\n  be as ariaLabel,\n  he as ariaLabelledBy,\n  ye as ariaModal,\n  we as ariaPressed,\n  Ae as ariaSelected,\n  Me as ariaValueMax,\n  Se as ariaValueMin,\n  Ne as ariaValueNow,\n  ke as ariaValueText,\n  j as beforeunloadEvent,\n  an as bezierEasings,\n  J as blurEvent,\n  K as changeEvent,\n  le as closest,\n  X as contextmenuEvent,\n  Jn as createCustomEvent,\n  Zt as createElement,\n  $t as createElementNS,\n  Q as dispatchEvent,\n  Hn as distinct,\n  zn as documentBody,\n  xn as documentElement,\n  M as documentHead,\n  De as dragEvent,\n  ze as dragendEvent,\n  Le as dragenterEvent,\n  Oe as dragleaveEvent,\n  Ie as dragoverEvent,\n  Ce as dragstartEvent,\n  Pn as emulateAnimationEnd,\n  Un as emulateTransitionEnd,\n  Z as errorEvent,\n  Rn as focus,\n  $ as focusEvent,\n  Ue as focusEvents,\n  _ as focusinEvent,\n  tt as focusoutEvent,\n  et as gesturechangeEvent,\n  nt as gestureendEvent,\n  ot as gesturestartEvent,\n  Yt as getAttribute,\n  Sn as getAttributeNS,\n  h as getBoundingClientRect,\n  Ao as getCustomElements,\n  d as getDocument,\n  _n as getDocumentBody,\n  T as getDocumentElement,\n  to as getDocumentHead,\n  _t as getElementAnimationDelay,\n  te as getElementAnimationDuration,\n  So as getElementById,\n  g as getElementStyle,\n  ee as getElementTransitionDelay,\n  ne as getElementTransitionDuration,\n  No as getElementsByClassName,\n  de as getElementsByTagName,\n  Bn as getInstance,\n  eo as getNodeScroll,\n  no as getParentNode,\n  oo as getRectRelativeToOffsetParent,\n  ae as getUID,\n  so as getWindow,\n  Mn as hasAttribute,\n  Nn as hasAttributeNS,\n  In as hasClass,\n  gn as isApple,\n  ie as isArray,\n  co as isCanvas,\n  ue as isCustomElement,\n  R as isDocument,\n  ro as isElement,\n  ao as isElementInScrollRange,\n  io as isElementInViewport,\n  uo as isElementsArray,\n  vn as isFirefox,\n  lo as isFunction,\n  po as isHTMLCollection,\n  u as isHTMLElement,\n  fo as isHTMLImageElement,\n  mo as isJSON,\n  I as isMap,\n  vo as isMedia,\n  mn as isMobile,\n  i as isNode,\n  Eo as isNodeList,\n  se as isNumber,\n  v as isObject,\n  bo as isRTL,\n  ho as isSVGElement,\n  re as isScaledElement,\n  ce as isShadowRoot,\n  N as isString,\n  yo as isTableElement,\n  go as isWeakMap,\n  W as isWindow,\n  We as keyAlt,\n  Re as keyArrowDown,\n  qe as keyArrowLeft,\n  Ge as keyArrowRight,\n  Qe as keyArrowUp,\n  je as keyBackspace,\n  Je as keyCapsLock,\n  Ke as keyControl,\n  Xe as keyDelete,\n  Ye as keyEnter,\n  Ze as keyEscape,\n  $e as keyInsert,\n  _e as keyMeta,\n  tn as keyPause,\n  en as keyScrollLock,\n  nn as keyShift,\n  on as keySpace,\n  sn as keyTab,\n  Fe as keyboardEventKeys,\n  st as keydownEvent,\n  ct as keypressEvent,\n  rt as keyupEvent,\n  at as loadEvent,\n  xe as loadstartEvent,\n  ko as matches,\n  Be as mouseClickEvents,\n  He as mouseHoverEvents,\n  Ve as mouseSwipeEvents,\n  it as mouseclickEvent,\n  ut as mousedblclickEvent,\n  lt as mousedownEvent,\n  ft as mouseenterEvent,\n  pt as mousehoverEvent,\n  gt as mouseinEvent,\n  mt as mouseleaveEvent,\n  bt as mousemoveEvent,\n  vt as mouseoutEvent,\n  Et as mouseoverEvent,\n  dt as mouseupEvent,\n  ht as mousewheelEvent,\n  yt as moveEvent,\n  Te as nativeEvents,\n  Xt as noop,\n  Qn as normalizeOptions,\n  V as normalizeValue,\n  Jt as off,\n  un as offsetHeight,\n  ln as offsetWidth,\n  jt as on,\n  Kt as one,\n  wt as orientationchangeEvent,\n  Kn as passiveHandler,\n  At as pointercancelEvent,\n  St as pointerdownEvent,\n  Mt as pointerleaveEvent,\n  Nt as pointermoveEvent,\n  kt as pointerupEvent,\n  wo as querySelector,\n  Mo as querySelectorAll,\n  Tt as readystatechangeEvent,\n  Xn as reflow,\n  Dn as removeAttribute,\n  Cn as removeAttributeNS,\n  On as removeClass,\n  rn as removeEventListener,\n  Dt as resetEvent,\n  Ct as resizeEvent,\n  zt as scrollEvent,\n  dn as scrollHeight,\n  pn as scrollWidth,\n  Lt as selectEvent,\n  Ot as selectendEvent,\n  It as selectstartEvent,\n  kn as setAttribute,\n  Tn as setAttributeNS,\n  Yn as setElementStyle,\n  xt as submitEvent,\n  En as support3DTransform,\n  wn as supportAnimation,\n  bn as supportPassive,\n  yn as supportTouch,\n  hn as supportTransform,\n  An as supportTransition,\n  fn as tabindex,\n  oe as toLowerCase,\n  $n as toUpperCase,\n  Pe as touchEvents,\n  Ht as touchcancelEvent,\n  Pt as touchendEvent,\n  Bt as touchmoveEvent,\n  Vt as touchstartEvent,\n  Qt as transitionDelay,\n  Rt as transitionDuration,\n  C as transitionEndEvent,\n  F as transitionProperty,\n  Ut as unloadEvent,\n  S as userAgent,\n  A as userAgentData,\n  To as version\n};\n//# sourceMappingURL=shorty.mjs.map\n", "const e = {}, f = (t) => {\n  const { type: c, currentTarget: i } = t;\n  [...e[c]].forEach(([n, s]) => {\n    i === n && [...s].forEach(([o, a]) => {\n      o.apply(n, [t]), typeof a == \"object\" && a.once && r(n, c, o, a);\n    });\n  });\n}, E = (t, c, i, n) => {\n  e[c] || (e[c] = /* @__PURE__ */ new Map());\n  const s = e[c];\n  s.has(t) || s.set(t, /* @__PURE__ */ new Map());\n  const o = s.get(t), { size: a } = o;\n  o.set(i, n), a || t.addEventListener(c, f, n);\n}, r = (t, c, i, n) => {\n  const s = e[c], o = s && s.get(t), a = o && o.get(i), d = a !== void 0 ? a : n;\n  o && o.has(i) && o.delete(i), s && (!o || !o.size) && s.delete(t), (!s || !s.size) && delete e[c], (!o || !o.size) && t.removeEventListener(c, f, d);\n}, g = E, M = r;\nexport {\n  E as addListener,\n  f as globalListener,\n  M as off,\n  g as on,\n  e as registry,\n  r as removeListener\n};\n//# sourceMappingURL=event-listener.mjs.map\n", "/**\n * Global namespace for most components `fade` class.\n */\nconst fadeClass = 'fade';\nexport default fadeClass;\n", "/**\n * Global namespace for most components `show` class.\n */\nconst showClass = 'show';\nexport default showClass;\n", "/**\n * Global namespace for most components `dismiss` option.\n */\nconst dataBsDismiss = 'data-bs-dismiss';\nexport default dataBsDismiss;\n", "/** @type {string} */\nconst alertString = 'alert';\nexport default alertString;\n", "/** @type {string} */\nconst alertComponent = 'Alert';\nexport default alertComponent;\n", "import { version } from '../package.json';\n\nconst Version = version;\n\nexport default Version;\n", "/* Native JavaScript for Bootstrap 5 | Base Component\n----------------------------------------------------- */\nimport { querySelector, normalizeOptions, Data, ObjectKeys, isString } from '@thednp/shorty';\n\nimport type { BaseOptions } from '../interface/baseComponent';\nimport Version from '../version';\n\n/** Returns a new `BaseComponent` instance. */\nexport default class BaseComponent {\n  declare element: HTMLElement;\n  declare options?: BaseOptions;\n\n  /**\n   * @param target `HTMLElement` or selector string\n   * @param config component instance options\n   */\n  constructor(target: HTMLElement | string, config?: BaseOptions) {\n    const element = querySelector(target);\n\n    if (!element) {\n      if (isString(target)) {\n        throw Error(`${this.name} Error: \"${target}\" is not a valid selector.`);\n      } else {\n        throw Error(`${this.name} Error: your target is not an instance of HTMLElement.`);\n      }\n    }\n\n    const prevInstance = Data.get<typeof this>(element, this.name);\n    /* istanbul ignore else */\n    if (prevInstance) {\n      prevInstance.dispose();\n    }\n\n    this.element = element;\n    this.options =\n      this.defaults && ObjectKeys(this.defaults).length\n        ? normalizeOptions(element, this.defaults, config || {}, 'bs')\n        : {};\n\n    Data.set(element, this.name, this);\n  }\n\n  /* istanbul ignore next */\n  get version() {\n    return Version;\n  }\n\n  /* istanbul ignore next */\n  get name() {\n    return 'BaseComponent';\n  }\n\n  /* istanbul ignore next */\n  get defaults() {\n    return {};\n  }\n\n  /** Removes component from target element. */\n  dispose() {\n    Data.remove(this.element, this.name);\n    ObjectKeys(this).forEach(prop => {\n      delete this[prop];\n    });\n  }\n}\n", "/* Native JavaScript for Bootstrap 5 | Alert\n-------------------------------------------- */\nimport {\n  emulateTransitionEnd,\n  mouseclickEvent,\n  getInstance,\n  querySelector,\n  hasClass,\n  removeClass,\n  dispatchEvent,\n  createCustomEvent,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport fadeClass from '../strings/fadeClass';\nimport showClass from '../strings/showClass';\nimport dataBsDismiss from '../strings/dataBsDismiss';\nimport alertString from '../strings/alertString';\nimport alertComponent from '../strings/alertComponent';\nimport type { AlertEvent } from '../interface/alert';\n\nimport BaseComponent from './base-component';\n\n// ALERT PRIVATE GC\n// ================\nconst alertSelector = `.${alertString}`;\nconst alertDismissSelector = `[${dataBsDismiss}=\"${alertString}\"]`;\n\n/**\n * Static method which returns an existing `Alert` instance associated\n * to a target `Element`.\n *\n */\nconst getAlertInstance = (element: HTMLElement) => getInstance<Alert>(element, alertComponent);\n\n/**\n * An `Alert` initialization callback.\n */\nconst alertInitCallback = <T>(element: HTMLElement) => new Alert(element) as T;\n\n// ALERT CUSTOM EVENTS\n// ===================\nconst closeAlertEvent = createCustomEvent<AlertEvent>(`close.bs.${alertString}`);\nconst closedAlertEvent = createCustomEvent<AlertEvent>(`closed.bs.${alertString}`);\n\n// ALERT EVENT HANDLER\n// ===================\n/**\n * Alert `transitionend` callback.\n *\n * @param that target Alert instance\n */\nconst alertTransitionEnd = (that: Alert) => {\n  const { element } = that;\n  toggleAlertHandler(that);\n\n  dispatchEvent(element, closedAlertEvent);\n\n  that.dispose();\n  element.remove();\n};\n\n// ALERT PRIVATE METHOD\n// ====================\n/**\n * Toggle on / off the `click` event listener.\n *\n * @param that the target alert instance\n * @param add when `true`, event listener is added\n */\nconst toggleAlertHandler = (that: Alert, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { dismiss, close } = that;\n  /* istanbul ignore else */\n  if (dismiss) action(dismiss, mouseclickEvent, close);\n};\n\n// ALERT DEFINITION\n// ================\n/** Creates a new Alert instance. */\nexport default class Alert extends BaseComponent {\n  static selector = alertSelector;\n  static init = alertInitCallback;\n  static getInstance = getAlertInstance;\n  dismiss: HTMLElement | null;\n\n  constructor(target: HTMLElement | string) {\n    super(target);\n\n    // the dismiss button\n    this.dismiss = querySelector(alertDismissSelector, this.element);\n\n    // add event listener\n    toggleAlertHandler(this, true);\n  }\n\n  /** Returns component name string. */\n  get name() {\n    return alertComponent;\n  }\n\n  // ALERT PUBLIC METHODS\n  // ====================\n  /**\n   * Public method that hides the `.alert` element from the user,\n   * disposes the instance once animation is complete, then\n   * removes the element from the DOM.\n   */\n  close = () => {\n    const { element } = this;\n\n    /* istanbul ignore else */\n    if (element && hasClass(element, showClass)) {\n      dispatchEvent(element, closeAlertEvent);\n\n      if (!closeAlertEvent.defaultPrevented) {\n        removeClass(element, showClass);\n\n        if (hasClass(element, fadeClass)) {\n          emulateTransitionEnd(element, () => alertTransitionEnd(this));\n        } else alertTransitionEnd(this);\n      }\n    }\n  };\n\n  /** Remove the component from target element. */\n  dispose() {\n    toggleAlertHandler(this);\n    super.dispose();\n  }\n}\n", "/**\n * Global namespace for most components active class.\n */\nconst activeClass = 'active';\nexport default activeClass;\n", "/**\n * Global namespace for most components `toggle` option.\n */\nconst dataBsToggle = 'data-bs-toggle';\nexport default dataBsToggle;\n", "/** @type {string} */\nconst buttonString = 'button';\nexport default buttonString;\n", "/** @type {string} */\nconst buttonComponent = 'Button';\nexport default buttonComponent;\n", "/* Native JavaScript for Bootstrap 5 | Button\n---------------------------------------------*/\nimport {\n  getInstance,\n  removeClass,\n  hasClass,\n  addClass,\n  setAttribute,\n  mouseclickEvent,\n  ariaPressed,\n  getAttribute,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport activeClass from '../strings/activeClass';\nimport dataBsToggle from '../strings/dataBsToggle';\nimport buttonString from '../strings/buttonString';\nimport buttonComponent from '../strings/buttonComponent';\n\nimport BaseComponent from './base-component';\n\n// BUTTON PRIVATE GC\n// =================\nconst buttonSelector = `[${dataBsToggle}=\"${buttonString}\"]`;\n\n/**\n * Static method which returns an existing `Button` instance associated\n * to a target `Element`.\n */\nconst getButtonInstance = (element: HTMLElement) => getInstance<Button>(element, buttonComponent);\n\n/** A `Button` initialization callback. */\nconst buttonInitCallback = (element: HTMLElement) => new Button(element);\n\n// BUTTON PRIVATE METHOD\n// =====================\n/**\n * Toggles on/off the `click` event listener.\n *\n * @param self the `Button` instance\n * @param add when `true`, event listener is added\n */\nconst toggleButtonHandler = (self: Button, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  action(self.element, mouseclickEvent, self.toggle);\n};\n\n// BUTTON DEFINITION\n// =================\n/** Creates a new `Button` instance. */\nexport default class Button extends BaseComponent {\n  static selector = buttonSelector;\n  static init = buttonInitCallback;\n  static getInstance = getButtonInstance;\n\n  isActive = false;\n\n  /**\n   * @param target usually a `.btn` element\n   */\n  constructor(target: HTMLElement | string) {\n    super(target);\n\n    // initialization element\n    const { element } = this;\n\n    // set initial state\n    this.isActive = hasClass(element, activeClass);\n    setAttribute(element, ariaPressed, String(!!this.isActive));\n\n    // add event listener\n    toggleButtonHandler(this, true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return buttonComponent;\n  }\n\n  // BUTTON PUBLIC METHODS\n  // =====================\n  /**\n   * Toggles the state of the target button.\n   *\n   * @param e usually `click` Event object\n   */\n  toggle = (e: Event) => {\n    if (e) e.preventDefault();\n\n    const { element, isActive } = this;\n    if (!hasClass(element, 'disabled') && !getAttribute(element, 'disabled')) {\n      const action = isActive ? removeClass : addClass;\n      action(element, activeClass);\n      setAttribute(element, ariaPressed, isActive ? 'false' : 'true');\n      this.isActive = hasClass(element, activeClass);\n    }\n  };\n\n  /** Removes the `Button` component from the target element. */\n  dispose() {\n    toggleButtonHandler(this);\n    super.dispose();\n  }\n}\n", "/**\n * Global namespace for most components `target` option.\n */\nconst dataBsTarget = 'data-bs-target';\nexport default dataBsTarget;\n", "/** @type {string} */\nconst carouselString = 'carousel';\nexport default carouselString;\n", "/** @type {string} */\nconst carouselComponent = 'Carousel';\nexport default carouselComponent;\n", "/**\n * Global namespace for most components `parent` option.\n */\nconst dataBsParent = 'data-bs-parent';\nexport default dataBsParent;\n", "/**\n * Global namespace for most components `container` option.\n */\nconst dataBsContainer = 'data-bs-container';\nexport default dataBsContainer;\n", "import { getDocument, getAttribute, closest, querySelector } from '@thednp/shorty';\n\nimport dataBsTarget from '../strings/dataBsTarget';\nimport dataBsParent from '../strings/dataBsParent';\nimport dataBsContainer from '../strings/dataBsContainer';\n\n/**\n * Returns the `Element` that THIS one targets\n * via `data-bs-target`, `href`, `data-bs-parent` or `data-bs-container`.\n *\n * @param element the target element\n * @returns the query result\n */\nconst getTargetElement = (element: HTMLElement) => {\n  const targetAttr = [dataBsTarget, dataBsParent, dataBsContainer, 'href'];\n  const doc = getDocument(element);\n\n  return targetAttr\n    .map(att => {\n      const attValue = getAttribute(element, att);\n      if (attValue) {\n        return att === dataBsParent ? closest(element, attValue) : querySelector(attValue, doc);\n      }\n      return null;\n    })\n    .filter(x => x)[0];\n};\n\nexport default getTargetElement;\n", "/* Native JavaScript for Bootstrap 5 | Carousel\n----------------------------------------------- */\nimport {\n  createCustomEvent,\n  getInstance,\n  dispatchEvent,\n  ObjectAssign,\n  emulateTransitionEnd,\n  passiveHandler,\n  reflow,\n  Timer,\n  getAttribute,\n  getElementsByClassName,\n  querySelectorAll,\n  querySelector,\n  closest,\n  isHTMLElement,\n  isRTL,\n  isElementInScrollRange,\n  getElementTransitionDuration,\n  getDocument,\n  pointerupEvent,\n  pointermoveEvent,\n  pointerdownEvent,\n  keyArrowRight,\n  keyArrowLeft,\n  keydownEvent,\n  mouseclickEvent,\n  mouseleaveEvent,\n  mouseenterEvent,\n  touchstartEvent,\n  dragstartEvent,\n  addClass,\n  hasClass,\n  removeClass,\n  matches,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport activeClass from '../strings/activeClass';\nimport dataBsTarget from '../strings/dataBsTarget';\nimport carouselString from '../strings/carouselString';\nimport carouselComponent from '../strings/carouselComponent';\nimport getTargetElement from '../util/getTargetElement';\nimport BaseComponent from './base-component';\nimport type { CarouselEvent, CarouselOptions } from '../interface/carousel';\n\n// CAROUSEL PRIVATE GC\n// ===================\nconst carouselSelector = `[data-bs-ride=\"${carouselString}\"]`;\nconst carouselItem = `${carouselString}-item`;\nconst dataBsSlideTo = 'data-bs-slide-to';\nconst dataBsSlide = 'data-bs-slide';\nconst pausedClass = 'paused';\n\nconst carouselDefaults: CarouselOptions = {\n  pause: 'hover',\n  keyboard: false,\n  touch: true,\n  interval: 5000,\n};\n\n/**\n * Static method which returns an existing `Carousel` instance associated\n * to a target `Element`.\n */\nconst getCarouselInstance = (element: HTMLElement) => getInstance<Carousel>(element, carouselComponent);\n\n/**\n * A `Carousel` initialization callback.\n */\nconst carouselInitCallback = (element: HTMLElement) => new Carousel(element);\n\nlet startX = 0;\nlet currentX = 0;\nlet endX = 0;\n\n// CAROUSEL CUSTOM EVENTS\n// ======================\nconst carouselSlideEvent = createCustomEvent<CarouselEvent>(`slide.bs.${carouselString}`);\nconst carouselSlidEvent = createCustomEvent<CarouselEvent>(`slid.bs.${carouselString}`);\n\n// CAROUSEL EVENT HANDLERS\n// =======================\n/**\n * The `transitionend` event listener of the `Carousel`.\n *\n * @param self the `Carousel` instance\n */\nconst carouselTransitionEndHandler = (self: Carousel) => {\n  const { index, direction, element, slides, options } = self;\n\n  /* istanbul ignore else */\n  if (self.isAnimating) {\n    const activeItem = getActiveIndex(self);\n    const orientation = direction === 'left' ? 'next' : 'prev';\n    const directionClass = direction === 'left' ? 'start' : 'end';\n\n    addClass(slides[index], activeClass);\n    removeClass(slides[index], `${carouselItem}-${orientation}`);\n    removeClass(slides[index], `${carouselItem}-${directionClass}`);\n\n    removeClass(slides[activeItem], activeClass);\n    removeClass(slides[activeItem], `${carouselItem}-${directionClass}`);\n\n    dispatchEvent(element, carouselSlidEvent);\n    Timer.clear(element, dataBsSlide);\n\n    // must check if a previous instance is disposed\n    if (self.cycle && !getDocument(element).hidden && options.interval && !self.isPaused) {\n      self.cycle();\n    }\n  }\n};\n\n/**\n * Handles the `mouseenter` events when *options.pause*\n * is set to `hover`.\n */\nfunction carouselPauseHandler(this: HTMLElement) {\n  // const element = this;\n  const self = getCarouselInstance(this);\n  /* istanbul ignore else */\n  if (self && !self.isPaused && !Timer.get(this, pausedClass)) {\n    addClass(this, pausedClass);\n  }\n}\n\n/**\n * Handles the `mouseleave` events when *options.pause*\n * is set to `hover`.\n *\n */\nfunction carouselResumeHandler(this: HTMLElement) {\n  // const element = this;\n  const self = getCarouselInstance(this);\n  /* istanbul ignore else */\n  if (self && self.isPaused && !Timer.get(this, pausedClass)) {\n    self.cycle();\n  }\n}\n\n/**\n * Handles the `click` event for the `Carousel` indicators.\n *\n * @param e the `Event` object\n */\nfunction carouselIndicatorHandler(this: HTMLElement, e: MouseEvent) {\n  e.preventDefault();\n  // const indicator = this;\n  const element = (closest(this, carouselSelector) || getTargetElement(this)) as HTMLElement;\n  const self = getCarouselInstance(element);\n\n  if (self && !self.isAnimating) {\n    const newIndex = +(getAttribute(this, dataBsSlideTo) || /* istanbul ignore next */ 0);\n\n    if (\n      this &&\n      !hasClass(this, activeClass) && // event target is not active\n      !Number.isNaN(newIndex)\n    ) {\n      // AND has the specific attribute\n      self.to(newIndex); // do the slide\n    }\n  }\n}\n\n/**\n * Handles the `click` event for the `Carousel` arrows.\n *\n * @param e the `Event` object\n */\nfunction carouselControlsHandler(this: HTMLElement, e: MouseEvent) {\n  e.preventDefault();\n  const element = closest(this, carouselSelector) || (getTargetElement(this) as HTMLElement);\n  const self = getCarouselInstance(element);\n\n  if (self && !self.isAnimating) {\n    const orientation = getAttribute(this, dataBsSlide);\n\n    /* istanbul ignore else */\n    if (orientation === 'next') {\n      self.next();\n    } else if (orientation === 'prev') {\n      self.prev();\n    }\n  }\n}\n\n/**\n * Handles the keyboard `keydown` event for the visible `Carousel` elements.\n *\n * @param e the `Event` object\n */\nconst carouselKeyHandler = ({ code, target }: KeyboardEvent & { target: Node }) => {\n  const doc = getDocument(target);\n  const [element] = [...querySelectorAll(carouselSelector, doc)].filter(x => isElementInScrollRange(x));\n  const self = getCarouselInstance(element);\n\n  /* istanbul ignore next */\n  if (self && !self.isAnimating && !/textarea|input/i.test(target.nodeName)) {\n    const RTL = isRTL(element);\n    const arrowKeyNext = !RTL ? keyArrowRight : keyArrowLeft;\n    const arrowKeyPrev = !RTL ? keyArrowLeft : keyArrowRight;\n\n    /* istanbul ignore else */\n    if (code === arrowKeyPrev) self.prev();\n    else if (code === arrowKeyNext) self.next();\n  }\n};\n\n// CAROUSEL TOUCH HANDLERS\n// =======================\n/**\n * Prevents the `touchstart` and `dragstart` events for the `Carousel` element.\n *\n * @param e the `Event` object\n */\nfunction carouselDragHandler(this: HTMLElement, e: DragEvent | TouchEvent) {\n  const { target } = e;\n  const self = getCarouselInstance(this);\n\n  /* istanbul ignore next */\n  if (\n    self &&\n    self.isTouch &&\n    ((self.indicator && !self.indicator.contains(target as Node)) || !self.controls.includes(target as HTMLElement))\n  ) {\n    e.stopImmediatePropagation();\n    e.stopPropagation();\n    e.preventDefault();\n  }\n}\n\n// CAROUSEL POINTER HANDLERS\n// =========================\n/**\n * Handles the `pointerdown` event for the `Carousel` element.\n *\n * @param e the `Event` object\n */\nfunction carouselPointerDownHandler(this: HTMLElement, e: PointerEvent) {\n  const { target } = e;\n  const self = getCarouselInstance(this);\n\n  if (self && !self.isAnimating && !self.isTouch) {\n    // filter pointer event on controls & indicators\n    const { controls, indicators } = self;\n    if (![...controls, ...indicators].every(el => el === target || el.contains(target as Node))) {\n      startX = e.pageX;\n\n      /* istanbul ignore else */\n      if (this.contains(target as Node)) {\n        self.isTouch = true;\n        toggleCarouselTouchHandlers(self, true);\n      }\n    }\n  }\n}\n\n/**\n * Handles the `pointermove` event for the `Carousel` element.\n *\n * @param e\n */\nconst carouselPointerMoveHandler = (e: PointerEvent) => {\n  currentX = e.pageX;\n};\n\n/**\n * Handles the `pointerup` event for the `Carousel` element.\n *\n * @param e\n */\nconst carouselPointerUpHandler = (e: PointerEvent) => {\n  const { target } = e;\n  const doc = getDocument(target as Node);\n  const self = [...querySelectorAll(carouselSelector, doc)]\n    .map(c => getCarouselInstance(c) as Carousel)\n    .find(i => i.isTouch) as Carousel;\n\n  // impossible to satisfy\n  /* istanbul ignore else */\n  if (self) {\n    const { element, index } = self;\n    const RTL = isRTL(element);\n    endX = e.pageX;\n\n    self.isTouch = false;\n    toggleCarouselTouchHandlers(self);\n\n    if (\n      !doc.getSelection()?.toString().length &&\n      element.contains(target as HTMLElement) &&\n      Math.abs(startX - endX) > 120\n    ) {\n      // determine next index to slide to\n      /* istanbul ignore else */\n      if (currentX < startX) {\n        self.to(index + (RTL ? -1 : 1));\n      } else if (currentX > startX) {\n        self.to(index + (RTL ? 1 : -1));\n      }\n    }\n\n    // reset pointer position\n    startX = 0;\n    currentX = 0;\n    endX = 0;\n  }\n};\n\n// CAROUSEL PRIVATE METHODS\n// ========================\n/**\n * Sets active indicator for the `Carousel` instance.\n *\n * @param self the `Carousel` instance\n * @param index the index of the new active indicator\n */\nconst activateCarouselIndicator = (self: Carousel, index: number) => {\n  const { indicators } = self;\n  [...indicators].forEach(x => removeClass(x, activeClass));\n\n  /* istanbul ignore else */\n  if (self.indicators[index]) addClass(indicators[index], activeClass);\n};\n\n/**\n * Toggles the pointer event listeners for a given `Carousel` instance.\n *\n * @param self the `Carousel` instance\n * @param add when `TRUE` event listeners are added\n */\nconst toggleCarouselTouchHandlers = (self: Carousel, add?: boolean) => {\n  const { element } = self;\n  const action = add ? addListener : removeListener;\n  action(getDocument(element), pointermoveEvent, carouselPointerMoveHandler as EventListener, passiveHandler);\n  action(getDocument(element), pointerupEvent, carouselPointerUpHandler as EventListener, passiveHandler);\n};\n\n/**\n * Toggles all event listeners for a given `Carousel` instance.\n *\n * @param self the `Carousel` instance\n * @param add when `TRUE` event listeners are added\n */\nconst toggleCarouselHandlers = (self: Carousel, add?: boolean) => {\n  const { element, options, slides, controls, indicators } = self;\n  const { touch, pause, interval, keyboard } = options;\n  const action = add ? addListener : removeListener;\n\n  if (pause && interval) {\n    action(element, mouseenterEvent, carouselPauseHandler);\n    action(element, mouseleaveEvent, carouselResumeHandler);\n  }\n\n  if (touch && slides.length > 2) {\n    action(element, pointerdownEvent, carouselPointerDownHandler as EventListener, passiveHandler);\n    action(element, touchstartEvent, carouselDragHandler as unknown as EventListener, { passive: false });\n    action(element, dragstartEvent, carouselDragHandler as unknown as EventListener, { passive: false });\n  }\n\n  /* istanbul ignore else */\n  if (controls.length) {\n    controls.forEach(arrow => {\n      /* istanbul ignore else */\n      if (arrow) action(arrow, mouseclickEvent, carouselControlsHandler as EventListener);\n    });\n  }\n\n  /* istanbul ignore else */\n  if (indicators.length) {\n    indicators.forEach(indicator => {\n      action(indicator, mouseclickEvent, carouselIndicatorHandler as EventListener);\n    });\n  }\n\n  if (keyboard) action(getDocument(element), keydownEvent, carouselKeyHandler as EventListener);\n};\n\n/**\n * Returns the index of the current active item.\n *\n * @param self the `Carousel` instance\n * @returns the query result\n */\nconst getActiveIndex = (self: Carousel) => {\n  const { slides, element } = self;\n  const activeItem = querySelector(`.${carouselItem}.${activeClass}`, element);\n  return isHTMLElement(activeItem) ? [...slides].indexOf(activeItem) : -1;\n};\n\n// CAROUSEL DEFINITION\n// ===================\n/** Creates a new `Carousel` instance. */\nexport default class Carousel extends BaseComponent {\n  static selector = carouselSelector;\n  static init = carouselInitCallback;\n  static getInstance = getCarouselInstance;\n  declare options: CarouselOptions;\n  declare direction: 'right' | 'left';\n  declare index: number;\n  declare isTouch: boolean;\n  declare slides: HTMLCollectionOf<HTMLElement>;\n  declare controls: HTMLElement[];\n  declare indicator: HTMLElement | null;\n  declare indicators: HTMLElement[];\n\n  /**\n   * @param target mostly a `.carousel` element\n   * @param config instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<CarouselOptions>) {\n    super(target, config);\n\n    // initialization element\n    const { element } = this;\n\n    // additional properties\n    this.direction = isRTL(element) ? 'right' : 'left';\n    this.isTouch = false;\n\n    // carousel elements\n    // a LIVE collection is prefferable\n    this.slides = getElementsByClassName(carouselItem, element);\n    const { slides } = this;\n\n    // invalidate when not enough items\n    // no need to go further\n    if (slides.length >= 2) {\n      const activeIndex = getActiveIndex(this);\n      // recover item from disposed instance\n      const transitionItem = [...slides].find(s => matches(s, `.${carouselItem}-next,.${carouselItem}-next`));\n      this.index = activeIndex;\n\n      // external controls must be within same document context\n      const doc = getDocument(element);\n\n      this.controls = [\n        ...querySelectorAll(`[${dataBsSlide}]`, element),\n        ...querySelectorAll(`[${dataBsSlide}][${dataBsTarget}=\"#${element.id}\"]`, doc),\n      ].filter((c, i, ar) => i === ar.indexOf(c));\n\n      this.indicator = querySelector(`.${carouselString}-indicators`, element);\n\n      // a LIVE collection is prefferable\n      this.indicators = [\n        ...(this.indicator ? querySelectorAll(`[${dataBsSlideTo}]`, this.indicator) : []),\n        ...querySelectorAll(`[${dataBsSlideTo}][${dataBsTarget}=\"#${element.id}\"]`, doc),\n      ].filter((c, i, ar) => i === ar.indexOf(c));\n\n      // set JavaScript and DATA API options\n      const { options } = this;\n\n      // don't use TRUE as interval, it's actually 0, use the default 5000ms better\n      this.options.interval = options.interval === true ? carouselDefaults.interval : options.interval;\n\n      // set first slide active if none\n      /* istanbul ignore next - impossible to test with cypress */\n      if (transitionItem) {\n        this.index = [...slides].indexOf(transitionItem);\n      } else if (activeIndex < 0) {\n        this.index = 0;\n        addClass(slides[0], activeClass);\n        if (this.indicators.length) activateCarouselIndicator(this, 0);\n      }\n\n      /* istanbul ignore else */\n      if (this.indicators.length) activateCarouselIndicator(this, this.index);\n\n      // attach event handlers\n      toggleCarouselHandlers(this, true);\n\n      // start to cycle if interval is set\n      if (options.interval) this.cycle();\n    }\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return carouselComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return carouselDefaults;\n  }\n\n  /**\n   * Check if instance is paused.\n   */\n  get isPaused() {\n    return hasClass(this.element, pausedClass);\n  }\n\n  /**\n   * Check if instance is animating.\n   */\n  get isAnimating() {\n    return querySelector(`.${carouselItem}-next,.${carouselItem}-prev`, this.element) !== null;\n  }\n\n  // CAROUSEL PUBLIC METHODS\n  // =======================\n  /** Slide automatically through items. */\n  cycle() {\n    const { element, options, isPaused, index } = this;\n\n    Timer.clear(element, carouselString);\n    if (isPaused) {\n      Timer.clear(element, pausedClass);\n      removeClass(element, pausedClass);\n    }\n\n    Timer.set(\n      element,\n      () => {\n        // it's very important to check self.element\n        // where instance might have been disposed\n        /* istanbul ignore else */\n        if (this.element && !this.isPaused && !this.isTouch && isElementInScrollRange(element)) {\n          this.to(index + 1);\n        }\n      },\n      options.interval as number,\n      carouselString,\n    );\n  }\n\n  /** Pause the automatic cycle. */\n  pause() {\n    const { element, options } = this;\n    /* istanbul ignore else */\n    if (!this.isPaused && options.interval) {\n      addClass(element, pausedClass);\n      Timer.set(\n        element,\n        () => {\n          /* ESLint is now happy */\n        },\n        1,\n        pausedClass,\n      );\n    }\n  }\n\n  /** Slide to the next item. */\n  next() {\n    /* istanbul ignore else */\n    if (!this.isAnimating) {\n      this.to(this.index + 1);\n    }\n  }\n\n  /** Slide to the previous item. */\n  prev() {\n    /* istanbul ignore else */\n    if (!this.isAnimating) {\n      this.to(this.index - 1);\n    }\n  }\n\n  /**\n   * Jump to the item with the `idx` index.\n   *\n   * @param idx the index of the item to jump to\n   */\n  to(idx: number) {\n    const { element, slides, options } = this;\n    const activeItem = getActiveIndex(this);\n    const RTL = isRTL(element);\n    let next = idx;\n\n    // when controled via methods, make sure to check again\n    // first return if we're on the same item #227\n    // `to()` must be SPAM protected by Timer\n    if (!this.isAnimating && activeItem !== next && !Timer.get(element, dataBsSlide)) {\n      // determine transition direction\n      /* istanbul ignore else */\n      if (activeItem < next || (activeItem === 0 && next === slides.length - 1)) {\n        this.direction = RTL ? 'right' : 'left'; // next\n      } else if (activeItem > next || (activeItem === slides.length - 1 && next === 0)) {\n        this.direction = RTL ? 'left' : 'right'; // prev\n      }\n      const { direction } = this;\n\n      // find the right next index\n      if (next < 0) {\n        next = slides.length - 1;\n      } else if (next >= slides.length) {\n        next = 0;\n      }\n\n      // orientation, class name, eventProperties\n      const orientation = direction === 'left' ? 'next' : 'prev';\n      const directionClass = direction === 'left' ? 'start' : 'end';\n\n      const eventProperties = {\n        relatedTarget: slides[next],\n        from: activeItem,\n        to: next,\n        direction,\n      };\n\n      // update event properties\n      ObjectAssign(carouselSlideEvent, eventProperties);\n      ObjectAssign(carouselSlidEvent, eventProperties);\n\n      // discontinue when prevented\n      dispatchEvent(element, carouselSlideEvent);\n      if (!carouselSlideEvent.defaultPrevented) {\n        // update index\n        this.index = next;\n        activateCarouselIndicator(this, next);\n\n        if (getElementTransitionDuration(slides[next]) && hasClass(element, 'slide')) {\n          Timer.set(\n            element,\n            () => {\n              addClass(slides[next], `${carouselItem}-${orientation}`);\n              reflow(slides[next]);\n              addClass(slides[next], `${carouselItem}-${directionClass}`);\n              addClass(slides[activeItem], `${carouselItem}-${directionClass}`);\n\n              // the instance might get diposed mid-animation\n              emulateTransitionEnd(\n                slides[next],\n                () => this.slides && this.slides.length && carouselTransitionEndHandler(this),\n              );\n            },\n            0,\n            dataBsSlide,\n          );\n        } else {\n          addClass(slides[next], activeClass);\n          removeClass(slides[activeItem], activeClass);\n\n          Timer.set(\n            element,\n            () => {\n              Timer.clear(element, dataBsSlide);\n              // check for element, might have been disposed\n              /* istanbul ignore else */\n              if (element && options.interval && !this.isPaused) {\n                this.cycle();\n              }\n\n              dispatchEvent(element, carouselSlidEvent);\n            },\n            0,\n            dataBsSlide,\n          );\n        }\n      }\n    }\n  }\n\n  /** Remove `Carousel` component from target. */\n  dispose() {\n    const { isAnimating } = this;\n\n    const clone = {\n      ...this,\n      isAnimating,\n    };\n    toggleCarouselHandlers(clone);\n    super.dispose();\n\n    // istanbul ignore next - impossible to test with cypress\n    if (clone.isAnimating) {\n      emulateTransitionEnd(clone.slides[clone.index], () => {\n        carouselTransitionEndHandler(clone);\n      });\n    }\n  }\n}\n", "/**\n * Global namespace for most components `collapsing` class.\n * As used by `Collapse` / `Tab`.\n */\nconst collapsingClass = 'collapsing';\nexport default collapsingClass;\n", "/** @type {string} */\nconst collapseString = 'collapse';\nexport default collapseString;\n", "/** @type {string} */\nconst collapseComponent = 'Collapse';\nexport default collapseComponent;\n", "/* Native JavaScript for Bootstrap 5 | Collapse\n----------------------------------------------- */\nimport {\n  getInstance,\n  setAttribute,\n  getDocument,\n  closest,\n  querySelector,\n  querySelectorAll,\n  addClass,\n  hasClass,\n  removeClass,\n  mouseclickEvent,\n  ariaExpanded,\n  emulateTransitionEnd,\n  reflow,\n  dispatchEvent,\n  setElementStyle,\n  Timer,\n  createCustomEvent,\n  noop,\n  isHTMLElement,\n  isString,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport dataBsToggle from '../strings/dataBsToggle';\nimport collapsingClass from '../strings/collapsingClass';\nimport showClass from '../strings/showClass';\nimport collapseString from '../strings/collapseString';\nimport collapseComponent from '../strings/collapseComponent';\n\nimport getTargetElement from '../util/getTargetElement';\nimport BaseComponent from './base-component';\nimport type { CollapseEvent, CollapseOptions } from '../interface/collapse';\n\n// COLLAPSE GC\n// ===========\nconst collapseSelector = `.${collapseString}`;\nconst collapseToggleSelector = `[${dataBsToggle}=\"${collapseString}\"]`;\nconst collapseDefaults = { parent: null };\n\n/**\n * Static method which returns an existing `Collapse` instance associated\n * to a target `Element`.\n */\nconst getCollapseInstance = (element: HTMLElement) => getInstance<Collapse>(element, collapseComponent);\n\n/**\n * A `Collapse` initialization callback.\n */\nconst collapseInitCallback = (element: HTMLElement) => new Collapse(element);\n\n// COLLAPSE CUSTOM EVENTS\n// ======================\nconst showCollapseEvent = createCustomEvent<CollapseEvent>(`show.bs.${collapseString}`);\nconst shownCollapseEvent = createCustomEvent<CollapseEvent>(`shown.bs.${collapseString}`);\nconst hideCollapseEvent = createCustomEvent<CollapseEvent>(`hide.bs.${collapseString}`);\nconst hiddenCollapseEvent = createCustomEvent<CollapseEvent>(`hidden.bs.${collapseString}`);\n\n// COLLAPSE PRIVATE METHODS\n// ========================\n/**\n * Expand the designated `Element`.\n *\n * @param self the `Collapse` instance\n */\nconst expandCollapse = (self: Collapse) => {\n  const { element, parent, triggers } = self;\n\n  dispatchEvent(element, showCollapseEvent);\n  if (!showCollapseEvent.defaultPrevented) {\n    Timer.set(element, noop, 17);\n    if (parent) Timer.set(parent, noop, 17);\n\n    addClass(element, collapsingClass);\n    removeClass(element, collapseString);\n\n    setElementStyle(element, { height: `${element.scrollHeight}px` });\n\n    emulateTransitionEnd(element, () => {\n      Timer.clear(element);\n      if (parent) Timer.clear(parent);\n\n      triggers.forEach(btn => setAttribute(btn, ariaExpanded, 'true'));\n\n      removeClass(element, collapsingClass);\n      addClass(element, collapseString);\n      addClass(element, showClass);\n\n      setElementStyle(element, { height: '' });\n\n      dispatchEvent(element, shownCollapseEvent);\n    });\n  }\n};\n\n/**\n * Collapse the designated `Element`.\n *\n * @param self the `Collapse` instance\n */\nconst collapseContent = (self: Collapse) => {\n  const { element, parent, triggers } = self;\n\n  dispatchEvent(element, hideCollapseEvent);\n\n  if (!hideCollapseEvent.defaultPrevented) {\n    Timer.set(element, noop, 17);\n    if (parent) Timer.set(parent, noop, 17);\n\n    setElementStyle(element, { height: `${element.scrollHeight}px` });\n\n    removeClass(element, collapseString);\n    removeClass(element, showClass);\n    addClass(element, collapsingClass);\n\n    reflow(element);\n    setElementStyle(element, { height: '0px' });\n\n    emulateTransitionEnd(element, () => {\n      Timer.clear(element);\n      /* istanbul ignore else */\n      if (parent) Timer.clear(parent);\n\n      triggers.forEach(btn => setAttribute(btn, ariaExpanded, 'false'));\n\n      removeClass(element, collapsingClass);\n      addClass(element, collapseString);\n\n      setElementStyle(element, { height: '' });\n\n      dispatchEvent(element, hiddenCollapseEvent);\n    });\n  }\n};\n\n/**\n * Toggles on/off the event listener(s) of the `Collapse` instance.\n *\n * @param self the `Collapse` instance\n * @param add when `true`, the event listener is added\n */\nconst toggleCollapseHandler = (self: Collapse, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { triggers } = self;\n\n  /* istanbul ignore else */\n  if (triggers.length) {\n    triggers.forEach(btn => action(btn, mouseclickEvent, collapseClickHandler as EventListener));\n  }\n};\n\n// COLLAPSE EVENT HANDLER\n// ======================\n/**\n * Handles the `click` event for the `Collapse` instance.\n *\n * @param e the `Event` object\n */\nconst collapseClickHandler = (e: MouseEvent) => {\n  const { target } = e; // our target is `HTMLElement`\n  const trigger = target && closest(target as HTMLElement, collapseToggleSelector);\n  const element = trigger && getTargetElement(trigger);\n  const self = element && getCollapseInstance(element);\n  /* istanbul ignore else */\n  if (self) self.toggle();\n\n  // event target is anchor link #398\n  if (trigger && trigger.tagName === 'A') e.preventDefault();\n};\n\n// COLLAPSE DEFINITION\n// ===================\n\n/** Returns a new `Colapse` instance. */\nexport default class Collapse extends BaseComponent {\n  static selector = collapseSelector;\n  static init = collapseInitCallback;\n  static getInstance = getCollapseInstance;\n  declare options: CollapseOptions;\n  declare parent: HTMLElement | null;\n  declare triggers: HTMLElement[];\n\n  /**\n   * @param target and `Element` that matches the selector\n   * @param config instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<CollapseOptions>) {\n    super(target, config);\n\n    // initialization element\n    const { element, options } = this;\n    const doc = getDocument(element);\n\n    // set triggering elements\n    this.triggers = [...querySelectorAll(collapseToggleSelector, doc)].filter(btn => getTargetElement(btn) === element);\n\n    // set parent accordion\n    this.parent = isHTMLElement(options.parent)\n      ? options.parent\n      : isString(options.parent)\n      ? getTargetElement(element) || querySelector(options.parent as string, doc)\n      : null;\n\n    // add event listeners\n    toggleCollapseHandler(this, true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return collapseComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return collapseDefaults;\n  }\n\n  // COLLAPSE PUBLIC METHODS\n  // =======================\n  /** Toggles the visibility of the collapse. */\n  toggle() {\n    if (!hasClass(this.element, showClass)) this.show();\n    else this.hide();\n  }\n\n  /** Hides the collapse. */\n  hide() {\n    const { triggers, element } = this;\n    if (!Timer.get(element)) {\n      collapseContent(this);\n      /* istanbul ignore else */\n      if (triggers.length) {\n        triggers.forEach(btn => addClass(btn, `${collapseString}d`));\n      }\n    }\n  }\n\n  /** Shows the collapse. */\n  show() {\n    const { element, parent, triggers } = this;\n    let activeCollapse;\n    let activeCollapseInstance;\n\n    if (parent) {\n      activeCollapse = [...querySelectorAll(`.${collapseString}.${showClass}`, parent)].find(i =>\n        getCollapseInstance(i),\n      );\n      activeCollapseInstance = activeCollapse && getCollapseInstance(activeCollapse);\n    }\n\n    if ((!parent || !Timer.get(parent)) && !Timer.get(element)) {\n      if (activeCollapseInstance && activeCollapse !== element) {\n        collapseContent(activeCollapseInstance);\n        activeCollapseInstance.triggers.forEach(btn => {\n          addClass(btn, `${collapseString}d`);\n        });\n      }\n\n      expandCollapse(this);\n      /* istanbul ignore else */\n      if (triggers.length) {\n        triggers.forEach(btn => removeClass(btn, `${collapseString}d`));\n      }\n    }\n  }\n\n  /** Remove the `Collapse` component from the target `Element`. */\n  dispose() {\n    toggleCollapseHandler(this);\n\n    super.dispose();\n  }\n}\n", "/**\n * Global namespace for `Dropdown` types / classes.\n */\nconst dropdownMenuClasses = ['dropdown', 'dropup', 'dropstart', 'dropend'];\nexport default dropdownMenuClasses;\n", "/** @type {string} */\nconst dropdownComponent = 'Dropdown';\nexport default dropdownComponent;\n", "/**\n * Global namespace for `.dropdown-menu`.\n */\nconst dropdownMenuClass = 'dropdown-menu';\nexport default dropdownMenuClass;\n", "import { hasAttribute, closest, getAttribute } from '@thednp/shorty';\n\n/**\n * Checks if an *event.target* or its parent has an `href=\"#\"` value.\n * We need to prevent jumping around onclick, don't we?\n *\n * @param element the target element\n * @returns the query result\n */\nconst isEmptyAnchor = (element: HTMLElement) => {\n  // `EventTarget` must be `HTMLElement`\n  const parentAnchor = closest(element, 'A');\n  return (\n    (element.tagName === 'A' &&\n      // anchor href starts with #\n      hasAttribute(element, 'href') &&\n      (getAttribute(element, 'href') as string).slice(-1) === '#') ||\n    // OR a child of an anchor with href starts with #\n    (parentAnchor &&\n      hasAttribute(parentAnchor, 'href') &&\n      (getAttribute(parentAnchor, 'href') as string).slice(-1) === '#')\n  );\n};\nexport default isEmptyAnchor;\n", "/* Native JavaScript for Bootstrap 5 | Dropdown\n----------------------------------------------- */\nimport {\n  ariaExpanded,\n  focusEvent,\n  keydownEvent,\n  setAttribute,\n  keyEscape,\n  keyArrowDown,\n  keyArrowUp,\n  mouseclickEvent,\n  resizeEvent,\n  scrollEvent,\n  keyupEvent,\n  dispatchEvent,\n  setElementStyle,\n  getInstance,\n  ObjectAssign,\n  passiveHandler,\n  getElementsByClassName,\n  closest,\n  getAttribute,\n  getDocument,\n  getBoundingClientRect,\n  getDocumentElement,\n  getElementStyle,\n  isRTL,\n  removeClass,\n  hasClass,\n  addClass,\n  createCustomEvent,\n  focus,\n  getWindow,\n  CSS4Declaration,\n  isHTMLElement,\n  mousedownEvent,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport showClass from '../strings/showClass';\nimport dataBsToggle from '../strings/dataBsToggle';\nimport dropdownClasses from '../strings/dropdownClasses';\nimport dropdownComponent from '../strings/dropdownComponent';\nimport dropdownMenuClass from '../strings/dropdownMenuClass';\n\nimport isEmptyAnchor from '../util/isEmptyAnchor';\nimport BaseComponent from './base-component';\nimport type { DropdownEvent, DropdownOptions } from '../interface/dropdown';\n\n// DROPDOWN PRIVATE GC\n// ===================\nconst [dropdownString, dropupString, dropstartString, dropendString] = dropdownClasses;\nconst dropdownSelector = `[${dataBsToggle}=\"${dropdownString}\"]`;\n\n/**\n * Static method which returns an existing `Dropdown` instance associated\n * to a target `Element`.\n */\nconst getDropdownInstance = (element: HTMLElement) => getInstance<Dropdown>(element, dropdownComponent);\n\n/**\n * A `Dropdown` initialization callback.\n */\nconst dropdownInitCallback = (element: HTMLElement) => new Dropdown(element);\n\n// DROPDOWN PRIVATE GC\n// ===================\n// const dropdownMenuStartClass = `${dropdownMenuClass}-start`;\nconst dropdownMenuEndClass = `${dropdownMenuClass}-end`;\nconst verticalClass = [dropdownString, dropupString];\nconst horizontalClass = [dropstartString, dropendString];\nconst menuFocusTags = ['A', 'BUTTON'];\n\nconst dropdownDefaults = {\n  offset: 5, // [number] 5(px)\n  display: 'dynamic', // [dynamic|static]\n};\n\n// DROPDOWN CUSTOM EVENTS\n// ======================\nconst showDropdownEvent = createCustomEvent<DropdownEvent>(`show.bs.${dropdownString}`);\nconst shownDropdownEvent = createCustomEvent<DropdownEvent>(`shown.bs.${dropdownString}`);\nconst hideDropdownEvent = createCustomEvent<DropdownEvent>(`hide.bs.${dropdownString}`);\nconst hiddenDropdownEvent = createCustomEvent<DropdownEvent>(`hidden.bs.${dropdownString}`);\nconst updatedDropdownEvent = createCustomEvent<DropdownEvent>(`updated.bs.${dropdownString}`);\n\n// DROPDOWN PRIVATE METHODS\n// ========================\n/**\n * Apply specific style or class names to a `.dropdown-menu` to automatically\n * accomodate the layout and the page scroll.\n *\n * @param self the `Dropdown` instance\n */\nconst styleDropdown = (self: Dropdown) => {\n  const { element, menu, parentElement, options } = self;\n  const { offset } = options;\n\n  // don't apply any style on mobile view\n  /* istanbul ignore else: this test requires a navbar */\n  if (getElementStyle(menu, 'position') !== 'static') {\n    const RTL = isRTL(element);\n    // const menuStart = hasClass(menu, dropdownMenuStartClass);\n    const menuEnd = hasClass(menu, dropdownMenuEndClass);\n\n    // reset menu offset and position\n    const resetProps = ['margin', 'top', 'bottom', 'left', 'right'];\n    resetProps.forEach(p => {\n      // menu.style[p] = '';\n      const style: { [key: string]: string } = {};\n      style[p] = '';\n      setElementStyle(menu, style);\n    });\n\n    // set initial position class\n    // take into account .btn-group parent as .dropdown\n    // this requires navbar/btn-group/input-group\n    let positionClass =\n      dropdownClasses.find(c => hasClass(parentElement, c)) ||\n      /* istanbul ignore next: fallback position */ dropdownString;\n\n    const dropdownMargin: { [key: string]: number[] } = {\n      dropdown: [offset, 0, 0],\n      dropup: [0, 0, offset],\n      dropstart: RTL ? [-1, 0, 0, offset] : [-1, offset, 0],\n      dropend: RTL ? [-1, offset, 0] : [-1, 0, 0, offset],\n    };\n\n    const dropdownPosition: { [key: string]: Partial<CSS4Declaration> } = {\n      dropdown: { top: '100%' },\n      dropup: { top: 'auto', bottom: '100%' },\n      dropstart: RTL ? { left: '100%', right: 'auto' } : { left: 'auto', right: '100%' },\n      dropend: RTL ? { left: 'auto', right: '100%' } : { left: '100%', right: 'auto' },\n      menuStart: RTL ? { right: '0', left: 'auto' } : { right: 'auto', left: '0' },\n      menuEnd: RTL ? { right: 'auto', left: '0' } : { right: '0', left: 'auto' },\n    };\n\n    const { offsetWidth: menuWidth, offsetHeight: menuHeight } = menu;\n\n    const { clientWidth, clientHeight } = getDocumentElement(element);\n    const {\n      left: targetLeft,\n      top: targetTop,\n      width: targetWidth,\n      height: targetHeight,\n    } = getBoundingClientRect(element);\n\n    // dropstart | dropend\n    const leftFullExceed = targetLeft - menuWidth - offset < 0;\n    // dropend\n    const rightFullExceed = targetLeft + menuWidth + targetWidth + offset >= clientWidth;\n    // dropstart | dropend\n    const bottomExceed = targetTop + menuHeight + offset >= clientHeight;\n    // dropdown\n    const bottomFullExceed = targetTop + menuHeight + targetHeight + offset >= clientHeight;\n    // dropup\n    const topExceed = targetTop - menuHeight - offset < 0;\n    // dropdown / dropup\n    const leftExceed = ((!RTL && menuEnd) || (RTL && !menuEnd)) && targetLeft + targetWidth - menuWidth < 0;\n    const rightExceed = ((RTL && menuEnd) || (!RTL && !menuEnd)) && targetLeft + menuWidth >= clientWidth;\n\n    // recompute position\n    // handle RTL as well\n    if (horizontalClass.includes(positionClass) && leftFullExceed && rightFullExceed) {\n      positionClass = dropdownString;\n    }\n    if (positionClass === dropstartString && (!RTL ? leftFullExceed : rightFullExceed)) {\n      positionClass = dropendString;\n    }\n    if (positionClass === dropendString && (RTL ? leftFullExceed : rightFullExceed)) {\n      positionClass = dropstartString;\n    }\n    if (positionClass === dropupString && topExceed && !bottomFullExceed) {\n      positionClass = dropdownString;\n    }\n    if (positionClass === dropdownString && bottomFullExceed && !topExceed) {\n      positionClass = dropupString;\n    }\n\n    // override position for horizontal classes\n    if (horizontalClass.includes(positionClass) && bottomExceed) {\n      ObjectAssign(dropdownPosition[positionClass], {\n        top: 'auto',\n        bottom: 0,\n      });\n    }\n\n    // override position for vertical classes\n    if (verticalClass.includes(positionClass) && (leftExceed || rightExceed)) {\n      // don't realign when menu is wider than window\n      // in both RTL and non-RTL readability is KING\n      let posAjust: { left: 'auto' | number; right: 'auto' | number } | undefined = { left: 'auto', right: 'auto' };\n      if (!leftExceed && rightExceed && !RTL) posAjust = { left: 'auto', right: 0 };\n      if (leftExceed && !rightExceed && RTL) posAjust = { left: 0, right: 'auto' };\n      if (posAjust) ObjectAssign(dropdownPosition[positionClass], posAjust);\n    }\n\n    const margins: number[] = dropdownMargin[positionClass];\n    setElementStyle(menu, {\n      ...dropdownPosition[positionClass],\n      margin: `${margins.map(x => (x ? `${x}px` : x)).join(' ')}`,\n    });\n\n    // override dropdown-menu-start | dropdown-menu-end\n    if (verticalClass.includes(positionClass) && menuEnd) {\n      /* istanbul ignore else */\n      if (menuEnd) {\n        const endAdjust =\n          (!RTL && leftExceed) || (RTL && rightExceed) ? 'menuStart' : /* istanbul ignore next */ 'menuEnd';\n        setElementStyle(menu, dropdownPosition[endAdjust]);\n      }\n    }\n    // trigger updated event\n    dispatchEvent(parentElement, updatedDropdownEvent);\n  }\n};\n\n/**\n * Returns an `Array` of focusable items in the given dropdown-menu.\n *\n * @param menu the target menu\n * @returns all children of the dropdown menu\n */\nconst getMenuItems = (menu: HTMLElement) => {\n  return [...menu.children]\n    .map(c => {\n      if (c && menuFocusTags.includes(c.tagName)) return c;\n      const { firstElementChild } = c;\n      if (firstElementChild && menuFocusTags.includes(firstElementChild.tagName)) {\n        return firstElementChild;\n      }\n      return null;\n    })\n    .filter(c => c);\n};\n\n/**\n * Toggles on/off the listeners for the events that close the dropdown\n * as well as event that request a new position for the dropdown.\n *\n * @param {Dropdown} self the `Dropdown` instance\n */\nconst toggleDropdownDismiss = (self: Dropdown) => {\n  const { element, options } = self;\n  const action = self.open ? addListener : removeListener;\n  const doc = getDocument(element);\n\n  action(doc, mouseclickEvent, dropdownDismissHandler as EventListener);\n  action(doc, focusEvent, dropdownDismissHandler as EventListener);\n  action(doc, keydownEvent, dropdownPreventScroll as EventListener);\n  action(doc, keyupEvent, dropdownKeyHandler as EventListener);\n\n  /* istanbul ignore else */\n  if (options.display === 'dynamic') {\n    [scrollEvent, resizeEvent].forEach(ev => {\n      action(getWindow(element), ev, dropdownLayoutHandler, passiveHandler);\n    });\n  }\n};\n\n/**\n * Toggles on/off the `click` event listener of the `Dropdown`.\n *\n * @param self the `Dropdown` instance\n * @param add when `true`, it will add the event listener\n */\nconst toggleDropdownHandler = (self: Dropdown, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  action(self.element, mouseclickEvent, dropdownClickHandler as EventListener);\n};\n\n/**\n * Returns the currently open `.dropdown` element.\n *\n * @param element target\n * @returns the query result\n */\nconst getCurrentOpenDropdown = (element: HTMLElement): HTMLElement | undefined => {\n  const currentParent = [...dropdownClasses, 'btn-group', 'input-group']\n    .map(c => getElementsByClassName(`${c} ${showClass}`, getDocument(element)))\n    .find(x => x.length);\n\n  if (currentParent && currentParent.length) {\n    return [...(currentParent[0].children as HTMLCollectionOf<HTMLElement>)].find(x =>\n      dropdownClasses.some(c => c === getAttribute(x, dataBsToggle)),\n    );\n  }\n  return undefined;\n};\n\n// DROPDOWN EVENT HANDLERS\n// =======================\n/**\n * Handles the `click` event for the `Dropdown` instance.\n *\n * @param e event object\n */\nconst dropdownDismissHandler = (e: MouseEvent) => {\n  const { target, type } = e;\n\n  /* istanbul ignore else */\n  if (target && isHTMLElement(target)) {\n    // some weird FF bug #409\n    const element = getCurrentOpenDropdown(target);\n    const self = element && getDropdownInstance(element);\n\n    /* istanbul ignore else */\n    if (self) {\n      const { parentElement, menu } = self;\n\n      const isForm =\n        parentElement &&\n        parentElement.contains(target) &&\n        (target.tagName === 'form' || closest(target, 'form') !== null);\n\n      if ([mouseclickEvent, mousedownEvent].includes(type) && isEmptyAnchor(target)) {\n        e.preventDefault();\n      }\n\n      /* istanbul ignore else */\n      if (!isForm && type !== focusEvent && target !== element && target !== menu) {\n        self.hide();\n      }\n    }\n  }\n};\n\n/**\n * Handles `click` event listener for `Dropdown`.\n *\n * @param e event object\n */\nconst dropdownClickHandler = (e: MouseEvent) => {\n  const { target } = e;\n  const element = target && closest(target as HTMLElement, dropdownSelector);\n  const self = element && getDropdownInstance(element);\n\n  /* istanbul ignore else */\n  if (self) {\n    e.stopPropagation();\n    self.toggle();\n    /* istanbul ignore else */\n    if (element && isEmptyAnchor(element)) e.preventDefault();\n  }\n};\n\n/**\n * Prevents scroll when dropdown-menu is visible.\n *\n * @param e event object\n */\nconst dropdownPreventScroll = (e: KeyboardEvent) => {\n  /* istanbul ignore else */\n  if ([keyArrowDown, keyArrowUp].includes(e.code)) e.preventDefault();\n};\n\n/**\n * Handles keyboard `keydown` events for `Dropdown`.\n *\n * @param e keyboard key\n */\nfunction dropdownKeyHandler(this: HTMLElement, e: KeyboardEvent) {\n  const { code } = e;\n  const element = getCurrentOpenDropdown(this);\n  const self = element && getDropdownInstance(element);\n  const { activeElement } = (element && getDocument(element)) as Document;\n\n  /* istanbul ignore else */\n  if (self && activeElement) {\n    const { menu, open } = self;\n    const menuItems = getMenuItems(menu);\n\n    // arrow up & down\n    if (menuItems && menuItems.length && [keyArrowDown, keyArrowUp].includes(code)) {\n      let idx = menuItems.indexOf(activeElement);\n      /* istanbul ignore else */\n      if (activeElement === element) {\n        idx = 0;\n      } else if (code === keyArrowUp) {\n        idx = idx > 1 ? idx - 1 : 0;\n      } else if (code === keyArrowDown) {\n        idx = idx < menuItems.length - 1 ? idx + 1 : idx;\n      }\n      /* istanbul ignore else */\n      if (menuItems[idx]) focus(menuItems[idx] as HTMLElement);\n    }\n\n    if (keyEscape === code && open) {\n      self.toggle();\n      focus(element);\n    }\n  }\n}\n\n/** Handles dropdown layout changes during resize / scroll. */\nfunction dropdownLayoutHandler(this: HTMLElement) {\n  const element = getCurrentOpenDropdown(this);\n  const self = element && getDropdownInstance(element);\n\n  /* istanbul ignore else */\n  if (self && self.open) styleDropdown(self);\n}\n\n// DROPDOWN DEFINITION\n// ===================\n/** Returns a new Dropdown instance. */\nexport default class Dropdown extends BaseComponent {\n  static selector = dropdownSelector;\n  static init = dropdownInitCallback;\n  static getInstance = getDropdownInstance;\n  declare options: DropdownOptions;\n  declare open: boolean;\n  declare parentElement: HTMLElement;\n  declare menu: HTMLElement;\n\n  /**\n   * @param target Element or string selector\n   * @param config the instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<DropdownOptions>) {\n    super(target, config);\n\n    // initialization element\n    const { parentElement } = this.element;\n    const [menu] = getElementsByClassName(dropdownMenuClass, parentElement as ParentNode);\n\n    // invalidate when dropdown-menu is missing\n    if (menu) {\n      // set targets\n      this.parentElement = parentElement as HTMLElement;\n      this.menu = menu;\n\n      // add event listener\n      toggleDropdownHandler(this, true);\n    }\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return dropdownComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return dropdownDefaults;\n  }\n\n  // DROPDOWN PUBLIC METHODS\n  // =======================\n  /** Shows/hides the dropdown menu to the user. */\n  toggle() {\n    if (this.open) this.hide();\n    else this.show();\n  }\n\n  /** Shows the dropdown menu to the user. */\n  show() {\n    const { element, open, menu, parentElement } = this;\n\n    /* istanbul ignore else */\n    if (!open) {\n      const currentElement = getCurrentOpenDropdown(element);\n      const currentInstance = currentElement && getDropdownInstance(currentElement);\n      if (currentInstance) currentInstance.hide();\n\n      // dispatch event\n      [showDropdownEvent, shownDropdownEvent, updatedDropdownEvent].forEach(e => {\n        e.relatedTarget = element;\n      });\n\n      dispatchEvent(parentElement, showDropdownEvent);\n      if (!showDropdownEvent.defaultPrevented) {\n        addClass(menu, showClass);\n        addClass(parentElement, showClass);\n        setAttribute(element, ariaExpanded, 'true');\n\n        // change menu position\n        styleDropdown(this);\n\n        this.open = !open;\n\n        focus(element); // focus the element\n        toggleDropdownDismiss(this);\n        dispatchEvent(parentElement, shownDropdownEvent);\n      }\n    }\n  }\n\n  /** Hides the dropdown menu from the user. */\n  hide() {\n    const { element, open, menu, parentElement } = this;\n\n    /* istanbul ignore else */\n    if (open) {\n      [hideDropdownEvent, hiddenDropdownEvent].forEach(e => {\n        e.relatedTarget = element;\n      });\n\n      dispatchEvent(parentElement, hideDropdownEvent);\n      if (!hideDropdownEvent.defaultPrevented) {\n        removeClass(menu, showClass);\n        removeClass(parentElement, showClass);\n        setAttribute(element, ariaExpanded, 'false');\n\n        this.open = !open;\n        // only re-attach handler if the instance is not disposed\n        toggleDropdownDismiss(this);\n        dispatchEvent(parentElement, hiddenDropdownEvent);\n      }\n    }\n  }\n\n  /** Removes the `Dropdown` component from the target element. */\n  dispose() {\n    if (this.open) this.hide();\n\n    toggleDropdownHandler(this);\n    super.dispose();\n  }\n}\n", "/** @type {string} */\nconst modalString = 'modal';\nexport default modalString;\n", "/** @type {string} */\nconst modalComponent = 'Modal';\nexport default modalComponent;\n", "/** @type {string} */\nconst offcanvasComponent = 'Offcanvas';\nexport default offcanvasComponent;\n", "/**\n * Global namespace for components `fixed-top` class.\n */\nconst fixedTopClass = 'fixed-top';\nexport default fixedTopClass;\n", "/**\n * Global namespace for components `fixed-bottom` class.\n */\nconst fixedBottomClass = 'fixed-bottom';\nexport default fixedBottomClass;\n", "/**\n * Global namespace for components `sticky-top` class.\n */\nconst stickyTopClass = 'sticky-top';\nexport default stickyTopClass;\n", "/**\n * Global namespace for components `position-sticky` class.\n */\nconst positionStickyClass = 'position-sticky';\nexport default positionStickyClass;\n", "import {\n  getWindow,\n  getDocumentElement,\n  getElementStyle,\n  getDocumentBody,\n  hasClass,\n  setElementStyle,\n  getElementsByClassName,\n} from '@thednp/shorty';\n\nimport fixedTopClass from '../strings/fixedTopClass';\nimport fixedBottomClass from '../strings/fixedBottomClass';\nimport stickyTopClass from '../strings/stickyTopClass';\nimport positionStickyClass from '../strings/positionStickyClass';\n\nconst getFixedItems = (parent?: ParentNode) => [\n  ...getElementsByClassName(fixedTopClass, parent),\n  ...getElementsByClassName(fixedBottomClass, parent),\n  ...getElementsByClassName(stickyTopClass, parent),\n  ...getElementsByClassName(positionStickyClass, parent),\n  ...getElementsByClassName('is-fixed', parent),\n];\n\n/**\n * Removes *padding* and *overflow* from the `<body>`\n * and all spacing from fixed items.\n *\n * @param element the target modal/offcanvas\n */\nexport const resetScrollbar = (element?: HTMLElement) => {\n  const bd = getDocumentBody(element);\n  setElementStyle(bd, {\n    paddingRight: '',\n    overflow: '',\n  });\n\n  const fixedItems = getFixedItems(bd);\n\n  if (fixedItems.length) {\n    fixedItems.forEach(fixed => {\n      setElementStyle(fixed, {\n        paddingRight: '',\n        marginRight: '',\n      });\n    });\n  }\n};\n\n/**\n * Returns the scrollbar width if the body does overflow\n * the window.\n *\n * @param element target element\n * @returns the scrollbar width value\n */\nexport const measureScrollbar = (element: HTMLElement) => {\n  const { clientWidth } = getDocumentElement(element);\n  const { innerWidth } = getWindow(element);\n  return Math.abs(innerWidth - clientWidth);\n};\n\n/**\n * Sets the `<body>` and fixed items style when modal / offcanvas\n * is shown to the user.\n *\n * @param element the target modal/offcanvas\n * @param overflow body does overflow or not\n */\nexport const setScrollbar = (element: HTMLElement, overflow?: boolean) => {\n  const bd = getDocumentBody(element);\n  const bodyPad = parseInt(getElementStyle(bd, 'paddingRight'), 10);\n  const isOpen = getElementStyle(bd, 'overflow') === 'hidden';\n  const sbWidth = isOpen && bodyPad ? 0 : measureScrollbar(element);\n  const fixedItems = getFixedItems(bd);\n\n  /* istanbul ignore else */\n  if (overflow) {\n    setElementStyle(bd, {\n      overflow: 'hidden',\n      paddingRight: `${bodyPad + sbWidth}px`,\n    });\n\n    /* istanbul ignore else */\n    if (fixedItems.length) {\n      fixedItems.forEach(fixed => {\n        const itemPadValue = getElementStyle(fixed, 'paddingRight');\n        fixed.style.paddingRight = `${parseInt(itemPadValue, 10) + sbWidth}px`;\n        /* istanbul ignore else */\n        if ([stickyTopClass, positionStickyClass].some(c => hasClass(fixed, c))) {\n          const itemMValue = getElementStyle(fixed, 'marginRight');\n          fixed.style.marginRight = `${parseInt(itemMValue, 10) - sbWidth}px`;\n        }\n      });\n    }\n  }\n};\n", "/** @type {string} */\nconst offcanvasString = 'offcanvas';\nexport default offcanvasString;\n", "import { getDocumentBody, isNode, createElement } from '@thednp/shorty';\n\n// the default container for Modal, Offcanvas, Popover and Tooltip\nconst popupContainer = createElement({ tagName: 'div', className: 'popup-container' }) as HTMLElement;\n\nconst appendPopup = (target: HTMLElement, customContainer?: ParentNode) => {\n  const containerIsBody = isNode(customContainer) && customContainer.nodeName === 'BODY';\n  const lookup = isNode(customContainer) && !containerIsBody ? customContainer : popupContainer;\n  const BODY = containerIsBody ? customContainer : getDocumentBody(target);\n\n  if (isNode(target)) {\n    if (lookup === popupContainer) {\n      BODY.append(popupContainer);\n    }\n    lookup.append(target);\n  }\n};\n\nconst removePopup = (target: HTMLElement, customContainer?: ParentNode) => {\n  const containerIsBody = isNode(customContainer) && customContainer.nodeName === 'BODY';\n  const lookup = isNode(customContainer) && !containerIsBody ? customContainer : popupContainer;\n\n  if (isNode(target)) {\n    target.remove();\n\n    if (lookup === popupContainer && !popupContainer.children.length) {\n      popupContainer.remove();\n    }\n  }\n};\n\nconst hasPopup = (target: HTMLElement, customContainer?: ParentNode) => {\n  const lookup = isNode(customContainer) && customContainer.nodeName !== 'BODY' ? customContainer : popupContainer;\n  return isNode(target) && lookup.contains(target);\n};\n\nexport { popupContainer, appendPopup, removePopup, hasPopup };\n", "import {\n  createElement,\n  getDocument,\n  reflow,\n  removeClass,\n  hasClass,\n  addClass,\n  querySelector,\n  getDocumentBody,\n} from '@thednp/shorty';\n\nimport fadeClass from '../strings/fadeClass';\nimport showClass from '../strings/showClass';\nimport modalString from '../strings/modalString';\nimport offcanvasString from '../strings/offcanvasString';\nimport { resetScrollbar } from './scrollbar';\nimport { appendPopup, removePopup } from './popupContainer';\n\nconst backdropString = 'backdrop';\nconst modalBackdropClass = `${modalString}-${backdropString}`;\nconst offcanvasBackdropClass = `${offcanvasString}-${backdropString}`;\nconst modalActiveSelector = `.${modalString}.${showClass}`;\nconst offcanvasActiveSelector = `.${offcanvasString}.${showClass}`;\n\n// any document would suffice\nconst overlay = createElement('div') as HTMLElement;\n\n/**\n * Returns the current active modal / offcancas element.\n *\n * @param element the context element\n * @returns the requested element\n */\nconst getCurrentOpen = (element?: HTMLElement): HTMLElement | null => {\n  return querySelector(`${modalActiveSelector},${offcanvasActiveSelector}`, getDocument(element));\n};\n\n/**\n * Toogles from a Modal overlay to an Offcanvas, or vice-versa.\n *\n * @param isModal\n */\nconst toggleOverlayType = (isModal?: boolean) => {\n  const targetClass = isModal ? modalBackdropClass : offcanvasBackdropClass;\n  [modalBackdropClass, offcanvasBackdropClass].forEach(c => {\n    removeClass(overlay, c);\n  });\n  addClass(overlay, targetClass);\n};\n\n/**\n * Append the overlay to DOM.\n *\n * @param element\n * @param hasFade\n * @param isModal\n */\nconst appendOverlay = (element: HTMLElement, hasFade: boolean, isModal?: boolean) => {\n  toggleOverlayType(isModal);\n  appendPopup(overlay, getDocumentBody(element));\n  if (hasFade) addClass(overlay, fadeClass);\n};\n\n/**\n * Shows the overlay to the user.\n */\nconst showOverlay = () => {\n  if (!hasClass(overlay, showClass)) {\n    addClass(overlay, showClass);\n    reflow(overlay);\n  }\n};\n\n/**\n * Hides the overlay from the user.\n */\nconst hideOverlay = () => {\n  removeClass(overlay, showClass);\n};\n\n/**\n * Removes the overlay from DOM.\n *\n * @param element\n */\nconst removeOverlay = (element?: HTMLElement): void => {\n  if (!getCurrentOpen(element)) {\n    removeClass(overlay, fadeClass);\n    removePopup(overlay, getDocumentBody(element));\n    resetScrollbar(element);\n  }\n};\n\nexport {\n  overlay,\n  offcanvasBackdropClass,\n  modalBackdropClass,\n  modalActiveSelector,\n  offcanvasActiveSelector,\n  toggleOverlayType,\n  appendOverlay,\n  showOverlay,\n  hideOverlay,\n  getCurrentOpen,\n  removeOverlay,\n};\n", "import { isHTMLElement, getElementStyle } from '@thednp/shorty';\n\n/**\n * @param element target\n * @returns the check result\n */\nconst isVisible = (element: HTMLElement) => {\n  return isHTMLElement(element) && getElementStyle(element, 'visibility') !== 'hidden' && element.offsetParent !== null;\n};\nexport default isVisible;\n", "/* Native JavaScript for Bootstrap 5 | Modal\n-------------------------------------------- */\nimport {\n  keyEscape,\n  getElementTransitionDuration,\n  removeAttribute,\n  setAttribute,\n  keydownEvent,\n  mouseclickEvent,\n  resizeEvent,\n  ariaModal,\n  ariaHidden,\n  getInstance,\n  isRTL,\n  removeClass,\n  hasClass,\n  addClass,\n  closest,\n  querySelectorAll,\n  querySelector,\n  getDocumentElement,\n  getDocumentBody,\n  getDocument,\n  getWindow,\n  CSS4Declaration,\n  setElementStyle,\n  createCustomEvent,\n  emulateTransitionEnd,\n  passiveHandler,\n  dispatchEvent,\n  focus,\n  Timer,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport dataBsToggle from '../strings/dataBsToggle';\nimport dataBsDismiss from '../strings/dataBsDismiss';\nimport fadeClass from '../strings/fadeClass';\nimport showClass from '../strings/showClass';\nimport modalString from '../strings/modalString';\nimport modalComponent from '../strings/modalComponent';\nimport offcanvasComponent from '../strings/offcanvasComponent';\n\nimport getTargetElement from '../util/getTargetElement';\nimport { setScrollbar, measureScrollbar } from '../util/scrollbar';\nimport {\n  overlay,\n  modalActiveSelector,\n  toggleOverlayType,\n  appendOverlay,\n  showOverlay,\n  hideOverlay,\n  getCurrentOpen,\n  removeOverlay,\n} from '../util/backdrop';\nimport isVisible from '../util/isVisible';\nimport BaseComponent from './base-component';\nimport { ModalOptions, ModalEvent } from '../interface/modal';\nimport { hasPopup } from '../util/popupContainer';\n\n// MODAL PRIVATE GC\n// ================\nconst modalSelector = `.${modalString}`;\nconst modalToggleSelector = `[${dataBsToggle}=\"${modalString}\"]`;\nconst modalDismissSelector = `[${dataBsDismiss}=\"${modalString}\"]`;\nconst modalStaticClass = `${modalString}-static`;\n\nconst modalDefaults = {\n  backdrop: true,\n  keyboard: true,\n};\n\n/**\n * Static method which returns an existing `Modal` instance associated\n * to a target `Element`.\n */\nconst getModalInstance = (element: HTMLElement) => getInstance<Modal>(element, modalComponent);\n\n/**\n * A `Modal` initialization callback.\n */\nconst modalInitCallback = (element: HTMLElement) => new Modal(element);\n\n// MODAL CUSTOM EVENTS\n// ===================\nconst showModalEvent = createCustomEvent<ModalEvent>(`show.bs.${modalString}`);\nconst shownModalEvent = createCustomEvent<ModalEvent>(`shown.bs.${modalString}`);\nconst hideModalEvent = createCustomEvent<ModalEvent>(`hide.bs.${modalString}`);\nconst hiddenModalEvent = createCustomEvent<ModalEvent>(`hidden.bs.${modalString}`);\n\n// MODAL PRIVATE METHODS\n// =====================\n/**\n * Applies special style for the `<body>` and fixed elements\n * when a modal instance is shown to the user.\n *\n * @param self the `Modal` instance\n */\nconst setModalScrollbar = (self: Modal) => {\n  const { element } = self;\n  const scrollbarWidth = measureScrollbar(element);\n  const { clientHeight, scrollHeight } = getDocumentElement(element);\n  const { clientHeight: modalHeight, scrollHeight: modalScrollHeight } = element;\n  const modalOverflow = modalHeight !== modalScrollHeight;\n\n  /* istanbul ignore else */\n  if (!modalOverflow && scrollbarWidth) {\n    const pad = !isRTL(element) ? 'paddingRight' : /* istanbul ignore next */ 'paddingLeft';\n    const padStyle = {} as Partial<CSS4Declaration>;\n    padStyle[pad] = `${scrollbarWidth}px`;\n    setElementStyle(element, padStyle);\n  }\n  setScrollbar(element, modalOverflow || clientHeight !== scrollHeight);\n};\n\n/**\n * Toggles on/off the listeners of events that close the modal.\n *\n * @param self the `Modal` instance\n * @param add when `true`, event listeners are added\n */\nconst toggleModalDismiss = (self: Modal, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { element, update } = self;\n  action(element, mouseclickEvent, modalDismissHandler as EventListener);\n  action(getWindow(element), resizeEvent, update, passiveHandler);\n  action(getDocument(element), keydownEvent, modalKeyHandler as EventListener);\n};\n\n/**\n * Toggles on/off the `click` event listener of the `Modal` instance.\n *\n * @param self the `Modal` instance\n * @param add when `true`, event listener is added\n */\nconst toggleModalHandler = (self: Modal, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { triggers } = self;\n\n  /* istanbul ignore else */\n  if (triggers.length) {\n    triggers.forEach(btn => action(btn, mouseclickEvent, modalClickHandler as EventListener));\n  }\n};\n\n/**\n * Executes after a modal is hidden to the user.\n *\n * @param self the `Modal` instance\n */\nconst afterModalHide = (self: Modal) => {\n  const { triggers, element, relatedTarget } = self;\n  removeOverlay(element);\n  setElementStyle(element, { paddingRight: '', display: '' });\n  toggleModalDismiss(self);\n\n  const focusElement = showModalEvent.relatedTarget || triggers.find(isVisible);\n  /* istanbul ignore else */\n  if (focusElement) focus(focusElement as HTMLElement);\n\n  hiddenModalEvent.relatedTarget = relatedTarget as HTMLElement | undefined;\n  dispatchEvent(element, hiddenModalEvent);\n};\n\n/**\n * Executes after a modal is shown to the user.\n *\n * @param self the `Modal` instance\n */\nconst afterModalShow = (self: Modal) => {\n  const { element, relatedTarget } = self;\n  focus(element);\n  toggleModalDismiss(self, true);\n\n  shownModalEvent.relatedTarget = relatedTarget as HTMLElement | undefined;\n  dispatchEvent(element, shownModalEvent);\n};\n\n/**\n * Executes before a modal is shown to the user.\n *\n * @param self the `Modal` instance\n */\nconst beforeModalShow = (self: Modal) => {\n  const { element, hasFade } = self;\n  setElementStyle(element, { display: 'block' });\n\n  setModalScrollbar(self);\n  /* istanbul ignore else */\n  if (!getCurrentOpen(element)) {\n    setElementStyle(getDocumentBody(element), { overflow: 'hidden' });\n  }\n\n  addClass(element, showClass);\n  removeAttribute(element, ariaHidden);\n  setAttribute(element, ariaModal, 'true');\n\n  if (hasFade) emulateTransitionEnd(element, () => afterModalShow(self));\n  else afterModalShow(self);\n};\n\n/**\n * Executes before a modal is hidden to the user.\n *\n * @param self the `Modal` instance\n */\nconst beforeModalHide = (self: Modal) => {\n  const { element, options, hasFade } = self;\n\n  // callback can also be the transitionEvent object, we wanna make sure it's not\n  // call is not forced and overlay is visible\n  if (options.backdrop && hasFade && hasClass(overlay, showClass) && !getCurrentOpen(element)) {\n    // AND no modal is visible\n    hideOverlay();\n    emulateTransitionEnd(overlay, () => afterModalHide(self));\n  } else {\n    afterModalHide(self);\n  }\n};\n\n// MODAL EVENT HANDLERS\n// ====================\n/**\n * Handles the `click` event listener for modal.\n *\n * @param e the `Event` object\n */\nconst modalClickHandler = (e: MouseEvent) => {\n  const { target } = e;\n\n  const trigger = target && closest(target as HTMLElement, modalToggleSelector);\n  const element = trigger && getTargetElement(trigger);\n  const self = element && getModalInstance(element);\n\n  /* istanbul ignore else */\n  if (self) {\n    /* istanbul ignore else */\n    if (trigger && trigger.tagName === 'A') e.preventDefault();\n    self.relatedTarget = trigger;\n    self.toggle();\n  }\n};\n\n/**\n * Handles the `keydown` event listener for modal\n * to hide the modal when user type the `ESC` key.\n *\n * @param e the `Event` object\n */\nconst modalKeyHandler = ({ code, target }: KeyboardEvent) => {\n  const element = querySelector(modalActiveSelector, getDocument(target as Node));\n  const self = element && getModalInstance(element);\n\n  /* istanbul ignore else */\n  if (self) {\n    const { options } = self;\n    /* istanbul ignore else */\n    if (\n      options.keyboard &&\n      code === keyEscape && // the keyboard option is enabled and the key is 27\n      hasClass(element, showClass)\n    ) {\n      // the modal is not visible\n      self.relatedTarget = null;\n      self.hide();\n    }\n  }\n};\n\n/**\n * Handles the `click` event listeners that hide the modal.\n *\n * @param e the `Event` object\n */\nfunction modalDismissHandler(this: HTMLElement, e: MouseEvent) {\n  const self = getModalInstance(this);\n\n  // this timer is needed\n  /* istanbul ignore else: must have a filter */\n  if (self && !Timer.get(this)) {\n    const { options, isStatic, modalDialog } = self;\n    const { backdrop } = options;\n    const { target } = e;\n\n    const selectedText = getDocument(this)?.getSelection()?.toString().length;\n    const targetInsideDialog = modalDialog.contains(target as HTMLElement);\n    const dismiss = target && closest(target as HTMLElement, modalDismissSelector);\n\n    /* istanbul ignore else */\n    if (isStatic && !targetInsideDialog) {\n      Timer.set(\n        this,\n        () => {\n          addClass(this, modalStaticClass);\n          emulateTransitionEnd(modalDialog, () => staticTransitionEnd(self));\n        },\n        17,\n      );\n    } else if (dismiss || (!selectedText && !isStatic && !targetInsideDialog && backdrop)) {\n      self.relatedTarget = dismiss || null;\n      self.hide();\n      e.preventDefault();\n    }\n  }\n}\n\n/**\n * Handles the `transitionend` event listeners for `Modal`.\n *\n * @param self the `Modal` instance\n */\nconst staticTransitionEnd = (self: Modal) => {\n  const { element, modalDialog } = self;\n  const duration = (getElementTransitionDuration(modalDialog) || 0) + 17;\n  removeClass(element, modalStaticClass);\n  // user must wait for zoom out transition\n  Timer.set(element, () => Timer.clear(element), duration);\n};\n\n// MODAL DEFINITION\n// ================\n/** Returns a new `Modal` instance. */\nexport default class Modal extends BaseComponent {\n  static selector = modalSelector;\n  static init = modalInitCallback;\n  static getInstance = getModalInstance;\n  declare options: ModalOptions;\n  declare modalDialog: HTMLElement;\n  declare triggers: HTMLElement[];\n  declare isStatic: boolean;\n  declare hasFade: boolean;\n  declare relatedTarget: HTMLElement | null;\n\n  /**\n   * @param target usually the `.modal` element\n   * @param config instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<ModalOptions>) {\n    super(target, config);\n\n    // the modal\n    const { element } = this;\n\n    // the modal-dialog\n    const modalDialog = querySelector(`.${modalString}-dialog`, element);\n\n    /* istanbul ignore else */\n    if (modalDialog) {\n      this.modalDialog = modalDialog;\n      // modal can have multiple triggering elements\n      this.triggers = [...querySelectorAll(modalToggleSelector, getDocument(element))].filter(\n        btn => getTargetElement(btn) === element,\n      );\n\n      // additional internals\n      this.isStatic = this.options.backdrop === 'static';\n      this.hasFade = hasClass(element, fadeClass);\n      this.relatedTarget = null;\n\n      // attach event listeners\n      toggleModalHandler(this, true);\n    }\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return modalComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return modalDefaults;\n  }\n\n  // MODAL PUBLIC METHODS\n  // ====================\n  /** Toggles the visibility of the modal. */\n  toggle() {\n    if (hasClass(this.element, showClass)) this.hide();\n    else this.show();\n  }\n\n  /** Shows the modal to the user. */\n  show() {\n    const { element, options, hasFade, relatedTarget } = this;\n    const { backdrop } = options;\n    let overlayDelay = 0;\n\n    if (!hasClass(element, showClass)) {\n      showModalEvent.relatedTarget = relatedTarget || undefined;\n      dispatchEvent(element, showModalEvent);\n      if (!showModalEvent.defaultPrevented) {\n        // we elegantly hide any opened modal/offcanvas\n        const currentOpen = getCurrentOpen(element);\n\n        if (currentOpen && currentOpen !== element) {\n          const that =\n            getModalInstance(currentOpen) ||\n            /* istanbul ignore next */\n            getInstance<typeof BaseComponent & { hide: () => void }>(currentOpen, offcanvasComponent);\n          if (that) that.hide();\n        }\n        if (backdrop) {\n          if (!hasPopup(overlay)) {\n            appendOverlay(element, hasFade, true);\n          } else {\n            toggleOverlayType(true);\n          }\n\n          overlayDelay = getElementTransitionDuration(overlay);\n          showOverlay();\n          setTimeout(() => beforeModalShow(this), overlayDelay);\n        } else {\n          beforeModalShow(this);\n          /* istanbul ignore else */\n          if (currentOpen && hasClass(overlay, showClass)) {\n            hideOverlay();\n          }\n        }\n      }\n    }\n  }\n\n  /** Hide the modal from the user. */\n  hide() {\n    const { element, hasFade, relatedTarget } = this;\n\n    if (hasClass(element, showClass)) {\n      hideModalEvent.relatedTarget = relatedTarget || undefined;\n      dispatchEvent(element, hideModalEvent);\n\n      if (!hideModalEvent.defaultPrevented) {\n        removeClass(element, showClass);\n        setAttribute(element, ariaHidden, 'true');\n        removeAttribute(element, ariaModal);\n\n        /* istanbul ignore else */\n        if (hasFade) {\n          emulateTransitionEnd(element, () => beforeModalHide(this));\n        } else {\n          beforeModalHide(this);\n        }\n      }\n    }\n  }\n\n  /**\n   * Updates the modal layout.\n   */\n  update = () => {\n    /* istanbul ignore else */\n    if (hasClass(this.element, showClass)) setModalScrollbar(this);\n  };\n\n  /** Removes the `Modal` component from target element. */\n  dispose() {\n    const clone = { ...this };\n    const { element, modalDialog } = clone;\n    const callback = () => setTimeout(() => super.dispose(), 17);\n    toggleModalHandler(clone);\n\n    // use transitionend callback\n    this.hide();\n    /* istanbul ignore else */\n    if (hasClass(element, 'fade')) {\n      emulateTransitionEnd(modalDialog, callback);\n    } else {\n      callback();\n    }\n  }\n}\n", "/* Native JavaScript for Bootstrap 5 | OffCanvas\n------------------------------------------------ */\nimport {\n  ariaHidden,\n  addClass,\n  hasClass,\n  closest,\n  querySelectorAll,\n  querySelector,\n  removeAttribute,\n  setAttribute,\n  keyEscape,\n  keydownEvent,\n  mouseclickEvent,\n  ariaModal,\n  emulateTransitionEnd,\n  dispatchEvent,\n  getElementTransitionDuration,\n  getDocumentBody,\n  getDocumentElement,\n  getDocument,\n  removeClass,\n  setElementStyle,\n  createCustomEvent,\n  focus,\n  getInstance,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport dataBsDismiss from '../strings/dataBsDismiss';\nimport dataBsToggle from '../strings/dataBsToggle';\nimport showClass from '../strings/showClass';\nimport offcanvasString from '../strings/offcanvasString';\nimport offcanvasComponent from '../strings/offcanvasComponent';\nimport modalComponent from '../strings/modalComponent';\n\nimport getTargetElement from '../util/getTargetElement';\nimport isVisible from '../util/isVisible';\nimport { setScrollbar } from '../util/scrollbar';\nimport { hasPopup } from '../util/popupContainer';\nimport {\n  overlay,\n  offcanvasActiveSelector,\n  toggleOverlayType,\n  appendOverlay,\n  showOverlay,\n  hideOverlay,\n  getCurrentOpen,\n  removeOverlay,\n} from '../util/backdrop';\nimport BaseComponent from './base-component';\nimport { OffcanvasOptions, OffcanvasEvent } from '../interface/offcanvas';\n\n// OFFCANVAS PRIVATE GC\n// ====================\nconst offcanvasSelector = `.${offcanvasString}`;\nconst offcanvasToggleSelector = `[${dataBsToggle}=\"${offcanvasString}\"]`;\nconst offcanvasDismissSelector = `[${dataBsDismiss}=\"${offcanvasString}\"]`;\nconst offcanvasTogglingClass = `${offcanvasString}-toggling`;\n\nconst offcanvasDefaults = {\n  backdrop: true, // boolean\n  keyboard: true, // boolean\n  scroll: false, // boolean\n};\n\n/**\n * Static method which returns an existing `Offcanvas` instance associated\n * to a target `Element`.\n */\nconst getOffcanvasInstance = (element: HTMLElement) => getInstance<Offcanvas>(element, offcanvasComponent);\n\n/**\n * An `Offcanvas` initialization callback.\n */\nconst offcanvasInitCallback = (element: HTMLElement) => new Offcanvas(element);\n\n// OFFCANVAS CUSTOM EVENTS\n// =======================\nconst showOffcanvasEvent = createCustomEvent<OffcanvasEvent>(`show.bs.${offcanvasString}`);\nconst shownOffcanvasEvent = createCustomEvent<OffcanvasEvent>(`shown.bs.${offcanvasString}`);\nconst hideOffcanvasEvent = createCustomEvent<OffcanvasEvent>(`hide.bs.${offcanvasString}`);\nconst hiddenOffcanvasEvent = createCustomEvent<OffcanvasEvent>(`hidden.bs.${offcanvasString}`);\n\n// OFFCANVAS PRIVATE METHODS\n// =========================\n/**\n * Sets additional style for the `<body>` and other elements\n * when showing an offcanvas to the user.\n *\n * @param self the `Offcanvas` instance\n */\nconst setOffCanvasScrollbar = (self: Offcanvas) => {\n  const { element } = self;\n  const { clientHeight, scrollHeight } = getDocumentElement(element);\n  setScrollbar(element, clientHeight !== scrollHeight);\n};\n\n/**\n * Toggles on/off the `click` event listeners.\n *\n * @param self the `Offcanvas` instance\n * @param add when *true*, listeners are added\n */\nconst toggleOffcanvasEvents = (self: Offcanvas, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  self.triggers.forEach(btn => action(btn, mouseclickEvent, offcanvasTriggerHandler as EventListener));\n};\n\n/**\n * Toggles on/off the listeners of the events that close the offcanvas.\n *\n * @param self the `Offcanvas` instance\n * @param add when *true* listeners are added\n */\nconst toggleOffCanvasDismiss = (self: Offcanvas, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const doc = getDocument(self.element);\n  action(doc, keydownEvent, offcanvasKeyDismissHandler as EventListener);\n  action(doc, mouseclickEvent, offcanvasDismissHandler as EventListener);\n};\n\n/**\n * Executes before showing the offcanvas.\n *\n * @param self the `Offcanvas` instance\n */\nconst beforeOffcanvasShow = (self: Offcanvas) => {\n  const { element, options } = self;\n\n  /* istanbul ignore else */\n  if (!options.scroll) {\n    setOffCanvasScrollbar(self);\n    setElementStyle(getDocumentBody(element), { overflow: 'hidden' });\n  }\n\n  addClass(element, offcanvasTogglingClass);\n  addClass(element, showClass);\n  setElementStyle(element, { visibility: 'visible' });\n\n  emulateTransitionEnd(element, () => showOffcanvasComplete(self));\n};\n\n/**\n * Executes before hiding the offcanvas.\n *\n * @param self the `Offcanvas` instance\n */\nconst beforeOffcanvasHide = (self: Offcanvas) => {\n  const { element, options } = self;\n  const currentOpen = getCurrentOpen(element);\n\n  element.blur();\n\n  if (!currentOpen && options.backdrop && hasClass(overlay, showClass)) {\n    hideOverlay();\n    emulateTransitionEnd(overlay, () => hideOffcanvasComplete(self));\n  } else hideOffcanvasComplete(self);\n};\n\n// OFFCANVAS EVENT HANDLERS\n// ========================\n/**\n * Handles the `click` event listeners.\n *\n * @param e the `Event` object\n */\nconst offcanvasTriggerHandler = (e: MouseEvent) => {\n  const trigger = closest(e.target as HTMLElement, offcanvasToggleSelector);\n  const element = trigger && getTargetElement(trigger);\n  const self = element && getOffcanvasInstance(element);\n\n  /* istanbul ignore else */\n  if (self) {\n    self.relatedTarget = trigger;\n    self.toggle();\n    /* istanbul ignore else */\n    if (trigger && trigger.tagName === 'A') {\n      e.preventDefault();\n    }\n  }\n};\n\n/**\n * Handles the event listeners that close the offcanvas.\n *\n * @param e the `Event` object\n */\nconst offcanvasDismissHandler = (e: MouseEvent) => {\n  const { target } = e;\n  const element = querySelector(offcanvasActiveSelector, getDocument(target as Node));\n  const offCanvasDismiss = querySelector(offcanvasDismissSelector, element as HTMLElement | undefined);\n  const self = element && getOffcanvasInstance(element);\n\n  /* istanbul ignore else */\n  if (self) {\n    const { options, triggers } = self;\n    const { backdrop } = options;\n    const trigger = closest(target as HTMLElement, offcanvasToggleSelector);\n    const selection = getDocument(element).getSelection();\n\n    /* istanbul ignore else: a filter is required here */\n    if (!overlay.contains(target as HTMLElement) || backdrop !== 'static') {\n      /* istanbul ignore else */\n      if (\n        !(selection && selection.toString().length) &&\n        ((!element.contains(target as HTMLElement) &&\n          backdrop &&\n          /* istanbul ignore next */ (!trigger || triggers.includes(target as HTMLElement))) ||\n          (offCanvasDismiss && offCanvasDismiss.contains(target as HTMLElement)))\n      ) {\n        self.relatedTarget =\n          offCanvasDismiss && offCanvasDismiss.contains(target as HTMLElement) ? offCanvasDismiss : null;\n        self.hide();\n      }\n\n      /* istanbul ignore next */\n      if (trigger && trigger.tagName === 'A') e.preventDefault();\n    }\n  }\n};\n\n/**\n * Handles the `keydown` event listener for offcanvas\n * to hide it when user type the `ESC` key.\n *\n * @param e the `Event` object\n */\nconst offcanvasKeyDismissHandler = ({ code, target }: KeyboardEvent) => {\n  const element = querySelector(offcanvasActiveSelector, getDocument(target as Node));\n  const self = element && getOffcanvasInstance(element);\n\n  /* istanbul ignore else */\n  if (self) {\n    /* istanbul ignore else */\n    if (self.options.keyboard && code === keyEscape) {\n      self.relatedTarget = null;\n      self.hide();\n    }\n  }\n};\n\n/**\n * Handles the `transitionend` when showing the offcanvas.\n *\n * @param self the `Offcanvas` instance\n */\nconst showOffcanvasComplete = (self: Offcanvas) => {\n  const { element } = self;\n  removeClass(element, offcanvasTogglingClass);\n\n  removeAttribute(element, ariaHidden);\n  setAttribute(element, ariaModal, 'true');\n  setAttribute(element, 'role', 'dialog');\n\n  dispatchEvent(element, shownOffcanvasEvent);\n\n  toggleOffCanvasDismiss(self, true);\n  focus(element);\n};\n\n/**\n * Handles the `transitionend` when hiding the offcanvas.\n *\n * @param self the `Offcanvas` instance\n */\nconst hideOffcanvasComplete = (self: Offcanvas) => {\n  const { element, triggers } = self;\n\n  setAttribute(element, ariaHidden, 'true');\n  removeAttribute(element, ariaModal);\n  removeAttribute(element, 'role');\n  setElementStyle(element, { visibility: '' });\n\n  const visibleTrigger = showOffcanvasEvent.relatedTarget || triggers.find(isVisible);\n  /* istanbul ignore else */\n  if (visibleTrigger) focus(visibleTrigger as HTMLElement);\n\n  removeOverlay(element);\n\n  dispatchEvent(element, hiddenOffcanvasEvent);\n  removeClass(element, offcanvasTogglingClass);\n\n  // must check for open instances\n  if (!getCurrentOpen(element)) {\n    toggleOffCanvasDismiss(self);\n  }\n};\n\n// OFFCANVAS DEFINITION\n// ====================\n/** Returns a new `Offcanvas` instance. */\nexport default class Offcanvas extends BaseComponent {\n  static selector = offcanvasSelector;\n  static init = offcanvasInitCallback;\n  static getInstance = getOffcanvasInstance;\n  declare options: OffcanvasOptions;\n  declare triggers: HTMLElement[];\n  declare relatedTarget: HTMLElement | null;\n\n  /**\n   * @param target usually an `.offcanvas` element\n   * @param config instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<OffcanvasOptions>) {\n    super(target, config);\n\n    // instance element\n    const { element } = this;\n\n    // all the triggering buttons\n    this.triggers = [...querySelectorAll(offcanvasToggleSelector, getDocument(element))].filter(\n      btn => getTargetElement(btn) === element,\n    );\n\n    // additional instance property\n    this.relatedTarget = null;\n\n    // attach event listeners\n    toggleOffcanvasEvents(this, true);\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return offcanvasComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return offcanvasDefaults;\n  }\n\n  // OFFCANVAS PUBLIC METHODS\n  // ========================\n  /** Shows or hides the offcanvas from the user. */\n  toggle() {\n    if (hasClass(this.element, showClass)) this.hide();\n    else this.show();\n  }\n\n  /** Shows the offcanvas to the user. */\n  show() {\n    const { element, options, relatedTarget } = this;\n    let overlayDelay = 0;\n\n    if (!hasClass(element, showClass)) {\n      showOffcanvasEvent.relatedTarget = relatedTarget || undefined;\n      shownOffcanvasEvent.relatedTarget = relatedTarget || undefined;\n      dispatchEvent(element, showOffcanvasEvent);\n\n      if (!showOffcanvasEvent.defaultPrevented) {\n        // we elegantly hide any opened modal/offcanvas\n        const currentOpen = getCurrentOpen(element);\n        if (currentOpen && currentOpen !== element) {\n          const that =\n            getOffcanvasInstance(currentOpen) ||\n            /* istanbul ignore next */\n            getInstance<typeof BaseComponent & { hide: () => void }>(currentOpen, modalComponent);\n          if (that) that.hide();\n        }\n\n        if (options.backdrop) {\n          if (!hasPopup(overlay)) {\n            appendOverlay(element, true);\n          } else {\n            toggleOverlayType();\n          }\n\n          overlayDelay = getElementTransitionDuration(overlay);\n          showOverlay();\n\n          setTimeout(() => beforeOffcanvasShow(this), overlayDelay);\n        } else {\n          beforeOffcanvasShow(this);\n          /* istanbul ignore next - this test was done on Modal */\n          if (currentOpen && hasClass(overlay, showClass)) {\n            hideOverlay();\n          }\n        }\n      }\n    }\n  }\n\n  /** Hides the offcanvas from the user. */\n  hide() {\n    const { element, relatedTarget } = this;\n\n    if (hasClass(element, showClass)) {\n      hideOffcanvasEvent.relatedTarget = relatedTarget || undefined;\n      hiddenOffcanvasEvent.relatedTarget = relatedTarget || undefined;\n      dispatchEvent(element, hideOffcanvasEvent);\n      if (!hideOffcanvasEvent.defaultPrevented) {\n        addClass(element, offcanvasTogglingClass);\n        removeClass(element, showClass);\n        beforeOffcanvasHide(this);\n      }\n    }\n  }\n\n  /** Removes the `Offcanvas` from the target element. */\n  dispose() {\n    const clone = { ...this };\n    const { element, options } = clone;\n    const delay = options.backdrop ? getElementTransitionDuration(overlay) : /* istanbul ignore next */ 0;\n    const callback = () => setTimeout(() => super.dispose(), delay + 17);\n    toggleOffcanvasEvents(clone);\n\n    this.hide();\n    if (hasClass(element, showClass)) {\n      emulateTransitionEnd(element, callback);\n      /* istanbul ignore next */\n    } else {\n      callback();\n    }\n  }\n}\n", "/** @type {string} */\nconst popoverString = 'popover';\nexport default popoverString;\n", "/** @type {string} */\nconst popoverComponent = 'Popover';\nexport default popoverComponent;\n", "/** @type {string} */\nconst tooltipString = 'tooltip';\nexport default tooltipString;\n", "import tooltipString from '../strings/tooltipString';\n\n/**\n * Returns a template for Popover / Tooltip.\n *\n * @param tipType the expected markup type\n * @returns the template markup\n */\nconst getTipTemplate = (tipType: string) => {\n  const isTooltip = tipType === tooltipString;\n  const bodyClass = isTooltip ? `${tipType}-inner` : `${tipType}-body`;\n  const header = !isTooltip ? `<h3 class=\"${tipType}-header\"></h3>` : '';\n  const arrow = `<div class=\"${tipType}-arrow\"></div>`;\n  const body = `<div class=\"${bodyClass}\"></div>`;\n  return `<div class=\"${tipType}\" role=\"${tooltipString}\">${header + arrow + body}</div>`;\n};\n\nexport default getTipTemplate;\n", "const tipClassPositions = {\n  top: 'top',\n  bottom: 'bottom',\n  left: 'start',\n  right: 'end',\n};\n\nexport default tipClassPositions;\n", "import {\n  isHTMLElement,\n  setElementStyle,\n  getDocumentElement,\n  getBoundingClientRect,\n  getElementStyle,\n  isRTL,\n  toLowerCase,\n  createCustomEvent,\n  dispatchEvent,\n} from '@thednp/shorty';\n\nimport popoverComponent from '../strings/popoverComponent';\nimport tipClassPositions from './tipClassPositions';\nimport Tooltip from '../components/tooltip';\nimport type { TooltipEvent } from '../interface/tooltip';\nimport type { PopoverEvent } from '../interface/popover';\n\n/**\n * Style popovers and tooltips.\n *\n * @param self the `Popover` / `Tooltip` instance\n */\nconst styleTip = <T extends Tooltip>(self: T) => {\n  const tipClasses = /\\b(top|bottom|start|end)+/;\n  const { element, tooltip, container, options, arrow } = self;\n\n  /* istanbul ignore else */\n  if (tooltip) {\n    const tipPositions = { ...tipClassPositions };\n    const RTL = isRTL(element);\n\n    // reset tooltip style (top: 0, left: 0 works best)\n    setElementStyle(tooltip, {\n      // top: '0px', left: '0px', right: '', bottom: '',\n      top: '',\n      left: '',\n      right: '',\n      bottom: '',\n    });\n    const isPopover = self.name === popoverComponent;\n    const { offsetWidth: tipWidth, offsetHeight: tipHeight } = tooltip;\n    const { clientWidth: htmlcw, clientHeight: htmlch, offsetWidth: htmlow } = getDocumentElement(element);\n    let { placement } = options;\n    const { clientWidth: parentCWidth, offsetWidth: parentOWidth } = container as HTMLElement;\n    const parentPosition = getElementStyle(container as HTMLElement, 'position');\n    const fixedParent = parentPosition === 'fixed';\n    const scrollbarWidth = fixedParent ? Math.abs(parentCWidth - parentOWidth) : Math.abs(htmlcw - htmlow);\n    const leftBoundry = RTL && fixedParent ? /* istanbul ignore next */ scrollbarWidth : 0;\n    const rightBoundry = htmlcw - (!RTL ? scrollbarWidth : 0) - 1;\n    const {\n      width: elemWidth,\n      height: elemHeight,\n      left: elemRectLeft,\n      right: elemRectRight,\n      top: elemRectTop,\n    } = getBoundingClientRect(element, true);\n    const { x, y } = {\n      x: elemRectLeft,\n      y: elemRectTop,\n    };\n    // reset arrow style\n    setElementStyle(arrow as HTMLElement, {\n      top: '',\n      left: '',\n      right: '',\n      bottom: '',\n    });\n    let topPosition: number | string = 0;\n    let bottomPosition: number | string = '';\n    let leftPosition: number | string = 0;\n    let rightPosition: number | string = '';\n    let arrowTop: number | string = '';\n    let arrowLeft: number | string = '';\n    let arrowRight: number | string = '';\n\n    const arrowWidth = (arrow as HTMLElement).offsetWidth || 0;\n    const arrowHeight = (arrow as HTMLElement).offsetHeight || 0;\n    const arrowAdjust = arrowWidth / 2;\n\n    // check placement\n    let topExceed = elemRectTop - tipHeight - arrowHeight < 0;\n    let bottomExceed = elemRectTop + tipHeight + elemHeight + arrowHeight >= htmlch;\n    let leftExceed = elemRectLeft - tipWidth - arrowWidth < leftBoundry;\n    let rightExceed = elemRectLeft + tipWidth + elemWidth + arrowWidth >= rightBoundry;\n\n    const horizontals = ['left', 'right'];\n    const verticals = ['top', 'bottom'];\n\n    topExceed = horizontals.includes(placement)\n      ? elemRectTop + elemHeight / 2 - tipHeight / 2 - arrowHeight < 0\n      : topExceed;\n    bottomExceed = horizontals.includes(placement)\n      ? elemRectTop + tipHeight / 2 + elemHeight / 2 + arrowHeight >= htmlch\n      : bottomExceed;\n    leftExceed = verticals.includes(placement) ? elemRectLeft + elemWidth / 2 - tipWidth / 2 < leftBoundry : leftExceed;\n    rightExceed = verticals.includes(placement)\n      ? elemRectLeft + tipWidth / 2 + elemWidth / 2 >= rightBoundry\n      : rightExceed;\n\n    // first remove side positions if both left and right limits are exceeded\n    // we usually fall back to top|bottom\n    placement = horizontals.includes(placement) && leftExceed && rightExceed ? 'top' : placement;\n    // recompute placement\n    placement = placement === 'top' && topExceed ? 'bottom' : placement;\n    placement = placement === 'bottom' && bottomExceed ? 'top' : placement;\n    placement = placement === 'left' && leftExceed ? 'right' : placement;\n    placement = placement === 'right' && rightExceed ? /* istanbul ignore next */ 'left' : placement;\n\n    // update tooltip/popover class\n    if (!tooltip.className.includes(placement)) {\n      tooltip.className = tooltip.className.replace(tipClasses, tipPositions[placement]);\n    }\n\n    // compute tooltip / popover coordinates\n    /* istanbul ignore else */\n    if (horizontals.includes(placement)) {\n      // secondary|side positions\n      if (placement === 'left') {\n        // LEFT\n        leftPosition = x - tipWidth - (isPopover ? arrowWidth : 0);\n      } else {\n        // RIGHT\n        leftPosition = x + elemWidth + (isPopover ? arrowWidth : 0);\n      }\n\n      // adjust top and arrow\n      if (topExceed && bottomExceed) {\n        topPosition = 0;\n        bottomPosition = 0;\n        arrowTop = elemRectTop + elemHeight / 2 - arrowHeight / 2;\n      } else if (topExceed) {\n        topPosition = y;\n        bottomPosition = '';\n        arrowTop = elemHeight / 2 - arrowWidth;\n      } else if (bottomExceed) {\n        topPosition = y - tipHeight + elemHeight;\n        bottomPosition = '';\n        arrowTop = tipHeight - elemHeight / 2 - arrowWidth;\n      } else {\n        topPosition = y - tipHeight / 2 + elemHeight / 2;\n        arrowTop = tipHeight / 2 - arrowHeight / 2;\n      }\n    } else if (verticals.includes(placement)) {\n      if (placement === 'top') {\n        topPosition = y - tipHeight - (isPopover ? arrowHeight : 0);\n      } else {\n        // BOTTOM\n        topPosition = y + elemHeight + (isPopover ? arrowHeight : 0);\n      }\n\n      // adjust left | right and also the arrow\n      if (leftExceed) {\n        leftPosition = 0;\n        arrowLeft = x + elemWidth / 2 - arrowAdjust;\n      } else if (rightExceed) {\n        leftPosition = 'auto';\n        rightPosition = 0;\n        arrowRight = elemWidth / 2 + rightBoundry - elemRectRight - arrowAdjust;\n      } else {\n        leftPosition = x - tipWidth / 2 + elemWidth / 2;\n        arrowLeft = tipWidth / 2 - arrowAdjust;\n      }\n    }\n\n    // apply style to tooltip/popover\n    setElementStyle(tooltip, {\n      top: `${topPosition}px`,\n      bottom: bottomPosition === '' ? '' : `${bottomPosition}px`,\n      left: leftPosition === 'auto' ? leftPosition : `${leftPosition}px`,\n      right: rightPosition !== '' ? `${rightPosition}px` : '',\n    });\n\n    // update arrow placement\n    /* istanbul ignore else */\n    if (isHTMLElement(arrow)) {\n      if (arrowTop !== '') {\n        arrow.style.top = `${arrowTop}px`;\n      }\n      if (arrowLeft !== '') {\n        arrow.style.left = `${arrowLeft}px`;\n      } else if (arrowRight !== '') {\n        arrow.style.right = `${arrowRight}px`;\n      }\n    }\n    const updatedTooltipEvent = createCustomEvent<TooltipEvent | PopoverEvent>(`updated.bs.${toLowerCase(self.name)}`);\n    dispatchEvent(element, updatedTooltipEvent);\n  }\n};\n\nexport default styleTip;\n", "import getTipTemplate from './getTipTemplate';\nimport tooltipString from '../strings/tooltipString';\nimport { TooltipOptions } from '../interface/tooltip';\n\nconst tooltipDefaults: TooltipOptions = {\n  template: getTipTemplate(tooltipString),\n  title: '',\n  customClass: '',\n  trigger: 'hover focus',\n  placement: 'top',\n  sanitizeFn: undefined,\n  animation: true,\n  delay: 200,\n  container: document.body,\n  content: '',\n  dismissible: false,\n  btnClose: '',\n};\nexport default tooltipDefaults;\n", "/**\n * Global namespace for `data-bs-title` attribute.\n */\nconst dataOriginalTitle = 'data-original-title';\nexport default dataOriginalTitle;\n", "/** @type {string} */\nconst tooltipComponent = 'Tooltip';\nexport default tooltipComponent;\n", "import { isNode, isArray, isFunction, isString, isNodeList, isHTMLElement } from '@thednp/shorty';\n\n/**\n * Append an existing `Element` to Popover / Tooltip component or HTML\n * markup string to be parsed & sanitized to be used as popover / tooltip content.\n *\n * @param element target\n * @param content the `Element` to append / string\n * @param sanitizeFn a function to sanitize string content\n */\nconst setHtml = (element: HTMLElement, content: Node[] | Node | string, sanitizeFn?: (s: string) => string) => {\n  /* istanbul ignore else */\n  if (isString(content) && content.length) {\n    let dirty = content.trim(); // fixing #233\n    if (isFunction(sanitizeFn)) dirty = sanitizeFn(dirty);\n\n    const domParser = new DOMParser();\n    const tempDocument = domParser.parseFromString(dirty, 'text/html');\n    element.append(...[...tempDocument.body.childNodes]);\n  } else if (isHTMLElement(content)) {\n    element.append(content);\n  } else if (isNodeList(content) || (isArray(content) && content.every(isNode))) {\n    element.append(...[...content]);\n  }\n};\nexport default setHtml;\n", "import { createElement, addClass, hasClass, setAttribute, querySelector, isRTL, isHTMLElement } from '@thednp/shorty';\n\nimport tooltipComponent from '../strings/tooltipComponent';\nimport tooltipString from '../strings/tooltipString';\nimport popoverString from '../strings/popoverString';\nimport fadeClass from '../strings/fadeClass';\nimport tipClassPositions from './tipClassPositions';\nimport setHtml from './setHtml';\nimport Tooltip from '../components/tooltip';\nimport Popover from '../components/popover';\n\n/**\n * Creates a new tooltip / popover.\n *\n * @param self the `Tooltip` / `Popover` instance\n */\nconst createTip = (self: Tooltip | Popover) => {\n  const isTooltip = self.name === tooltipComponent;\n\n  const { id, element, options } = self;\n  const { title, placement, template, animation, customClass, sanitizeFn, dismissible, content, btnClose } = options;\n  const tipString = isTooltip ? tooltipString : popoverString;\n  const tipPositions = { ...tipClassPositions };\n  let titleParts: Node[] = [];\n  let contentParts: Node[] = [];\n\n  if (isRTL(element)) {\n    tipPositions.left = 'end';\n    tipPositions.right = 'start';\n  }\n\n  // set initial popover class\n  const placementClass = `bs-${tipString}-${tipPositions[placement]}`;\n\n  // load template\n  let tooltipTemplate: Node | string;\n  if (isHTMLElement(template)) {\n    tooltipTemplate = template;\n  } else {\n    const htmlMarkup = createElement('div') as HTMLElement;\n    setHtml(htmlMarkup, template, sanitizeFn);\n    tooltipTemplate = htmlMarkup.firstChild as HTMLElement;\n  }\n\n  // set popover markup\n  self.tooltip = isHTMLElement(tooltipTemplate)\n    ? (tooltipTemplate.cloneNode(true) as HTMLElement)\n    : /* istanbul ignore next */ undefined;\n\n  const { tooltip } = self;\n  /* istanbul ignore else */\n  if (tooltip) {\n    // set id and role attributes\n    setAttribute(tooltip, 'id', id);\n    setAttribute(tooltip, 'role', tooltipString);\n\n    const bodyClass = isTooltip ? `${tooltipString}-inner` : `${popoverString}-body`;\n    const tooltipHeader = isTooltip ? null : querySelector(`.${popoverString}-header`, tooltip);\n    const tooltipBody = querySelector(`.${bodyClass}`, tooltip);\n\n    // set arrow and enable access for styleTip\n    self.arrow = querySelector(`.${tipString}-arrow`, tooltip) as HTMLElement;\n    const { arrow } = self;\n\n    if (isHTMLElement(title)) titleParts = [title.cloneNode(true)];\n    else {\n      const tempTitle = createElement('div') as HTMLElement;\n      setHtml(tempTitle, title, sanitizeFn);\n      titleParts = [...[...tempTitle.childNodes]];\n    }\n\n    if (isHTMLElement(content)) contentParts = [content.cloneNode(true)];\n    else {\n      const tempContent = createElement('div') as HTMLElement;\n      setHtml(tempContent, content, sanitizeFn);\n      contentParts = [...[...tempContent.childNodes]];\n    }\n\n    // set dismissible button\n    if (dismissible) {\n      if (title) {\n        if (isHTMLElement(btnClose)) titleParts = [...titleParts, btnClose.cloneNode(true)];\n        else {\n          const tempBtn = createElement('div') as HTMLElement;\n          setHtml(tempBtn, btnClose, sanitizeFn);\n          titleParts = [...titleParts, tempBtn.firstChild as Node];\n        }\n      } else {\n        /* istanbul ignore else */\n        if (tooltipHeader) tooltipHeader.remove();\n        if (isHTMLElement(btnClose)) contentParts = [...contentParts, btnClose.cloneNode(true)];\n        else {\n          const tempBtn = createElement('div') as HTMLElement;\n          setHtml(tempBtn, btnClose, sanitizeFn);\n          contentParts = [...contentParts, tempBtn.firstChild as Node];\n        }\n      }\n    }\n\n    // fill the template with content from options / data attributes\n    // also sanitize title && content\n    /* istanbul ignore else */\n    if (!isTooltip) {\n      /* istanbul ignore else */\n      if (title && tooltipHeader) setHtml(tooltipHeader, titleParts, sanitizeFn);\n      /* istanbul ignore else */\n      if (content && tooltipBody) setHtml(tooltipBody, contentParts, sanitizeFn);\n      // set btn\n      self.btn = querySelector('.btn-close', tooltip) || undefined;\n    } else if (title && tooltipBody) setHtml(tooltipBody, title, sanitizeFn);\n\n    // Bootstrap 5.2.x\n    // addClass(tooltip, 'position-absolute');\n    addClass(tooltip, 'position-fixed');\n    addClass(arrow, 'position-absolute');\n\n    // set popover animation and placement\n    /* istanbul ignore else */\n    if (!hasClass(tooltip, tipString)) addClass(tooltip, tipString);\n    /* istanbul ignore else */\n    if (animation && !hasClass(tooltip, fadeClass)) addClass(tooltip, fadeClass);\n    /* istanbul ignore else */\n    if (customClass && !hasClass(tooltip, customClass)) {\n      addClass(tooltip, customClass);\n    }\n    /* istanbul ignore else */\n    if (!hasClass(tooltip, placementClass)) addClass(tooltip, placementClass);\n  }\n};\n\nexport default createTip;\n", "import { getDocument, isShadowRoot, isTableElement, getParentNode, getElementStyle } from '@thednp/shorty';\n\n/**\n * Returns an `HTMLElement` to be used as default value for *options.container*\n * for `Tooltip` / `Popover` components.\n *\n * @see https://github.com/floating-ui/floating-ui\n *\n * @param element the target\n * @returns the query result\n */\nconst getElementContainer = (element: HTMLElement): ParentNode => {\n  const majorBlockTags = ['HTML', 'BODY'];\n  const containers: ParentNode[] = [];\n  let { parentNode } = element as Node;\n\n  while (parentNode && !majorBlockTags.includes(parentNode.nodeName)) {\n    parentNode = getParentNode(parentNode) as ParentNode;\n    /* istanbul ignore else */\n    if (!(isShadowRoot(parentNode) || isTableElement(parentNode))) {\n      containers.push(parentNode);\n    }\n  }\n\n  return (\n    containers.find((c, i) => {\n      if (\n        getElementStyle(c as HTMLElement, 'position') !== 'relative' &&\n        containers.slice(i + 1).every(r => getElementStyle(r as HTMLElement, 'position') === 'static')\n      ) {\n        return c;\n      }\n      return null;\n    }) || /* istanbul ignore next: optional guard */ getDocument(element).body\n  );\n};\n\nexport default getElementContainer;\n", "/* Native JavaScript for Bootstrap 5 | Tooltip\n---------------------------------------------- */\nimport {\n  ariaDescribedBy,\n  focusoutEvent,\n  focusinEvent,\n  focusEvent,\n  mouseleaveEvent,\n  mouseenterEvent,\n  mousedownEvent,\n  mouseclickEvent,\n  closest,\n  getUID,\n  getDocument,\n  getWindow,\n  removeAttribute,\n  getAttribute,\n  setAttribute,\n  hasAttribute,\n  touchstartEvent,\n  resizeEvent,\n  scrollEvent,\n  mousehoverEvent,\n  toLowerCase,\n  focus,\n  Timer,\n  emulateTransitionEnd,\n  passiveHandler,\n  dispatchEvent,\n  isApple,\n  getInstance,\n  ObjectAssign,\n  createCustomEvent,\n  removeClass,\n  hasClass,\n  addClass,\n  getElementStyle,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport dataBsToggle from '../strings/dataBsToggle';\nimport dataOriginalTitle from '../strings/dataOriginalTitle';\nimport showClass from '../strings/showClass';\nimport tooltipString from '../strings/tooltipString';\nimport tooltipComponent from '../strings/tooltipComponent';\nimport popoverString from '../strings/popoverString';\nimport popoverComponent from '../strings/popoverComponent';\nimport modalString from '../strings/modalString';\nimport offcanvasString from '../strings/offcanvasString';\n\nimport styleTip from '../util/styleTip';\nimport createTip from '../util/createTip';\nimport { appendPopup, removePopup, hasPopup } from '../util/popupContainer';\nimport getElementContainer from '../util/getElementContainer';\nimport tooltipDefaults from '../util/tooltipDefaults';\nimport BaseComponent from './base-component';\nimport { TooltipOptions, TooltipEvent } from '../interface/tooltip';\nimport { PopoverOptions, PopoverEvent } from '../interface/popover';\n\n// TOOLTIP PRIVATE GC\n// ==================\nconst tooltipSelector = `[${dataBsToggle}=\"${tooltipString}\"],[data-tip=\"${tooltipString}\"]`;\nconst titleAttr = 'title';\n\n/**\n * Static method which returns an existing `Tooltip` instance associated\n * to a target `Element`.\n *\n */\nlet getTooltipInstance = (element: HTMLElement) => getInstance<Tooltip>(element, tooltipComponent);\n\n/**\n * A `Tooltip` initialization callback.\n */\nconst tooltipInitCallback = (element: HTMLElement) => new Tooltip(element);\n\n// TOOLTIP PRIVATE METHODS\n// =======================\n/**\n * Removes the tooltip from the DOM.\n *\n * @param self the `Tooltip` instance\n */\nconst removeTooltip = (self: Tooltip) => {\n  const { element, tooltip, container, offsetParent } = self;\n  removeAttribute(element, ariaDescribedBy);\n  removePopup(tooltip as HTMLElement, container === offsetParent ? container : offsetParent);\n};\n\n/**\n * Check if container contains the tooltip.\n *\n * @param self Tooltip\n */\nconst hasTip = (self: Tooltip): boolean | undefined => {\n  const { tooltip, container, offsetParent } = self;\n\n  return tooltip && hasPopup(tooltip, container === offsetParent ? container : offsetParent);\n};\n\n/**\n * Executes after the instance has been disposed.\n *\n * @param self the `Tooltip` instance\n * @param callback the parent dispose callback\n */\nconst disposeTooltipComplete = (self: Tooltip, callback?: () => void) => {\n  const { element } = self;\n  toggleTooltipHandlers(self);\n\n  /* istanbul ignore else */\n  if (hasAttribute(element, dataOriginalTitle) && self.name === tooltipComponent) {\n    toggleTooltipTitle(self);\n  }\n  /* istanbul ignore else */\n  if (callback) callback();\n};\n\n/**\n * Toggles on/off the special `Tooltip` event listeners.\n *\n * @param self the `Tooltip` instance\n * @param add when `true`, event listeners are added\n */\nconst toggleTooltipAction = (self: Tooltip, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { element } = self;\n\n  action(getDocument(element), touchstartEvent, self.handleTouch as EventListener, passiveHandler);\n\n  [scrollEvent, resizeEvent].forEach(ev => {\n    action(getWindow(element), ev, self.update, passiveHandler);\n  });\n};\n\n/**\n * Executes after the tooltip was shown to the user.\n *\n * @param self the `Tooltip` instance\n */\nconst tooltipShownAction = (self: Tooltip) => {\n  const { element } = self;\n  const shownTooltipEvent = createCustomEvent<TooltipEvent | PopoverEvent>(`shown.bs.${toLowerCase(self.name)}`);\n\n  toggleTooltipAction(self, true);\n  dispatchEvent(element, shownTooltipEvent);\n  Timer.clear(element, 'in');\n};\n\n/**\n * Executes after the tooltip was hidden to the user.\n *\n * @param self the `Tooltip` instance\n */\nconst tooltipHiddenAction = (self: Tooltip) => {\n  const { element } = self;\n  const hiddenTooltipEvent = createCustomEvent<TooltipEvent | PopoverEvent>(`hidden.bs.${toLowerCase(self.name)}`);\n\n  toggleTooltipAction(self);\n  removeTooltip(self);\n  dispatchEvent(element, hiddenTooltipEvent);\n\n  Timer.clear(element, 'out');\n};\n\n/**\n * Toggles on/off the `Tooltip` event listeners.\n *\n * @param self the `Tooltip` instance\n * @param add when `true`, event listeners are added\n */\nconst toggleTooltipHandlers = (self: Tooltip, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  // btn is only for dismissible popover\n  const { element, options, btn } = self;\n  const { trigger } = options;\n  const isPopover = self.name !== tooltipComponent;\n  const dismissible = isPopover && (options as PopoverOptions).dismissible ? true : false;\n\n  /* istanbul ignore else */\n  if (!trigger.includes('manual')) {\n    self.enabled = !!add;\n\n    const triggerOptions = trigger.split(' ');\n\n    triggerOptions.forEach(tr => {\n      /* istanbul ignore else */\n      if (tr === mousehoverEvent) {\n        action(element, mousedownEvent, self.handleShow);\n        action(element, mouseenterEvent, self.handleShow);\n\n        /* istanbul ignore else */\n        if (!dismissible) {\n          action(element, mouseleaveEvent, self.handleHide);\n          action(getDocument(element), touchstartEvent, self.handleTouch as EventListener, passiveHandler);\n        }\n      } else if (tr === mouseclickEvent) {\n        action(element, tr, !dismissible ? self.toggle : self.handleShow);\n      } else if (tr === focusEvent) {\n        action(element, focusinEvent, self.handleShow);\n        /* istanbul ignore else */\n        if (!dismissible) action(element, focusoutEvent, self.handleHide);\n        /* istanbul ignore else */\n        if (isApple) {\n          action(element, mouseclickEvent, self.handleFocus);\n        }\n      }\n      /* istanbul ignore else */\n      if (dismissible && btn) {\n        action(btn, mouseclickEvent, self.handleHide);\n      }\n    });\n  }\n};\n\n/**\n * Toggles on/off the `Tooltip` event listeners that hide/update the tooltip.\n *\n * @param self the `Tooltip` instance\n * @param add when `true`, event listeners are added\n */\nconst toggleTooltipOpenHandlers = (self: Tooltip, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { element, container, offsetParent } = self;\n  const { offsetHeight, scrollHeight } = container as HTMLElement;\n  const parentModal = closest(element, `.${modalString}`);\n  const parentOffcanvas = closest(element, `.${offcanvasString}`);\n\n  /* istanbul ignore else */\n  const win = getWindow(element);\n  const overflow = offsetHeight !== scrollHeight;\n  const scrollTarget = container === offsetParent && overflow ? container : win;\n  action(scrollTarget, resizeEvent, self.update, passiveHandler);\n  action(scrollTarget, scrollEvent, self.update, passiveHandler);\n\n  // dismiss tooltips inside modal / offcanvas\n  if (parentModal) action(parentModal, `hide.bs.${modalString}`, self.handleHide);\n  if (parentOffcanvas) action(parentOffcanvas, `hide.bs.${offcanvasString}`, self.handleHide);\n};\n\n/**\n * Toggles the `title` and `data-original-title` attributes.\n *\n * @param self the `Tooltip` instance\n * @param content when `true`, event listeners are added\n */\nconst toggleTooltipTitle = (self: Tooltip, content?: string) => {\n  // [0 - add, 1 - remove] | [0 - remove, 1 - add]\n  const titleAtt = [dataOriginalTitle, titleAttr];\n  const { element } = self;\n\n  setAttribute(\n    element,\n    titleAtt[content ? 0 : 1],\n    content || getAttribute(element, titleAtt[0]) || /* istanbul ignore next */ '',\n  );\n  removeAttribute(element, titleAtt[content ? 1 : 0]);\n};\n\n// TOOLTIP DEFINITION\n// ==================\n/** Creates a new `Tooltip` instance. */\nexport default class Tooltip extends BaseComponent {\n  static selector = tooltipSelector;\n  static init = tooltipInitCallback;\n  static getInstance = getTooltipInstance;\n  static styleTip = styleTip;\n  declare options: TooltipOptions;\n  declare btn?: HTMLElement;\n  declare tooltip?: HTMLElement;\n  declare container: ParentNode;\n  declare arrow?: HTMLElement;\n  declare offsetParent?: HTMLElement;\n  declare enabled: boolean;\n  declare id: string;\n\n  /**\n   * @param target the target element\n   * @param config the instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<TooltipOptions>) {\n    super(target, config);\n\n    const { element } = this;\n    const isTooltip = this.name === tooltipComponent;\n    const tipString = isTooltip ? tooltipString : popoverString;\n    const tipComponent = isTooltip ? tooltipComponent : popoverComponent;\n\n    /* istanbul ignore next: this is to set Popover too */\n    getTooltipInstance = <T extends Tooltip>(elem: HTMLElement) => getInstance<T>(elem, tipComponent);\n\n    // additional properties\n    this.enabled = true;\n    /** Set unique ID for `aria-describedby`. */\n    this.id = `${tipString}-${getUID(element, tipString)}`;\n\n    // instance options\n    const { options } = this;\n\n    // invalidate\n    if (!((!options.title && isTooltip) || (!isTooltip && !options.content))) {\n      // reset default options\n      ObjectAssign(tooltipDefaults, { titleAttr: '' });\n\n      // set title attributes and add event listeners\n      /* istanbul ignore else */\n      if (hasAttribute(element, titleAttr) && isTooltip && typeof options.title === 'string') {\n        toggleTooltipTitle(this, options.title);\n      }\n\n      // set containers\n      this.container = getElementContainer(element);\n      this.offsetParent = ['sticky', 'fixed'].some(\n        position => getElementStyle(this.container as HTMLElement, 'position') === position,\n      )\n        ? (this.container as HTMLElement)\n        : getDocument(this.element).body;\n\n      // create tooltip here\n      createTip(this);\n\n      // attach events\n      toggleTooltipHandlers(this, true);\n    }\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return tooltipComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return tooltipDefaults;\n  }\n\n  // TOOLTIP PUBLIC METHODS\n  // ======================\n  /** Handles the focus event on iOS. */\n  handleFocus = () => focus(this.element);\n  /** Shows the tooltip. */\n  handleShow = () => this.show();\n  show() {\n    const { options, tooltip, element, container, offsetParent, id } = this;\n    const { animation } = options;\n    const outTimer = Timer.get(element, 'out');\n    const tipContainer = container === offsetParent ? container : offsetParent;\n\n    Timer.clear(element, 'out');\n\n    if (tooltip && !outTimer && !hasTip(this)) {\n      Timer.set(\n        element,\n        () => {\n          const showTooltipEvent = createCustomEvent<TooltipEvent | PopoverEvent>(`show.bs.${toLowerCase(this.name)}`);\n          dispatchEvent(element, showTooltipEvent);\n          if (!showTooltipEvent.defaultPrevented) {\n            // append to container\n            appendPopup(tooltip, tipContainer);\n\n            setAttribute(element, ariaDescribedBy, `#${id}`);\n\n            this.update();\n            toggleTooltipOpenHandlers(this, true);\n\n            /* istanbul ignore else */\n            if (!hasClass(tooltip, showClass)) addClass(tooltip, showClass);\n            /* istanbul ignore else */\n            if (animation) emulateTransitionEnd(tooltip, () => tooltipShownAction(this));\n            else tooltipShownAction(this);\n          }\n        },\n        17,\n        'in',\n      );\n    }\n  }\n\n  /** Hides the tooltip. */\n  handleHide = () => this.hide();\n  hide() {\n    const { options, tooltip, element } = this;\n    const { animation, delay } = options;\n\n    Timer.clear(element, 'in');\n\n    /* istanbul ignore else */\n    if (tooltip && hasTip(this)) {\n      Timer.set(\n        element,\n        () => {\n          const hideTooltipEvent = createCustomEvent<TooltipEvent | PopoverEvent>(`hide.bs.${toLowerCase(this.name)}`);\n          dispatchEvent(element, hideTooltipEvent);\n\n          if (!hideTooltipEvent.defaultPrevented) {\n            this.update();\n            removeClass(tooltip, showClass);\n            toggleTooltipOpenHandlers(this);\n\n            /* istanbul ignore else */\n            if (animation) emulateTransitionEnd(tooltip, () => tooltipHiddenAction(this));\n            else tooltipHiddenAction(this);\n          }\n        },\n        delay + 17,\n        'out',\n      );\n    }\n  }\n\n  /** Updates the tooltip position. */\n  update = () => {\n    styleTip<Tooltip>(this);\n  };\n\n  /** Toggles the tooltip visibility. */\n  toggle = () => {\n    const { tooltip } = this;\n\n    if (tooltip && !hasTip(this)) this.show();\n    else this.hide();\n  };\n\n  /** Enables the tooltip. */\n  enable() {\n    const { enabled } = this;\n    /* istanbul ignore else */\n    if (!enabled) {\n      toggleTooltipHandlers(this, true);\n      this.enabled = !enabled;\n    }\n  }\n\n  /** Disables the tooltip. */\n  disable() {\n    const { tooltip, options, enabled } = this;\n    const { animation } = options;\n    /* istanbul ignore else */\n    if (enabled) {\n      if (tooltip && hasTip(this) && animation) {\n        this.hide();\n        emulateTransitionEnd(tooltip, () => toggleTooltipHandlers(this));\n      } else {\n        toggleTooltipHandlers(this);\n      }\n      this.enabled = !enabled;\n    }\n  }\n\n  /** Toggles the `disabled` property. */\n  toggleEnabled() {\n    if (!this.enabled) this.enable();\n    else this.disable();\n  }\n\n  /**\n   * Handles the `touchstart` event listener for `Tooltip`\n   *\n   * @this {Tooltip}\n   * @param {TouchEvent} e the `Event` object\n   */\n  handleTouch = ({ target }: TouchEvent) => {\n    const { tooltip, element } = this;\n\n    /* istanbul ignore else */\n    if (\n      (tooltip && tooltip.contains(target as HTMLElement)) ||\n      target === element ||\n      (target && element.contains(target as HTMLElement))\n    ) {\n      // smile for ESLint\n    } else {\n      this.hide();\n    }\n  };\n\n  /** Removes the `Tooltip` from the target element. */\n  dispose() {\n    const { tooltip, options } = this;\n    const clone = { ...this, name: this.name };\n    const callback = () => setTimeout(() => disposeTooltipComplete(clone, () => super.dispose()), 17);\n\n    if (options.animation && hasTip(clone)) {\n      this.options.delay = 0; // reset delay\n      this.hide();\n      emulateTransitionEnd(tooltip as HTMLElement, callback);\n    } else {\n      callback();\n    }\n  }\n}\n", "/* Native JavaScript for Bootstrap 5 | Popover\n---------------------------------------------- */\nimport { getInstance, ObjectAssign, focus } from '@thednp/shorty';\n\nimport dataBsToggle from '../strings/dataBsToggle';\nimport popoverString from '../strings/popoverString';\nimport popoverComponent from '../strings/popoverComponent';\n\nimport getTipTemplate from '../util/getTipTemplate';\nimport styleTip from '../util/styleTip';\nimport tooltipDefaults from '../util/tooltipDefaults';\nimport Tooltip from './tooltip';\n\nimport type { PopoverOptions /* , PopoverEvent */ } from '../interface/popover';\n\n// POPOVER PRIVATE GC\n// ==================\nconst popoverSelector = `[${dataBsToggle}=\"${popoverString}\"],[data-tip=\"${popoverString}\"]`;\n\nconst popoverDefaults: PopoverOptions = ObjectAssign({}, tooltipDefaults, {\n  template: getTipTemplate(popoverString),\n  content: '',\n  dismissible: false,\n  btnClose: '<button class=\"btn-close\" aria-label=\"Close\"></button>',\n});\n\n/**\n * Static method which returns an existing `Popover` instance associated\n * to a target `Element`.\n *\n */\nconst getPopoverInstance = (element: HTMLElement) => getInstance<Popover>(element, popoverComponent);\n\n/**\n * A `Popover` initialization callback.\n */\nconst popoverInitCallback = (element: HTMLElement) => new Popover(element);\n\n// POPOVER DEFINITION\n// ==================\n/** Returns a new `Popover` instance. */\nexport default class Popover extends Tooltip {\n  static selector = popoverSelector;\n  static init = popoverInitCallback;\n  static getInstance = getPopoverInstance;\n  static styleTip = styleTip;\n  declare options: PopoverOptions;\n\n  /**\n   * @param target the target element\n   * @param config the instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<PopoverOptions>) {\n    super(target, config);\n  }\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return popoverComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return popoverDefaults;\n  }\n\n  /* extend original `show()` */\n  show = () => {\n    super.show();\n    // btn only exists within dismissible popover\n    const { options, btn } = this;\n    /* istanbul ignore else */\n    if (options.dismissible && btn) setTimeout(() => focus(btn), 17);\n  };\n}\n", "/** @type {string} */\nconst scrollspyString = 'scrollspy';\nexport default scrollspyString;\n", "/** @type {string} */\nconst scrollspyComponent = 'ScrollSpy';\nexport default scrollspyComponent;\n", "/* Native JavaScript for Bootstrap 5 | ScrollSpy\n------------------------------------------------ */\nimport {\n  getDocumentBody,\n  getDocumentElement,\n  getDocument,\n  getWindow,\n  removeClass,\n  hasClass,\n  addClass,\n  getElementsByTagName,\n  getAttribute,\n  querySelector,\n  isHTMLElement,\n  isWindow,\n  createCustomEvent,\n  getInstance,\n  scrollEvent,\n  // ObjectAssign,\n  passiveHandler,\n  dispatchEvent,\n  getBoundingClientRect,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport activeClass from '../strings/activeClass';\nimport scrollspyString from '../strings/scrollspyString';\nimport scrollspyComponent from '../strings/scrollspyComponent';\n\nimport BaseComponent from './base-component';\nimport { ScrollSpyOptions, ScrollSpyEvent } from '../interface/scrollspy';\n\n// SCROLLSPY PRIVATE GC\n// ====================\nconst scrollspySelector = '[data-bs-spy=\"scroll\"]';\n\nconst scrollspyDefaults: ScrollSpyOptions = {\n  offset: 10,\n  target: null,\n};\n\n/**\n * Static method which returns an existing `ScrollSpy` instance associated\n * to a target `Element`.\n */\nconst getScrollSpyInstance = (element: HTMLElement) => getInstance<ScrollSpy>(element, scrollspyComponent);\n\n/**\n * A `ScrollSpy` initialization callback.\n */\nconst scrollspyInitCallback = (element: HTMLElement) => new ScrollSpy(element);\n\n// SCROLLSPY CUSTOM EVENT\n// ======================\nconst activateScrollSpy = createCustomEvent<ScrollSpyEvent>(`activate.bs.${scrollspyString}`);\n\n// SCROLLSPY PRIVATE METHODS\n// =========================\n/**\n * Update the state of all items.\n *\n * @param self the `ScrollSpy` instance\n */\nconst updateSpyTargets = (self: ScrollSpy) => {\n  const { target, scrollTarget, options, itemsLength, scrollHeight, element } = self;\n  const { offset } = options;\n  const isWin = isWindow(scrollTarget as Node | Window);\n\n  const links = target && getElementsByTagName('A', target);\n  const scrollHEIGHT = scrollTarget ? getScrollHeight(scrollTarget) : /* istanbul ignore next */ scrollHeight;\n\n  self.scrollTop = isWin ? (scrollTarget as Window).scrollY : (scrollTarget as HTMLElement).scrollTop;\n\n  // only update items/offsets once or with each mutation\n  /* istanbul ignore else */\n  if (links && (scrollHEIGHT !== scrollHeight || itemsLength !== links.length)) {\n    let href;\n    let targetItem;\n    let rect;\n\n    // reset arrays & update\n    self.items = [];\n    self.offsets = [];\n    self.scrollHeight = scrollHEIGHT;\n    self.maxScroll = self.scrollHeight - getOffsetHeight(self);\n\n    [...links].forEach(link => {\n      href = getAttribute(link, 'href');\n      targetItem =\n        href && href.charAt(0) === '#' && href.slice(-1) !== '#' && querySelector(href, getDocument(element));\n\n      if (targetItem) {\n        self.items.push(link);\n        rect = getBoundingClientRect(targetItem);\n        self.offsets.push((isWin ? rect.top + self.scrollTop : targetItem.offsetTop) - offset);\n      }\n    });\n    self.itemsLength = self.items.length;\n  }\n};\n\n/**\n * Returns the `scrollHeight` property of the scrolling element.\n *\n * @param scrollTarget the `ScrollSpy` instance\n * @return `scrollTarget` height\n */\nconst getScrollHeight = (scrollTarget: Node | Window) => {\n  return isHTMLElement(scrollTarget as Node)\n    ? (scrollTarget as HTMLElement).scrollHeight\n    : getDocumentElement(scrollTarget as Node).scrollHeight;\n};\n\n/**\n * Returns the height property of the scrolling element.\n *\n * @param params the `ScrollSpy` instance\n */\nconst getOffsetHeight = ({ element, scrollTarget }: ScrollSpy) => {\n  return isWindow(scrollTarget as Node) ? (scrollTarget as Window).innerHeight : getBoundingClientRect(element).height;\n};\n\n/**\n * Clear all items of the target.\n *\n * @param target a single item\n */\nconst clear = (target: HTMLElement) => {\n  [...getElementsByTagName('A', target)].forEach(item => {\n    if (hasClass(item, activeClass)) removeClass(item, activeClass);\n  });\n};\n\n/**\n * Activates a new item.\n *\n * @param self the `ScrollSpy` instance\n * @param item a single item\n */\nconst activate = (self: ScrollSpy, item: HTMLElement) => {\n  const { target, element } = self;\n  if (isHTMLElement(target)) clear(target);\n  self.activeItem = item;\n  addClass(item, activeClass);\n\n  // activate all parents\n  const parents: HTMLElement[] = [];\n  let parentItem = item;\n  while (parentItem !== getDocumentBody(element)) {\n    parentItem = parentItem.parentElement as HTMLElement;\n    if (hasClass(parentItem, 'nav') || hasClass(parentItem, 'dropdown-menu')) parents.push(parentItem);\n  }\n\n  parents.forEach(menuItem => {\n    const parentLink = menuItem.previousElementSibling as HTMLElement | null;\n\n    /* istanbul ignore else */\n    if (parentLink && !hasClass(parentLink, activeClass)) {\n      addClass(parentLink, activeClass);\n    }\n  });\n\n  // dispatch\n  activateScrollSpy.relatedTarget = item;\n  dispatchEvent(element, activateScrollSpy);\n};\n\n/**\n * Toggles on/off the component event listener.\n *\n * @param self the `ScrollSpy` instance\n * @param add when `true`, listener is added\n */\nconst toggleSpyHandlers = (self: ScrollSpy, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  action(self.scrollTarget as EventTarget, scrollEvent, self.refresh, passiveHandler);\n};\n\n// SCROLLSPY DEFINITION\n// ====================\n/** Returns a new `ScrollSpy` instance. */\nexport default class ScrollSpy extends BaseComponent {\n  static selector = scrollspySelector;\n  static init = scrollspyInitCallback;\n  static getInstance = getScrollSpyInstance;\n  declare options: ScrollSpyOptions;\n  declare target: HTMLElement | null;\n  declare scrollTarget: HTMLElement | Window;\n  declare scrollTop: number;\n  declare maxScroll: number;\n  declare scrollHeight: number;\n  declare activeItem: HTMLElement | null;\n  declare items: HTMLElement[];\n  declare itemsLength: number;\n  declare offsets: number[];\n\n  /**\n   * @param target the target element\n   * @param config the instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<ScrollSpyOptions>) {\n    super(target, config);\n\n    // initialization element & options\n    const { element, options } = this;\n\n    // additional properties\n    this.target = querySelector(options.target as HTMLElement | string, getDocument(element));\n\n    // invalidate\n    if (this.target) {\n      // set initial state\n      this.scrollTarget = element.clientHeight < element.scrollHeight ? element : getWindow(element);\n      this.scrollHeight = getScrollHeight(this.scrollTarget);\n\n      // add event handlers\n      toggleSpyHandlers(this, true);\n\n      this.refresh();\n    }\n  }\n\n  /* eslint-disable */\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return scrollspyComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return scrollspyDefaults;\n  }\n  /* eslint-enable */\n\n  // SCROLLSPY PUBLIC METHODS\n  // ========================\n  /** Updates all items. */\n  refresh = () => {\n    const { target } = this;\n\n    // check if target is visible and invalidate\n    /* istanbul ignore else */\n    if (isHTMLElement(target) && target.offsetHeight > 0) {\n      updateSpyTargets(this);\n\n      const { scrollTop, maxScroll, itemsLength, items, activeItem } = this;\n\n      if (scrollTop >= maxScroll) {\n        const newActiveItem = items[itemsLength - 1];\n\n        /* istanbul ignore else */\n        if (activeItem !== newActiveItem) {\n          activate(this, newActiveItem);\n        }\n        return;\n      }\n\n      const { offsets } = this;\n\n      if (activeItem && scrollTop < offsets[0] && offsets[0] > 0) {\n        this.activeItem = null;\n        if (target) clear(target);\n        return;\n      }\n\n      items.forEach((item, i) => {\n        if (\n          activeItem !== item &&\n          scrollTop >= offsets[i] &&\n          (typeof offsets[i + 1] === 'undefined' || scrollTop < offsets[i + 1])\n        ) {\n          activate(this, item);\n        }\n      });\n    }\n  };\n\n  /** Removes `ScrollSpy` from the target element. */\n  dispose() {\n    toggleSpyHandlers(this);\n    super.dispose();\n  }\n}\n", "/** @type {string} */\nconst tabString = 'tab';\nexport default tabString;\n", "/** @type {string} */\nconst tabComponent = 'Tab';\nexport default tabComponent;\n", "/* Native JavaScript for Bootstrap 5 | Tab\n------------------------------------------ */\nimport {\n  emulateTransitionEnd,\n  dispatchEvent,\n  removeClass,\n  hasClass,\n  addClass,\n  querySelector,\n  getElementsByClassName,\n  closest,\n  setAttribute,\n  mouseclickEvent,\n  createCustomEvent,\n  Timer,\n  getInstance,\n  ariaSelected,\n  // ObjectAssign,\n  reflow,\n  isHTMLElement,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport collapsingClass from '../strings/collapsingClass';\nimport activeClass from '../strings/activeClass';\nimport fadeClass from '../strings/fadeClass';\nimport showClass from '../strings/showClass';\nimport dropdownClasses from '../strings/dropdownClasses';\nimport dataBsToggle from '../strings/dataBsToggle';\nimport tabString from '../strings/tabString';\nimport tabComponent from '../strings/tabComponent';\n\nimport getTargetElement from '../util/getTargetElement';\nimport BaseComponent from './base-component';\nimport type { /* TabOptions, */ TabEvent } from '../interface/tab';\n\n// TAB PRIVATE GC\n// ================\nconst tabSelector = `[${dataBsToggle}=\"${tabString}\"]`;\n\n/**\n * Static method which returns an existing `Tab` instance associated\n * to a target `Element`.\n */\nconst getTabInstance = (element: HTMLElement) => getInstance<Tab>(element, tabComponent);\n\n/** A `Tab` initialization callback. */\nconst tabInitCallback = (element: HTMLElement) => new Tab(element);\n\n// TAB CUSTOM EVENTS\n// =================\nconst showTabEvent = createCustomEvent<TabEvent>(`show.bs.${tabString}`);\nconst shownTabEvent = createCustomEvent<TabEvent>(`shown.bs.${tabString}`);\nconst hideTabEvent = createCustomEvent<TabEvent>(`hide.bs.${tabString}`);\nconst hiddenTabEvent = createCustomEvent<TabEvent>(`hidden.bs.${tabString}`);\n\ninterface TabPrivate {\n  tab: HTMLElement | null;\n  content: HTMLElement | null;\n  currentHeight: number;\n  nextHeight: number;\n}\n\n/**\n * Stores the current active tab and its content\n * for a given `.nav` element.\n */\nconst tabPrivate: Map<HTMLElement, TabPrivate> = new Map();\n\n// TAB PRIVATE METHODS\n// ===================\n/**\n * Executes after tab transition has finished.\n *\n * @param self the `Tab` instance\n */\nconst triggerTabEnd = (self: Tab) => {\n  const { tabContent, nav } = self;\n\n  /* istanbul ignore else */\n  if (tabContent && hasClass(tabContent, collapsingClass)) {\n    tabContent.style.height = '';\n    removeClass(tabContent, collapsingClass);\n  }\n\n  /* istanbul ignore else */\n  if (nav) Timer.clear(nav);\n};\n\n/**\n * Executes before showing the tab content.\n *\n * @param self the `Tab` instance\n */\nconst triggerTabShow = (self: Tab) => {\n  const { element, tabContent, content: nextContent, nav } = self;\n  const { tab } = (isHTMLElement(nav) && tabPrivate.get(nav)) || /* istanbul ignore next */ { tab: null };\n\n  /* istanbul ignore else */\n  if (tabContent && nextContent && hasClass(nextContent, fadeClass)) {\n    const { currentHeight, nextHeight } = tabPrivate.get(element) || /* istanbul ignore next */ {\n      currentHeight: 0,\n      nextHeight: 0,\n    };\n    if (currentHeight === nextHeight) {\n      triggerTabEnd(self);\n    } else {\n      // enables height animation\n      setTimeout(() => {\n        tabContent.style.height = `${nextHeight}px`;\n        reflow(tabContent);\n        emulateTransitionEnd(tabContent, () => triggerTabEnd(self));\n      }, 50);\n    }\n  } else if (nav) Timer.clear(nav);\n\n  shownTabEvent.relatedTarget = tab as HTMLElement | undefined;\n\n  dispatchEvent(element, shownTabEvent);\n};\n\n/**\n * Executes before hiding the tab.\n *\n * @param self the `Tab` instance\n */\nconst triggerTabHide = (self: Tab) => {\n  const { element, content: nextContent, tabContent, nav } = self;\n  const { tab, content } = (nav && tabPrivate.get(nav)) || /* istanbul ignore next */ { tab: null, content: null };\n  let currentHeight = 0;\n\n  /* istanbul ignore else */\n  if (tabContent && nextContent && hasClass(nextContent, fadeClass)) {\n    [content, nextContent].forEach(c => {\n      if (isHTMLElement(c)) addClass(c, 'overflow-hidden');\n    });\n    currentHeight = isHTMLElement(content) ? content.scrollHeight : /* istanbul ignore next */ 0;\n  }\n\n  // update relatedTarget and dispatch event\n  showTabEvent.relatedTarget = tab as HTMLElement | undefined;\n  hiddenTabEvent.relatedTarget = element;\n  dispatchEvent(element, showTabEvent);\n\n  if (!showTabEvent.defaultPrevented) {\n    if (nextContent) addClass(nextContent, activeClass);\n    if (content) removeClass(content, activeClass);\n\n    /* istanbul ignore else */\n    if (tabContent && nextContent && hasClass(nextContent, fadeClass)) {\n      const nextHeight = nextContent.scrollHeight;\n      tabPrivate.set(element, { currentHeight, nextHeight, tab: null, content: null });\n\n      addClass(tabContent, collapsingClass);\n      tabContent.style.height = `${currentHeight}px`;\n      reflow(tabContent);\n      [content, nextContent].forEach(c => {\n        if (c) removeClass(c, 'overflow-hidden');\n      });\n    }\n\n    if (nextContent && nextContent && hasClass(nextContent, fadeClass)) {\n      setTimeout(() => {\n        addClass(nextContent, showClass);\n        emulateTransitionEnd(nextContent, () => {\n          triggerTabShow(self);\n        });\n      }, 1);\n    } else {\n      if (nextContent) addClass(nextContent, showClass);\n      triggerTabShow(self);\n    }\n\n    if (tab) dispatchEvent(tab, hiddenTabEvent);\n  }\n};\n\n/**\n * Returns the current active tab and its target content.\n *\n * @param self the `Tab` instance\n * @returns the query result\n */\nconst getActiveTab = (self: Tab): { tab: HTMLElement | null; content: HTMLElement | null } => {\n  const { nav } = self;\n  /* istanbul ignore next */\n  if (!isHTMLElement(nav as HTMLElement | undefined)) return { tab: null, content: null };\n\n  const activeTabs = getElementsByClassName(activeClass, nav as HTMLElement);\n  let tab: HTMLElement | null = null;\n  /* istanbul ignore else */\n  if (activeTabs.length === 1 && !dropdownClasses.some(c => hasClass(activeTabs[0].parentElement as HTMLElement, c))) {\n    [tab] = activeTabs;\n  } else if (activeTabs.length > 1) {\n    tab = activeTabs[activeTabs.length - 1];\n  }\n  const content = isHTMLElement(tab as HTMLElement) ? getTargetElement(tab as HTMLElement) : null;\n  return { tab, content };\n};\n\n/**\n * Returns a parent dropdown.\n *\n * @param element the `Tab` element\n * @returns the parent dropdown\n */\nconst getParentDropdown = (element?: HTMLElement): HTMLElement | null => {\n  /* istanbul ignore next */\n  if (!isHTMLElement(element)) return null;\n  const dropdown = closest(element, `.${dropdownClasses.join(',.')}`);\n  return dropdown ? querySelector(`.${dropdownClasses[0]}-toggle`, dropdown) : null;\n};\n\n/**\n * Toggles on/off the `click` event listener.\n *\n * @param self the `Tab` instance\n * @param add when `true`, event listener is added\n */\nconst toggleTabHandler = (self: Tab, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  action(self.element, mouseclickEvent, tabClickHandler);\n};\n\n// TAB EVENT HANDLER\n// =================\n/**\n * Handles the `click` event listener.\n *\n * @param e the `Event` object\n */\nconst tabClickHandler = (e: Event) => {\n  const self = getTabInstance(e.target as HTMLElement);\n\n  /* istanbul ignore else */\n  if (self) {\n    e.preventDefault();\n    self.show();\n  }\n};\n\n// TAB DEFINITION\n// ==============\n/** Creates a new `Tab` instance. */\nexport default class Tab extends BaseComponent {\n  static selector = tabSelector;\n  static init = tabInitCallback;\n  static getInstance = getTabInstance;\n  declare nav: HTMLElement | null;\n  declare content: HTMLElement | null;\n  declare tabContent: HTMLElement | null;\n  declare nextContent: HTMLElement | null;\n  declare dropdown: HTMLElement | null;\n\n  /** @param target the target element */\n  constructor(target: HTMLElement | string) {\n    super(target);\n\n    // initialization element\n    const { element } = this;\n    const content = getTargetElement(element);\n\n    // no point initializing a tab without a corresponding content\n    /* istanbul ignore else */\n    if (content) {\n      const nav = closest(element, '.nav');\n      const container = closest(content, '.tab-content');\n\n      this.nav = nav;\n      this.content = content;\n      this.tabContent = container;\n\n      // event targets\n      this.dropdown = getParentDropdown(element);\n\n      // show first Tab instance of none is shown\n      // suggested on #432\n      const { tab } = getActiveTab(this);\n      if (nav && !tab) {\n        const firstTab = querySelector(tabSelector, nav);\n        const firstTabContent = firstTab && getTargetElement(firstTab);\n\n        /* istanbul ignore else */\n        if (firstTabContent) {\n          addClass(firstTab, activeClass);\n          addClass(firstTabContent, showClass);\n          addClass(firstTabContent, activeClass);\n          setAttribute(element, ariaSelected, 'true');\n        }\n      }\n\n      // add event listener\n      toggleTabHandler(this, true);\n    }\n  }\n\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return tabComponent;\n  }\n\n  // TAB PUBLIC METHODS\n  // ==================\n  /** Shows the tab to the user. */\n  show() {\n    const { element, content: nextContent, nav, dropdown } = this;\n\n    /* istanbul ignore else */\n    if (!(nav && Timer.get(nav)) && !hasClass(element, activeClass)) {\n      const { tab, content } = getActiveTab(this);\n\n      /* istanbul ignore else */\n      if (nav) tabPrivate.set(nav, { tab, content, currentHeight: 0, nextHeight: 0 });\n\n      // update relatedTarget and dispatch\n      hideTabEvent.relatedTarget = element;\n\n      /* istanbul ignore else */\n      if (isHTMLElement(tab)) {\n        dispatchEvent(tab as EventTarget, hideTabEvent);\n        /* istanbul ignore else */\n        if (!hideTabEvent.defaultPrevented) {\n          addClass(element, activeClass);\n          setAttribute(element, ariaSelected, 'true');\n\n          const activeDropdown = isHTMLElement(tab) && getParentDropdown(tab);\n          if (activeDropdown && hasClass(activeDropdown, activeClass)) {\n            removeClass(activeDropdown, activeClass);\n          }\n\n          /* istanbul ignore else */\n          if (nav) {\n            const toggleTab = () => {\n              if (tab) {\n                removeClass(tab, activeClass);\n                setAttribute(tab, ariaSelected, 'false');\n              }\n              if (dropdown && !hasClass(dropdown, activeClass)) addClass(dropdown, activeClass);\n            };\n\n            if (content && (hasClass(content, fadeClass) || (nextContent && hasClass(nextContent, fadeClass)))) {\n              Timer.set(nav, toggleTab, 1);\n            } else toggleTab();\n          }\n\n          if (content) {\n            removeClass(content, showClass);\n            if (hasClass(content, fadeClass)) {\n              emulateTransitionEnd(content, () => triggerTabHide(this));\n            } else {\n              triggerTabHide(this);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /** Removes the `Tab` component from the target element. */\n  dispose() {\n    toggleTabHandler(this);\n    super.dispose();\n  }\n}\n", "/** @type {string} */\nconst toastString = 'toast';\nexport default toastString;\n", "/** @type {string} */\nconst toastComponent = 'Toast';\nexport default toastComponent;\n", "/* Native JavaScript for Bootstrap 5 | Toast\n-------------------------------------------- */\nimport {\n  mouseclickEvent,\n  closest,\n  removeClass,\n  hasClass,\n  addClass,\n  focusoutEvent,\n  focusinEvent,\n  mouseleaveEvent,\n  mouseenterEvent,\n  createCustomEvent,\n  getDocument,\n  Timer,\n  getInstance,\n  reflow,\n  // ObjectAssign,\n  emulateTransitionEnd,\n  dispatchEvent,\n  querySelectorAll,\n  querySelector,\n} from '@thednp/shorty';\n\nimport { addListener, removeListener } from '@thednp/event-listener';\n\nimport fadeClass from '../strings/fadeClass';\nimport showClass from '../strings/showClass';\nimport dataBsDismiss from '../strings/dataBsDismiss';\nimport dataBsToggle from '../strings/dataBsToggle';\nimport toastString from '../strings/toastString';\nimport toastComponent from '../strings/toastComponent';\nimport getTargetElement from '../util/getTargetElement';\nimport BaseComponent from './base-component';\nimport { ToastOptions, ToastEvent } from '../interface/toast';\n\n// TOAST PRIVATE GC\n// ================\nconst toastSelector = `.${toastString}`;\nconst toastDismissSelector = `[${dataBsDismiss}=\"${toastString}\"]`;\nconst toastToggleSelector = `[${dataBsToggle}=\"${toastString}\"]`;\nconst showingClass = 'showing';\n/** @deprecated */\nconst hideClass = 'hide';\n\nconst toastDefaults = {\n  animation: true,\n  autohide: true,\n  delay: 5000,\n};\n\n/**\n * Static method which returns an existing `Toast` instance associated\n * to a target `Element`.\n */\nconst getToastInstance = (element: HTMLElement) => getInstance<Toast>(element, toastComponent);\n\n/**\n * A `Toast` initialization callback.\n */\nconst toastInitCallback = (element: HTMLElement) => new Toast(element);\n\n// TOAST CUSTOM EVENTS\n// ===================\nconst showToastEvent = createCustomEvent<ToastEvent>(`show.bs.${toastString}`);\nconst shownToastEvent = createCustomEvent<ToastEvent>(`shown.bs.${toastString}`);\nconst hideToastEvent = createCustomEvent<ToastEvent>(`hide.bs.${toastString}`);\nconst hiddenToastEvent = createCustomEvent<ToastEvent>(`hidden.bs.${toastString}`);\n\n// TOAST PRIVATE METHODS\n// =====================\n/**\n * Executes after the toast is shown to the user.\n *\n * @param self the `Toast` instance\n */\nconst showToastComplete = (self: Toast) => {\n  const { element, options } = self;\n  removeClass(element, showingClass);\n  Timer.clear(element, showingClass);\n\n  dispatchEvent(element, shownToastEvent);\n  /* istanbul ignore else */\n  if (options.autohide) {\n    Timer.set(element, () => self.hide(), options.delay, toastString);\n  }\n};\n\n/**\n * Executes after the toast is hidden to the user.\n *\n * @param self the `Toast` instance\n */\nconst hideToastComplete = (self: Toast) => {\n  const { element } = self;\n  removeClass(element, showingClass);\n  removeClass(element, showClass);\n  addClass(element, hideClass); // B/C\n  Timer.clear(element, toastString);\n  dispatchEvent(element, hiddenToastEvent);\n};\n\n/**\n * Executes before hiding the toast.\n *\n * @param self the `Toast` instance\n */\nconst hideToast = (self: Toast) => {\n  const { element, options } = self;\n  addClass(element, showingClass);\n\n  if (options.animation) {\n    reflow(element);\n    emulateTransitionEnd(element, () => hideToastComplete(self));\n  } else {\n    hideToastComplete(self);\n  }\n};\n\n/**\n * Executes before showing the toast.\n *\n * @param self the `Toast` instance\n */\nconst showToast = (self: Toast) => {\n  const { element, options } = self;\n  Timer.set(\n    element,\n    () => {\n      removeClass(element, hideClass); // B/C\n      reflow(element);\n      addClass(element, showClass);\n      addClass(element, showingClass);\n\n      if (options.animation) {\n        emulateTransitionEnd(element, () => showToastComplete(self));\n      } else {\n        showToastComplete(self);\n      }\n    },\n    17,\n    showingClass,\n  );\n};\n\n/**\n * Toggles on/off the `click` event listener.\n *\n * @param self the `Toast` instance\n * @param add when `true`, it will add the listener\n */\nconst toggleToastHandlers = (self: Toast, add?: boolean) => {\n  const action = add ? addListener : removeListener;\n  const { element, triggers, dismiss, options, hide } = self;\n\n  /* istanbul ignore else */\n  if (dismiss) {\n    action(dismiss, mouseclickEvent, hide);\n  }\n\n  /* istanbul ignore else */\n  if (options.autohide) {\n    [focusinEvent, focusoutEvent, mouseenterEvent, mouseleaveEvent].forEach(e =>\n      action(element, e, interactiveToastHandler as EventListener),\n    );\n  }\n  /* istanbul ignore else */\n  if (triggers.length) {\n    triggers.forEach(btn => action(btn, mouseclickEvent, toastClickHandler));\n  }\n};\n\n// TOAST EVENT HANDLERS\n// ====================\n/**\n * Executes after the instance has been disposed.\n *\n * @param {Toast} self the `Toast` instance\n */\nconst completeDisposeToast = (self: Toast) => {\n  Timer.clear(self.element, toastString);\n  toggleToastHandlers(self);\n};\n\n/**\n * Handles the `click` event listener for toast.\n *\n * @param e the `Event` object\n */\nconst toastClickHandler = (e: Event) => {\n  const { target } = e;\n\n  const trigger = target && closest(target as HTMLElement, toastToggleSelector);\n  const element = trigger && getTargetElement(trigger);\n  const self = element && getToastInstance(element);\n\n  /* istanbul ignore else */\n  if (self) {\n    /* istanbul ignore else */\n    if (trigger && trigger.tagName === 'A') e.preventDefault();\n    self.relatedTarget = trigger;\n    self.show();\n  }\n};\n\n/**\n * Executes when user interacts with the toast without closing it,\n * usually by hovering or focusing it.\n *\n * @param e the `Toast` instance\n */\nconst interactiveToastHandler = (e: MouseEvent) => {\n  const element = e.target as HTMLElement;\n  const self = getToastInstance(element);\n  const { type, relatedTarget } = e;\n\n  /* istanbul ignore else: a solid filter is required */\n  if (self && element !== relatedTarget && !element.contains(relatedTarget as Node)) {\n    if ([mouseenterEvent, focusinEvent].includes(type)) {\n      Timer.clear(element, toastString);\n    } else {\n      Timer.set(element, () => self.hide(), self.options.delay, toastString);\n    }\n  }\n};\n\n// TOAST DEFINITION\n// ================\n/** Creates a new `Toast` instance. */\nexport default class Toast extends BaseComponent {\n  static selector = toastSelector;\n  static init = toastInitCallback;\n  static getInstance = getToastInstance;\n  declare options: ToastOptions;\n  declare dismiss: HTMLElement | null;\n  declare triggers: HTMLElement[];\n  declare relatedTarget: HTMLElement | null;\n\n  /**\n   * @param target the target `.toast` element\n   * @param config the instance options\n   */\n  constructor(target: HTMLElement | string, config?: Partial<ToastOptions>) {\n    super(target, config);\n    const { element, options } = this;\n\n    // set fadeClass, the options.animation will override the markup\n    if (options.animation && !hasClass(element, fadeClass)) addClass(element, fadeClass);\n    else if (!options.animation && hasClass(element, fadeClass)) removeClass(element, fadeClass);\n\n    // dismiss button\n    this.dismiss = querySelector(toastDismissSelector, element);\n\n    // toast can have multiple triggering elements\n    this.triggers = [...querySelectorAll(toastToggleSelector, getDocument(element))].filter(\n      btn => getTargetElement(btn) === element,\n    );\n\n    // add event listener\n    toggleToastHandlers(this, true);\n  }\n  /**\n   * Returns component name string.\n   */\n  get name() {\n    return toastComponent;\n  }\n  /**\n   * Returns component default options.\n   */\n  get defaults() {\n    return toastDefaults;\n  }\n  /**\n   * Returns *true* when toast is visible.\n   */\n  get isShown() {\n    return hasClass(this.element, showClass);\n  }\n\n  // TOAST PUBLIC METHODS\n  // ====================\n  /** Shows the toast. */\n  show = () => {\n    const { element, isShown } = this;\n\n    /* istanbul ignore else */\n    if (element && !isShown) {\n      dispatchEvent(element, showToastEvent);\n      if (!showToastEvent.defaultPrevented) {\n        showToast(this);\n      }\n    }\n  };\n\n  /** Hides the toast. */\n  hide = () => {\n    const { element, isShown } = this;\n\n    /* istanbul ignore else */\n    if (element && isShown) {\n      dispatchEvent(element, hideToastEvent);\n      if (!hideToastEvent.defaultPrevented) {\n        hideToast(this);\n      }\n    }\n  };\n\n  /** Removes the `Toast` component from the target element. */\n  dispose() {\n    const { element, isShown } = this;\n\n    /* istanbul ignore else */\n    if (isShown) {\n      removeClass(element, showClass);\n    }\n\n    completeDisposeToast(this);\n\n    super.dispose();\n  }\n}\n", "import { Data, getElementsByTagName, matches } from '@thednp/shorty';\n\nimport { addListener } from '@thednp/event-listener';\n\nimport Alert from '../components/alert';\nimport Button from '../components/button';\nimport Carousel from '../components/carousel';\nimport Collapse from '../components/collapse';\nimport Dropdown from '../components/dropdown';\nimport Modal from '../components/modal';\nimport Offcanvas from '../components/offcanvas';\nimport Popover from '../components/popover';\nimport ScrollSpy from '../components/scrollspy';\nimport Tab from '../components/tab';\nimport Toast from '../components/toast';\nimport Tooltip from '../components/tooltip';\n\nconst componentsList = new Map<\n  string,\n  | typeof Alert\n  | typeof Button\n  | typeof Carousel\n  | typeof Collapse\n  | typeof Dropdown\n  | typeof Modal\n  | typeof Offcanvas\n  | typeof Popover\n  | typeof ScrollSpy\n  | typeof Tab\n  | typeof Toast\n  | typeof Tooltip\n>();\n\n[Alert, Button, Carousel, Collapse, Dropdown, Modal, Offcanvas, Popover, ScrollSpy, Tab, Toast, Tooltip].forEach(c =>\n  componentsList.set(c.prototype.name, c),\n);\n\n/**\n * Initialize all matched `Element`s for one component.\n *\n * @param callback\n * @param collection\n */\nconst initComponentDataAPI = <T>(\n  callback: (el: HTMLElement, ops?: Record<string, unknown>) => T,\n  collection: HTMLCollectionOf<HTMLElement> | HTMLElement[],\n) => {\n  [...collection].forEach(x => callback(x));\n};\n\n/**\n * Remove one component from a target container element or all in the page.\n *\n * @param component the component name\n * @param context parent `Node`\n */\nconst removeComponentDataAPI = <T>(component: string, context: ParentNode) => {\n  const compData = Data.getAllFor(component) as Map<HTMLElement, T>;\n\n  if (compData) {\n    [...compData].forEach(([element, instance]) => {\n      if (context.contains(element)) (instance as T & { dispose: () => void }).dispose();\n    });\n  }\n};\n\n/**\n * Initialize all BSN components for a target container.\n *\n * @param context parent `Node`\n */\nexport const initCallback = (context?: ParentNode) => {\n  const lookUp = context && context.nodeName ? context : document;\n  const elemCollection = [...getElementsByTagName('*', lookUp)];\n\n  componentsList.forEach(cs => {\n    const { init, selector } = cs;\n    initComponentDataAPI(\n      init,\n      elemCollection.filter(item => matches(item, selector)),\n    );\n  });\n};\n\n/**\n * Remove all BSN components for a target container.\n *\n * @param context parent `Node`\n */\nexport const removeDataAPI = (context?: ParentNode) => {\n  const lookUp = context && context.nodeName ? context : document;\n\n  componentsList.forEach(comp => {\n    removeComponentDataAPI(comp.prototype.name, lookUp);\n  });\n};\n\n// Bulk initialize all components\nif (document.body) initCallback();\nelse {\n  addListener(document, 'DOMContentLoaded', () => initCallback(), { once: true });\n}\n", "export default function () {\n  document.body.addEventListener(\"htmx:configRequest\", (evt) => {\n    evt.detail.headers[\"X-CSRF-Token\"] = document.querySelector(\n      'meta[name=\"csrf-token\"]',\n    ).content;\n  });\n}\n", "export default function () {\n  const label_select_all = \"Select all\";\n  const label_deselect_all = \"Deselect all\";\n\n  let formSwitchCheck = function (evt) {\n    let btn = evt.target;\n    let form = btn.closest(\"form\");\n    let chks = form.querySelectorAll(\"input[type='checkbox']\");\n    let isSelectAll = btn.textContent == label_select_all;\n    chks.forEach((el) => (el.checked = isSelectAll));\n    btn.textContent = isSelectAll ? label_deselect_all : label_select_all;\n  };\n\n  document.querySelectorAll(\"button.form-check-all\").forEach((btn) => {\n    btn.addEventListener(\"click\", formSwitchCheck);\n\n    //determine startup button value\n    let form = btn.closest(\"form\");\n    let chks = form.querySelectorAll(\"input[type='checkbox']\");\n    let isSelectAll = true;\n    for (let i = 0; i < chks.length; i++) {\n      if (chks[i].checked) {\n        isSelectAll = false;\n        break;\n      }\n    }\n    btn.textContent = isSelectAll ? label_select_all : label_deselect_all;\n  });\n}\n", "export default function (rootEl) {\n  rootEl.querySelectorAll(\"[data-clipboard]\").forEach((btn) => {\n    btn.addEventListener(\"click\", () => {\n      navigator.clipboard.writeText(btn.dataset.clipboard).then(() => {\n        let icon = btn.querySelector(\".if\");\n        let text = btn.querySelector(\".btn-text\");\n        let origBtnClass = btn.className;\n        let origIconClass = icon.className;\n        let origTextClass = text.className;\n        let origText = text.innerText;\n\n        btn.classList.remove(\"btn-outline-secondary\");\n        btn.classList.add(\"btn-outline-success\");\n\n        icon.classList.remove(\"if-copy\", \"text-muted\");\n        icon.classList.add(\"if-check\", \"text-success\");\n\n        text.classList.remove(\"text-muted\");\n        text.classList.add(\"text-success\");\n        text.setAttribute(\"aria-live\", \"polite\");\n        text.innerText = \"Copied\";\n\n        setTimeout(function () {\n          btn.className = origBtnClass;\n          icon.className = origIconClass;\n          text.className = origTextClass;\n          text.innerText = origText;\n        }, 1500);\n      });\n    });\n  });\n}\n", "import htmx from \"htmx.org\";\nimport { Popover } from \"bootstrap.native\";\n\nexport default function () {\n  let addEvents = function (rootEl) {\n    rootEl\n      .querySelectorAll(\"[data-bs-toggle=popover-custom]\")\n      .forEach(function (el) {\n        let container = document.querySelector(el.dataset.popoverContent);\n        let content = container.querySelector(\".popover-body\");\n        let heading = container.querySelector(\".popover-heading\");\n        let title = \"\";\n        if (heading) {\n          title = heading.innerHTML;\n        }\n        new Popover(el, {\n          content: content.innerHTML,\n          title: title,\n          delay: 1000,\n        });\n      });\n  };\n\n  htmx.onLoad(addEvents);\n}\n", "/**\n * Collapsible header.\n *\n * Collapsible header is used for hiding / showing the summary of a\n * publication on the edit forms. The state of the header (hidden / shown)\n * is persisted across page reloads via the browsers local storage.\n */\nexport default function () {\n  class Header {\n    constructor(el) {\n      this.el = el;\n      this.collapsers = el.querySelectorAll(\".c-header-collapse-trigger\");\n      this.collapsed = false;\n      this.init();\n    }\n\n    init() {\n      try {\n        const savedState = JSON.parse(\n          localStorage.getItem(HEADER_STATE_STORAGE_KEY),\n        );\n        headerState = Object.assign({}, headerState, savedState);\n      } catch (err) {\n        console.warn(\n          \"There was an error parsing the saved state for the prototype navigation.\",\n        );\n      }\n\n      // Handle state on page load: open/close nav and close saved modules\n      if (headerState.isExpanded) {\n        this.show();\n      } else {\n        this.hide();\n      }\n\n      this.collapsers?.forEach((collapser) =>\n        collapser.addEventListener(\"click\", this),\n      );\n    }\n\n    handleEvent(event) {\n      this.toggle(event);\n    }\n\n    toggle(event) {\n      if (this.collapsed) this.show();\n      else if (!this.collapsed) this.hide();\n    }\n\n    show() {\n      this.el.dataset.collapsed = false;\n      this.collapsed = false;\n      headerState.isExpanded = true;\n\n      this.saveNavState();\n    }\n\n    saveNavState() {\n      localStorage.setItem(\n        HEADER_STATE_STORAGE_KEY,\n        JSON.stringify(headerState),\n      );\n    }\n\n    hide() {\n      this.el.dataset.collapsed = true;\n      this.collapsed = true;\n      headerState.isExpanded = false;\n      this.saveNavState();\n    }\n  }\n\n  let headerState = {\n    isExpanded: false,\n  };\n\n  const collapsibleHeaders = document.querySelectorAll(\".c-header-collapsible\");\n  const HEADER_STATE_STORAGE_KEY = `bedrockheaderState`;\n\n  if (collapsibleHeaders.length)\n    [...collapsibleHeaders].map(\n      (collapsibleHeader) => new Header(collapsibleHeader),\n    );\n}\n", "import htmx from \"htmx.org\";\n\n// Handles fields with multiple values\nexport default function () {\n  const reTmpl = /^data-tmpl-(.+)/;\n\n  const setValueIndex = (formValue, valueIndex) => {\n    Array.from(formValue.getElementsByTagName(\"*\")).forEach(function (el) {\n      if (el.hasAttributes()) {\n        let attrs = el.attributes;\n        for (var i = 0; i < attrs.length; i++) {\n          let m = attrs[i].name.match(reTmpl);\n          if (m) {\n            el.setAttribute(m[1], attrs[i].value.replace(\"{i}\", valueIndex));\n          }\n        }\n      }\n    });\n  };\n\n  const addEvents = (rootEl) => {\n    // Delete a value from the field\n    let deleteFormValue = function (e) {\n      let formField = e.target.closest(\"div.form-values\");\n      e.target.closest(\"div.form-value\").remove();\n      let length = Array.from(formField.children).length;\n\n      for (var valueIndex = 0; valueIndex < length; valueIndex++) {\n        setValueIndex(formField.children[valueIndex], valueIndex);\n      }\n    };\n\n    // Add a new value to the field\n    let addFormValue = function (e) {\n      let formField = e.target.closest(\"div.form-values\");\n      let formValues = formField.querySelectorAll(\"div.form-value\");\n      let lastValue = formValues[formValues.length - 1];\n      let valueIndex = formValues.length;\n\n      let newValue = lastValue.cloneNode(true);\n      newValue.querySelector(\".form-control\").value = \"\";\n      newValue.querySelectorAll(\".is-invalid\").forEach((item) => {\n        item.classList.remove(\"is-invalid\");\n      });\n\n      // set html attrs from their templates\n      setValueIndex(newValue, valueIndex);\n\n      // switch last value button to delete\n      let lastBtn = lastValue.querySelector(\"button.form-value-add\");\n      let classList = lastBtn.classList;\n      classList.remove(\"form-value-add\");\n      classList.remove(\"btn-outline-primary\");\n      classList.add(\"btn-link-muted\");\n      classList.add(\"form-value-delete\");\n      classList = lastValue.querySelector(\"i.if-add\").classList;\n      classList.remove(\"if-add\");\n      classList.add(\"if-delete\");\n      lastValue.querySelector(\n        \".form-value-delete .visually-hidden\",\n      ).textContent = \"Delete\";\n      lastBtn.removeEventListener(\"click\", addFormValue);\n      lastBtn.addEventListener(\"click\", deleteFormValue);\n\n      // insert new value\n      lastValue.after(newValue);\n      // activate htmx on new element\n      htmx.process(newValue);\n      // activate add button\n      newValue\n        .querySelector(\"button.form-value-add\")\n        .addEventListener(\"click\", addFormValue);\n      // fire added event\n      newValue.dispatchEvent(\n        new CustomEvent(\"form-value-add\", { bubbles: true }),\n      );\n    };\n\n    rootEl\n      .querySelectorAll(\"button.form-value-delete\")\n      .forEach((el) => el.addEventListener(\"click\", deleteFormValue));\n\n    rootEl\n      .querySelectorAll(\"button.form-value-add\")\n      .forEach((el) => el.addEventListener(\"click\", addFormValue));\n  };\n\n  htmx.onLoad(addEvents);\n}\n", "export default function () {\n  document.querySelectorAll(\"form.form-change-submit\").forEach(function (el) {\n    el.addEventListener(\"change\", function (evt) {\n      const spinner = el.querySelector(\".spinner-border\");\n      if (spinner !== null) {\n        spinner.style.display = \"inline-block\";\n        spinner.style.opacity = \"1\";\n      }\n\n      el.submit();\n    });\n  });\n\n  document.querySelectorAll(\"form .form-change-submit\").forEach(function (el) {\n    el.addEventListener(\"change\", function (evt) {\n      evt.target.closest(\"form\").submit();\n    });\n  });\n}\n", "import htmx from \"htmx.org\";\n\nexport default function () {\n  let addEvents = function (rootEl) {\n    rootEl.querySelectorAll(\".autocomplete\").forEach(function (ac) {\n      let target = document.querySelector(ac.dataset.target);\n      target.addEventListener(\"keydown\", function (evt) {\n        if (evt.key === \"Escape\") {\n          ac.querySelector(\".autocomplete-hits\").innerHTML = \"\";\n        }\n      });\n    });\n\n    rootEl.querySelectorAll(\".autocomplete-hit\").forEach(function (hit) {\n      hit.addEventListener(\"click\", function () {\n        let target = hit.closest(\".autocomplete\").dataset.target;\n        let v = hit.dataset.value;\n        document.querySelector(target).value = v;\n        hit.closest(\".autocomplete-hits\").innerHTML = \"\";\n      });\n    });\n  };\n\n  htmx.onLoad(function (el) {\n    addEvents(el);\n  });\n  // listen for inputs added with multiple.js\n  document.addEventListener(\"form-value-add\", function (evt) {\n    addEvents(evt.target);\n  });\n}\n", "import htmx from \"htmx.org\";\n\n// Set an event handler on any buttons that have the 'modal-close' class.\n// This ensures that any and all modals can be closed via 'close', 'cancel', etc. buttons.\nexport default function () {\n  let modalClose = function (evt) {\n    let modal = document.querySelectorAll(\".modal\").item(0);\n    let backdrop = document.querySelectorAll(\".modal-backdrop\").item(0);\n\n    if (modal) {\n      modal.classList.remove(\"show\");\n    }\n\n    if (backdrop) {\n      backdrop.classList.remove(\"show\");\n    }\n\n    // Timeout gives us a fluid animation\n    setTimeout(function () {\n      if (backdrop) {\n        backdrop.remove();\n      }\n\n      if (modal) {\n        modal.remove();\n      }\n    }, 100);\n  };\n\n  htmx.onLoad(function (el) {\n    el.querySelectorAll(\".modal-close\").forEach(function (btn) {\n      btn.addEventListener(\"click\", modalClose);\n    });\n  });\n}\n", "import htmx from \"htmx.org\";\n\nexport default function () {\n  let toggleSelected = function (evt) {\n    let group = evt.currentTarget.closest(\".radio-card-group\");\n    let cards = group.querySelectorAll(\".c-radio-card\");\n    cards.forEach(function (card) {\n      card.setAttribute(\"aria-selected\", \"false\");\n      card.classList.remove(\"c-radio-card--selected\");\n    });\n    evt.currentTarget.setAttribute(\"aria-selected\", \"true\");\n    evt.currentTarget.classList.add(\"c-radio-card--selected\");\n  };\n\n  let addEvents = function (rootEl) {\n    rootEl\n      .querySelectorAll(\".radio-card-group .c-radio-card\")\n      .forEach((card) => card.addEventListener(\"click\", toggleSelected));\n  };\n\n  addEvents(document);\n\n  htmx.onLoad(addEvents);\n}\n", "import htmx from \"htmx.org\";\n\nexport default function () {\n  let addEvents = function (rootEl) {\n    rootEl\n      .querySelectorAll('.btn-close[data-bs-dismiss=\"toast\"]')\n      .forEach(function (btn) {\n        btn.addEventListener(\"click\", () => {\n          btn.closest(\".toast\").remove();\n        });\n      });\n  };\n\n  htmx.onLoad(addEvents);\n}\n", "import htmx from \"htmx.org\";\nimport Sortable from \"sortablejs\";\n\nexport default function () {\n  const addEvents = (content) => {\n    var sortables = content.querySelectorAll(\".sortable\");\n    for (var i = 0; i < sortables.length; i++) {\n      var sortable = sortables[i];\n      new Sortable(sortable, {\n        handle: \".sortable-handle\",\n        animation: 150,\n        revertOnSpill: true,\n      });\n    }\n  };\n\n  htmx.onLoad(addEvents);\n}\n", "/**!\n * Sortable 1.15.0\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar version = \"1.15.0\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options, includeDragEl) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar _excluded = [\"evt\"];\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, _excluded);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread2({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\r\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\r\n * @param  {Number} x      X position\r\n * @param  {Number} y      Y position\r\n * @return {HTMLElement}   Element of the first found nearest Sortable\r\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    var threshold = sortable[expando].options.emptyInsertThreshold;\n    if (!threshold || lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists && !ChromeForAndroid) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\r\n * @class  Sortable\r\n * @param  {HTMLElement}  el\r\n * @param  {Object}       [options]\r\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    } // Safari ignores further event handling after mousedown\n\n\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl, true),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.removeAttribute(\"id\");\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread2({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // Insert to end of list\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // if there is a last element, it is the target\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n\n          if (elLastChild && elLastChild.nextSibling) {\n            // the last draggable element is not the last node\n            el.insertBefore(dragEl, elLastChild.nextSibling);\n          } else {\n            el.appendChild(dragEl);\n          }\n\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n        // Insert to start of list\n        var firstChild = getChild(el, 0, options, true);\n\n        if (firstChild === dragEl) {\n          return completed(false);\n        }\n\n        target = firstChild;\n        targetRect = getRect(target);\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n          capture();\n          el.insertBefore(dragEl, firstChild);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    css(dragEl, 'transform', '');\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\r\n   * Serializes the item into an array of string.\r\n   * @returns {String[]}\r\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\r\n   * Sorts the elements according to the array.\r\n   * @param  {String[]}  order  order of the items\r\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n\n  /**\r\n   * Save the current sorting\r\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\r\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\r\n   * @param   {HTMLElement}  el\r\n   * @param   {String}       [selector]  default: `options.draggable`\r\n   * @returns {HTMLElement|null}\r\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\r\n   * Set/get option\r\n   * @param   {string} name\r\n   * @param   {*}      [value]\r\n   * @returns {*}\r\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\r\n   * Destroy\r\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    this._disableDelayedDragEvents();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsFirst(evt, vertical, sortable) {\n  var rect = getRect(getChild(sortable.el, 0, sortable.options, true));\n  var spacer = 10;\n  return vertical ? evt.clientX < rect.left - spacer || evt.clientY < rect.top && evt.clientX < rect.right : evt.clientY < rect.top - spacer || evt.clientY < rect.bottom && evt.clientX < rect.left;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\r\n * Gets the direction dragEl must be swapped relative to target in order to make it\r\n * seem that dragEl has been \"inserted\" into that element's position\r\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\r\n * @return {Number}                   Direction dragEl must be swapped\r\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\r\n * Generate id\r\n * @param   {HTMLElement} el\r\n * @returns {String}\r\n * @private\r\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\r\n * Get the Sortable instance of an element\r\n * @param  {HTMLElement} element The element\r\n * @return {Sortable|undefined}         The instance of Sortable\r\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\r\n * Mount a plugin to Sortable\r\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\r\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\r\n * Create sortable instance\r\n * @param {HTMLElement}  el\r\n * @param {Object}      [options]\r\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      forceAutoScrollFallback: false,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (!sortable.options.avoidImplicitDeselect) {\n      if (sortable.options.supportPointer) {\n        on(document, 'pointerup', this._deselectMultiDrag);\n      } else {\n        on(document, 'mouseup', this._deselectMultiDrag);\n        on(document, 'touchend', this._deselectMultiDrag);\n      }\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      avoidImplicitDeselect: false,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvent: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        folding = false; // Do not \"unfold\" after around dragEl if reverted\n\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvent: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nexport default Sortable;\nexport { MultiDragPlugin as MultiDrag, Sortable, SwapPlugin as Swap };\n", "// /* ==========================================================================\n//     Collapsible card content\n//    ========================================================================== */\n\nimport htmx from \"htmx.org\";\n\nexport default function () {\n  let toggler = function (evt) {\n    let showCardInfo = evt.currentTarget.closest(\"[data-collapsible-card]\");\n    let cardContent = showCardInfo.querySelector(\n      \"[data-collapsible-card-content]\",\n    );\n    cardContent.classList.toggle(\"show\");\n  };\n\n  let addEvents = function () {\n    document\n      .querySelectorAll(\"[data-collapsible-card-toggle]\")\n      .forEach((cardContent) => cardContent.addEventListener(\"click\", toggler));\n  };\n\n  addEvents();\n\n  htmx.onLoad(function (el) {\n    addEvents();\n  });\n}\n", "// /* ==========================================================================\n//     Collapsible sub sidebar\n//    ========================================================================== */\n\n//    $('[data-sidebar-toggle]').click(function () {\n//     $('[data-sidebar]').toggleClass('collapsed');\n//   });\n\nimport htmx from \"htmx.org\";\n\nexport default function () {\n  let toggler = function (evt) {\n    let showSidebar = evt.currentTarget.closest(\"#show-sidebar\");\n    let sidebar = showSidebar.querySelector(\"[data-sidebar]\");\n    sidebar.classList.toggle(\"collapsed\");\n  };\n\n  let addEvents = function () {\n    document\n      .querySelectorAll(\"[data-sidebar-toggle]\")\n      .forEach((sidebar) => sidebar.addEventListener(\"click\", toggler));\n  };\n\n  addEvents();\n\n  htmx.onLoad(function (el) {\n    addEvents();\n  });\n}\n\n//   import htmx from 'htmx.org';\n\n//   export default function () {\n//       let toggleSelected = function(evt) {\n//           let group = evt.currentTarget.closest('.radio-card-group')\n//           let cards = group.querySelectorAll('.c-radio-card')\n//           cards.forEach(function(card) {\n//               card.setAttribute('aria-selected', 'false');\n//               card.classList.remove('c-radio-card--selected');\n//           })\n//           evt.currentTarget.setAttribute('aria-selected', 'true');\n//           evt.currentTarget.classList.add('c-radio-card--selected');\n//       }\n\n//       // let goToURL = function(evt) {\n//       //     window.location = this.dataset.url\n//       // }\n\n//       let addEvents = function() {\n//           document.querySelectorAll('.radio-card-group .c-radio-card').forEach(card =>\n//               card.addEventListener('click', toggleSelected)\n//           )\n//           // document.querySelectorAll('.c-radio-card[data-url]').forEach(card =>\n//           //     card.addEventListener('click', goToURL)\n//           // )\n//       }\n\n//       addEvents()\n\n//       htmx.onLoad(function(el) {\n//           addEvents()\n//       });\n//   }\n", "import htmx from \"htmx.org\";\n\nexport default function () {\n  /**\n   * Due to the use of HTMX and the lack of element form\n   * this is now the only way to recognize a focusable element\n   * on the page\n   * Form now only present on htmx load\n   */\n  htmx.onLoad(function (el) {\n    let input = el.querySelector(\".form-control-auto-focus\");\n    if (input == null) return;\n    input.focus();\n  });\n}\n", "import htmx from \"htmx.org\";\nimport modalError from \"./modal_error.js\";\n\nexport default function () {\n  htmx.onLoad(function (rootEl) {\n    rootEl\n      .querySelectorAll(\"input[type=file].upload-progress\")\n      .forEach((input) => {\n        input.addEventListener(\"change\", (evt) => {\n          const files = Array.from(input.files);\n          if (!files.length) return;\n\n          const file = files[0];\n          let form = input.closest(\"form\");\n          let target = document.querySelector(form.dataset.target);\n          let headers = JSON.parse(form.dataset.headers);\n          const maxSize = parseInt(input.dataset.maxSize);\n          const maxSizeError = input.dataset.maxSizeError;\n\n          if (!isNaN(maxSize) && maxSize > 0 && input.files[0].size > maxSize) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            modalError(maxSizeError);\n            hideFormUpload(form);\n            return;\n          }\n\n          // weird, but makes sure that middleware does not try to read _method from form\n          headers[\"X-HTTP-Method-Override\"] = \"POST\";\n          //\"Failed to execute 'setRequestHeader' on 'XMLHttpRequest': String contains non ISO-8859-1 code point\"\n          headers[\"X-Upload-Filename\"] = encodeURIComponent(file.name);\n          headers[\"Content-Type\"] = file.type;\n\n          let req = new XMLHttpRequest();\n\n          // request aborted by user\n          /*\n        req.addEventListener(\n          \"abort\",\n          (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            modalError(input.dataset.uploadMsgFileAborted);\n            hideFormUpload(form);\n          },\n          false\n        );*/\n\n          req.upload.addEventListener(\n            \"progress\",\n            (e) => {\n              if (!e.lengthComputable) return;\n              setProgress(form, Math.floor((e.loaded / e.total) * 100));\n            },\n            false,\n          );\n\n          req.addEventListener(\"readystatechange\", (e) => {\n            if (req.readyState !== 4) return;\n\n            hideFormUpload(form);\n\n            // file created\n            if (req.status == 200 || req.status == 201) {\n              target.innerHTML = req.responseText;\n              htmx.process(target);\n            }\n            // file too large (server side check)\n            else if (req.status == 413) {\n              modalError(input.dataset.uploadMsgFileTooLarge);\n            }\n            // publication has been removed in the meantime\n            else if (req.status == 404) {\n              modalError(input.dataset.uploadMsgRecordNotFound);\n            }\n            // undetermined errors\n            else {\n              modalError(input.dataset.uploadMsgUnexpected);\n            }\n          });\n\n          // switch to form upload\n          showFormUpload(form);\n\n          // and start request\n          req.open(form.method, form.action);\n          for (let key in headers) {\n            req.setRequestHeader(key, headers[key]);\n          }\n          req.send(file);\n        });\n      });\n  });\n}\n\nfunction showFormUpload(form) {\n  setProgress(form, 0);\n  form.querySelectorAll(\"input\").forEach((el) => {\n    el.disabled = true;\n  });\n  form.querySelector(\".file-upload-start\").classList.add(\"d-none\");\n  form.querySelector(\".file-upload-busy\").classList.remove(\"d-none\");\n}\n\nfunction hideFormUpload(form) {\n  setProgress(form, 0);\n  form.querySelectorAll(\"input\").forEach((el) => {\n    el.disabled = false;\n    // important to retrigger \"change\" when someone enters the same file name again\n    el.value = \"\";\n  });\n  form.querySelector(\".file-upload-start\").classList.remove(\"d-none\");\n  form.querySelector(\".file-upload-busy\").classList.add(\"d-none\");\n}\n\nfunction setProgress(form, pct) {\n  let pb = form.querySelector(\".progress-bar\");\n  pb.setAttribute(\"style\", \"width: \" + pct + \"%\");\n  pb.setAttribute(\"aria-valuenow\", pct);\n  let pi = form.querySelector(\".progress-bar-percent\");\n  pi.innerText = pct;\n}\n", "export default function (error) {\n  let modals = document.querySelector(\"#modals\");\n\n  if (!modals) return;\n\n  /*\n   * Expects somewhere in the document ..\n   *\n   * <template class=\"template-modal-error\"></template>\n   *\n   * .. a template that encapsulates the modal body\n   * */\n  let templateModalError = document.querySelector(\n    \"template.template-modal-error\",\n  );\n\n  if (!templateModalError) return;\n\n  let modal = templateModalError.content.cloneNode(true);\n\n  // modal-close not triggered for dynamically added modals\n  modal.querySelector(\".modal-close\").addEventListener(\"click\", function () {\n    modals.innerHTML = \"\";\n  });\n\n  modal.querySelector(\".msg\").textContent = error;\n\n  modals.innerHTML = \"\";\n  modals.appendChild(modal);\n}\n", "import htmx from \"htmx.org\";\nimport Tagify from \"@yaireo/tagify\"; // see https://github.com/yairEO/tagify\n\nexport default function () {\n  /*\n   * Expected html layout:\n   *\n   * <div class=\"tags\">\n   *  <span class=\"tags-real-values\"></span>\n   *  <textarea class=\"tags-widget-values\" data-input-name=\"keyword\">\n   *    [\"tag1\", \"tag2\"]\n   *  </textarea>\n   * </div>\n   *\n   * \"tags-real-values\" is filled with hidden input (by the widget) that are sent to the server\n   * \"tags-widget-values\" is a textarea that should be prefilled with json array of tags, that should have NO name,\n   * and should therefore not be sent to the server\n   * */\n\n  const fillRealValues = function (element, name, values) {\n    element.innerHTML = \"\";\n    for (let i = 0; i < values.length; i++) {\n      const input = document.createElement(\"input\");\n      input.type = \"hidden\";\n      input.name = `${name}[${i}]`;\n      input.value = values[i];\n      element.appendChild(input);\n    }\n  };\n\n  htmx.onLoad((rootEl) => {\n    rootEl.querySelectorAll(\".tags\").forEach((tags) => {\n      const realValues = tags.querySelector(\".tags-real-values\");\n      const widgetValues = tags.querySelector(\".tags-widget-values\");\n      const { inputName } = widgetValues.dataset;\n\n      // parse json, and fill tags-real-values\n      {\n        let val = widgetValues.value;\n        try {\n          val = JSON.parse(val);\n          if (Array.isArray(val)) {\n            fillRealValues(realValues, inputName, val);\n          }\n        } catch (err) {}\n      }\n\n      // load and configure tagify\n      const tagify = new Tagify(widgetValues, {\n        delimiters: \";|\\n|\\r\",\n        duplicates: false,\n        pasteAsTags: true,\n\n        // we have no dropdown, but setting \"caseSensitive\" is used by Tagify for duplicate check\n        dropdown: {\n          enabled: false,\n          caseSensitive: true,\n        },\n      });\n\n      tagify.on(\"change\", function (evt) {\n        fillRealValues(\n          realValues,\n          inputName,\n          evt.detail.tagify.value.map(function (v) {\n            return v.value;\n          }),\n        );\n      });\n\n      // handle label focus\n      const { originalInput, input } = tagify.DOM;\n      if (originalInput && originalInput.id && input) {\n        const label = document.querySelector(\n          `label[for=\"${originalInput.id}\"]`,\n        );\n        if (label) {\n          label.addEventListener(\"click\", () => {\n            // for some reason focus is lost again immediatly if you don't set it with timeout\n            window.setTimeout(() => input.focus(), 0);\n          });\n        }\n      }\n    });\n  });\n}\n", "export var ZERO_WIDTH_CHAR = '\\u200B';\nexport var ZERO_WIDTH_UNICODE_CHAR = `&#8203;`", "import {ZERO_WIDTH_CHAR} from './constants'\r\n\r\nexport const logger = {\r\n    isEnabled() { return window.TAGIFY_DEBUG ?? true},\r\n    log(...args){ this.isEnabled() && console.log('[Tagify]:', ...args) },\r\n    warn(...args) { this.isEnabled() && console.warn('[Tagify]:', ...args) }\r\n}\r\n\r\n// console.json = console.json || function(argument){\r\n//     for(var arg=0; arg < arguments.length; ++arg)\r\n//         console.log(  JSON.stringify(arguments[arg], null, 4)  )\r\n// }\r\n\r\n// const isEdge = /Edge/.test(navigator.userAgent)\r\nexport const sameStr = (s1, s2, caseSensitive, trim) => {\r\n    // cast to String\r\n    s1 = \"\"+s1;\r\n    s2 = \"\"+s2;\r\n\r\n    if( trim ){\r\n        s1 = s1.trim()\r\n        s2 = s2.trim()\r\n    }\r\n\r\n    return caseSensitive\r\n        ? s1 == s2\r\n        : s1.toLowerCase() == s2.toLowerCase()\r\n}\r\n\r\n\r\n// const getUID = () => (new Date().getTime() + Math.floor((Math.random()*10000)+1)).toString(16)\r\nexport const removeCollectionProp = (collection, unwantedProps) => collection && Array.isArray(collection) && collection.map(v => omit(v, unwantedProps))\r\n\r\nexport function omit(obj, props){\r\n    var newObj = {}, p;\r\n    for( p in obj )\r\n        if( props.indexOf(p) < 0 )\r\n            newObj[p] = obj[p]\r\n    return newObj\r\n}\r\n\r\nexport function decode( s ) {\r\n    var el = document.createElement('div');\r\n    return s.replace(/\\&#?[0-9a-z]+;/gi, function(enc){\r\n        el.innerHTML = enc;\r\n        return el.innerText\r\n    })\r\n}\r\n\r\n/**\r\n * utility method\r\n * https://stackoverflow.com/a/35385518/104380\r\n * @param  {String} s [HTML string]\r\n * @return {Object}   [DOM node]\r\n */\r\nexport function parseHTML( s ){\r\n    var parser = new DOMParser(),\r\n        node   = parser.parseFromString(s.trim(), \"text/html\");\r\n\r\n    return node.body.firstElementChild;\r\n}\r\n\r\n/**\r\n * Removed new lines and irrelevant spaces which might affect layout, and are better gone\r\n * @param {string} s [HTML string]\r\n */\r\nexport function minify( s ){\r\n    return s ? s\r\n        .replace(/\\>[\\r\\n ]+\\</g, \"><\")\r\n        .split(/>\\s+</).join('><').trim()\r\n        : \"\"\r\n}\r\n\r\nexport function removeTextChildNodes( elm ){\r\n    var iter = document.createNodeIterator(elm, NodeFilter.SHOW_TEXT, null, false),\r\n        textnode;\r\n\r\n    // print all text nodes\r\n    while (textnode = iter.nextNode()){\r\n        if( !textnode.textContent.trim() )\r\n            textnode.parentNode.removeChild(textnode)\r\n    }\r\n}\r\n\r\nexport function getfirstTextNode( elm, action ){\r\n    action = action || 'previous';\r\n    while ( elm = elm[action + 'Sibling'] )\r\n        if( elm.nodeType == 3 )\r\n            return elm\r\n}\r\n\r\n/**\r\n * utility method\r\n * https://stackoverflow.com/a/6234804/104380\r\n */\r\nexport function escapeHTML( s ){\r\n    return typeof s == 'string' ? s\r\n        .replace(/&/g, \"&amp;\")\r\n        .replace(/</g, \"&lt;\")\r\n        .replace(/>/g, \"&gt;\")\r\n        .replace(/\"/g, \"&quot;\")\r\n        .replace(/`|'/g, \"&#039;\")\r\n        : s;\r\n}\r\n\r\n/**\r\n * Checks if an argument is a javascript Object\r\n */\r\nexport function isObject(obj) {\r\n    var type = Object.prototype.toString.call(obj).split(' ')[1].slice(0, -1);\r\n    return obj === Object(obj) && type != 'Array' && type != 'Function' && type != 'RegExp' && type != 'HTMLUnknownElement';\r\n}\r\n\r\n/**\r\n * merge objects into a single new one\r\n * TEST: extend({}, {a:{foo:1}, b:[]}, {a:{bar:2}, b:[1], c:()=>{}})\r\n */\r\nexport function extend( o, o1, o2) {\r\n    if( !(o instanceof Object) ) o = {};\r\n\r\n    copy(o, o1);\r\n    if( o2 )\r\n        copy(o, o2)\r\n\r\n    function copy(a,b){\r\n        // copy o2 to o\r\n        for( var key in b )\r\n            if( b.hasOwnProperty(key) ){\r\n                if( isObject(b[key]) ){\r\n                    if( !isObject(a[key]) )\r\n                        a[key] = Object.assign({}, b[key])\r\n                    else\r\n                        copy(a[key], b[key])\r\n\r\n                    continue;\r\n                }\r\n\r\n                if( Array.isArray(b[key]) ){\r\n                    a[key] = Object.assign([], b[key])\r\n                    continue\r\n                }\r\n\r\n                a[key] = b[key]\r\n            }\r\n    }\r\n\r\n    return o\r\n}\r\n\r\n/**\r\n * concatenates N arrays without dups.\r\n * If an array's item is an Object, compare by `value`\r\n */\r\nexport function concatWithoutDups(){\r\n    const newArr = [],\r\n        existingObj = {};\r\n\r\n    for( let arr of arguments ) {\r\n        for( let item of arr ) {\r\n            // if current item is an object which has yet to be added to the new array\r\n            if( isObject(item) ){\r\n                if( !existingObj[item.value] ){\r\n                    newArr.push(item)\r\n                    existingObj[item.value] = 1\r\n                }\r\n            }\r\n\r\n            // if current item is not an object and is not in the new array\r\n            else if( !newArr.includes(item) )\r\n                newArr.push(item)\r\n        }\r\n    }\r\n\r\n    return newArr\r\n}\r\n\r\n/**\r\n *  Extracted from: https://stackoverflow.com/a/37511463/104380\r\n * @param {String} s\r\n */\r\nexport function unaccent( s ){\r\n    // if not supported, do not continue.\r\n    // developers should use a polyfill:\r\n    // https://github.com/walling/unorm\r\n    if( !String.prototype.normalize )\r\n        return s\r\n\r\n    if (typeof(s) === 'string')\r\n        return s.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\")\r\n}\r\n\r\n/**\r\n * Meassures an element's height, which might yet have been added DOM\r\n * https://stackoverflow.com/q/5944038/104380\r\n * @param {DOM} node\r\n */\r\nexport function getNodeHeight( node ){\r\n    var height, clone = node.cloneNode(true)\r\n    clone.style.cssText = \"position:fixed; top:-9999px; opacity:0\"\r\n    document.body.appendChild(clone)\r\n    height = clone.clientHeight\r\n    clone.parentNode.removeChild(clone)\r\n    return height\r\n}\r\n\r\nexport var isChromeAndroidBrowser = () => /(?=.*chrome)(?=.*android)/i.test(navigator.userAgent)\r\n\r\nexport function getUID() {\r\n    return ([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g, c =>\r\n        (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\r\n    )\r\n}\r\n\r\nexport function isNodeTag(node){\r\n    return node && node.classList && node.classList.contains(this.settings.classNames.tag)\r\n}\r\n\r\nexport function isWithinNodeTag(node){\r\n    return node && node.closest(this.settings.classNames.tagSelector)\r\n}\r\n\r\n/**\r\n* Get the caret position relative to the viewport\r\n* https://stackoverflow.com/q/58985076/104380\r\n*\r\n* @returns {object} left, top distance in pixels\r\n*/\r\nexport function getCaretGlobalPosition(){\r\n   const sel = document.getSelection()\r\n\r\n   if( sel.rangeCount ){\r\n       const r = sel.getRangeAt(0)\r\n       const node = r.startContainer\r\n       const offset = r.startOffset\r\n       let rect,  r2;\r\n\r\n       if (offset > 0) {\r\n           r2 = document.createRange()\r\n           r2.setStart(node, offset - 1)\r\n           r2.setEnd(node, offset)\r\n           rect = r2.getBoundingClientRect()\r\n           return {left:rect.right, top:rect.top, bottom:rect.bottom}\r\n       }\r\n\r\n       if( node.getBoundingClientRect )\r\n           return node.getBoundingClientRect()\r\n   }\r\n\r\n   return {left:-9999, top:-9999}\r\n}\r\n\r\n/**\r\n * Injects content (either string or node) at the current the current (or specificed) caret position\r\n * @param {content} string/node\r\n * @param {range} Object (optional, a range other than the current window selection)\r\n */\r\nexport function injectAtCaret(content, range){\r\n    var selection = window.getSelection();\r\n    range = range || selection.getRangeAt(0)\r\n\r\n    if( typeof content == 'string' )\r\n        content = document.createTextNode(content)\r\n\r\n    if( range ) {\r\n        range.deleteContents()\r\n        range.insertNode(content)\r\n    }\r\n\r\n    return content\r\n}\r\n\r\n/** Setter/Getter\r\n * Each tag DOM node contains a custom property called \"__tagifyTagData\" which hosts its data\r\n * @param {Node}   tagElm\r\n * @param {Object} data\r\n */\r\nexport function getSetTagData(tagElm, data, override){\r\n    if( !tagElm ){\r\n        logger.warn(\"tag element doesn't exist\",{tagElm, data})\r\n        return data\r\n    }\r\n\r\n    if( data )\r\n        tagElm.__tagifyTagData = override\r\n            ? data\r\n            : extend({}, tagElm.__tagifyTagData || {}, data)\r\n\r\n    return tagElm.__tagifyTagData\r\n}\r\n\r\nexport function placeCaretAfterNode( node ){\r\n    if( !node || !node.parentNode ) return\r\n\r\n    var nextSibling = node,\r\n        sel = window.getSelection(),\r\n        range = sel.getRangeAt(0);\r\n\r\n    if (sel.rangeCount) {\r\n        range.setStartAfter(nextSibling);\r\n        range.collapse(true)\r\n        // range.setEndBefore(nextSibling || node);\r\n        sel.removeAllRanges();\r\n        sel.addRange(range);\r\n    }\r\n}\r\n\r\n/**\r\n * iterate all tags, checking if multiple ones are close-siblings and if so, add a zero-space width character between them,\r\n * which forces the caret to be rendered when the selection is between tags.\r\n * Also do that if the tag is the first node.\r\n * @param {Array} tags\r\n */\r\nexport function fixCaretBetweenTags(tags, TagifyHasFocuse) {\r\n    tags.forEach(tag => {\r\n        if( getSetTagData(tag.previousSibling) || !tag.previousSibling ) {\r\n            var textNode = document.createTextNode(ZERO_WIDTH_CHAR)\r\n            tag.before(textNode)\r\n            TagifyHasFocuse && placeCaretAfterNode(textNode)\r\n        }\r\n    })\r\n}\r\n\r\n", "export default {\r\n    delimiters          : \",\",            // [RegEx] split tags by any of these delimiters (\"null\" to cancel) Example: \",| |.\"\r\n    pattern             : null,           // RegEx pattern to validate input by. Ex: /[1-9]/\r\n    tagTextProp         : 'value',        // tag data Object property which will be displayed as the tag's text\r\n    maxTags             : Infinity,       // Maximum number of tags\r\n    callbacks           : {},             // Exposed callbacks object to be triggered on certain events\r\n    addTagOnBlur        : true,           // automatically adds the text which was inputed as a tag when blur event happens\r\n    addTagOn            : ['blur', 'tab', 'enter'],  // if the tagify field (in a normal mode) has any non-tag input in it, convert it to a tag on any of these events: blur away from the field, click \"tab\"/\"enter\" key\r\n    onChangeAfterBlur   : true,           // By default, the native way of inputs' onChange events is kept, and it only fires when the field is blured.\r\n    duplicates          : false,          // \"true\" - allow duplicate tags\r\n    whitelist           : [],             // Array of tags to suggest as the user types (can be used along with \"enforceWhitelist\" setting)\r\n    blacklist           : [],             // A list of non-allowed tags\r\n    enforceWhitelist    : false,          // Only allow tags from the whitelist\r\n    userInput           : true,           // disable manually typing/pasting/editing tags (tags may only be added from the whitelist)\r\n    focusable           : true,           // Allow the component as a whole to recieve focus. There are implementations of Tagify without external border and so 'focusability' causes unwanted behaviour\r\n    keepInvalidTags     : false,          // if true, do not remove tags which did not pass validation\r\n    createInvalidTags   : true,           // if false, do not create invalid tags from invalid user input\r\n    mixTagsAllowedAfter : /,|\\.|\\:|\\s/,   // RegEx - Define conditions in which mix-tags content allows a tag to be added after\r\n    mixTagsInterpolator : ['[[', ']]'],   // Interpolation for mix mode. Everything between these will become a tag, if is a valid Object\r\n    backspace           : true,           // false / true / \"edit\"\r\n    skipInvalid         : false,          // If `true`, do not add invalid, temporary, tags before automatically removing them\r\n    pasteAsTags         : true,           // automatically converts pasted text into tags. if \"false\", allows for further text editing\r\n\r\n    editTags            : {\r\n        clicks      : 2,                  // clicks to enter \"edit-mode\": 1 for single click. any other value is considered as double-click\r\n        keepInvalid : true                // keeps invalid edits as-is until `esc` is pressed while in focus\r\n    },              // 1 or 2 clicks to edit a tag. false/null for not allowing editing\r\n    transformTag        : ()=>{},         // Takes a tag input string as argument and returns a transformed value\r\n    trim                : true,           // whether or not the value provided should be trimmed, before being added as a tag\r\n    a11y: {\r\n        focusableTags: false\r\n    },\r\n\r\n    mixMode: {\r\n        insertAfterTag  : '\\u00A0',       // String/Node to inject after a tag has been added (see #588)\r\n    },\r\n\r\n    autoComplete: {\r\n        enabled: true,        // Tries to suggest the input's value while typing (match from whitelist) by adding the rest of term as grayed-out text\r\n        rightKey: false,      // If `true`, when Right key is pressed, use the suggested value to create a tag, else just auto-completes the input. in mixed-mode this is set to \"true\"\r\n        tabKey: false,        // If 'true`, pressing `tab` key would only auto-complete but not also convert to a tag (like `rightKey` does).\r\n    },\r\n\r\n    classNames: {\r\n        namespace          : 'tagify',\r\n        mixMode            : 'tagify--mix',\r\n        selectMode         : 'tagify--select',\r\n        input              : 'tagify__input',\r\n        focus              : 'tagify--focus',\r\n        tagNoAnimation     : 'tagify--noAnim',\r\n        tagInvalid         : 'tagify--invalid',\r\n        tagNotAllowed      : 'tagify--notAllowed',\r\n        scopeLoading       : 'tagify--loading',\r\n        hasMaxTags         : 'tagify--hasMaxTags',\r\n        hasNoTags          : 'tagify--noTags',\r\n        empty              : 'tagify--empty',\r\n        inputInvalid       : 'tagify__input--invalid',\r\n        dropdown           : 'tagify__dropdown',\r\n        dropdownWrapper    : 'tagify__dropdown__wrapper',\r\n        dropdownHeader     : 'tagify__dropdown__header',\r\n        dropdownFooter     : 'tagify__dropdown__footer',\r\n        dropdownItem       : 'tagify__dropdown__item',\r\n        dropdownItemActive : 'tagify__dropdown__item--active',\r\n        dropdownItemHidden : 'tagify__dropdown__item--hidden',\r\n        dropdownInital     : 'tagify__dropdown--initial',\r\n        tag                : 'tagify__tag',\r\n        tagText            : 'tagify__tag-text',\r\n        tagX               : 'tagify__tag__removeBtn',\r\n        tagLoading         : 'tagify__tag--loading',\r\n        tagEditing         : 'tagify__tag--editable',\r\n        tagFlash           : 'tagify__tag--flash',\r\n        tagHide            : 'tagify__tag--hide',\r\n\r\n    },\r\n\r\n    dropdown: {\r\n        classname          : '',\r\n        enabled            : 2,      // minimum input characters to be typed for the suggestions dropdown to show\r\n        maxItems           : 10,\r\n        searchKeys         : [\"value\", \"searchBy\"],\r\n        fuzzySearch        : true,\r\n        caseSensitive      : false,\r\n        accentedSearch     : true,\r\n        includeSelectedTags: false,  // Should the suggestions list Include already-selected tags (after filtering)\r\n        escapeHTML         : true,   // escapes HTML entities in the suggestions' rendered text\r\n        highlightFirst     : true,   // highlights first-matched item in the list\r\n        closeOnSelect      : true,   // closes the dropdown after selecting an item, if `enabled:0` (which means always show dropdown)\r\n        clearOnSelect      : true,   // after selecting a suggetion, should the typed text input remain or be cleared\r\n        position           : 'all',  // 'manual' / 'text' / 'all'\r\n        appendTarget       : null    // defaults to document.body once DOM has been loaded\r\n    },\r\n\r\n    hooks: {\r\n        beforeRemoveTag: () => Promise.resolve(),\r\n        beforePaste: () => Promise.resolve(),\r\n        suggestionClick: () => Promise.resolve(),\r\n        beforeKeyDown: () => Promise.resolve(),\r\n    }\r\n}", "import { sameStr, isObject, minify, getNodeHeight, getCaretGlobalPosition } from './helpers'\r\nimport suggestionsMethods from './suggestions'\r\n\r\nexport function initDropdown(){\r\n    this.dropdown = {}\r\n\r\n    // auto-bind \"this\" to all the dropdown methods\r\n    for( let p in this._dropdown )\r\n        this.dropdown[p] = typeof this._dropdown[p] === 'function'\r\n            ? this._dropdown[p].bind(this)\r\n            : this._dropdown[p]\r\n\r\n    this.dropdown.refs()\r\n    this.DOM.dropdown.__tagify = this\r\n}\r\n\r\nexport default {\r\n    ...suggestionsMethods,\r\n\r\n    refs(){\r\n        this.DOM.dropdown = this.parseTemplate('dropdown', [this.settings])\r\n        this.DOM.dropdown.content = this.DOM.dropdown.querySelector(\"[data-selector='tagify-suggestions-wrapper']\")\r\n    },\r\n\r\n    getHeaderRef(){\r\n        return this.DOM.dropdown.querySelector(\"[data-selector='tagify-suggestions-header']\")\r\n    },\r\n\r\n    getFooterRef(){\r\n        return this.DOM.dropdown.querySelector(\"[data-selector='tagify-suggestions-footer']\")\r\n    },\r\n\r\n    getAllSuggestionsRefs(){\r\n        return [...this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector)]\r\n    },\r\n\r\n    /**\r\n     * shows the suggestions select box\r\n     * @param {String} value [optional, filter the whitelist by this value]\r\n     */\r\n    show( value ){\r\n        var _s = this.settings,\r\n            firstListItem,\r\n            firstListItemValue,\r\n            allowNewTags = _s.mode == 'mix' && !_s.enforceWhitelist,\r\n            noWhitelist =  !_s.whitelist || !_s.whitelist.length,\r\n            noMatchListItem,\r\n            isManual = _s.dropdown.position == 'manual';\r\n\r\n        // if text still exists in the input, and `show` method has no argument, then the input's text should be used\r\n        value = value === undefined ? this.state.inputText : value\r\n\r\n        //  Do not render suggestions list  if:\r\n        // 1. there's no whitelist (can happen while async loading) AND new tags arn't allowed\r\n        // 2. dropdown is disabled\r\n        // 3. loader is showing (controlled outside of this code)\r\n        if( (noWhitelist && !allowNewTags && !_s.templates.dropdownItemNoMatch)\r\n            || _s.dropdown.enable === false\r\n            || this.state.isLoading\r\n            || this.settings.readonly )\r\n            return;\r\n\r\n        clearTimeout(this.dropdownHide__bindEventsTimeout)\r\n\r\n        // if no value was supplied, show all the \"whitelist\" items in the dropdown\r\n        // @type [Array] listItems\r\n        this.suggestedListItems = this.dropdown.filterListItems(value)\r\n\r\n        // trigger at this exact point to let the developer the chance to manually set \"this.suggestedListItems\"\r\n        if( value && !this.suggestedListItems.length ){\r\n            this.trigger('dropdown:noMatch', value)\r\n\r\n            if( _s.templates.dropdownItemNoMatch )\r\n                noMatchListItem = _s.templates.dropdownItemNoMatch.call(this, {value})\r\n        }\r\n\r\n        // if \"dropdownItemNoMatch\" was not defined, procceed regular flow.\r\n        //\r\n        if( !noMatchListItem ){\r\n            // in mix-mode, if the value isn't included in the whilelist & \"enforceWhitelist\" setting is \"false\",\r\n            // then add a custom suggestion item to the dropdown\r\n            if( this.suggestedListItems.length ){\r\n                if( value   &&   allowNewTags   &&   !this.state.editing.scope  &&  !sameStr(this.suggestedListItems[0].value, value) )\r\n                    this.suggestedListItems.unshift({value})\r\n            }\r\n            else{\r\n                if( value   &&   allowNewTags  &&  !this.state.editing.scope ){\r\n                    this.suggestedListItems = [{value}]\r\n                }\r\n                // hide suggestions list if no suggestion matched\r\n                else{\r\n                    this.input.autocomplete.suggest.call(this);\r\n                    this.dropdown.hide()\r\n                    return;\r\n                }\r\n            }\r\n\r\n            firstListItem =  this.suggestedListItems[0]\r\n            firstListItemValue = \"\"+(isObject(firstListItem) ? firstListItem.value : firstListItem)\r\n\r\n            if( _s.autoComplete && firstListItemValue ){\r\n                // only fill the sugegstion if the value of the first list item STARTS with the input value (regardless of \"fuzzysearch\" setting)\r\n                if( firstListItemValue.indexOf(value) == 0 )\r\n                    this.input.autocomplete.suggest.call(this, firstListItem)\r\n            }\r\n        }\r\n\r\n        this.dropdown.fill(noMatchListItem)\r\n\r\n        if( _s.dropdown.highlightFirst ) {\r\n            this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(_s.classNames.dropdownItemSelector))\r\n        }\r\n\r\n        // bind events, exactly at this stage of the code. \"dropdown.show\" method is allowed to be\r\n        // called multiple times, regardless if the dropdown is currently visible, but the events-binding\r\n        // should only be called if the dropdown wasn't previously visible.\r\n        if( !this.state.dropdown.visible )\r\n            // timeout is needed for when pressing arrow down to show the dropdown,\r\n            // so the key event won't get registered in the dropdown events listeners\r\n            setTimeout(this.dropdown.events.binding.bind(this))\r\n\r\n        // set the dropdown visible state to be the same as the searched value.\r\n        // MUST be set *before* position() is called\r\n        this.state.dropdown.visible = value || true\r\n        this.state.dropdown.query = value\r\n\r\n        this.setStateSelection()\r\n\r\n        // try to positioning the dropdown (it might not yet be on the page, doesn't matter, next code handles this)\r\n        if( !isManual ){\r\n            // a slight delay is needed if the dropdown \"position\" setting is \"text\", and nothing was typed in the input,\r\n            // so sadly the \"getCaretGlobalPosition\" method doesn't recognize the caret position without this delay\r\n            setTimeout(() => {\r\n                this.dropdown.position()\r\n                this.dropdown.render()\r\n            })\r\n        }\r\n\r\n        // a delay is needed because of the previous delay reason.\r\n        // this event must be fired after the dropdown was rendered & positioned\r\n        setTimeout(() => {\r\n            this.trigger(\"dropdown:show\", this.DOM.dropdown)\r\n        })\r\n    },\r\n\r\n    /**\r\n     * Hides the dropdown (if it's not managed manually by the developer)\r\n     * @param {Boolean} overrideManual\r\n     */\r\n    hide( overrideManual ){\r\n        var {scope, dropdown} = this.DOM,\r\n            isManual = this.settings.dropdown.position == 'manual' && !overrideManual;\r\n\r\n        // if there's no dropdown, this means the dropdown events aren't binded\r\n        if( !dropdown || !document.body.contains(dropdown) || isManual ) return;\r\n\r\n        window.removeEventListener('resize', this.dropdown.position)\r\n        this.dropdown.events.binding.call(this, false) // unbind all events\r\n\r\n        // if the dropdown is open, and the input (scope) is clicked,\r\n        // the dropdown should be now \"close\", and the next click (on the scope)\r\n        // should re-open it, and without a timeout, clicking to close will re-open immediately\r\n        //  clearTimeout(this.dropdownHide__bindEventsTimeout)\r\n        //  this.dropdownHide__bindEventsTimeout = setTimeout(this.events.binding.bind(this), 250)  // re-bind main events\r\n\r\n\r\n        scope.setAttribute(\"aria-expanded\", false)\r\n        dropdown.parentNode.removeChild(dropdown)\r\n\r\n        // scenario: clicking the scope to show the dropdown, clicking again to hide -> calls dropdown.hide() and then re-focuses the input\r\n        // which casues another onFocus event, which checked \"this.state.dropdown.visible\" and see it as \"false\" and re-open the dropdown\r\n        setTimeout(() => {\r\n            this.state.dropdown.visible = false\r\n        }, 100)\r\n\r\n        this.state.dropdown.query =\r\n        this.state.ddItemData =\r\n        this.state.ddItemElm =\r\n        this.state.selection = null\r\n\r\n        // if the user closed the dropdown (in mix-mode) while a potential tag was detected, flag the current tag\r\n        // so the dropdown won't be shown on following user input for that \"tag\"\r\n        if( this.state.tag && this.state.tag.value.length ){\r\n            this.state.flaggedTags[this.state.tag.baseOffset] = this.state.tag\r\n        }\r\n\r\n        this.trigger(\"dropdown:hide\", dropdown)\r\n\r\n        return this\r\n    },\r\n\r\n    /**\r\n     * Toggles dropdown show/hide\r\n     * @param {Boolean} show forces the dropdown to show\r\n     */\r\n    toggle(show){\r\n        this.dropdown[this.state.dropdown.visible && !show ? 'hide' : 'show']()\r\n    },\r\n\r\n    getAppendTarget() {\r\n        var _sd = this.settings.dropdown;\r\n        return typeof _sd.appendTarget === 'function' ? _sd.appendTarget() : _sd.appendTarget;\r\n    },\r\n\r\n    render(){\r\n        // let the element render in the DOM first, to accurately measure it.\r\n        // this.DOM.dropdown.style.cssText = \"left:-9999px; top:-9999px;\";\r\n        var ddHeight = getNodeHeight(this.DOM.dropdown),\r\n            _s = this.settings,\r\n            enabled = typeof _s.dropdown.enabled == 'number' && _s.dropdown.enabled >= 0,\r\n            appendTarget = this.dropdown.getAppendTarget();\r\n\r\n        if( !enabled ) return this;\r\n\r\n        this.DOM.scope.setAttribute(\"aria-expanded\", true)\r\n\r\n        // if the dropdown has yet to be appended to the DOM,\r\n        // append the dropdown to the body element & handle events\r\n        if( !document.body.contains(this.DOM.dropdown) ){\r\n            this.DOM.dropdown.classList.add( _s.classNames.dropdownInital )\r\n            this.dropdown.position(ddHeight)\r\n            appendTarget.appendChild(this.DOM.dropdown)\r\n\r\n            setTimeout(() =>\r\n                this.DOM.dropdown.classList.remove( _s.classNames.dropdownInital )\r\n            )\r\n        }\r\n\r\n        return this\r\n    },\r\n\r\n    /**\r\n     * re-renders the dropdown content element (see \"dropdownContent\" in templates file)\r\n     * @param {String/Array} HTMLContent - optional\r\n     */\r\n    fill( HTMLContent ){\r\n        HTMLContent = typeof HTMLContent == 'string'\r\n            ? HTMLContent\r\n            : this.dropdown.createListHTML(HTMLContent || this.suggestedListItems)\r\n\r\n        var dropdownContent = this.settings.templates.dropdownContent.call(this, HTMLContent)\r\n\r\n        this.DOM.dropdown.content.innerHTML = minify(dropdownContent)\r\n    },\r\n\r\n    /**\r\n     * Re-renders only the header & footer.\r\n     * Used when selecting a suggestion and it is wanted that the suggestions dropdown stays open.\r\n     * Since the list of sugegstions is not being re-rendered completely every time a suggestion is selected (the item is transitioned-out)\r\n     * then the header & footer should be kept in sync with the suggestions data change\r\n     */\r\n    fillHeaderFooter(){\r\n        var suggestions = this.dropdown.filterListItems(this.state.dropdown.query),\r\n            newHeaderElem = this.parseTemplate('dropdownHeader', [suggestions]),\r\n            newFooterElem = this.parseTemplate('dropdownFooter', [suggestions]),\r\n            headerRef = this.dropdown.getHeaderRef(),\r\n            footerRef = this.dropdown.getFooterRef();\r\n\r\n        newHeaderElem && headerRef?.parentNode.replaceChild(newHeaderElem, headerRef)\r\n        newFooterElem && footerRef?.parentNode.replaceChild(newFooterElem, footerRef)\r\n    },\r\n\r\n    /**\r\n     * dropdown positioning logic\r\n     * (shown above/below or next to typed text for mix-mode)\r\n     */\r\n    position( ddHeight ){\r\n        var _sd = this.settings.dropdown,\r\n            appendTarget = this.dropdown.getAppendTarget();\r\n\r\n        if( _sd.position == 'manual' || !appendTarget) return\r\n\r\n        var rect, top, bottom, left, width, ancestorsOffsets,\r\n            isPlacedAbove,\r\n            cssTop, cssLeft,\r\n            ddElm = this.DOM.dropdown,\r\n            isRTL = _sd.RTL,\r\n            isDefaultAppendTarget = appendTarget === document.body,\r\n            isSelfAppended = appendTarget === this.DOM.scope,\r\n            appendTargetScrollTop = isDefaultAppendTarget ? window.pageYOffset : appendTarget.scrollTop,\r\n            root = document.fullscreenElement || document.webkitFullscreenElement || document.documentElement,\r\n            viewportHeight = root.clientHeight,\r\n            viewportWidth = Math.max(root.clientWidth || 0, window.innerWidth || 0),\r\n            positionTo = viewportWidth > 480 ? _sd.position : 'all',\r\n            ddTarget = this.DOM[positionTo == 'input' ? 'input' : 'scope'];\r\n\r\n        ddHeight = ddHeight || ddElm.clientHeight\r\n\r\n        function getAncestorsOffsets(p){\r\n            var top = 0, left = 0;\r\n\r\n            p = p.parentNode;\r\n\r\n            // when in element-fullscreen mode, do not go above the fullscreened-element\r\n            while(p && p != root){\r\n                top += p.offsetTop || 0\r\n                left += p.offsetLeft || 0\r\n                p = p.parentNode\r\n            }\r\n\r\n            return {top, left};\r\n        }\r\n\r\n        function getAccumulatedAncestorsScrollTop() {\r\n            var scrollTop = 0,\r\n                p = _sd.appendTarget.parentNode;\r\n\r\n            while(p){\r\n                scrollTop += p.scrollTop || 0;\r\n                p = p.parentNode\r\n            }\r\n\r\n            return scrollTop;\r\n        }\r\n\r\n        if( !this.state.dropdown.visible ) return\r\n\r\n        if( positionTo == 'text' ){\r\n            rect   = getCaretGlobalPosition()\r\n            bottom = rect.bottom\r\n            top    = rect.top\r\n            left   = rect.left\r\n            width  = 'auto'\r\n        }\r\n\r\n        else{\r\n            ancestorsOffsets = getAncestorsOffsets(appendTarget)\r\n            rect   = ddTarget.getBoundingClientRect()\r\n            top    = isSelfAppended ? -1 : rect.top - ancestorsOffsets.top\r\n            bottom = (isSelfAppended ? rect.height : rect.bottom - ancestorsOffsets.top) - 1\r\n            left   = isSelfAppended ? -1 : rect.left - ancestorsOffsets.left\r\n            width  = rect.width + 'px'\r\n        }\r\n\r\n        // if the \"append target\" isn't the default, correct the `top` variable by ignoring any scrollTop of the target's Ancestors\r\n        if( !isDefaultAppendTarget ) {\r\n            let accumulatedAncestorsScrollTop = getAccumulatedAncestorsScrollTop()\r\n            top += accumulatedAncestorsScrollTop\r\n            bottom += accumulatedAncestorsScrollTop\r\n        }\r\n\r\n        top = Math.floor(top)\r\n        bottom = Math.ceil(bottom)\r\n\r\n        isPlacedAbove = _sd.placeAbove ?? viewportHeight - rect.bottom < ddHeight\r\n\r\n        // flip vertically if there is no space for the dropdown below the input\r\n        cssTop = (isPlacedAbove ? top : bottom) + appendTargetScrollTop;\r\n\r\n        // \"pageXOffset\" property is an alias for \"scrollX\"\r\n        cssLeft = `left: ${(left + (isRTL ? (rect.width || 0) : 0) + window.pageXOffset)}px;`\r\n\r\n       // rtl = rtl ?? viewportWidth -\r\n        ddElm.style.cssText = `${cssLeft}; top: ${cssTop}px; min-width: ${width}; max-width: ${width}`;\r\n\r\n        ddElm.setAttribute('placement', isPlacedAbove ? 'top' : 'bottom')\r\n        ddElm.setAttribute('position', positionTo)\r\n    },\r\n}\r\n", "import { decode, extend, getfirstTextNode, isChromeAndroidBrowser, isNodeTag, isWithinNodeTag, injectAtCaret, getSetTagData, fixCaretBetweenTags, placeCaretAfterNode } from './helpers'\nimport {ZERO_WIDTH_CHAR} from './constants'\n\nvar deleteBackspaceTimeout;\n\nexport function triggerChangeEvent(){\n    if( this.settings.mixMode.integrated ) return;\n\n    var inputElm = this.DOM.originalInput,\n        changed = this.state.lastOriginalValueReported !== inputElm.value,\n        event = new CustomEvent(\"change\", {bubbles: true}); // must use \"CustomEvent\" and not \"Event\" to support IE\n\n    if( !changed ) return;\n\n    // must apply this BEFORE triggering the simulated event\n    this.state.lastOriginalValueReported = inputElm.value\n\n    // React hack: https://github.com/facebook/react/issues/11488\n    event.simulated = true\n    if (inputElm._valueTracker)\n        inputElm._valueTracker.setValue(Math.random())\n\n    inputElm.dispatchEvent(event)\n\n    // also trigger a Tagify event\n    this.trigger(\"change\", this.state.lastOriginalValueReported)\n\n    // React, for some reason, clears the input's value after \"dispatchEvent\" is fired\n    inputElm.value = this.state.lastOriginalValueReported\n}\n\nexport default {\n    // bind custom events which were passed in the settings\n    customBinding(){\n        this.customEventsList.forEach(name => {\n            this.on(name, this.settings.callbacks[name])\n        })\n    },\n\n    binding( bindUnbind = true ){\n        var _s = this.settings,\n            _CB = this.events.callbacks,\n            _CBR,\n            action = bindUnbind ? 'addEventListener' : 'removeEventListener';\n\n        // do not allow the main events to be bound more than once\n        if( this.state.mainEvents && bindUnbind )\n            return;\n\n        // set the binding state of the main events, so they will not be bound more than once\n        this.state.mainEvents = bindUnbind;\n\n        // everything inside gets executed only once-per instance\n        if( bindUnbind && !this.listeners.main ){\n            this.events.bindGlobal.call(this);\n\n            if( this.settings.isJQueryPlugin )\n                jQuery(this.DOM.originalInput).on('tagify.removeAllTags', this.removeAllTags.bind(this))\n        }\n\n\n        // TODO: bind bubblable \"focusin\" and \"focusout\" events on the Tagify scope itself and not the input\n\n\n        // setup callback references so events could be removed later\n        _CBR = (this.listeners.main = this.listeners.main || {\n            keydown          : ['input', _CB.onKeydown.bind(this)],\n            click            : ['scope', _CB.onClickScope.bind(this)],\n            dblclick         : _s.mode != 'select' && ['scope', _CB.onDoubleClickScope.bind(this)],\n            paste            : ['input', _CB.onPaste.bind(this)],\n            drop             : ['input', _CB.onDrop.bind(this)],\n            compositionstart : ['input', _CB.onCompositionStart.bind(this)],\n            compositionend   : ['input', _CB.onCompositionEnd.bind(this)]\n        })\n\n        for( var eventName in _CBR ){\n            _CBR[eventName] && this.DOM[_CBR[eventName][0]][action](eventName, _CBR[eventName][1]);\n        }\n\n        // observers\n        var inputMutationObserver = this.listeners.main.inputMutationObserver || new MutationObserver(_CB.onInputDOMChange.bind(this));\n\n        // cleaup just-in-case\n        inputMutationObserver.disconnect()\n\n        // observe stuff\n        if( _s.mode == 'mix' ) {\n            inputMutationObserver.observe(this.DOM.input, {childList:true})\n        }\n\n        this.events.bindOriginaInputListener.call(this)\n    },\n\n    bindOriginaInputListener(delay) {\n        const DELAY = (delay||0) + 500\n\n        if(!this.listeners.main) return\n        // listen to original input changes (unfortunetly this is the best way...)\n        // https://stackoverflow.com/a/1949416/104380\n        clearInterval(this.listeners.main.originalInputValueObserverInterval)\n        this.listeners.main.originalInputValueObserverInterval = setInterval(this.events.callbacks.observeOriginalInputValue.bind(this), DELAY)\n    },\n\n    bindGlobal( unbind ) {\n        var _CB = this.events.callbacks,\n            action = unbind ? 'removeEventListener' : 'addEventListener',\n            e;\n\n        if( !this.listeners || (!unbind  && this.listeners.global) ) return; // do not re-bind\n\n        // these events are global and should never be unbinded, unless the instance is destroyed:\n        this.listeners.global = this.listeners.global || [\n            {\n                type: this.isIE ? 'keydown' : 'input',  // IE cannot register \"input\" events on contenteditable elements, so the \"keydown\" should be used instead..\n                target: this.DOM.input,\n                cb: _CB[this.isIE ? 'onInputIE' : 'onInput'].bind(this)\n            },\n            {\n                type: 'keydown',\n                target: window,\n                cb: _CB.onWindowKeyDown.bind(this)\n            },\n            {\n                type: 'focusin',\n                target: this.DOM.scope,\n                cb: _CB.onFocusBlur.bind(this)\n            },\n            {\n                type: 'focusout',\n                target: this.DOM.scope,\n                cb: _CB.onFocusBlur.bind(this)\n            },\n            {\n                type: 'click',\n                target: document,\n                cb: _CB.onClickAnywhere.bind(this),\n                useCapture: true\n            },\n        ]\n\n        for( e of this.listeners.global )\n            e.target[action](e.type, e.cb, !!e.useCapture);\n    },\n\n    unbindGlobal() {\n        this.events.bindGlobal.call(this, true);\n    },\n\n    /**\n     * DOM events callbacks\n     */\n    callbacks : {\n        onFocusBlur(e){\n            // when focusing within a tag which is in edit-mode\n            var nodeTag = isWithinNodeTag.call(this, e.target),\n                targetIsTagNode = isNodeTag.call(this, e.target),\n                isFocused = e.type == 'focusin',\n                lostFocus = e.type == 'focusout';\n\n            // when focusing within a tag which is in edit-mode, only and specifically on the text-part of the tag node\n            // and not the X button or any other custom element thatmight be there\n            // var tagTextNode = e.target?.closest(this.settings.classNames.tagTextSelector)\n\n            if( nodeTag && isFocused && (!targetIsTagNode)) {\n                this.toggleFocusClass(this.state.hasFocus = +new Date())\n\n                // only if focused within a tag's text node should the `onEditTagFocus` function be called.\n                // if clicked anywhere else inside a tag, which had triggered an `focusin` event,\n                // the onFocusBlur should be aborted. This part was spcifically written for `select` mode.\n                // tagTextNode && this.events.callbacks.onEditTagFocus.call(this, nodeTag)\n            }\n\n            var _s = this.settings,\n                text = e.target ? this.trim(this.DOM.input.textContent) : '', // a string\n                currentDisplayValue = this.value?.[0]?.[_s.tagTextProp],\n                ddEnabled = _s.dropdown.enabled >= 0,\n                eventData = {relatedTarget:e.relatedTarget},\n                isTargetSelectOption = this.state.actions.selectOption && (ddEnabled || !_s.dropdown.closeOnSelect),\n                isTargetAddNewBtn = this.state.actions.addNew && ddEnabled,\n                shouldAddTags;\n\n            if( lostFocus ){\n                if( e.relatedTarget === this.DOM.scope ){\n                    this.dropdown.hide()\n                    this.DOM.input.focus()\n                    return\n                }\n\n                this.postUpdate()\n                _s.onChangeAfterBlur && this.triggerChangeEvent()\n            }\n\n            if( isTargetSelectOption || isTargetAddNewBtn )\n                return;\n\n            // should only loose focus at this point if the event was not generated from within a tag, within the component\n            if( isFocused || nodeTag ) {\n                this.state.hasFocus = +new Date()\n                this.toggleFocusClass(this.state.hasFocus)\n            }\n            else {\n                this.state.hasFocus = false;\n            }\n\n            if( _s.mode == 'mix' ){\n                if( isFocused ){\n                    this.trigger(\"focus\", eventData)\n                }\n\n                else if( lostFocus ){\n                    this.trigger(\"blur\", eventData)\n                    this.loading(false)\n                    this.dropdown.hide()\n                    // reset state which needs reseting\n                    this.state.dropdown.visible = undefined\n                    this.setStateSelection()\n                }\n\n                return\n            }\n\n            if( isFocused ){\n                if( !_s.focusable ) return;\n\n                var dropdownCanBeShown = _s.dropdown.enabled === 0 && !this.state.dropdown.visible;\n\n                this.toggleFocusClass(true);\n                this.trigger(\"focus\", eventData)\n                //  e.target.classList.remove('placeholder');\n                if( dropdownCanBeShown && (!targetIsTagNode || _s.mode === 'select') ){  // && _s.mode != \"select\"\n                    this.dropdown.show(this.value.length ? '' : undefined)\n                }\n\n                return\n            }\n\n            else if( lostFocus ){\n                this.trigger(\"blur\", eventData)\n                this.loading(false)\n\n                // when clicking the X button of a selected tag, it is unwanted for it to be added back\n                // again in a few more lines of code (shouldAddTags && addTags)\n                if( _s.mode == 'select' ) {\n                    if( this.value.length ) {\n                        let firstTagNode = this.getTagElms()[0];\n                        text = this.trim(firstTagNode.textContent)\n                    }\n\n                    // if nothing has changed (same display value), do not add a tag\n                    if( currentDisplayValue === text )\n                        text = ''\n                }\n\n                shouldAddTags = text && !this.state.actions.selectOption && _s.addTagOnBlur && _s.addTagOn.includes('blur');\n\n                // do not add a tag if \"selectOption\" action was just fired (this means a tag was just added from the dropdown)\n                shouldAddTags && this.addTags(text, true)\n            }\n\n            // when clicking a tag, do not consider this is a \"blur\" event\n            if ( !nodeTag )  {\n                this.DOM.input.removeAttribute('style')\n                this.dropdown.hide()\n            }\n        },\n\n        onCompositionStart(e){\n            this.state.composing = true\n        },\n\n        onCompositionEnd(e){\n            this.state.composing = false\n        },\n\n        onWindowKeyDown(e){\n            var _s = this.settings,\n                focusedElm = document.activeElement,\n                withinTag = isWithinNodeTag.call(this, focusedElm),\n                isBelong = withinTag && this.DOM.scope.contains(document.activeElement),\n                isReadyOnlyTag = isBelong && focusedElm.hasAttribute('readonly'),\n                nextTag;\n\n            if( !this.state.hasFocus && (!isBelong || isReadyOnlyTag) ) return;\n\n            nextTag = focusedElm.nextElementSibling;\n\n            var targetIsRemoveBtn = e.target.classList.contains(_s.classNames.tagX);\n\n            switch( e.key ){\n                // remove tag if has focus\n                case 'Backspace': {\n                    if( !_s.readonly && !this.state.editing ) {\n                        this.removeTags(focusedElm);\n                        (nextTag ? nextTag : this.DOM.input).focus()\n                    }\n\n                    break;\n                }\n\n                case 'Enter': {\n                    if( targetIsRemoveBtn ) {\n                        this.removeTags( e.target.parentNode )\n                        return\n                    }\n\n                    if( _s.a11y.focusableTags && isNodeTag.call(this, focusedElm) )\n                        setTimeout(this.editTag.bind(this), 0, focusedElm)\n\n                    break;\n                }\n\n                case 'ArrowDown' : {\n                    // if( _s.mode == 'select' ) // issue #333\n                    if( !this.state.dropdown.visible && _s.mode != 'mix' )\n                        this.dropdown.show()\n                    break;\n                }\n            }\n        },\n\n        onKeydown(e){\n            var _s = this.settings;\n\n            // ignore keys during IME composition or when user input is not allowed\n            if( this.state.composing || !_s.userInput )\n                return\n\n            if( _s.mode == 'select' && _s.enforceWhitelist && this.value.length && e.key != 'Tab' ){\n                e.preventDefault()\n            }\n\n            var s = this.trim(e.target.textContent);\n\n            this.trigger(\"keydown\", {event:e})\n\n            _s.hooks.beforeKeyDown(e, {tagify:this})\n                .then(result => {\n                    /**\n                     * ONLY FOR MIX-MODE:\n                     */\n                    if( _s.mode == 'mix' ){\n                        switch( e.key ){\n                            case 'Left' :\n                            case 'ArrowLeft' : {\n                                // when left arrow was pressed, set a flag so when the dropdown is shown, right-arrow will be ignored\n                                // because it seems likely the user wishes to use the arrows to move the caret\n                                this.state.actions.ArrowLeft = true\n                                break\n                            }\n\n                            case 'Delete':\n                            case 'Backspace' : {\n                                if( this.state.editing ) return\n\n                                var sel = document.getSelection(),\n                                    deleteKeyTagDetected = e.key == 'Delete' && sel.anchorOffset == (sel.anchorNode.length || 0),\n                                    prevAnchorSibling = sel.anchorNode.previousSibling,\n                                    isCaretAfterTag = sel.anchorNode.nodeType == 1 || !sel.anchorOffset && prevAnchorSibling && prevAnchorSibling.nodeType == 1 && sel.anchorNode.previousSibling,\n                                    lastInputValue = decode(this.DOM.input.innerHTML),\n                                    lastTagElems = this.getTagElms(),\n                                    isZWS = sel.anchorNode.length === 1 && sel.anchorNode.nodeValue == String.fromCharCode(8203),\n                                    //  isCaretInsideTag = sel.anchorNode.parentNode('.' + _s.classNames.tag),\n                                    tagBeforeCaret,\n                                    tagElmToBeDeleted,\n                                    firstTextNodeBeforeTag;\n\n                                if( _s.backspace == 'edit' && isCaretAfterTag ){\n                                    tagBeforeCaret = sel.anchorNode.nodeType == 1 ? null : sel.anchorNode.previousElementSibling;\n                                    setTimeout(this.editTag.bind(this), 0, tagBeforeCaret); // timeout is needed to the last cahacrter in the edited tag won't get deleted\n                                    e.preventDefault() // needed so the tag elm won't get deleted\n                                    return;\n                                }\n\n                                if( isChromeAndroidBrowser() && isCaretAfterTag instanceof Element ){\n                                    firstTextNodeBeforeTag = getfirstTextNode(isCaretAfterTag)\n\n                                    if( !isCaretAfterTag.hasAttribute('readonly') )\n                                        isCaretAfterTag.remove() // since this is Chrome, can safetly use this \"new\" DOM API\n\n                                    // Android-Chrome wrongly hides the keyboard, and loses focus,\n                                    // so this hack below is needed to regain focus at the correct place:\n                                    this.DOM.input.focus()\n                                    setTimeout(() => {\n                                        placeCaretAfterNode(firstTextNodeBeforeTag)\n                                        this.DOM.input.click()\n\n                                    })\n\n                                    return\n                                }\n\n                                if( sel.anchorNode.nodeName == 'BR')\n                                    return\n\n                                if( (deleteKeyTagDetected || isCaretAfterTag) && sel.anchorNode.nodeType == 1 )\n                                    if( sel.anchorOffset == 0 ) // caret is at the very begining, before a tag\n                                        tagElmToBeDeleted = deleteKeyTagDetected // delete key pressed\n                                            ? lastTagElems[0]\n                                            : null;\n                                    else\n                                        tagElmToBeDeleted = lastTagElems[Math.min(lastTagElems.length, sel.anchorOffset) - 1]\n\n                                // find out if a tag *might* be a candidate for deletion, and if so, which\n                                else if( deleteKeyTagDetected )\n                                    tagElmToBeDeleted = sel.anchorNode.nextElementSibling;\n\n                                else if( isCaretAfterTag instanceof Element )\n                                    tagElmToBeDeleted = isCaretAfterTag;\n\n                                // tagElm.hasAttribute('readonly')\n                                if( sel.anchorNode.nodeType == 3 &&   // node at caret location is a Text node\n                                    !sel.anchorNode.nodeValue    &&   // has some text\n                                    sel.anchorNode.previousElementSibling )  // text node has a Tag node before it\n                                    e.preventDefault()\n\n                                // if backspace not allowed, do nothing\n                                // TODO: a better way to detect if nodes were deleted is to simply check the \"this.value\" before & after\n                                if( (isCaretAfterTag || deleteKeyTagDetected) && !_s.backspace ){\n                                    e.preventDefault()\n                                    return\n                                }\n\n                                if( sel.type != 'Range' && !sel.anchorOffset && sel.anchorNode == this.DOM.input && e.key != 'Delete' ){\n                                    e.preventDefault()\n                                    return\n                                }\n\n                                if( sel.type != 'Range' && tagElmToBeDeleted && tagElmToBeDeleted.hasAttribute('readonly') ){\n                                    // allows the continuation of deletion by placing the caret on the first previous textNode.\n                                    // since a few readonly-tags might be one after the other, iteration is needed:\n\n                                    placeCaretAfterNode( getfirstTextNode(tagElmToBeDeleted) )\n                                    return\n                                }\n\n                                if ( e.key == 'Delete' && isZWS && getSetTagData(sel.anchorNode.nextSibling) ) {\n                                    this.removeTags(sel.anchorNode.nextSibling)\n                                }\n\n                                // update regarding https://github.com/yairEO/tagify/issues/762#issuecomment-786464317:\n                                // the bug described is more severe than the fix below, therefore I disable the fix until a solution\n                                // is found which work well for both cases.\n                                // -------\n                                // nodeType is \"1\" only when the caret is at the end after last tag (no text after), or before first first (no text before)\n                                /*\n                                if( this.isFirefox && sel.anchorNode.nodeType == 1 && sel.anchorOffset != 0 ){\n                                    this.removeTags() // removes last tag by default if no parameter supplied\n                                    // place caret inside last textNode, if exist. it's an annoying bug only in FF,\n                                    // if the last tag is removed, and there is a textNode before it, the caret is not placed at its end\n                                    placeCaretAfterNode( setRangeAtStartEnd(false, this.DOM.input) )\n                                }\n                                */\n\n                                clearTimeout(deleteBackspaceTimeout)\n                                // a minimum delay is needed before the node actually gets detached from the document (don't know why),\n                                // to know exactly which tag was deleted. This is the easiest way of knowing besides using MutationObserver\n                                deleteBackspaceTimeout = setTimeout(() => {\n                                    var sel = document.getSelection(),\n                                        currentValue = decode(this.DOM.input.innerHTML),\n                                        prevElm = !deleteKeyTagDetected && sel.anchorNode.previousSibling;\n\n                                    // fixes #384, where the first and only tag will not get removed with backspace\n                                    /*\n                                    * [UPDATE DEC 3, 22] SEEMS BELOEW CODE IS NOT NEEDED ANY MORE\n                                    *\n                                    if( currentValue.length > lastInputValue.length && prevElm ){\n                                        if( isNodeTag.call(this, prevElm) && !prevElm.hasAttribute('readonly') ){\n                                            this.removeTags(prevElm)\n                                            this.fixFirefoxLastTagNoCaret()\n\n                                            // the above \"removeTag\" methods removes the tag with a transition. Chrome adds a <br> element for some reason at this stage\n                                            if( this.DOM.input.children.length == 2 && this.DOM.input.children[1].tagName == \"BR\" ){\n                                                this.DOM.input.innerHTML = \"\"\n                                                this.value.length = 0\n                                                return true\n                                            }\n                                        }\n\n                                        else\n                                            prevElm.remove()\n                                    }\n                                    */\n\n                                    // find out which tag(s) were deleted and trigger \"remove\" event\n                                    // iterate over the list of tags still in the document and then filter only those from the \"this.value\" collection\n                                    this.value = [].map.call(lastTagElems, (node, nodeIdx) => {\n                                        var tagData = getSetTagData(node)\n\n                                        // since readonly cannot be removed (it's technically resurrected if removed somehow)\n                                        if( node.parentNode || tagData.readonly )\n                                            return tagData\n                                        else\n                                            this.trigger('remove', { tag:node, index:nodeIdx, data:tagData })\n                                    })\n                                        .filter(n=>n)  // remove empty items in the mapped array\n                                }, 20) // Firefox needs this higher duration for some reason or things get buggy when deleting text from the end\n                                break;\n                            }\n                            // currently commented to allow new lines in mixed-mode\n                            // case 'Enter' :\n                            //     // e.preventDefault(); // solves Chrome bug - http://stackoverflow.com/a/20398191/104380\n                        }\n\n                        return true\n                    }\n\n                    var isManualDropdown = _s.dropdown.position == 'manual';\n\n                    switch( e.key ){\n                        case 'Backspace' :\n                            if( _s.mode == 'select' && _s.enforceWhitelist && this.value.length)\n                                this.removeTags()\n\n                            else if( !this.state.dropdown.visible || _s.dropdown.position == 'manual' ){\n                                if( e.target.textContent == \"\" || s.charCodeAt(0) == 8203 ){  // 8203: ZERO WIDTH SPACE unicode\n                                    if( _s.backspace === true )\n                                        this.removeTags()\n                                    else if( _s.backspace == 'edit' )\n                                        setTimeout(this.editTag.bind(this), 0) // timeout reason: when edited tag gets focused and the caret is placed at the end, the last character gets deletec (because of backspace)\n                                }\n                            }\n                            break;\n\n                        case 'Esc' :\n                        case 'Escape' :\n                            if( this.state.dropdown.visible ) return\n                            e.target.blur()\n                            break;\n\n                        case 'Down' :\n                        case 'ArrowDown' :\n                            // if( _s.mode == 'select' ) // issue #333\n                            if( !this.state.dropdown.visible )\n                                this.dropdown.show()\n                            break;\n\n                        case 'ArrowRight' : {\n                            let tagData = this.state.inputSuggestion || this.state.ddItemData\n                            if( tagData && _s.autoComplete.rightKey ){\n                                this.addTags([tagData], true)\n                                return;\n                            }\n                            break\n                        }\n                        case 'Tab' : {\n                            let selectMode = _s.mode == 'select'\n                            if(s && !selectMode) e.preventDefault()\n                            else return true;\n                        }\n\n                        case 'Enter' :\n                            // manual suggestion boxes are assumed to always be visible\n                            if( this.state.dropdown.visible && !isManualDropdown ) return\n                            e.preventDefault(); // solves Chrome bug - http://stackoverflow.com/a/20398191/104380\n                            // because the main \"keydown\" event is bound before the dropdown events, this will fire first and will not *yet*\n                            // know if an option was just selected from the dropdown menu. If an option was selected,\n                            // the dropdown events should handle adding the tag\n\n                            setTimeout(()=>{\n                                if( (!this.state.dropdown.visible || isManualDropdown) && !this.state.actions.selectOption && _s.addTagOn.includes(e.key.toLowerCase()) )\n                                    this.addTags(s, true)\n                            })\n                    }\n                })\n                .catch(err => err)\n        },\n\n        onInput(e){\n            this.postUpdate() // toggles \"tagify--empty\" class\n\n            var _s = this.settings;\n\n            if( _s.mode == 'mix' )\n                return this.events.callbacks.onMixTagsInput.call(this, e);\n\n            var value = this.input.normalize.call(this, undefined, {trim: false}),\n                showSuggestions = value.length >= _s.dropdown.enabled,\n                eventData = {value, inputElm:this.DOM.input},\n                validation = this.validateTag({value});\n\n            if( _s.mode == 'select' ) {\n                this.toggleScopeValidation(validation)\n            }\n\n            eventData.isValid = validation;\n\n            // for IE; since IE doesn't have an \"input\" event so \"keyDown\" is used instead to trigger the \"onInput\" callback,\n            // and so many keys do not change the input, and for those do not continue.\n            if( this.state.inputText == value ) return;\n\n            // save the value on the input's State object\n            this.input.set.call(this, value, false); // update the input with the normalized value and run validations\n            // this.setRangeAtStartEnd(false, this.DOM.input); // fix caret position\n\n            // if delimiters detected, add tags\n            if( value.search(_s.delimiters) != -1 ){\n                if( this.addTags( value ) ){\n                    this.input.set.call(this); // clear the input field's value\n                }\n            }\n\n            else if( _s.dropdown.enabled >= 0 ){\n                this.dropdown[showSuggestions ? \"show\" : \"hide\"](value);\n            }\n\n            this.trigger('input', eventData) // \"input\" event must be triggered at this point, before the dropdown is shown\n        },\n\n        onMixTagsInput( e ){\n            var rangeText, match, matchedPatternCount, tag, showSuggestions, selection,\n                _s = this.settings,\n                lastTagsCount = this.value.length,\n                matchFlaggedTag,\n                matchDelimiters,\n                tagsElems = this.getTagElms(),\n                fragment = document.createDocumentFragment(),\n                range = window.getSelection().getRangeAt(0),\n                remainingTagsValues = [].map.call(tagsElems, node => getSetTagData(node).value);\n\n            // Android Chrome \"keydown\" event argument does not report the correct \"key\".\n            // this workaround is needed to manually call \"onKeydown\" method with a synthesized event object\n            if( e.inputType == \"deleteContentBackward\" && isChromeAndroidBrowser() ){\n                this.events.callbacks.onKeydown.call(this, {\n                    target: e.target,\n                    key: \"Backspace\",\n                })\n            }\n\n            // if there's a tag as the first child of the input, always make sure it has a zero-width character before it\n            // or if two tags are next to each-other, add a zero-space width character (For the caret to appear)\n            fixCaretBetweenTags(this.getTagElms())\n\n            // re-add \"readonly\" tags which might have been removed\n            this.value.slice().forEach(item => {\n                if( item.readonly && !remainingTagsValues.includes(item.value) )\n                    fragment.appendChild( this.createTagElem(item) )\n            })\n\n            if( fragment.childNodes.length ){\n                range.insertNode(fragment)\n                this.setRangeAtStartEnd(false, fragment.lastChild)\n            }\n\n            // check if tags were \"magically\" added/removed (browser redo/undo or CTRL-A -> delete)\n            if( tagsElems.length != lastTagsCount ){\n                this.value = [].map.call(this.getTagElms(), node => getSetTagData(node))\n                this.update({ withoutChangeEvent:true })\n                return\n            }\n\n            if( this.hasMaxTags() )\n                return true\n\n            if( window.getSelection ){\n                selection = window.getSelection()\n\n                // only detect tags if selection is inside a textNode (not somehow on already-existing tag)\n                if( selection.rangeCount > 0 && selection.anchorNode.nodeType == 3 ){\n                    range = selection.getRangeAt(0).cloneRange()\n                    range.collapse(true)\n                    range.setStart(selection.focusNode, 0)\n\n                    rangeText = range.toString().slice(0, range.endOffset)  // slice the range so everything AFTER the caret will be trimmed\n                    // split = range.toString().split(_s.mixTagsAllowedAfter)  // [\"foo\", \"bar\", \"@baz\"]\n                    matchedPatternCount = rangeText.split(_s.pattern).length - 1;\n\n                    match = rangeText.match( _s.pattern )\n\n                    if( match )\n                        // tag string, example: \"@aaa ccc\"\n                        tag = rangeText.slice( rangeText.lastIndexOf(match[match.length-1]) )\n\n                    if( tag ){\n                        this.state.actions.ArrowLeft = false // start fresh, assuming the user did not (yet) used any arrow to move the caret\n                        this.state.tag = {\n                            prefix : tag.match(_s.pattern)[0],\n                            value  : tag.replace(_s.pattern, ''), // get rid of the prefix\n                        }\n                        this.state.tag.baseOffset = selection.baseOffset - this.state.tag.value.length\n\n                        matchDelimiters = this.state.tag.value.match(_s.delimiters)\n                        // if a delimeter exists, add the value as tag (exluding the delimiter)\n                        if( matchDelimiters ){\n                            this.state.tag.value = this.state.tag.value.replace(_s.delimiters, '')\n                            this.state.tag.delimiters = matchDelimiters[0]\n                            this.addTags(this.state.tag.value, _s.dropdown.clearOnSelect)\n                            this.dropdown.hide()\n                            return\n                        }\n\n                        showSuggestions = this.state.tag.value.length >= _s.dropdown.enabled\n\n                        // When writing something that might look like a tag (an email address) but isn't one - it is unwanted\n                        // the suggestions dropdown be shown, so the user can close it (in any way), and while continue typing,\n                        // dropdown should stay closed until another tag is typed.\n                        // if( this.state.tag.value.length && this.state.dropdown.visible === false )\n                        //     showSuggestions = false\n\n                        // test for similar flagged tags to the current tag\n\n                        try{\n                            matchFlaggedTag = this.state.flaggedTags[this.state.tag.baseOffset]\n                            matchFlaggedTag = matchFlaggedTag.prefix   == this.state.tag.prefix &&\n                                              matchFlaggedTag.value[0] == this.state.tag.value[0]\n\n                            // reset\n                            if( this.state.flaggedTags[this.state.tag.baseOffset] && !this.state.tag.value )\n                                delete this.state.flaggedTags[this.state.tag.baseOffset];\n                        }\n                        catch(err){}\n\n                        // scenario: (do not show suggestions of another matched tag, if more than one detected)\n                        // (2 tags exist)                          \" a@a.com and @\"\n                        // (second tag is removed by backspace)    \" a@a.com and \"\n                        if( matchFlaggedTag || matchedPatternCount < this.state.mixMode.matchedPatternCount )\n                            showSuggestions = false\n                    }\n                    // no (potential) tag found\n                    else{\n                        this.state.flaggedTags = {}\n                    }\n\n                    this.state.mixMode.matchedPatternCount = matchedPatternCount\n                }\n            }\n\n\n            // wait until the \"this.value\" has been updated (see \"onKeydown\" method for \"mix-mode\")\n            // the dropdown must be shown only after this event has been triggered, so an implementer could\n            // dynamically change the whitelist.\n            setTimeout(()=>{\n                this.update({withoutChangeEvent:true})\n                this.trigger('input', extend({}, this.state.tag, {textContent:this.DOM.input.textContent}))\n\n                if( this.state.tag )\n                    this.dropdown[showSuggestions ? \"show\" : \"hide\"](this.state.tag.value);\n            }, 10)\n        },\n\n        onInputIE(e){\n            var _this = this;\n            // for the \"e.target.textContent\" to be changed, the browser requires a small delay\n            setTimeout(function(){\n                _this.events.callbacks.onInput.call(_this, e)\n            })\n        },\n\n        observeOriginalInputValue(){\n            // if, for some reason, the Tagified element is no longer in the DOM,\n            // call the \"destroy\" method to kill all references to timeouts/intervals\n            if( !this.DOM.originalInput.parentNode ) this.destroy()\n\n            // if original input value changed for some reason (for exmaple a form reset)\n            if( this.DOM.originalInput.value != this.DOM.originalInput.tagifyValue )\n                this.loadOriginalValues()\n        },\n\n        onClickAnywhere(e){\n            if (e.target != this.DOM.scope && !this.DOM.scope.contains(e.target)) {\n                this.toggleFocusClass(false)\n                this.state.hasFocus = false\n\n                // do not hide the dropdown if a click was initiated within it and that dropdown belongs to this Tagify instance\n                if( e.target.closest('.tagify__dropdown') && e.target.closest('.tagify__dropdown').__tagify != this )\n                    this.dropdown.hide()\n            }\n        },\n\n        onClickScope(e){\n            var _s = this.settings,\n                tagElm = e.target.closest('.' + _s.classNames.tag),\n                isScope = e.target === this.DOM.scope,\n                timeDiffFocus = +new Date() - this.state.hasFocus;\n\n            if( isScope && _s.mode != 'select' ){\n                // if( !this.state.hasFocus )\n                    this.DOM.input.focus()\n                return\n            }\n\n            else if( e.target.classList.contains(_s.classNames.tagX) ){\n                this.removeTags( e.target.parentNode )\n                return\n            }\n\n            else if( tagElm && !this.state.editing ){\n                this.trigger(\"click\", { tag:tagElm, index:this.getNodeIndex(tagElm), data:getSetTagData(tagElm), event:e })\n\n                if( _s.editTags === 1 || _s.editTags.clicks === 1 || _s.mode == 'select' )\n                    this.events.callbacks.onDoubleClickScope.call(this, e)\n\n                return\n            }\n\n            // when clicking on the input itself\n            else if( e.target == this.DOM.input ){\n                if( _s.mode == 'mix' ){\n                    // firefox won't show caret if last element is a tag (and not a textNode),\n                    // so an empty textnode should be added\n                    this.fixFirefoxLastTagNoCaret()\n                }\n\n                if( timeDiffFocus > 500 || !_s.focusable ){\n                    if( this.state.dropdown.visible )\n                        this.dropdown.hide()\n                    else if( _s.dropdown.enabled === 0 && _s.mode != 'mix' )\n                        this.dropdown.show(this.value.length ? '' : undefined)\n                    return\n                }\n            }\n\n            if( _s.mode == 'select' && _s.dropdown.enabled === 0 && !this.state.dropdown.visible) {\n                this.events.callbacks.onDoubleClickScope.call(this, {...e, target: this.getTagElms()[0]})\n\n                !_s.userInput && this.dropdown.show()\n            }\n        },\n\n        // special proccess is needed for pasted content in order to \"clean\" it\n        onPaste(e){\n            e.preventDefault()\n\n            var tagsElems,\n                _s = this.settings,\n                selectModeWithoutInput =_s.mode == 'select' && _s.enforceWhitelist;\n\n            if( selectModeWithoutInput || !_s.userInput ){\n                return false;\n            }\n\n            var clipboardData, pastedText;\n\n            if( _s.readonly ) return\n\n            // Get pasted data via clipboard API\n            clipboardData = e.clipboardData || window.clipboardData\n            pastedText = clipboardData.getData('Text')\n\n            _s.hooks.beforePaste(e, {tagify:this, pastedText, clipboardData})\n                .then(result => {\n                    if( result === undefined )\n                        result = pastedText;\n\n                    if( result ){\n                        this.injectAtCaret(result, window.getSelection().getRangeAt(0))\n\n                        if( this.settings.mode == 'mix' ){\n                            this.events.callbacks.onMixTagsInput.call(this, e);\n                        }\n\n                        else if( this.settings.pasteAsTags ){\n                            tagsElems = this.addTags(this.state.inputText + result, true)\n                        }\n\n                        else {\n                            this.state.inputText = result\n                            this.dropdown.show(result)\n                        }\n                    }\n\n                    this.trigger('paste', {event: e, pastedText, clipboardData, tagsElems})\n                })\n                .catch(err => err)\n        },\n\n        onDrop(e){\n            e.preventDefault()\n        },\n\n        onEditTagInput( editableElm, e ){\n            var tagElm = editableElm.closest('.' + this.settings.classNames.tag),\n                tagElmIdx = this.getNodeIndex(tagElm),\n                tagData = getSetTagData(tagElm),\n                textValue = this.input.normalize.call(this, editableElm),\n                dataForChangedProp = {[this.settings.tagTextProp]: textValue, __tagId: tagData.__tagId}, // \"__tagId\" is needed so validation will skip current tag when checking for dups\n                isValid = this.validateTag(dataForChangedProp), // the value could have been invalid in the first-place so make sure to re-validate it (via \"addEmptyTag\" method)\n                hasChanged = this.editTagChangeDetected(extend(tagData, dataForChangedProp));\n\n            // if the value is same as before-editing and the tag was valid before as well, ignore the  current \"isValid\" result, which is false-positive\n            if( !hasChanged && editableElm.originalIsValid === true )\n                isValid = true\n\n            tagElm.classList.toggle(this.settings.classNames.tagInvalid, isValid !== true)\n            tagData.__isValid = isValid\n\n            tagElm.title = isValid === true\n                ? tagData.title || tagData.value\n                : isValid // change the tag's title to indicate why is the tag invalid (if it's so)\n\n            // show dropdown if typed text is equal or more than the \"enabled\" dropdown setting\n            if( textValue.length >= this.settings.dropdown.enabled ){\n                // this check is needed apparently because doing browser \"undo\" will fire\n                //  \"onEditTagInput\" but \"this.state.editing\" will be \"false\"\n                if( this.state.editing )\n                    this.state.editing.value = textValue\n                this.dropdown.show(textValue)\n            }\n\n            this.trigger(\"edit:input\", {\n                tag  : tagElm,\n                index: tagElmIdx,\n                data : extend({}, this.value[tagElmIdx], {newValue:textValue}),\n                event: e\n            })\n        },\n\n        onEditTagPaste( tagElm, e ){\n            // Get pasted data via clipboard API\n            var clipboardData = e.clipboardData || window.clipboardData,\n                pastedText = clipboardData.getData('Text');\n\n            e.preventDefault()\n\n            var newNode = injectAtCaret(pastedText)\n            this.setRangeAtStartEnd(false, newNode)\n        },\n\n        onEditTagClick( tagElm, e) {\n            this.events.callbacks.onClickScope.call(this, e)\n        },\n\n        onEditTagFocus( tagElm ){\n            this.state.editing = {\n                scope: tagElm,\n                input: tagElm.querySelector(\"[contenteditable]\")\n            }\n        },\n\n        onEditTagBlur( editableElm, e ){\n            // if \"relatedTarget\" is the tag then do not continue as this should not be considered a \"blur\" event\n            var isRelatedTargetNodeTag = isNodeTag.call(this, e.relatedTarget)\n\n            // in \"select-mode\" when editing the tag's template to include more nodes other than the editable \"span\",\n            // clicking those elements should not be considered a blur event\n            if( this.settings.mode == 'select' && isRelatedTargetNodeTag && e.relatedTarget.contains(e.target) ) {\n                this.dropdown.hide()\n                return\n            }\n\n            // if \"ESC\" key was pressed then the \"editing\" state should be `false` and if so, logic should not continue\n            // because \"ESC\" reverts the edited tag back to how it was (replace the node) before editing\n            if( !this.state.editing )\n                return;\n\n            if( !this.state.hasFocus )\n                this.toggleFocusClass()\n\n            // one scenario is when selecting a suggestion from the dropdown, when editing, and by selecting it\n            // the \"onEditTagDone\" is called directly, already replacing the tag, so the argument \"editableElm\"\n            // node isn't in the DOM anynmore because it has been replaced.\n            if( !this.DOM.scope.contains(editableElm) ) return;\n\n            var _s           = this.settings,\n                tagElm       = editableElm.closest('.' + _s.classNames.tag),\n                tagData      = getSetTagData(tagElm),\n                textValue    = this.input.normalize.call(this, editableElm),\n                dataForChangedProp = {[_s.tagTextProp]: textValue, __tagId: tagData.__tagId}, // \"__tagId\" is needed so validation will skip current tag when checking for dups\n                originalData = tagData.__originalData, // pre-edit data\n                hasChanged   = this.editTagChangeDetected(extend(tagData, dataForChangedProp)),\n                isValid      = this.validateTag(dataForChangedProp), // \"__tagId\" is needed so validation will skip current tag when checking for dups\n                hasMaxTags,\n                newTagData;\n\n            if( !textValue ){\n                this.onEditTagDone(tagElm)\n                return\n            }\n\n            // if nothing changed revert back to how it was before editing\n            if( !hasChanged ){\n                this.onEditTagDone(tagElm, originalData)\n                return\n            }\n\n            // need to know this because if \"keepInvalidTags\" setting is \"true\" and an invalid tag is edited as a valid one,\n            // but the maximum number of tags have alreay been reached, so it should not allow saving the new valid value.\n            // only if the tag was already valid before editing, ignore this check (see a few lines below)\n            hasMaxTags = this.hasMaxTags()\n\n            newTagData = extend(\n                {},\n                originalData,\n                {\n                    [_s.tagTextProp]: this.trim(textValue),\n                    __isValid: isValid\n                }\n            )\n\n            // pass through optional transformer defined in settings\n            _s.transformTag.call(this, newTagData, originalData)\n\n            // MUST re-validate after tag transformation\n            // only validate the \"tagTextProp\" because is the only thing that metters for validating an edited tag.\n            // -- Scenarios: --\n            // 1. max 3 tags allowd. there are 4 tags, one has invalid input and is edited to a valid one, and now should be marked as \"not allowed\" because limit of tags has reached\n            // 2. max 3 tags allowed. there are 3 tags, one is edited, and so max-tags vaildation should be OK\n            isValid = (!hasMaxTags || originalData.__isValid === true) && this.validateTag(newTagData)\n\n            if( isValid !== true ){\n                this.trigger(\"invalid\", { data:newTagData, tag:tagElm, message:isValid })\n\n                // do nothing if invalid, stay in edit-mode until corrected or reverted by presssing esc\n                if( _s.editTags.keepInvalid ) return\n\n                if( _s.keepInvalidTags )\n                    newTagData.__isValid = isValid\n                else\n                    // revert back if not specified to keep\n                    newTagData = originalData\n            }\n\n            else if( _s.keepInvalidTags ){\n                // cleaup any previous leftovers if the tag was invalid\n                delete newTagData.title\n                delete newTagData[\"aria-invalid\"]\n                delete newTagData.class\n            }\n\n            // tagElm.classList.toggle(_s.classNames.tagInvalid, true)\n\n            this.onEditTagDone(tagElm, newTagData)\n        },\n\n        onEditTagkeydown(e, tagElm){\n            // ignore keys during IME composition\n            if( this.state.composing )\n                return\n\n            this.trigger(\"edit:keydown\", {event:e})\n\n            switch( e.key ){\n                case 'Esc' :\n                case 'Escape' : {\n                    this.state.editing = false\n                    var hasValueToRevertTo = !!tagElm.__tagifyTagData.__originalData.value\n\n                    if( hasValueToRevertTo )\n                        // revert the tag to how it was before editing\n                        // replace current tag with original one (pre-edited one)\n                        tagElm.parentNode.replaceChild(tagElm.__tagifyTagData.__originalHTML, tagElm)\n                    else\n                        tagElm.remove()\n\n                    break\n                }\n                case 'Enter' :\n                case 'Tab' : {\n                    e.preventDefault()\n\n                    var EDITED_TAG_BLUR_DELAY = 0;\n\n                    // a setTimeout is used so when editing (in \"select\" mode) while the dropdown is shown and a suggestion is highlighted\n                    // and ENTER key is pressed down - the `dropdown.hide` method won't be invoked immediately and unbind the dropdown's\n                    // KEYDOWN \"ENTER\" before it has time to call the handler and select the suggestion.\n                    setTimeout(() => e.target.blur(), EDITED_TAG_BLUR_DELAY)\n                }\n            }\n        },\n\n        onDoubleClickScope(e){\n            var tagElm = e.target.closest('.' + this.settings.classNames.tag),\n                tagData = getSetTagData(tagElm),\n                _s = this.settings,\n                isEditingTag,\n                isReadyOnlyTag;\n\n            if( !tagElm || tagData.editable === false ) return\n\n            isEditingTag = tagElm.classList.contains(this.settings.classNames.tagEditing)\n            isReadyOnlyTag = tagElm.hasAttribute('readonly')\n\n            if( !_s.readonly && !isEditingTag && !isReadyOnlyTag && this.settings.editTags && _s.userInput ) {\n                this.events.callbacks.onEditTagFocus.call(this, tagElm)\n                this.editTag(tagElm)\n            }\n\n            this.toggleFocusClass(true)\n\n            if( _s.mode != 'select' )\n                this.trigger('dblclick', { tag:tagElm, index:this.getNodeIndex(tagElm), data:getSetTagData(tagElm) })\n        },\n\n        /**\n         *\n         * @param {Object} m an object representing the observed DOM changes\n         */\n        onInputDOMChange(m){\n            // iterate all DOM mutation\n            m.forEach(record => {\n                // only the ADDED nodes\n                record.addedNodes.forEach(addedNode => {\n                    // fix chrome's placing '<div><br></div>' everytime ENTER key is pressed, and replace with just `<br'\n                    if( addedNode.outerHTML == '<div><br></div>' ){\n                        addedNode.replaceWith(document.createElement('br'))\n                    }\n\n                    // if the added element is a div containing a tag within it (chrome does this when pressing ENTER before a tag)\n                    else if( addedNode.nodeType == 1 && addedNode.querySelector(this.settings.classNames.tagSelector) ){\n                        let newlineText = document.createTextNode('')\n\n                        if( addedNode.childNodes[0].nodeType == 3 && addedNode.previousSibling.nodeName != 'BR' )\n                            newlineText  = document.createTextNode('\\n')\n\n                        // unwrap the useless div\n                        // chrome adds a BR at the end which should be removed\n                        addedNode.replaceWith(...[newlineText, ...[...addedNode.childNodes].slice(0,-1)])\n                        placeCaretAfterNode(newlineText)\n                    }\n\n                    // if this is a tag\n                    else if( isNodeTag.call(this, addedNode) ){\n                        if( addedNode.previousSibling?.nodeType == 3 && !addedNode.previousSibling.textContent )\n                            addedNode.previousSibling.remove()\n\n                        // and it is the first node in a new line\n                        if( addedNode.previousSibling && addedNode.previousSibling.nodeName == 'BR' ){\n                            // allows placing the caret just before the tag, when the tag is the first node in that line\n                            addedNode.previousSibling.replaceWith('\\n' + ZERO_WIDTH_CHAR)\n\n                            let nextNode = addedNode.nextSibling, anythingAfterNode = '';\n\n                            while (nextNode) {\n                                anythingAfterNode += nextNode.textContent\n                                nextNode = nextNode.nextSibling;\n                            }\n\n                            // when hitting ENTER for new line just before an existing tag, but skip below logic when a tag has been addded\n                            anythingAfterNode.trim() && placeCaretAfterNode(addedNode.previousSibling)\n                        }\n\n                        // if previous sibling does not exists (meanning the addedNode is the first node in this.DOM.input)\n                        // or, if the previous sibling is also a tag, add a zero-space character before (to allow showing the caret in Chrome)\n                        else if( !addedNode.previousSibling || getSetTagData(addedNode.previousSibling) ){\n                            addedNode.before(ZERO_WIDTH_CHAR)\n                        }\n                    }\n                })\n\n                record.removedNodes.forEach(removedNode => {\n                    // when trying to delete a tag which is in a new line and there's nothing else there (caret is after the tag)\n                    if( removedNode && removedNode.nodeName == 'BR' && isNodeTag.call(this, lastInputChild)){\n                        this.removeTags(lastInputChild)\n                        this.fixFirefoxLastTagNoCaret()\n                    }\n                })\n            })\n\n            // get the last child only after the above DOM modifications\n            // check these scenarios:\n            // 1. after a single line, press ENTER once - should add only 1 BR\n            // 2. presss ENTER right before a tag\n            // 3. press enter within a text node before a tag\n            var lastInputChild = this.DOM.input.lastChild;\n\n            if( lastInputChild && lastInputChild.nodeValue == '' )\n                lastInputChild.remove()\n\n            // make sure the last element is always a BR\n            if( !lastInputChild || lastInputChild.nodeName != 'BR' ){\n                this.DOM.input.appendChild(document.createElement('br'))\n            }\n        },\n    }\n}\n\n", "import { isObject, escapeHTML, extend, unaccent, logger } from './helpers'\n\n\n/**\n * Tagify's dropdown suggestions-related logic\n */\n\nexport default {\n    events : {\n        /**\n         * Events should only be binded when the dropdown is rendered and removed when isn't\n         * because there might be multiple Tagify instances on a certain page\n         * @param  {Boolean} bindUnbind [optional. true when wanting to unbind all the events]\n         */\n        binding( bindUnbind = true ){\n            // references to the \".bind()\" methods must be saved so they could be unbinded later\n            var _CB = this.dropdown.events.callbacks,\n                // callback-refs\n                _CBR = (this.listeners.dropdown = this.listeners.dropdown || {\n                    position          : this.dropdown.position.bind(this, null),\n                    onKeyDown         : _CB.onKeyDown.bind(this),\n                    onMouseOver       : _CB.onMouseOver.bind(this),\n                    onMouseLeave      : _CB.onMouseLeave.bind(this),\n                    onClick           : _CB.onClick.bind(this),\n                    onScroll          : _CB.onScroll.bind(this),\n                }),\n                action = bindUnbind ? 'addEventListener' : 'removeEventListener';\n\n            if( this.settings.dropdown.position != 'manual' ){\n                document[action]('scroll', _CBR.position, true)\n                window[action]('resize', _CBR.position)\n                window[action]('keydown', _CBR.onKeyDown)\n            }\n\n            this.DOM.dropdown[action]('mouseover', _CBR.onMouseOver)\n            this.DOM.dropdown[action]('mouseleave', _CBR.onMouseLeave)\n            this.DOM.dropdown[action]('mousedown', _CBR.onClick)\n            this.DOM.dropdown.content[action]('scroll', _CBR.onScroll)\n        },\n\n        callbacks : {\n            onKeyDown(e){\n                // ignore keys during IME composition\n                if( !this.state.hasFocus || this.state.composing )\n                    return\n\n                // get the \"active\" element, and if there was none (yet) active, use first child\n                var _s = this.settings,\n                    selectedElm = this.DOM.dropdown.querySelector(_s.classNames.dropdownItemActiveSelector),\n                    selectedElmData = this.dropdown.getSuggestionDataByNode(selectedElm),\n                    isMixMode = _s.mode == 'mix',\n                    isSelectMode = _s.mode == 'select';\n\n                _s.hooks.beforeKeyDown(e, {tagify:this})\n                    .then(result => {\n                        switch( e.key ){\n                            case 'ArrowDown' :\n                            case 'ArrowUp' :\n                            case 'Down' :  // >IE11\n                            case 'Up' : {  // >IE11\n                                e.preventDefault()\n                                var dropdownItems = this.dropdown.getAllSuggestionsRefs(),\n                                    actionUp = e.key == 'ArrowUp' || e.key == 'Up';\n\n                                if( selectedElm ) {\n                                    selectedElm = this.dropdown.getNextOrPrevOption(selectedElm, !actionUp)\n                                }\n\n                                // if no element was found OR current item is not a \"real\" item, loop\n                                if( !selectedElm || !selectedElm.matches(_s.classNames.dropdownItemSelector) ){\n                                    selectedElm = dropdownItems[actionUp ? dropdownItems.length - 1 : 0];\n                                }\n\n                                this.dropdown.highlightOption(selectedElm, true)\n                                // selectedElm.scrollIntoView({inline: 'nearest', behavior: 'smooth'})\n                                break;\n                            }\n                            case 'Escape' :\n                            case 'Esc': // IE11\n                                this.dropdown.hide();\n                                break;\n\n                            case 'ArrowRight' :\n                                // do not continue if the left arrow key was pressed while typing, because assuming the user wants to bypass any of the below logic and edit the content without intervention.\n                                // also do not procceed if a tag should be created when the setting `autoComplete.rightKey` is set to `true`\n                                if( this.state.actions.ArrowLeft || _s.autoComplete.rightKey )\n                                    return\n                            case 'Tab' : {\n                                let shouldAutocompleteOnKey = !_s.autoComplete.rightKey || !_s.autoComplete.tabKey\n\n                                // in mix-mode, treat arrowRight like Enter key, so a tag will be created\n                                if( !isMixMode && !isSelectMode && selectedElm && shouldAutocompleteOnKey && !this.state.editing && selectedElmData ){\n                                    e.preventDefault() // prevents blur so the autocomplete suggestion will not become a tag\n                                    var value = this.dropdown.getMappedValue(selectedElmData)\n\n                                    this.input.autocomplete.set.call(this, value)\n                                    return false\n                                }\n                                return true\n                            }\n                            case 'Enter' : {\n                                e.preventDefault()\n\n                                _s.hooks.suggestionClick(e, {tagify:this, tagData:selectedElmData, suggestionElm:selectedElm})\n                                    .then(() => {\n                                        if( selectedElm ){\n                                            this.dropdown.selectOption(selectedElm)\n                                            // highlight next option\n                                            selectedElm = this.dropdown.getNextOrPrevOption(selectedElm, !actionUp)\n                                            this.dropdown.highlightOption(selectedElm)\n                                            return\n                                        }\n                                        else\n                                            this.dropdown.hide()\n\n                                        if( !isMixMode )\n                                            this.addTags(this.state.inputText.trim(), true)\n                                    })\n                                    .catch(err => logger.warn(err))\n\n                                break;\n                            }\n                            case 'Backspace' : {\n                                if( isMixMode || this.state.editing.scope ) return;\n\n                                const value = this.input.raw.call(this)\n\n                                if( value == \"\" || value.charCodeAt(0) == 8203 ){\n                                    if( _s.backspace === true )\n                                        this.removeTags()\n                                    else if( _s.backspace == 'edit' )\n                                        setTimeout(this.editTag.bind(this), 0)\n                                }\n                            }\n                        }\n                    })\n            },\n\n            onMouseOver(e){\n                var ddItem = e.target.closest(this.settings.classNames.dropdownItemSelector)\n                // event delegation check\n                this.dropdown.highlightOption(ddItem)\n            },\n\n            onMouseLeave(e){\n                // de-highlight any previously highlighted option\n                this.dropdown.highlightOption()\n            },\n\n            onClick(e){\n                if( e.button != 0 || e.target == this.DOM.dropdown || e.target == this.DOM.dropdown.content ) return; // allow only mouse left-clicks\n\n                var selectedElm = e.target.closest(this.settings.classNames.dropdownItemSelector),\n                    selectedElmData = this.dropdown.getSuggestionDataByNode(selectedElm)\n\n                // temporary set the \"actions\" state to indicate to the main \"blur\" event it shouldn't run\n                this.state.actions.selectOption = true;\n                setTimeout(()=> this.state.actions.selectOption = false, 50)\n\n                this.settings.hooks.suggestionClick(e, {tagify:this, tagData:selectedElmData, suggestionElm:selectedElm})\n                    .then(() => {\n                        if( selectedElm )\n                            this.dropdown.selectOption(selectedElm, e)\n                        else\n                            this.dropdown.hide()\n                    })\n                    .catch(err => logger.warn(err))\n            },\n\n            onScroll(e){\n                var elm = e.target,\n                    pos = elm.scrollTop / (elm.scrollHeight - elm.parentNode.clientHeight) * 100;\n\n                this.trigger(\"dropdown:scroll\", {percentage:Math.round(pos)})\n            },\n        }\n    },\n\n    /**\n     * fill data into the suggestions list\n     * (mainly used to update the list when removing tags while the suggestions dropdown is visible, so they will be re-added to the list. not efficient)\n     */\n    refilter( value ){\n        value = value || this.state.dropdown.query || ''\n        this.suggestedListItems = this.dropdown.filterListItems(value)\n\n        this.dropdown.fill()\n\n        if( !this.suggestedListItems.length )\n            this.dropdown.hide()\n\n        this.trigger(\"dropdown:updated\", this.DOM.dropdown)\n    },\n\n    /**\n     * Given a suggestion-item, return the data associated with it\n     * @param {HTMLElement} tagElm\n     * @returns Object\n     */\n    getSuggestionDataByNode( tagElm ){\n        var item, value = tagElm && tagElm.getAttribute('value')\n\n        for(var i = this.suggestedListItems.length; i--; ) {\n            item = this.suggestedListItems[i]\n            if( isObject(item) && item.value == value ) return item\n            // for primitive whitelist items:\n            else if( item == value ) return {value: item}\n        }\n    },\n\n    getNextOrPrevOption(selected, next = true) {\n        var dropdownItems = this.dropdown.getAllSuggestionsRefs(),\n            selectedIdx = dropdownItems.findIndex(item => item === selected);\n\n        return next ? dropdownItems[selectedIdx + 1] : dropdownItems[selectedIdx - 1]\n    },\n\n    /**\n     * mark the currently active suggestion option\n     * @param {Object}  elm            option DOM node\n     * @param {Boolean} adjustScroll   when navigation with keyboard arrows (up/down), aut-scroll to always show the highlighted element\n     */\n    highlightOption( elm, adjustScroll ){\n        var className = this.settings.classNames.dropdownItemActive,\n            itemData;\n\n        // focus casues a bug in Firefox with the placeholder been shown on the input element\n        // if( this.settings.dropdown.position != 'manual' )\n        //     elm.focus();\n\n        if( this.state.ddItemElm ){\n            this.state.ddItemElm.classList.remove(className)\n            this.state.ddItemElm.removeAttribute(\"aria-selected\")\n        }\n\n        if( !elm ){\n            this.state.ddItemData = null\n            this.state.ddItemElm = null\n            this.input.autocomplete.suggest.call(this)\n            return;\n        }\n\n        itemData = this.dropdown.getSuggestionDataByNode(elm)\n        this.state.ddItemData = itemData\n        this.state.ddItemElm = elm\n\n        // this.DOM.dropdown.querySelectorAll(\".\" + this.settings.classNames.dropdownItemActive).forEach(activeElm => activeElm.classList.remove(className));\n        elm.classList.add(className);\n        elm.setAttribute(\"aria-selected\", true)\n\n        if( adjustScroll )\n            elm.parentNode.scrollTop = elm.clientHeight + elm.offsetTop - elm.parentNode.clientHeight\n\n        // Try to autocomplete the typed value with the currently highlighted dropdown item\n        if( this.settings.autoComplete ){\n            this.input.autocomplete.suggest.call(this, itemData)\n            this.dropdown.position() // suggestions might alter the height of the tagify wrapper because of unkown suggested term length that could drop to the next line\n        }\n    },\n\n    /**\n     * Create a tag from the currently active suggestion option\n     * @param {Object} elm  DOM node to select\n     * @param {Object} event The original Click event, if available (since keyboard ENTER key also triggers this method)\n     */\n    selectOption( elm, event ){\n        var _s = this.settings,\n            {clearOnSelect, closeOnSelect} = _s.dropdown;\n\n        if( !elm ) {\n            this.addTags(this.state.inputText, true)\n            closeOnSelect && this.dropdown.hide()\n            return;\n        }\n\n        event = event || {}\n\n        // if in edit-mode, do not continue but instead replace the tag's text.\n        // the scenario is that \"addTags\" was called from a dropdown suggested option selected while editing\n\n        var value = elm.getAttribute('value'),\n            isNoMatch = value == 'noMatch',\n            isMixMode = _s.mode == 'mix',\n            tagData = this.suggestedListItems.find(item => (item.value ?? item) == value)\n\n        // The below event must be triggered, regardless of anything else which might go wrong\n        this.trigger('dropdown:select', {data:tagData, elm, event})\n\n        if( !value || !tagData && !isNoMatch ){\n            closeOnSelect && setTimeout(this.dropdown.hide.bind(this))\n            return\n        }\n\n        if( this.state.editing ) {\n            let normalizedTagData = this.normalizeTags([tagData])[0]\n            tagData =  _s.transformTag.call(this, normalizedTagData) || normalizedTagData\n\n            // normalizing value, because \"tagData\" might be a string, and therefore will not be able to extend the object\n            this.onEditTagDone(null, extend({__isValid: true}, tagData))\n        }\n        // Tagify instances should re-focus to the input element once an option was selected, to allow continuous typing\n        else {\n            this[isMixMode ? \"addMixTags\" : \"addTags\"]([tagData || this.input.raw.call(this)], clearOnSelect)\n        }\n\n        if( !isMixMode && !this.DOM.input.parentNode )\n            return\n\n        setTimeout(() => {\n            this.DOM.input.focus()\n            this.toggleFocusClass(true)\n        })\n\n        closeOnSelect && setTimeout(this.dropdown.hide.bind(this))\n\n        // execute these tasks once a suggestion has been selected\n        elm.addEventListener('transitionend', () => {\n            this.dropdown.fillHeaderFooter()\n            setTimeout(() => {\n                elm.remove()\n                this.dropdown.refilter()\n            }, 100)\n        }, {once: true})\n\n        // hide selected suggestion\n        elm.classList.add(this.settings.classNames.dropdownItemHidden)\n    },\n\n    // adds all the suggested items, including the ones which are not currently rendered,\n    // unless specified otherwise (by the \"onlyRendered\" argument)\n    selectAll( onlyRendered ){\n        // having suggestedListItems with items messes with \"normalizeTags\" when wanting\n        // to add all tags\n        this.suggestedListItems.length = 0;\n        this.dropdown.hide()\n\n        this.dropdown.filterListItems('');\n\n        var tagsToAdd = this.dropdown.filterListItems('');\n\n        if( !onlyRendered )\n            tagsToAdd = this.state.dropdown.suggestions\n\n        // some whitelist items might have already been added as tags so when addings all of them,\n        // skip adding already-added ones, so best to use \"filterListItems\" method over \"settings.whitelist\"\n        this.addTags(tagsToAdd, true)\n        return this\n    },\n\n    /**\n     * returns an HTML string of the suggestions' list items\n     * @param {String} value string to filter the whitelist by\n     * @param {Object} options \"exact\" - for exact complete match\n     * @return {Array} list of filtered whitelist items according to the settings provided and current value\n     */\n    filterListItems( value, options ){\n        var _s = this.settings,\n            _sd = _s.dropdown,\n            options = options || {},\n            list = [],\n            exactMatchesList = [],\n            whitelist = _s.whitelist,\n            suggestionsCount = _sd.maxItems >= 0 ? _sd.maxItems : Infinity,\n            searchKeys = _sd.searchKeys,\n            whitelistItem,\n            valueIsInWhitelist,\n            searchBy,\n            isDuplicate,\n            niddle,\n            i = 0;\n\n        value = (_s.mode == 'select' && this.value.length && this.value[0][_s.tagTextProp] == value\n            ? '' // do not filter if the tag, which is already selecetd in \"select\" mode, is the same as the typed text\n            : value);\n\n        if( !value || !searchKeys.length ){\n            list = _sd.includeSelectedTags || _s.mode == 'select'\n                ? whitelist\n                : whitelist.filter(item => !this.isTagDuplicate( isObject(item) ? item.value : item )) // don't include tags which have already been added.\n\n            this.state.dropdown.suggestions = list;\n            return list.slice(0, suggestionsCount); // respect \"maxItems\" dropdown setting\n        }\n\n        niddle = _sd.caseSensitive\n            ? \"\"+value\n            : (\"\"+value).toLowerCase()\n\n        // checks if ALL of the words in the search query exists in the current whitelist item, regardless of their order\n        function stringHasAll(s, query){\n            return query.toLowerCase().split(' ').every(q => s.includes(q.toLowerCase()))\n        }\n\n        for( ; i < whitelist.length; i++ ){\n            let startsWithMatch, exactMatch;\n\n            whitelistItem = whitelist[i] instanceof Object ? whitelist[i] : { value:whitelist[i] } //normalize value as an Object\n\n            let itemWithoutSearchKeys = !Object.keys(whitelistItem).some(k => searchKeys.includes(k) ),\n                _searchKeys = itemWithoutSearchKeys ? [\"value\"] : searchKeys\n\n            if( _sd.fuzzySearch && !options.exact ){\n                searchBy = _searchKeys.reduce((values, k) => values + \" \" + (whitelistItem[k]||\"\"), \"\").toLowerCase().trim()\n\n                if( _sd.accentedSearch ){\n                    searchBy = unaccent(searchBy)\n                    niddle = unaccent(niddle)\n                }\n\n                startsWithMatch = searchBy.indexOf(niddle) == 0\n                exactMatch = searchBy === niddle\n                valueIsInWhitelist = stringHasAll(searchBy, niddle)\n            }\n\n            else {\n                startsWithMatch = true;\n                valueIsInWhitelist = _searchKeys.some(k => {\n                    var v = '' + (whitelistItem[k] || '') // if key exists, cast to type String\n\n                    if( _sd.accentedSearch ){\n                        v = unaccent(v)\n                        niddle = unaccent(niddle)\n                    }\n\n                    if( !_sd.caseSensitive )\n                        v = v.toLowerCase()\n\n                    exactMatch = v === niddle\n\n                    return options.exact\n                        ? v === niddle\n                        : v.indexOf(niddle) == 0\n                })\n            }\n\n            isDuplicate = !_sd.includeSelectedTags && this.isTagDuplicate( isObject(whitelistItem) ? whitelistItem.value : whitelistItem )\n\n            // match for the value within each \"whitelist\" item\n            if( valueIsInWhitelist && !isDuplicate )\n                if( exactMatch && startsWithMatch)\n                    exactMatchesList.push(whitelistItem)\n                else if( _sd.sortby == 'startsWith' && startsWithMatch )\n                    list.unshift(whitelistItem)\n                else\n                    list.push(whitelistItem)\n        }\n\n        this.state.dropdown.suggestions = exactMatchesList.concat(list);\n\n        // custom sorting function\n        return typeof _sd.sortby == 'function'\n            ? _sd.sortby(exactMatchesList.concat(list), niddle)\n            : exactMatchesList.concat(list).slice(0, suggestionsCount)\n    },\n\n    /**\n     * Returns the final value of a tag data (object) with regards to the \"mapValueTo\" dropdown setting\n     * @param {Object} tagData\n     * @returns\n     */\n    getMappedValue(tagData){\n        var mapValueTo = this.settings.dropdown.mapValueTo,\n            value = (mapValueTo\n                ? typeof mapValueTo == 'function' ? mapValueTo(tagData) : (tagData[mapValueTo] || tagData.value)\n                : tagData.value);\n\n        return value\n    },\n\n    /**\n     * Creates the dropdown items' HTML\n     * @param  {Array} sugegstionsList  [Array of Objects]\n     * @return {String}\n     */\n    createListHTML( sugegstionsList ){\n        return extend([], sugegstionsList).map((suggestion, idx) => {\n            if( typeof suggestion == 'string' || typeof suggestion == 'number' )\n                suggestion = {value:suggestion}\n\n            var mappedValue = this.dropdown.getMappedValue(suggestion);\n\n            mappedValue = (typeof mappedValue == 'string' && this.settings.dropdown.escapeHTML)\n                ? escapeHTML(mappedValue)\n                : mappedValue;\n\n            return this.settings.templates.dropdownItem.apply(this, [{...suggestion, mappedValue}, this])\n        }).join(\"\")\n    }\n}", "const VERSION = 1; // current version of persisted data. if code change breaks persisted data, verison number should be bumped.\r\nconst STORE_KEY = '@yaireo/tagify/'\r\n\r\nexport const getPersistedData = id => key => {\r\n    // if \"persist\" is \"false\", do not save to localstorage\r\n    let customKey = '/'+key,\r\n        persistedData,\r\n        versionMatch = localStorage.getItem(STORE_KEY + id + '/v', VERSION) == VERSION\r\n\r\n    if( versionMatch ){\r\n        try{ persistedData = JSON.parse(localStorage[STORE_KEY + id + customKey]) }\r\n        catch(err){}\r\n    }\r\n\r\n    return persistedData\r\n}\r\n\r\nexport const setPersistedData = id => {\r\n    if( !id ) return () => {};\r\n\r\n    // for storage invalidation\r\n    localStorage.setItem(STORE_KEY + id + '/v', VERSION)\r\n\r\n    return (data, key) => {\r\n        let customKey = '/'+key,\r\n            persistedData = JSON.stringify(data)\r\n\r\n        if( data && key ){\r\n            localStorage.setItem(STORE_KEY + id + customKey, persistedData)\r\n            dispatchEvent( new Event('storage') )\r\n        }\r\n    }\r\n}\r\n\r\nexport const clearPersistedData = id => key => {\r\n    const base = STORE_KEY + '/' + id + '/';\r\n\r\n    // delete specific key in the storage\r\n    if( key )\r\n        localStorage.removeItem(base + key)\r\n\r\n    // delete all keys in the storage with a specific tagify id\r\n    else {\r\n        for(let k in localStorage)\r\n            if( k.includes(base) )\r\n                localStorage.removeItem(k)\r\n    }\r\n}\r\n", "export default {\r\n    empty      : \"empty\",\r\n    exceed     : \"number of tags exceeded\",\r\n    pattern    : \"pattern mismatch\",\r\n    duplicate  : \"already exists\",\r\n    notAllowed : \"not allowed\"\r\n}", "import {ZERO_WIDTH_UNICODE_CHAR} from './constants'\r\n\r\nexport default {\r\n    /**\r\n     *\r\n     * @param {DOM Object} input     Original input DOm element\r\n     * @param {Object}     settings  Tagify instance settings Object\r\n     */\r\n    wrapper(input, _s){\r\n        return `<tags class=\"${_s.classNames.namespace} ${_s.mode ? `${_s.classNames[_s.mode + \"Mode\"]}` : \"\"} ${input.className}\"\r\n                    ${_s.readonly ? 'readonly' : ''}\r\n                    ${_s.disabled ? 'disabled' : ''}\r\n                    ${_s.required ? 'required' : ''}\r\n                    ${_s.mode === 'select' ? \"spellcheck='false'\" : ''}\r\n                    tabIndex=\"-1\">\r\n                    ${this.settings.templates.input.call(this)}\r\n                ${ZERO_WIDTH_UNICODE_CHAR}\r\n        </tags>`\r\n    },\r\n\r\n    input() {\r\n        var _s = this.settings,\r\n            placeholder = _s.placeholder || ZERO_WIDTH_UNICODE_CHAR;\r\n\r\n        return `<span ${!_s.readonly && _s.userInput ? 'contenteditable' : ''} tabIndex=\"0\" data-placeholder=\"${placeholder}\" aria-placeholder=\"${_s.placeholder || ''}\"\r\n                    class=\"${_s.classNames.input}\"\r\n                    role=\"textbox\"\r\n                    aria-autocomplete=\"both\"\r\n                    aria-multiline=\"${_s.mode=='mix'?true:false}\"></span>`\r\n    },\r\n\r\n    tag(tagData, {settings: _s}){\r\n        return `<tag title=\"${(tagData.title || tagData.value)}\"\r\n                    contenteditable='false'\r\n                    spellcheck='false'\r\n                    tabIndex=\"${_s.a11y.focusableTags ? 0 : -1}\"\r\n                    class=\"${_s.classNames.tag} ${tagData.class || \"\"}\"\r\n                    ${this.getAttributes(tagData)}>\r\n            <x title='' tabIndex=\"${_s.a11y.focusableTags ? 0 : -1}\" class=\"${_s.classNames.tagX}\" role='button' aria-label='remove tag'></x>\r\n            <div>\r\n                <span ${_s.mode === 'select' && _s.userInput ? \"contenteditable='true'\" : ''} class=\"${_s.classNames.tagText}\">${tagData[_s.tagTextProp] || tagData.value}</span>\r\n            </div>\r\n        </tag>`\r\n    },\r\n\r\n    dropdown(settings){\r\n        var _sd = settings.dropdown,\r\n            isManual = _sd.position == 'manual';\r\n\r\n        return `<div class=\"${isManual ? '' : settings.classNames.dropdown } ${_sd.classname}\" role=\"listbox\" aria-labelledby=\"dropdown\" dir=\"${_sd.RTL ? 'rtl' : ''}\">\r\n                    <div data-selector='tagify-suggestions-wrapper' class=\"${settings.classNames.dropdownWrapper}\"></div>\r\n                </div>`\r\n    },\r\n\r\n    dropdownContent(HTMLContent) {\r\n        var _t = this.settings.templates,\r\n            suggestions = this.state.dropdown.suggestions;\r\n\r\n        return `\r\n            ${_t.dropdownHeader.call(this, suggestions)}\r\n            ${HTMLContent}\r\n            ${_t.dropdownFooter.call(this, suggestions)}\r\n        `\r\n    },\r\n\r\n    dropdownItem(item){\r\n        return `<div ${this.getAttributes(item)}\r\n                    class='${this.settings.classNames.dropdownItem} ${item.class || \"\"}'\r\n                    tabindex=\"0\"\r\n                    role=\"option\">${item.mappedValue || item.value}</div>`\r\n    },\r\n\r\n    /**\r\n     * @param {Array} suggestions An array of all the matched suggested items, including those which were sliced away due to the \"dropdown.maxItems\" setting\r\n     */\r\n    dropdownHeader(suggestions){\r\n        return `<header data-selector='tagify-suggestions-header' class=\"${this.settings.classNames.dropdownHeader}\"></header>`\r\n    },\r\n\r\n    dropdownFooter(suggestions){\r\n        var hasMore = suggestions.length - this.settings.dropdown.maxItems;\r\n\r\n        return hasMore > 0\r\n            ? `<footer data-selector='tagify-suggestions-footer' class=\"${this.settings.classNames.dropdownFooter}\">\r\n                ${hasMore} more items. Refine your search.\r\n            </footer>`\r\n            : '';\r\n    },\r\n\r\n    dropdownItemNoMatch: null\r\n}\r\n", "import { sameStr, removeCollectionProp, omit, isObject, parseHTML, removeTextChildNodes, escapeHTML, extend, concatWithoutDups, getUID, isNodeTag, injectAtCaret, placeCaretAfterNode, getSetTagData, fixCaretBetweenTags, logger } from './parts/helpers'\nimport DEFAULTS from './parts/defaults'\nimport _dropdown, { initDropdown } from './parts/dropdown'\nimport { getPersistedData, setPersistedData, clearPersistedData } from './parts/persist'\nimport TEXTS from './parts/texts'\nimport templates from './parts/templates'\nimport EventDispatcher from './parts/EventDispatcher'\nimport events, { triggerChangeEvent } from './parts/events'\n\n/**\n * @constructor\n * @param {Object} input    DOM element\n * @param {Object} settings settings object\n */\nfunction Tagify( input, settings ){\n    if( !input ){\n        logger.warn('input element not found', input)\n        // return an empty mock of all methods, so the code using tagify will not break\n        // because it might be calling methods even though the input element does not exist\n        const mockInstance = new Proxy(this, { get(){ return () => mockInstance } })\n        return mockInstance\n    }\n\n    if( input.__tagify ){\n        logger.warn('input element is already Tagified - Same instance is returned.', input)\n        return input.__tagify\n    }\n\n    extend(this, EventDispatcher(this))\n    this.isFirefox = (/firefox|fxios/i).test(navigator.userAgent) && !(/seamonkey/i).test(navigator.userAgent)\n    this.isIE = window.document.documentMode; // https://developer.mozilla.org/en-US/docs/Web/API/Document/compatMode#Browser_compatibility\n\n    settings = settings || {};\n    this.getPersistedData = getPersistedData(settings.id)\n    this.setPersistedData = setPersistedData(settings.id)\n    this.clearPersistedData = clearPersistedData(settings.id)\n    this.applySettings(input, settings)\n\n    this.state = {\n        inputText: '',\n        editing : false,\n        composing: false,\n        actions : {},   // UI actions for state-locking\n        mixMode : {},\n        dropdown: {},\n        flaggedTags: {} // in mix-mode, when a string is detetced as potential tag, and the user has chocen to close the suggestions dropdown, keep the record of the tasg here\n    }\n\n    this.value = [] // tags' data\n\n    // events' callbacks references will be stores here, so events could be unbinded\n    this.listeners = {}\n\n    this.DOM = {} // Store all relevant DOM elements in an Object\n\n    this.build(input)\n    initDropdown.call(this)\n\n    this.getCSSVars()\n    this.loadOriginalValues()\n\n    this.events.customBinding.call(this)\n    this.events.binding.call(this)\n    input.autofocus && this.DOM.input.focus()\n    input.__tagify = this\n}\n\nTagify.prototype = {\n    _dropdown,\n    placeCaretAfterNode,\n    getSetTagData,\n    helpers: {sameStr, removeCollectionProp, omit, isObject, parseHTML, escapeHTML, extend, concatWithoutDups, getUID, isNodeTag},\n\n    customEventsList : ['change', 'add', 'remove', 'invalid', 'input', 'paste', 'click', 'keydown', 'focus', 'blur', 'edit:input', 'edit:beforeUpdate', 'edit:updated', 'edit:start', 'edit:keydown', 'dropdown:show', 'dropdown:hide', 'dropdown:select', 'dropdown:updated', 'dropdown:noMatch', 'dropdown:scroll'],\n    dataProps: ['__isValid', '__removed', '__originalData', '__originalHTML', '__tagId'], // internal-uasge props\n\n    trim(text){\n        return this.settings.trim && text && typeof text == \"string\" ? text.trim() : text\n    },\n\n    // expose this handy utility function\n    parseHTML,\n\n    templates,\n\n    parseTemplate(template, data){\n        template = this.settings.templates[template] || template;\n        return parseHTML( template.apply(this, data) )\n    },\n\n    set whitelist( arr ){\n        const isArray = arr && Array.isArray(arr)\n        this.settings.whitelist = isArray ? arr : []\n        this.setPersistedData(isArray ? arr : [], 'whitelist')\n    },\n\n    get whitelist(){\n        return this.settings.whitelist\n    },\n\n    set userInput( state ){\n        this.settings.userInput = !!state\n        this.setContentEditable(!!state)\n    },\n\n    get userInput(){\n        return this.settings.userInput\n    },\n\n    generateClassSelectors(classNames){\n        for( let name in classNames ) {\n            let currentName = name;\n            Object.defineProperty(classNames, currentName + \"Selector\" , {\n                get(){ return \".\" + this[currentName].split(\" \")[0] }\n            })\n        }\n    },\n\n    applySettings( input, settings ){\n        DEFAULTS.templates = this.templates\n\n        var mixModeDefaults = {\n            dropdown: {\n                position: \"text\"\n            }\n        }\n\n        var mergedDefaults = extend({}, DEFAULTS, (settings.mode == 'mix' ? mixModeDefaults : {}));\n        var _s = this.settings = extend({}, mergedDefaults, settings)\n\n        _s.disabled = input.hasAttribute('disabled')\n        _s.readonly = _s.readonly || input.hasAttribute('readonly')\n        _s.placeholder = escapeHTML(input.getAttribute('placeholder') || _s.placeholder || \"\")\n        _s.required = input.hasAttribute('required')\n\n        this.generateClassSelectors(_s.classNames)\n\n        if ( _s.dropdown.includeSelectedTags === undefined )\n            _s.dropdown.includeSelectedTags = _s.duplicates;\n\n        if( this.isIE )\n            _s.autoComplete = false; // IE goes crazy if this isn't false\n\n        [\"whitelist\", \"blacklist\"].forEach(name => {\n            var attrVal = input.getAttribute('data-' + name)\n            if( attrVal ){\n                attrVal = attrVal.split(_s.delimiters)\n                if( attrVal instanceof Array )\n                    _s[name] = attrVal\n            }\n        })\n\n        // backward-compatibility for old version of \"autoComplete\" setting:\n        if( \"autoComplete\" in settings && !isObject(settings.autoComplete) ){\n            _s.autoComplete = DEFAULTS.autoComplete\n            _s.autoComplete.enabled = settings.autoComplete\n        }\n\n        if( _s.mode == 'mix' ){\n            _s.pattern = _s.pattern || /@/;\n            _s.autoComplete.rightKey = true\n            _s.delimiters = settings.delimiters || null // default dlimiters in mix-mode must be NULL\n\n            // needed for \"filterListItems\". This assumes the user might have forgotten to manually\n            // define the same term in \"dropdown.searchKeys\" as defined in \"tagTextProp\" setting, so\n            // by automatically adding it, tagify is \"helping\" out, guessing the intesntions of the developer.\n            if( _s.tagTextProp && !_s.dropdown.searchKeys.includes(_s.tagTextProp) )\n                _s.dropdown.searchKeys.push(_s.tagTextProp)\n        }\n\n        if( input.pattern )\n            try { _s.pattern = new RegExp(input.pattern)  }\n            catch(e){}\n\n        // Convert the \"delimiters\" setting into a REGEX object\n        if( _s.delimiters ){\n            _s._delimiters = _s.delimiters;\n            try { _s.delimiters = new RegExp(this.settings.delimiters, \"g\") }\n            catch(e){}\n        }\n\n        if( _s.disabled )\n            _s.userInput = false;\n\n        this.TEXTS = {...TEXTS, ...(_s.texts || {})}\n\n        // make sure the dropdown will be shown on \"focus\" and not only after typing something (in \"select\" mode)\n        if( (_s.mode == 'select' && !settings.dropdown?.enabled) || !_s.userInput ){\n            _s.dropdown.enabled = 0\n        }\n\n        _s.dropdown.appendTarget = settings.dropdown?.appendTarget || document.body;\n\n\n        // get & merge persisted data with current data\n        let persistedWhitelist = this.getPersistedData('whitelist');\n\n        if( Array.isArray(persistedWhitelist))\n            this.whitelist = Array.isArray(_s.whitelist)\n                ? concatWithoutDups(_s.whitelist, persistedWhitelist)\n                : persistedWhitelist;\n    },\n\n    /**\n     * Returns a string of HTML element attributes\n     * @param {Object} data [Tag data]\n     */\n    getAttributes( data ){\n        var attrs = this.getCustomAttributes(data), s = '', k;\n\n        for( k in attrs )\n            s += \" \" + k + (data[k] !== undefined ? `=\"${attrs[k]}\"` : \"\");\n\n        return s;\n    },\n\n    /**\n     * Returns an object of attributes to be used for the templates\n     */\n    getCustomAttributes( data ){\n        // only items which are objects have properties which can be used as attributes\n        if( !isObject(data) )\n            return '';\n\n        var output = {}, propName;\n\n        for( propName in data ){\n            if( propName.slice(0,2) != '__' && propName != 'class' && data.hasOwnProperty(propName) && data[propName] !== undefined )\n                output[propName] = escapeHTML(data[propName])\n        }\n        return output\n    },\n\n    setStateSelection(){\n        var selection = window.getSelection()\n\n        // save last selection place to be able to inject anything from outside to that specific place\n        var sel = {\n            anchorOffset: selection.anchorOffset,\n            anchorNode  : selection.anchorNode,\n            range       : selection.getRangeAt && selection.rangeCount && selection.getRangeAt(0)\n        }\n\n        this.state.selection = sel\n        return sel\n    },\n\n    /**\n     * Get specific CSS variables which are relevant to this script and parse them as needed.\n     * The result is saved on the instance in \"this.CSSVars\"\n     */\n    getCSSVars(){\n        var compStyle = getComputedStyle(this.DOM.scope, null)\n\n        const getProp = name => compStyle.getPropertyValue('--'+name)\n\n        function seprateUnitFromValue(a){\n            if( !a ) return {}\n            a = a.trim().split(' ')[0]\n            var unit  = a.split(/\\d+/g).filter(n=>n).pop().trim(),\n                value = +a.split(unit).filter(n=>n)[0].trim()\n            return {value, unit}\n        }\n\n        this.CSSVars = {\n            tagHideTransition: (({value, unit}) => unit=='s' ? value * 1000 : value)(seprateUnitFromValue(getProp('tag-hide-transition')))\n        }\n    },\n\n    /**\n     * builds the HTML of this component\n     * @param  {Object} input [DOM element which would be \"transformed\" into \"Tags\"]\n     */\n    build( input ){\n        var DOM  = this.DOM,\n            labelWrapper = input.closest('label');\n\n        if( this.settings.mixMode.integrated ){\n            DOM.originalInput = null;\n            DOM.scope = input;\n            DOM.input = input;\n        }\n\n        else {\n            DOM.originalInput = input\n            DOM.originalInput_tabIndex = input.tabIndex\n            DOM.scope = this.parseTemplate('wrapper', [input, this.settings])\n            DOM.input = DOM.scope.querySelector(this.settings.classNames.inputSelector)\n            input.parentNode.insertBefore(DOM.scope, input)\n            input.tabIndex = -1; // do not allow focus or typing directly, once tagified\n        }\n\n        // fixes tagify nested inside a <label> tag from getting focus when clicked on\n        if( labelWrapper )\n            labelWrapper.setAttribute('for', '')\n    },\n\n    /**\n     * revert any changes made by this component\n     */\n    destroy(){\n        this.events.unbindGlobal.call(this)\n        this.DOM.scope.parentNode.removeChild(this.DOM.scope)\n        this.DOM.originalInput.tabIndex = this.DOM.originalInput_tabIndex\n        delete this.DOM.originalInput.__tagify\n        this.dropdown.hide(true)\n        this.removeAllCustomListeners()\n        clearTimeout(this.dropdownHide__bindEventsTimeout)\n        clearInterval(this.listeners.main.originalInputValueObserverInterval)\n    },\n\n    /**\n     * if the original input has any values, add them as tags\n     */\n    loadOriginalValues( value ){\n        var lastChild,\n            _s = this.settings\n\n        // temporarily block firing the \"change\" event on the original input until\n        // this method finish removing current value and adding a new one\n        this.state.blockChangeEvent = true\n\n        if( value === undefined ){\n            const persistedOriginalValue = this.getPersistedData('value')\n\n            // if the field already has a field, trust its the desired\n            // one to be rendered and do not use the persisted one\n            if( persistedOriginalValue && !this.DOM.originalInput.value )\n                value = persistedOriginalValue\n            else\n                value = _s.mixMode.integrated ? this.DOM.input.textContent : this.DOM.originalInput.value\n        }\n\n        this.removeAllTags()\n\n        if( value ){\n            if( _s.mode == 'mix' ){\n                this.parseMixTags(value)\n\n                lastChild = this.DOM.input.lastChild\n\n                // fixes a Chrome bug, when the last node in `mix-mode` is a tag, the caret appears at the far-top-top, outside the field\n                if( !lastChild || lastChild.tagName != 'BR' )\n                    this.DOM.input.insertAdjacentHTML('beforeend', '<br>')\n            }\n\n            else{\n                try{\n                    if( JSON.parse(value) instanceof Array )\n                        value = JSON.parse(value)\n                }\n                catch(err){}\n                this.addTags(value, true).forEach(tag => tag && tag.classList.add(_s.classNames.tagNoAnimation))\n            }\n        }\n\n        else\n            this.postUpdate()\n\n        this.state.lastOriginalValueReported = _s.mixMode.integrated ? '' : this.DOM.originalInput.value\n    },\n\n    cloneEvent(e){\n        var clonedEvent = {}\n        for( var v in e )\n            if( v != 'path' )\n                clonedEvent[v] = e[v]\n        return clonedEvent\n    },\n\n    /**\n     * Toogle global loading state on/off\n     * Useful when fetching async whitelist while user is typing\n     * @param {Boolean} isLoading\n     */\n    loading( isLoading ){\n        this.state.isLoading = isLoading\n        // IE11 doesn't support toggle with second parameter\n        this.DOM.scope.classList[isLoading ? \"add\" : \"remove\"](this.settings.classNames.scopeLoading)\n        return this\n    },\n\n    /**\n     * Toogle a tag loading state on/off\n     * @param {Boolean} isLoading\n     */\n    tagLoading( tagElm, isLoading ){\n        if( tagElm )\n            // IE11 doesn't support toggle with second parameter\n            tagElm.classList[isLoading ? \"add\" : \"remove\"](this.settings.classNames.tagLoading)\n        return this\n    },\n\n    /**\n     * Toggles class on the main tagify container (\"scope\")\n     * @param {String} className\n     * @param {Boolean} force\n     */\n    toggleClass( className, force ){\n        if( typeof className == 'string' )\n            this.DOM.scope.classList.toggle(className, force)\n    },\n\n    toggleScopeValidation( validation ){\n        var isValid = validation === true || validation === undefined; // initially it is undefined\n\n        if( !this.settings.required && validation && validation === this.TEXTS.empty)\n            isValid = true\n\n        this.toggleClass(this.settings.classNames.tagInvalid, !isValid)\n        this.DOM.scope.title = isValid ? '' : validation\n    },\n\n    toggleFocusClass( force ){\n        this.toggleClass(this.settings.classNames.focus, !!force)\n    },\n\n    /**\n     * Sets the templates placeholder after initialization\n     * @param {String} str\n     */\n    setPlaceholder(str) {\n        ['data', 'aria'].forEach(p => this.DOM.input.setAttribute(`${p}-placeholder`, str))\n    },\n\n    triggerChangeEvent,\n\n    events,\n\n    fixFirefoxLastTagNoCaret(){\n        return // seems to be fixed in newer version of FF, so retiring below code (for now)\n        // var inputElm = this.DOM.input\n\n        // if( this.isFirefox && inputElm.childNodes.length && inputElm.lastChild.nodeType == 1 ){\n        //     inputElm.appendChild(document.createTextNode(\"\\u200b\"))\n        //     this.setRangeAtStartEnd(true, inputElm)\n        //     return true\n        // }\n    },\n\n    /** https://stackoverflow.com/a/59156872/104380\n     * @param {Boolean} start indicating where to place it (start or end of the node)\n     * @param {Object}  node  DOM node to place the caret at\n     */\n    setRangeAtStartEnd( start, node ){\n        if( !node ) return;\n\n        start = typeof start == 'number' ? start : !!start\n        node = node.lastChild || node;\n        var sel = document.getSelection()\n\n        // do not force caret placement if the current selection (focus) is on another element (not this tagify instance)\n        if( sel.focusNode instanceof Element && !this.DOM.input.contains(sel.focusNode) ) {\n            return true\n        }\n\n        try{\n            if( sel.rangeCount >= 1 ){\n                ['Start', 'End'].forEach(pos =>\n                    sel.getRangeAt(0)[\"set\" + pos](node, start ? start : node.length)\n                )\n            }\n        } catch(err){\n            console.warn(err)\n        }\n    },\n\n    insertAfterTag( tagElm, newNode ){\n        newNode = newNode || this.settings.mixMode.insertAfterTag;\n\n        if( !tagElm || !tagElm.parentNode || !newNode ) return\n\n        newNode = typeof newNode == 'string'\n            ? document.createTextNode(newNode)\n            : newNode\n\n        tagElm.parentNode.insertBefore(newNode, tagElm.nextSibling)\n        return newNode\n    },\n\n    // compares all \"__originalData\" property values with the current \"tagData\" properties\n    // and returns \"true\" if something changed.\n    editTagChangeDetected(tagData) {\n        var originalData = tagData.__originalData;\n\n        for( var prop in originalData )\n            if( !this.dataProps.includes(prop) && tagData[prop] != originalData[prop] )\n                return true\n\n        return false; // not changed\n    },\n\n    // returns the node which has the actual tag's content\n    getTagTextNode(tagElm){\n        return tagElm.querySelector(this.settings.classNames.tagTextSelector)\n    },\n\n    // sets the text of a tag\n    setTagTextNode(tagElm, HTML){\n        this.getTagTextNode(tagElm).innerHTML = escapeHTML(HTML)\n    },\n\n    /**\n     * Enters a tag into \"edit\" mode\n     * @param {Node} tagElm the tag element to edit. if nothing specified, use last last\n     */\n    editTag( tagElm, opts ){\n        tagElm = tagElm || this.getLastTag()\n        opts = opts || {}\n\n        var _s = this.settings,\n            editableElm = this.getTagTextNode(tagElm),\n            tagIdx = this.getNodeIndex(tagElm),\n            tagData = getSetTagData(tagElm),\n            _CB = this.events.callbacks,\n            isValid = true,\n            isSelectMode = _s.mode == 'select'\n\n        // select mode is a bit different as clicking the tagify's content once will get into edit-mode if a value\n        // is already selected, and there cannot be a dropdown already open at this point.\n        !isSelectMode && this.dropdown.hide()\n\n        if( !editableElm ){\n            logger.warn('Cannot find element in Tag template: .', _s.classNames.tagTextSelector);\n            return;\n        }\n\n        if( tagData instanceof Object && \"editable\" in tagData && !tagData.editable )\n            return\n\n        // cache the original data, on the DOM node, before any modification ocurs, for possible revert\n        tagData = getSetTagData(tagElm, {\n            __originalData: extend({}, tagData),\n            __originalHTML: tagElm.cloneNode(true)\n        })\n        // re-set the tagify custom-prop on the clones element (because cloning removed it)\n        getSetTagData(tagData.__originalHTML, tagData.__originalData)\n\n        editableElm.setAttribute('contenteditable', true)\n        tagElm.classList.add( _s.classNames.tagEditing )\n\n        editableElm.addEventListener('click'            , _CB.onEditTagClick.bind(this, tagElm))\n        editableElm.addEventListener('blur'             , _CB.onEditTagBlur.bind(this, this.getTagTextNode(tagElm)))\n        editableElm.addEventListener('input'            , _CB.onEditTagInput.bind(this, editableElm))\n        editableElm.addEventListener('paste'            , _CB.onEditTagPaste.bind(this, editableElm))\n        editableElm.addEventListener('keydown'          , e => _CB.onEditTagkeydown.call(this, e, tagElm))\n        editableElm.addEventListener('compositionstart' , _CB.onCompositionStart.bind(this))\n        editableElm.addEventListener('compositionend'   , _CB.onCompositionEnd.bind(this))\n\n        if( !opts.skipValidation )\n            isValid = this.editTagToggleValidity(tagElm)\n\n        editableElm.originalIsValid = isValid\n\n        this.trigger(\"edit:start\", { tag:tagElm, index:tagIdx, data:tagData, isValid })\n\n        editableElm.focus()\n        !isSelectMode && this.setRangeAtStartEnd(false, editableElm) // place the caret at the END of the editable tag text\n\n        _s.dropdown.enabled === 0 && !isSelectMode && this.dropdown.show()\n        this.state.hasFocus = true\n\n        return this\n    },\n\n    /**\n     * If a tag is invalid, for any reason, set its class to \"not allowed\" (see defaults file)\n     * @param {Node} tagElm required\n     * @param {Object} tagData optional\n     * @returns true if valid, a string (reason) if not\n     */\n    editTagToggleValidity( tagElm, tagData ){\n        var tagData = tagData || getSetTagData(tagElm),\n            isValid;\n\n        if( !tagData ){\n            logger.warn(\"tag has no data: \", tagElm, tagData)\n            return;\n        }\n\n        isValid = !(\"__isValid\" in tagData) || tagData.__isValid === true\n\n        if( !isValid ){\n            this.removeTagsFromValue(tagElm)\n        }\n\n        this.update()\n\n        //this.validateTag(tagData);\n\n        tagElm.classList.toggle(this.settings.classNames.tagNotAllowed, !isValid)\n        tagData.__isValid = isValid;\n\n        return tagData.__isValid\n    },\n\n    onEditTagDone(tagElm, tagData){\n        tagElm = tagElm || this.state.editing.scope\n        tagData = tagData || {}\n\n        var eventData = {\n            tag         : tagElm,\n            index       : this.getNodeIndex(tagElm),\n            previousData: getSetTagData(tagElm),\n            data        : tagData\n        }\n\n        var _s = this.settings\n\n        this.trigger(\"edit:beforeUpdate\", eventData, {cloneData:false})\n\n        this.state.editing = false;\n\n        delete tagData.__originalData\n        delete tagData.__originalHTML\n\n        // some scenarrios like in the one in the demos page with textarea that has 2 whitelists, one of the whitelist might be\n        // an array of objects with a property defined the same as the `tagTextProp` setting (if used) but another whitelist\n        // might be simpler - just an array of primitives.\n        function veryfyTagTextProp() {\n            var tagTextProp = tagData[_s.tagTextProp];\n\n            // 'tagTextProp' might also be the number 0 so checking for `undefined` here:\n            if( tagTextProp !== undefined ) {\n                tagTextProp += ''; // cast possible number into a string\n                return !!tagTextProp.trim?.()\n            }\n\n            if( !(_s.tagTextProp in tagData) )\n                return !!tagData.value\n        }\n\n        if( tagElm && veryfyTagTextProp() ){\n            tagElm = this.replaceTag(tagElm, tagData)\n            this.editTagToggleValidity(tagElm, tagData)\n\n            if( _s.a11y.focusableTags )\n                tagElm.focus()\n            else if( _s.mode != 'select' )\n                // place caret after edited tag\n                placeCaretAfterNode(tagElm)\n        }\n\n        else if(tagElm)\n            this.removeTags(tagElm)\n\n        this.trigger(\"edit:updated\", eventData)\n        this.dropdown.hide()\n\n        // check if any of the current tags which might have been marked as \"duplicate\" should be now un-marked\n        if( this.settings.keepInvalidTags )\n            this.reCheckInvalidTags()\n    },\n\n    /**\n     * Replaces an exisitng tag with a new one. Used for updating a tag's data\n     * @param {Object} tagElm  [DOM node to replace]\n     * @param {Object} tagData [data to create new tag from]\n     */\n    replaceTag(tagElm, tagData){\n        if( !tagData || tagData.value === '' || tagData.value === undefined )\n            tagData = tagElm.__tagifyTagData\n\n        // if tag is invalid, make the according changes in the newly created element\n        if( tagData.__isValid && tagData.__isValid != true )\n            extend( tagData, this.getInvalidTagAttrs(tagData, tagData.__isValid) )\n\n        var newTagElm = this.createTagElem(tagData)\n\n        // update DOM\n        tagElm.parentNode.replaceChild(newTagElm, tagElm)\n        this.updateValueByDOMTags()\n        return newTagElm\n    },\n\n    /**\n     * update \"value\" (Array of Objects) by traversing all valid tags\n     */\n    updateValueByDOMTags(){\n        this.value.length = 0;\n\n        [].forEach.call(this.getTagElms(), node => {\n            if( node.classList.contains(this.settings.classNames.tagNotAllowed.split(' ')[0]) ) return\n            this.value.push( getSetTagData(node) )\n        })\n\n        this.update()\n    },\n\n    /**\n     * injects nodes/text at caret position, which is saved on the \"state\" when \"blur\" event gets triggered\n     * @param {Node} injectedNode [the node to inject at the caret position]\n     * @param {Object} selection [optional range Object. must have \"anchorNode\" & \"anchorOffset\"]\n     */\n    injectAtCaret( injectedNode, range ){\n        range = range || this.state.selection?.range\n\n        if( !range && injectedNode ) {\n            this.appendMixTags(injectedNode)\n            return this;\n        }\n\n        let node = injectAtCaret(injectedNode, range)\n        this.setRangeAtStartEnd(false, node)\n\n        this.updateValueByDOMTags() // updates internal \"this.value\"\n        this.update() // updates original input/textarea\n\n        return this\n    },\n\n    /**\n     * input bridge for accessing & setting\n     * @type {Object}\n     */\n    input : {\n        set( value = '', updateDOM = true ){\n            var _s = this.settings,\n                hideDropdown = _s.dropdown.closeOnSelect\n\n            this.state.inputText = value\n\n            if( updateDOM ) {\n                this.DOM.input.innerHTML = escapeHTML(\"\"+value);\n                value && this.toggleClass(_s.classNames.empty, !this.DOM.input.innerHTML) // remove the \"empty\" (is exists) class only if a value was added\n            }\n\n            if( !value && hideDropdown )\n                this.dropdown.hide.bind(this)\n\n            this.input.autocomplete.suggest.call(this);\n            this.input.validate.call(this);\n\n        },\n\n        raw(){\n            return this.DOM.input.textContent\n        },\n\n        /**\n         * Marks the tagify's input as \"invalid\" if the value did not pass \"validateTag()\"\n         */\n        validate(){\n            var isValid = !this.state.inputText || this.validateTag({value:this.state.inputText}) === true;\n\n            this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid, !isValid)\n\n            return isValid\n        },\n\n        // remove any child DOM elements that aren't of type TEXT (like <br>)\n        normalize( node, options ){\n            var clone = node || this.DOM.input, //.cloneNode(true),\n                v = [];\n\n            // when a text was pasted in FF, the \"this.DOM.input\" element will have <br> but no newline symbols (\\n), and this will\n            // result in tags not being properly created if one wishes to create a separate tag per newline.\n            clone.childNodes.forEach(n => n.nodeType==3 && v.push(n.nodeValue))\n            v = v.join(\"\\n\")\n\n            try{\n                // \"delimiters\" might be of a non-regex value, where this will fail (\"Tags With Properties\" example in demo page):\n                v = v.replace(/(?:\\r\\n|\\r|\\n)/g, this.settings.delimiters.source.charAt(0))\n            }\n            catch(err){}\n\n            v = v.replace(/\\s/g, ' ')  // replace NBSPs with spaces characters\n\n            return options?.trim ? this.trim(v) : v\n        },\n\n        /**\n         * suggest the rest of the input's value (via CSS \"::after\" using \"content:attr(...)\")\n         * @param  {String} s [description]\n         */\n        autocomplete : {\n            suggest( data ){\n                if( !this.settings.autoComplete.enabled ) return;\n\n                data = data || {value:''}\n                if (typeof data !== 'object') data = { value: data };\n\n                var suggestedText = this.dropdown.getMappedValue(data);\n\n                if( typeof suggestedText === 'number' ) return\n\n                var inputText = this.state.inputText.toLowerCase(),\n                    suggestionStart = suggestedText.substr(0, this.state.inputText.length).toLowerCase(),\n                    suggestionTrimmed = suggestedText.substring(this.state.inputText.length);\n\n                if( !suggestedText || !this.state.inputText || suggestionStart != inputText ){\n                    this.DOM.input.removeAttribute(\"data-suggest\");\n                    delete this.state.inputSuggestion\n                }\n                else{\n                    this.DOM.input.setAttribute(\"data-suggest\", suggestionTrimmed);\n                    this.state.inputSuggestion = data\n                }\n            },\n\n            /**\n             * sets the suggested text as the input's value & cleanup the suggestion autocomplete.\n             * @param {String} s [text]\n             */\n            set( s ){\n                var dataSuggest = this.DOM.input.getAttribute('data-suggest'),\n                    suggestion = s || (dataSuggest ? this.state.inputText + dataSuggest : null);\n\n                if( suggestion ){\n                    if( this.settings.mode == 'mix' ){\n                        this.replaceTextWithNode( document.createTextNode(this.state.tag.prefix + suggestion) )\n                    }\n                    else{\n                        this.input.set.call(this, suggestion);\n                        this.setRangeAtStartEnd(false, this.DOM.input)\n                    }\n\n                    this.input.autocomplete.suggest.call(this);\n                    this.dropdown.hide();\n\n                    return true;\n                }\n\n                return false;\n            }\n        }\n    },\n\n    /**\n     * returns the index of the the tagData within the \"this.value\" array collection.\n     * since values should be unique, it is suffice to only search by \"value\" property\n     * @param {Object} tagData\n     */\n    getTagIdx( tagData ){\n        return this.value.findIndex(item => item.__tagId == (tagData||{}).__tagId )\n    },\n\n    getNodeIndex( node ){\n        var index = 0;\n\n        if( node )\n            while( (node = node.previousElementSibling) )\n                index++;\n\n        return index;\n    },\n\n    getTagElms( ...classess ){\n        var classname = '.' + [...this.settings.classNames.tag.split(' '), ...classess].join('.')\n        return [].slice.call(this.DOM.scope.querySelectorAll(classname)) // convert nodeList to Array - https://stackoverflow.com/a/3199627/104380\n    },\n\n    /**\n     * gets the last non-readonly, not-in-the-proccess-of-removal tag\n     */\n    getLastTag(){\n        var _sc = this.settings.classNames,\n            tagNodes = this.DOM.scope.querySelectorAll(`${_sc.tagSelector}:not(.${_sc.tagHide}):not([readonly])`);\n        return tagNodes[tagNodes.length - 1];\n    },\n\n    /**\n     * Searches if any tag with a certain value already exis\n     * @param  {String/Object} value [text value / tag data object]\n     * @param  {Boolean} caseSensitive\n     * @return {Number}\n     */\n    isTagDuplicate( value, caseSensitive, tagId ){\n        var dupsCount = 0,\n            _s = this.settings;\n\n        // duplications are irrelevant for this scenario\n        if( _s.mode == 'select' )\n            return false\n\n        for( let item of this.value ) {\n            let isSameStr = sameStr( this.trim(\"\"+value), item.value, caseSensitive );\n            if( isSameStr && tagId != item.__tagId )\n                dupsCount++;\n        }\n\n        return dupsCount\n    },\n\n    getTagIndexByValue( value ){\n        var indices = [],\n            isCaseSensitive = this.settings.dropdown.caseSensitive;\n\n        this.getTagElms().forEach((tagElm, i) => {\n            if(  tagElm.__tagifyTagData && sameStr( this.trim(tagElm.__tagifyTagData.value), value, isCaseSensitive )  )\n                indices.push(i)\n        })\n\n        return indices;\n    },\n\n    getTagElmByValue( value ){\n        var tagIdx = this.getTagIndexByValue(value)[0]\n        return this.getTagElms()[tagIdx]\n    },\n\n    /**\n     * Temporarily marks a tag element (by value or Node argument)\n     * @param  {Object} tagElm [a specific \"tag\" element to compare to the other tag elements siblings]\n     */\n    flashTag( tagElm ){\n        if( tagElm ){\n            tagElm.classList.add(this.settings.classNames.tagFlash)\n            setTimeout(() => { tagElm.classList.remove(this.settings.classNames.tagFlash) }, 100)\n        }\n    },\n\n    /**\n     * checks if text is in the blacklist\n     */\n    isTagBlacklisted( v ){\n        v = this.trim(v.toLowerCase());\n        return this.settings.blacklist.filter(x => (\"\"+x).toLowerCase() == v).length;\n    },\n\n    /**\n     * checks if text is in the whitelist\n     */\n    isTagWhitelisted( v ){\n        return !!this.getWhitelistItem(v)\n        /*\n        return this.settings.whitelist.some(item =>\n            typeof v == 'string'\n                ? sameStr(this.trim(v), (item.value || item))\n                : sameStr(JSON.stringify(item), JSON.stringify(v))\n        )\n        */\n    },\n\n    /**\n     * Returns the first whitelist item matched, by value (if match found)\n     * @param {String} value [text to match by]\n     */\n    getWhitelistItem( value, prop, whitelist ){\n        var result,\n            prop = prop || 'value',\n            _s = this.settings,\n            whitelist = whitelist || _s.whitelist;\n\n        whitelist.some(_wi => {\n            // whitelist item value. Can be either a String, Number or an Object (with a `value` property)\n            var _wiv = typeof _wi == 'object' ? (_wi[prop] || _wi.value) : _wi,\n                isSameStr = sameStr(_wiv, value, _s.dropdown.caseSensitive, _s.trim)\n\n            if( isSameStr ){\n                result = typeof _wi == 'object' ? _wi : {value:_wi}\n                return true\n            }\n        })\n\n        // first iterate the whitelist, try find matches by \"value\" and if that fails\n        // and a \"tagTextProp\" is set to be other than \"value\", try that also\n        if( !result && prop == 'value' && _s.tagTextProp != 'value' ){\n            // if found, adds the first which matches\n            result = this.getWhitelistItem(value, _s.tagTextProp, whitelist)\n        }\n\n        return result\n    },\n\n    /**\n     * validate a tag object BEFORE the actual tag will be created & appeneded\n     * @param  {String} s\n     * @param  {String} uid      [unique ID, to not inclue own tag when cheking for duplicates]\n     * @return {Boolean/String}  [\"true\" if validation has passed, String for a fail]\n     */\n    validateTag( tagData ){\n        var _s = this.settings,\n            // when validating a tag in edit-mode, need to take \"tagTextProp\" into consideration\n            prop = \"value\" in tagData ? \"value\" : _s.tagTextProp,\n            v = this.trim(tagData[prop] + \"\");\n\n        // check for definitive empty value\n        if( !(tagData[prop]+\"\").trim() )\n            return this.TEXTS.empty;\n\n        // check if pattern should be used and if so, use it to test the value\n        if( _s.mode != 'mix' && _s.pattern && _s.pattern instanceof RegExp && !(_s.pattern.test(v)) )\n            return this.TEXTS.pattern;\n\n        // check for duplicates\n        if( !_s.duplicates && this.isTagDuplicate(v, _s.dropdown.caseSensitive, tagData.__tagId) )\n            return this.TEXTS.duplicate;\n\n        if( this.isTagBlacklisted(v) || (_s.enforceWhitelist && !this.isTagWhitelisted(v)) )\n            return this.TEXTS.notAllowed;\n\n        if( _s.validate )\n            return _s.validate(tagData)\n\n        return true\n    },\n\n    getInvalidTagAttrs(tagData, validation){\n        return {\n            \"aria-invalid\" : true,\n            \"class\": `${tagData.class || ''} ${this.settings.classNames.tagNotAllowed}`.trim(),\n            \"title\": validation\n        }\n    },\n\n    hasMaxTags(){\n        return this.value.length >= this.settings.maxTags\n            ? this.TEXTS.exceed\n            : false\n    },\n\n    setReadonly( toggle, attrribute ){\n        var _s = this.settings\n\n        this.DOM.scope.contains(document.activeElement) && document.activeElement.blur() // exit possible edit-mode\n        _s[attrribute || 'readonly'] = toggle\n        this.DOM.scope[(toggle ? 'set' : 'remove') + 'Attribute'](attrribute || 'readonly', true)\n\n        this.settings.userInput = true;\n        this.setContentEditable(!toggle)\n    },\n\n    setContentEditable(state){\n        this.DOM.input.contentEditable = state\n        this.DOM.input.tabIndex = !!state ? 0 : -1;\n    },\n\n    setDisabled( isDisabled ){\n        this.setReadonly(isDisabled, 'disabled')\n    },\n\n    /**\n     * pre-proccess the tagsItems, which can be a complex tagsItems like an Array of Objects or a string comprised of multiple words\n     * so each item should be iterated on and a tag created for.\n     * @return {Array} [Array of Objects]\n     */\n    normalizeTags( tagsItems ){\n        var {whitelist, delimiters, mode, tagTextProp} = this.settings,\n            whitelistMatches = [],\n            whitelistWithProps = whitelist ? whitelist[0] instanceof Object : false,\n            // checks if this is a \"collection\", meanning an Array of Objects\n            isArray = Array.isArray(tagsItems),\n            isCollection = isArray && tagsItems[0].value,\n            mapStringToCollection = s => (s+\"\").split(delimiters).reduce((acc, v) => {\n                const trimmed = this.trim(v)\n                trimmed && acc.push({ [tagTextProp]:trimmed, value:trimmed })\n                return acc\n            }, [])\n\n        if( typeof tagsItems == 'number' )\n            tagsItems = tagsItems.toString()\n\n        // if the argument is a \"simple\" String, ex: \"aaa, bbb, ccc\"\n        if( typeof tagsItems == 'string' ){\n            if( !tagsItems.trim() ) return [];\n\n            // go over each tag and add it (if there were multiple ones)\n            tagsItems = mapStringToCollection(tagsItems)\n        }\n\n        // if is an Array of Strings, convert to an Array of Objects\n        else if( isArray ){\n            // flatten the 2D array\n            tagsItems = tagsItems.reduce((acc, item) => {\n                if( isObject(item) ) {\n                    var itemCopy = extend({}, item)\n\n                    // iuf 'tagTextProp' property does not exist in the item, use `value` instead\n                    if(!(tagTextProp in itemCopy))\n                        tagTextProp = 'value'\n\n                    itemCopy[tagTextProp] = this.trim(itemCopy[tagTextProp])\n\n                    // discard empty tags\n                    if( itemCopy[tagTextProp] )\n                        acc.push(itemCopy) // mapStringToCollection(item.value).map(newItem => ({...item,...newItem}))\n                }\n\n                else if(item) {\n                    acc.push( ...mapStringToCollection(item) )\n                }\n\n                return acc\n            }, [])\n        }\n\n        // search if the tag exists in the whitelist as an Object (has props),\n        // to be able to use its properties.\n        // skip matching collections with whitelist items as they are considered \"whole\"\n        if( whitelistWithProps && !isCollection ){\n            tagsItems.forEach(item => {\n                var whitelistMatchesValues = whitelistMatches.map(a=>a.value)\n\n                // if suggestions are shown, they are already filtered, so it's easier to use them,\n                // because the whitelist might also include items which have already been added\n                var filteredList = this.dropdown.filterListItems.call(this, item[tagTextProp], { exact:true })\n\n                if( !this.settings.duplicates )\n                    // also filter out items which have already been matched in previous iterations\n                    filteredList = filteredList.filter(filteredItem => !whitelistMatchesValues.includes(filteredItem.value))\n\n                // get the best match out of list of possible matches.\n                // if there was a single item in the filtered list, use that one\n                var matchObj = filteredList.length > 1\n                    ? this.getWhitelistItem(item[tagTextProp], tagTextProp, filteredList)\n                    : filteredList[0]\n\n                if( matchObj && matchObj instanceof Object ){\n                    whitelistMatches.push( matchObj ) // set the Array (with the found Object) as the new value\n                }\n                else if( mode != 'mix' ){\n                    if( item.value == undefined )\n                        item.value = item[tagTextProp]\n                    whitelistMatches.push(item)\n                }\n            })\n\n            if( whitelistMatches.length )\n                tagsItems = whitelistMatches\n        }\n\n        return tagsItems;\n    },\n\n    /**\n     * Parse the initial value of a textarea (or input) element and generate mixed text w/ tags\n     * https://stackoverflow.com/a/57598892/104380\n     * @param {String} s\n     */\n    parseMixTags( s ){\n        var {mixTagsInterpolator, duplicates, transformTag, enforceWhitelist, maxTags, tagTextProp} = this.settings,\n            tagsDataSet = [];\n\n        s = s.split(mixTagsInterpolator[0]).map((s1, i) => {\n            var s2 = s1.split(mixTagsInterpolator[1]),\n                preInterpolated = s2[0],\n                maxTagsReached = tagsDataSet.length == maxTags,\n                textProp,\n                tagData,\n                tagElm;\n\n            try{\n                // skip numbers and go straight to the \"catch\" statement\n                if( preInterpolated == +preInterpolated )\n                    throw Error\n                tagData = JSON.parse(preInterpolated)\n            } catch(err){\n                tagData = this.normalizeTags(preInterpolated)[0] || {value:preInterpolated}\n            }\n\n            transformTag.call(this, tagData)\n\n            if( !maxTagsReached   &&\n                s2.length > 1   &&\n                (!enforceWhitelist || this.isTagWhitelisted(tagData.value))   &&\n                !(!duplicates && this.isTagDuplicate(tagData.value)) ){\n\n                // in case \"tagTextProp\" setting is set to other than \"value\" and this tag does not have this prop\n                textProp = tagData[tagTextProp] ? tagTextProp : 'value'\n                tagData[textProp] = this.trim(tagData[textProp])\n\n                tagElm = this.createTagElem(tagData)\n                tagsDataSet.push( tagData )\n                tagElm.classList.add(this.settings.classNames.tagNoAnimation)\n\n                s2[0] = tagElm.outerHTML //+ \"&#8288;\"  // put a zero-space at the end so the caret won't jump back to the start (when the last input's child element is a tag)\n                this.value.push(tagData)\n            }\n            else if(s1)\n                return i ? mixTagsInterpolator[0] + s1 : s1\n\n            return s2.join('')\n        }).join('')\n\n        this.DOM.input.innerHTML = s\n        this.DOM.input.appendChild(document.createTextNode(''))\n        this.DOM.input.normalize()\n\n        var tagNodes = this.getTagElms()\n\n        tagNodes.forEach((elm, idx) => getSetTagData(elm,  tagsDataSet[idx]))\n        this.update({withoutChangeEvent:true})\n\n        fixCaretBetweenTags(tagNodes, this.state.hasFocus)\n        return s\n    },\n\n    /**\n     * For mixed-mode: replaces a text starting with a prefix with a wrapper element (tag or something)\n     * First there *has* to be a \"this.state.tag\" which is a string that was just typed and is staring with a prefix\n     */\n    replaceTextWithNode( newWrapperNode, strToReplace ){\n        if( !this.state.tag && !strToReplace ) return;\n\n        strToReplace = strToReplace || this.state.tag.prefix + this.state.tag.value;\n        var idx, nodeToReplace,\n            selection = this.state.selection || window.getSelection(),\n            nodeAtCaret = selection.anchorNode,\n            firstSplitOffset = this.state.tag.delimiters ? this.state.tag.delimiters.length : 0;\n\n        // STEP 1: ex. replace #ba with the tag \"bart\" where \"|\" is where the caret is:\n        // CURRENT STATE: \"foo #ba #ba| #ba\"\n\n        // split the text node at the index of the caret\n        nodeAtCaret.splitText(selection.anchorOffset - firstSplitOffset)\n\n        // node 0: \"foo #ba #ba|\"\n        // node 1: \" #ba\"\n\n        // get index of LAST occurence of \"#ba\"\n        idx = nodeAtCaret.nodeValue.lastIndexOf(strToReplace)\n\n        if( idx == -1 ) return true;\n\n        nodeToReplace = nodeAtCaret.splitText(idx)\n\n        // node 0: \"foo #ba \"\n        // node 1: \"#ba\"    <- nodeToReplace\n\n        newWrapperNode && nodeAtCaret.parentNode.replaceChild(newWrapperNode, nodeToReplace)\n\n        // must NOT normalize contenteditable or it will cause unwanted issues:\n        // https://monosnap.com/file/ZDVmRvq5upYkidiFedvrwzSswegWk7\n        // nodeAtCaret.parentNode.normalize()\n\n        return true;\n    },\n\n    /**\n     * Validate a tag's data and create a new tag node\n     * @param {*} tagData\n     * @param {*} options\n     * @returns Object\n     */\n    prepareNewTagNode(tagData, options) {\n        options = options || {}\n\n        var tagElm,\n            _s = this.settings,\n            aggregatedInvalidInput = [],\n            tagElmParams = {},\n            originalData = Object.assign({}, tagData, {value:tagData.value+\"\"});\n\n        // shallow-clone tagData so later modifications will not apply to the source\n        tagData = Object.assign({}, originalData)\n        _s.transformTag.call(this, tagData)\n\n        tagData.__isValid = this.hasMaxTags() || this.validateTag(tagData)\n\n        if( tagData.__isValid !== true ){\n            if( options.skipInvalid )\n                return\n\n            // originalData is kept because it might be that this tag is invalid because it is a duplicate of another,\n            // and if that other tags is edited/deleted, this one should be re-validated and if is no more a duplicate - restored\n            extend(tagElmParams, this.getInvalidTagAttrs(tagData, tagData.__isValid), {__preInvalidData:originalData})\n\n            if( tagData.__isValid == this.TEXTS.duplicate )\n                // mark, for a brief moment, the tag (this this one) which THIS CURRENT tag is a duplcate of\n                this.flashTag( this.getTagElmByValue(tagData.value) )\n\n            if( !_s.createInvalidTags ){\n                aggregatedInvalidInput.push(tagData.value)\n                return\n            }\n        }\n\n        if( 'readonly' in tagData ){\n            if( tagData.readonly )\n                tagElmParams[\"aria-readonly\"] = true\n            // if \"readonly\" is \"false\", remove it from the tagData so it won't be added as an attribute in the template\n            else\n                delete tagData.readonly\n        }\n\n        // Create tag HTML element\n        tagElm = this.createTagElem(tagData, tagElmParams)\n\n        return {tagElm, tagData, aggregatedInvalidInput}\n    },\n\n    /**\n     * Logic to happen once a tag has just been injected into the DOM\n     * @param {Node} tagElm\n     * @param {Object} tagData\n     */\n    postProcessNewTagNode(tagElm, tagData) {\n        var _s = this.settings,\n            isValid = tagData.__isValid;\n\n        if( isValid && isValid === true ){\n            // update state\n            this.value.push(tagData)\n\n            // adding a timeout because the tag node is yet to be injected into the DOM and the `add` callback should only be calloned once the node is in the DOM.\n            // the reason is that the tag nodes are first places inside a fragment and once iteration is done, that fragment is placed in the DOM\n            setTimeout(() => {\n                this.trigger('add', {tag:tagElm, index:this.value.length - 1, data:tagData})\n            });\n        }\n        else{\n            this.trigger('invalid', {data:tagData, index:this.value.length, tag:tagElm, message:isValid})\n            if( !_s.keepInvalidTags )\n                // remove invalid tags (if \"keepInvalidTags\" is set to \"false\")\n                setTimeout(() => this.removeTags(tagElm, true), 1000)\n        }\n\n        this.dropdown.position() // reposition the dropdown because the just-added tag might cause a new-line\n    },\n\n    /**\n     * For selecting a single option (not used for multiple tags, but for \"mode:select\" only)\n     * @param {Object} tagElm   Tag DOM node\n     * @param {Object} tagData  Tag data\n     */\n    selectTag( tagElm, tagData ){\n        var _s = this.settings\n\n        if( _s.enforceWhitelist && !this.isTagWhitelisted(tagData.value) )\n            return\n\n        // this.input.set.call(this, tagData[_s.tagTextProp] || tagData.value, true)\n\n        // place the caret at the end of the input, only if a dropdown option was selected (and not by manually typing another value and clicking \"TAB\")\n        if( this.state.actions.selectOption )\n            setTimeout(() => this.setRangeAtStartEnd(false, this.DOM.input))\n\n        var lastTagElm = this.getLastTag()\n\n        if( lastTagElm )\n            this.replaceTag(lastTagElm, tagData)\n        else\n            this.appendTag(tagElm)\n\n        // if( _s.enforceWhitelist )\n        //     this.setContentEditable(false);\n\n        this.value[0] = tagData\n        this.update()\n        this.trigger('add', { tag:tagElm, data:tagData })\n\n        return [tagElm]\n    },\n\n    /**\n     * add an empty \"tag\" element in an editable state\n     */\n    addEmptyTag( initialData ){\n        var tagData = extend({ value:\"\" }, initialData || {}),\n            tagElm = this.createTagElem(tagData)\n\n        getSetTagData(tagElm, tagData)\n\n        // add the tag to the component's DOM\n        this.appendTag(tagElm)\n        this.editTag(tagElm, {skipValidation:true})\n        this.toggleFocusClass(true)\n    },\n\n    /**\n     * add a \"tag\" element to the \"tags\" component\n     * @param {String/Array} tagsItems   [A string (single or multiple values with a delimiter), or an Array of Objects or just Array of Strings]\n     * @param {Boolean}      clearInput  [flag if the input's value should be cleared after adding tags]\n     * @param {Boolean}      skipInvalid [do not add, mark & remove invalid tags]\n     * @return {Array} Array of DOM elements (tags)\n     */\n    addTags( tagsItems, clearInput, skipInvalid ){\n        var tagElems = [],\n            _s = this.settings,\n            aggregatedInvalidInput = [],\n            frag = document.createDocumentFragment()\n\n        if( !tagsItems || tagsItems.length == 0 ){\n            return tagElems\n        }\n\n        // converts Array/String/Object to an Array of Objects\n        tagsItems = this.normalizeTags(tagsItems)\n\n        switch( _s.mode ){\n            case 'mix': return this.addMixTags(tagsItems)\n            case 'select': {\n                clearInput = false\n                this.removeAllTags()\n            }\n        }\n\n        this.DOM.input.removeAttribute('style')\n\n        tagsItems.forEach(tagData => {\n            const newTagNode = this.prepareNewTagNode(tagData, {skipInvalid: skipInvalid || _s.skipInvalid});\n\n            if( !newTagNode) return;\n\n            const tagElm = newTagNode.tagElm;\n\n            tagData = newTagNode.tagData\n            aggregatedInvalidInput = newTagNode.aggregatedInvalidInput\n\n            tagElems.push(tagElm)\n\n            // mode-select overrides\n            if( _s.mode == 'select' ){\n                return this.selectTag(tagElm, tagData)\n            }\n\n            // add the tag to the component's DOM\n            // this.appendTag(tagElm)\n            frag.appendChild(tagElm)\n\n            this.postProcessNewTagNode(tagElm, tagData)\n        })\n\n        this.appendTag(frag)\n        this.update()\n\n        if( tagsItems.length && clearInput ){\n            this.input.set.call(this, _s.createInvalidTags ? '' : aggregatedInvalidInput.join(_s._delimiters))\n            this.setRangeAtStartEnd(false, this.DOM.input)\n        }\n\n        _s.dropdown.enabled && this.dropdown.refilter()\n        return tagElems\n    },\n\n    /**\n     * Adds a mix-content tag\n     * @param {String/Array} tagData    A string (single or multiple values with a delimiter), or an Array of Objects or just Array of Strings\n     */\n    addMixTags( tagsData ){\n        tagsData = this.normalizeTags(tagsData);\n\n        // flow for creating custom tags which aren't a part of the whitelist\n        if( tagsData[0].prefix || this.state.tag ){\n            return this.prefixedTextToTag(tagsData[0])\n        }\n\n        var frag = document.createDocumentFragment()\n\n        tagsData.forEach(tagData => {\n            const newTagNode = this.prepareNewTagNode(tagData)\n            frag.appendChild(newTagNode.tagElm)\n            this.insertAfterTag(newTagNode.tagElm)\n            this.postProcessNewTagNode(newTagNode.tagElm, newTagNode.tagData)\n        })\n\n        this.appendMixTags(frag)\n\n        return frag.children\n    },\n\n    appendMixTags( node ) {\n        var selection = !!this.state.selection;\n\n        // if \"selection\" exists, assumes intention of inecting the new tag at the last\n        // saved location of the caret inside \"this.DOM.input\"\n        if( selection ){\n            this.injectAtCaret(node)\n        }\n        // else, create a range and inject the new tag as the last child of \"this.DOM.input\"\n        else{\n            this.DOM.input.focus()\n            selection = this.setStateSelection()\n            selection.range.setStart(this.DOM.input, selection.range.endOffset)\n            selection.range.setEnd(this.DOM.input, selection.range.endOffset)\n            this.DOM.input.appendChild(node)\n\n            this.updateValueByDOMTags() // updates internal \"this.value\"\n            this.update() // updates original input/textarea\n        }\n    },\n\n    /**\n     * Adds a tag which was activly typed by the user\n     * @param {String/Array} tagData   [A string (single or multiple values with a delimiter), or an Array of Objects or just Array of Strings]\n     */\n    prefixedTextToTag( tagData ){\n        var _s = this.settings,\n            tagElm,\n            newTag,\n            createdFromDelimiters = this.state.tag?.delimiters;\n\n        tagData.prefix = tagData.prefix || this.state.tag ? this.state.tag.prefix : (_s.pattern.source||_s.pattern)[0];\n\n        newTag = this.prepareNewTagNode(tagData)\n        tagElm = newTag.tagElm\n\n        // tries to replace a taged textNode with a tagElm, and if not able,\n        // insert the new tag to the END if \"addTags\" was called from outside\n        if( !this.replaceTextWithNode(tagElm) ){\n            this.DOM.input.appendChild(tagElm)\n        }\n\n        setTimeout(()=> tagElm.classList.add(this.settings.classNames.tagNoAnimation), 300)\n\n        this.value.push(newTag.tagData)\n        this.update()\n\n        if( !createdFromDelimiters ) {\n            var elm = this.insertAfterTag(tagElm) || tagElm;\n            // a timeout is needed when selecting a tag from the suggestions via mouse.\n            // Without it, it seems the caret is placed right after the tag and not after the\n            // node which was inserted after the tag (whitespace by default)\n            setTimeout(placeCaretAfterNode, 0, elm);\n        }\n\n        this.state.tag = null\n\n        this.postProcessNewTagNode(tagElm, newTag.tagData)\n\n        return tagElm\n    },\n\n    /**\n     * appened (validated) tag to the component's DOM scope\n     */\n    appendTag(tagElm){\n        var DOM = this.DOM,\n            insertBeforeNode = DOM.input;\n\n        //if( insertBeforeNode === DOM.input )\n            DOM.scope.insertBefore(tagElm, insertBeforeNode)\n        //else\n        //    DOM.scope.appendChild(tagElm)\n    },\n\n    /**\n     * creates a DOM tag element and injects it into the component (this.DOM.scope)\n     * @param  {Object}  tagData [text value & properties for the created tag]\n     * @param  {Object}  extraData [properties which are for the HTML template only]\n     * @return {Object} [DOM element]\n     */\n    createTagElem( tagData, extraData ){\n        tagData.__tagId = getUID()\n\n        var tagElm,\n            templateData = extend({}, tagData, { value:escapeHTML(tagData.value+\"\"), ...extraData });\n\n        // if( this.settings.readonly )\n        //     tagData.readonly = true\n\n        tagElm = this.parseTemplate('tag', [templateData, this])\n\n        // crucial for proper caret placement when deleting content. if textNodes are allowed as children of a tag element,\n        // a browser bug casues the caret to be misplaced inside the tag element (especially affects \"readonly\" tags)\n        removeTextChildNodes(tagElm)\n        // while( tagElm.lastChild.nodeType == 3 )\n        //     tagElm.lastChild.parentNode.removeChild(tagElm.lastChild)\n\n        getSetTagData(tagElm, tagData)\n        return tagElm\n    },\n\n    /**\n     * re-check all invalid tags.\n     * called after a tag was edited or removed\n     */\n    reCheckInvalidTags(){\n        var _s = this.settings\n\n        this.getTagElms(_s.classNames.tagNotAllowed).forEach((tagElm, i) => {\n            var tagData = getSetTagData(tagElm),\n                hasMaxTags = this.hasMaxTags(),\n                tagValidation = this.validateTag(tagData),\n                isValid = tagValidation === true && !hasMaxTags;\n\n            if( _s.mode == 'select' )\n                this.toggleScopeValidation(tagValidation)\n\n            // if the tag has become valid\n            if( isValid ){\n                tagData = tagData.__preInvalidData\n                    ? tagData.__preInvalidData\n                    : { value:tagData.value }\n\n                return this.replaceTag(tagElm, tagData)\n            }\n\n            // if the tag is still invaild, set its title as such (reson of invalid might have changed)\n            tagElm.title = hasMaxTags || tagValidation\n        })\n    },\n\n    /**\n     * Removes a tag\n     * @param  {Array|Node|String}  tagElms         [DOM element(s) or a String value. if undefined or null, remove last added tag]\n     * @param  {Boolean}            silent          [A flag, which when turned on, does not remove any value and does not update the original input value but simply removes the tag from tagify]\n     * @param  {Number}             tranDuration    [Transition duration in MS]\n     * TODO: Allow multiple tags to be removed at-once\n     */\n    removeTags( tagElms, silent, tranDuration ){\n        var tagsToRemove,\n            _s = this.settings;\n\n        tagElms = tagElms && tagElms instanceof HTMLElement\n            ? [tagElms]\n            : tagElms instanceof Array\n                ? tagElms\n                : tagElms\n                    ? [tagElms]\n                    : [this.getLastTag()].filter(n => n)   // must filter because \"this.getLastTag()\" might be `undefined` if there are not tags\n\n        // normalize tagElms array values:\n        // 1. removing invalid items\n        // 2, if an item is String try to get the matching Tag HTML node\n        // 3. get the tag data\n        // 4. return a collection of Objects\n        tagsToRemove = tagElms.reduce((elms, tagElm) => {\n            if( tagElm && typeof tagElm == 'string')\n                tagElm = this.getTagElmByValue(tagElm)\n\n            var tagData = getSetTagData(tagElm);\n\n            if( tagElm && tagData && !tagData.readonly ) // make sure it's a tag and not some other node\n                // because the DOM node might be removed by async animation, the state will be updated while\n                // the node might still be in the DOM, so the \"update\" method should know which nodes to ignore\n                elms.push({\n                    node: tagElm,\n                    idx: this.getTagIdx(tagData), // this.getNodeIndex(tagElm); // this.getTagIndexByValue(tagElm.textContent)\n                    data: getSetTagData(tagElm, {'__removed':true})\n                })\n\n            return elms\n        }, [])\n\n        tranDuration = typeof tranDuration == \"number\" ? tranDuration : this.CSSVars.tagHideTransition\n\n        if( _s.mode == 'select' ){\n            tranDuration = 0;\n            this.input.set.call(this)\n        }\n\n        // if only a single tag is to be removed.\n        // skip \"select\" mode because invalid tags are actually set to `this.value`\n        if( tagsToRemove.length == 1 && _s.mode != 'select' ){\n            if( tagsToRemove[0].node.classList.contains(_s.classNames.tagNotAllowed) )\n                silent = true\n        }\n\n        if( !tagsToRemove.length )\n            return;\n\n        return _s.hooks.beforeRemoveTag(tagsToRemove, {tagify:this})\n            .then(() => {\n                function removeNode( tag ){\n                    if( !tag.node.parentNode ) return\n\n                    tag.node.parentNode.removeChild(tag.node)\n\n                    if( !silent ){\n                        // this.removeValueById(tagData.__uid)\n                        this.trigger('remove', { tag:tag.node, index:tag.idx, data:tag.data })\n                        this.dropdown.refilter()\n                        this.dropdown.position()\n                        this.DOM.input.normalize() // best-practice when in mix-mode (safe to do always anyways)\n\n                        // check if any of the current tags which might have been marked as \"duplicate\" should be un-marked\n                        if( _s.keepInvalidTags )\n                            this.reCheckInvalidTags()\n\n                        // below code is unfinished. it should iterate all currently invalid edited tags, which their edits have not\n                        // changed the value yet, and should re-trigger the check, but since nothing has changed, it does not work...\n                        // this.getTagElms(_s.classNames.tagEditing).forEach( this.events.callbacks.onEditTagBlur.bind )\n                    }\n                    else if( _s.keepInvalidTags )\n                        this.trigger('remove', { tag:tag.node, index:tag.idx })\n                }\n\n                function animation( tag ){\n                    tag.node.style.width = parseFloat(window.getComputedStyle(tag.node).width) + 'px'\n                    document.body.clientTop // force repaint for the width to take affect before the \"hide\" class below\n                    tag.node.classList.add(_s.classNames.tagHide)\n\n                    // manual timeout (hack, since transitionend cannot be used because of hover)\n                    setTimeout(removeNode.bind(this), tranDuration, tag)\n                }\n\n                if( tranDuration && tranDuration > 10 && tagsToRemove.length == 1 )\n                    animation.call(this, tagsToRemove[0])\n                else\n                    tagsToRemove.forEach(removeNode.bind(this))\n\n                // update state regardless of animation\n                if( !silent ){\n                    this.removeTagsFromValue(tagsToRemove.map(tag => tag.node))\n                    this.update() // update the original input with the current value\n\n                    if( _s.mode == 'select' && _s.userInput )\n                        this.setContentEditable(true);\n                }\n            })\n            .catch(reason => {})\n    },\n\n    removeTagsFromDOM(){\n        this.getTagElms().forEach(node => node.remove())\n    },\n\n    /**\n     * @param {Array/Node} tags to be removed from the this.value array\n     */\n    removeTagsFromValue( tags ){\n        tags = Array.isArray(tags) ? tags : [tags];\n\n        tags.forEach(tag => {\n            var tagData = getSetTagData(tag),\n                tagIdx = this.getTagIdx(tagData)\n\n            //  delete tagData.__removed\n\n            if( tagIdx > -1 )\n                this.value.splice(tagIdx, 1)\n        })\n    },\n\n    removeAllTags( opts ){\n        opts = opts || {}\n        this.value = []\n\n        if( this.settings.mode == 'mix' )\n            this.DOM.input.innerHTML = ''\n        else\n            this.removeTagsFromDOM()\n\n        this.dropdown.refilter()\n        this.dropdown.position()\n\n        if( this.state.dropdown.visible )\n            setTimeout(() => {\n                this.DOM.input.focus()\n            })\n\n        if( this.settings.mode == 'select' ){\n            this.input.set.call(this)\n            this.settings.userInput && this.setContentEditable(true)\n        }\n\n        // technically for now only \"withoutChangeEvent\" exists in the opts.\n        // if more properties will be added later, only pass what's needed to \"update\"\n        this.update(opts)\n    },\n\n    postUpdate(){\n        this.state.blockChangeEvent = false\n\n        var _s = this.settings,\n            classNames = _s.classNames,\n            hasValue = _s.mode == 'mix'\n                ? _s.mixMode.integrated\n                    ? this.DOM.input.textContent\n                    : this.DOM.originalInput.value.trim()\n                : this.value.length + this.input.raw.call(this).length;\n\n        this.toggleClass(classNames.hasMaxTags, this.value.length >= _s.maxTags)\n        this.toggleClass(classNames.hasNoTags, !this.value.length)\n        this.toggleClass(classNames.empty, !hasValue)\n\n        // specifically the \"select mode\" might have the \"invalid\" classname set when the field is changed, so it must be toggled on add/remove/edit\n        if( _s.mode == 'select' ){\n            this.toggleScopeValidation(this.value?.[0]?.__isValid)\n        }\n    },\n\n    setOriginalInputValue( v ){\n        var inputElm = this.DOM.originalInput;\n\n        if( !this.settings.mixMode.integrated ){\n            inputElm.value = v\n            inputElm.tagifyValue = inputElm.value // must set to \"inputElm.value\" and not again to \"inputValue\" because for some reason the browser changes the string afterwards a bit.\n            this.setPersistedData(v, 'value')\n        }\n    },\n\n    /**\n     * update the origianl (hidden) input field's value\n     * see - https://stackoverflow.com/q/50957841/104380\n     */\n    update( args ){\n        const UPDATE_DELAY = 100\n        clearTimeout(this.debouncedUpdateTimeout)\n        this.debouncedUpdateTimeout = setTimeout(reallyUpdate.bind(this), UPDATE_DELAY)\n        this.events.bindOriginaInputListener.call(this, UPDATE_DELAY)\n\n        function reallyUpdate() {\n            var inputValue = this.getInputValue();\n\n            this.setOriginalInputValue(inputValue)\n\n            if( (!this.settings.onChangeAfterBlur || !(args||{}).withoutChangeEvent) && !this.state.blockChangeEvent )\n                this.triggerChangeEvent()\n\n            this.postUpdate()\n        }\n    },\n\n    getInputValue(){\n        var value = this.getCleanValue();\n\n        return this.settings.mode == 'mix'\n            ? this.getMixedTagsAsString(value)\n            : value.length\n                ? this.settings.originalInputValueFormat\n                    ? this.settings.originalInputValueFormat(value)\n                    : JSON.stringify(value)\n                : \"\"\n    },\n\n    /**\n     * removes properties from `this.value` which are only used internally\n     */\n    getCleanValue(v){\n        return removeCollectionProp(v || this.value, this.dataProps);\n    },\n\n    getMixedTagsAsString(){\n        var result = \"\",\n            that = this,\n            _s = this.settings,\n            originalInputValueFormat = _s.originalInputValueFormat || JSON.stringify,\n            _interpolator = _s.mixTagsInterpolator;\n\n        function iterateChildren(rootNode){\n            rootNode.childNodes.forEach((node) => {\n                if( node.nodeType == 1 ){\n                    const tagData = getSetTagData(node);\n\n                    if( node.tagName == 'BR'  ){\n                        result += \"\\r\\n\";\n                    }\n\n                    if( tagData && isNodeTag.call(that, node) ){\n                        if( tagData.__removed )\n                            return;\n                        else\n                            result += _interpolator[0] + originalInputValueFormat( omit(tagData, that.dataProps) ) + _interpolator[1]\n                    }\n                    else if( node.getAttribute('style') || ['B', 'I', 'U'].includes(node.tagName)  )\n                        result += node.textContent;\n\n                    else if( node.tagName == 'DIV' || node.tagName == 'P' ){\n                        result += \"\\r\\n\";\n                        //  if( !node.children.length && node.textContent )\n                        //  result += node.textContent;\n                        iterateChildren(node)\n                    }\n                }\n                else\n                    result += node.textContent;\n            })\n        }\n\n        iterateChildren(this.DOM.input)\n\n        return result;\n    }\n}\n\n// legacy support for changed methods names\nTagify.prototype.removeTag = Tagify.prototype.removeTags\n\nexport default Tagify\n", "import { extend, logger } from './helpers'\r\n\r\nexport default function EventDispatcher( instance ){\r\n    // Create a DOM EventTarget object\r\n    var target = document.createTextNode(''),\r\n        // keep track of all binded events & their callbacks to be able to completely remove all listeners of a speicific type\r\n        callbacksPerType = {}\r\n\r\n    function addRemove(op, events, cb){\r\n        if( cb )\r\n            events.split(/\\s+/g).forEach(ev => target[op + 'EventListener'].call(target, ev, cb))\r\n    }\r\n\r\n    // Pass EventTarget interface calls to DOM EventTarget object\r\n    return {\r\n        // unbinds all events\r\n        removeAllCustomListeners(){\r\n            Object.entries(callbacksPerType).forEach(([ev, cbArr]) => {\r\n                cbArr.forEach(cb => addRemove('remove', ev, cb))\r\n            })\r\n\r\n            callbacksPerType = {}\r\n        },\r\n\r\n        off(events, cb){\r\n            if( events ) {\r\n                if( cb )\r\n                    addRemove('remove', events, cb)\r\n                else\r\n                    // if `cb` argument was not specified then remove all listeners for the given event(s) types\r\n                    events.split(/\\s+/g).forEach(ev => {\r\n                        callbacksPerType[ev]?.forEach(cb => addRemove('remove', ev, cb))\r\n                        delete callbacksPerType[ev]\r\n                    })\r\n            }\r\n\r\n            return this\r\n        },\r\n\r\n        on(events, cb){\r\n            if(cb && typeof cb == 'function') {\r\n                //track events callbacks to be able to remove them altogehter\r\n                events.split(/\\s+/g).forEach(ev => {\r\n                    if (Array.isArray(callbacksPerType[ev]) )\r\n                        callbacksPerType[ev].push(cb)\r\n                    else\r\n                        callbacksPerType[ev] = [cb]\r\n                })\r\n\r\n                addRemove('add', events, cb)\r\n            }\r\n\r\n            return this\r\n        },\r\n\r\n        trigger(eventName, data, opts){\r\n            var e;\r\n\r\n            opts = opts || {\r\n                cloneData:true\r\n            }\r\n\r\n            if( !eventName ) return;\r\n\r\n            if( instance.settings.isJQueryPlugin ){\r\n                if( eventName == 'remove' ) eventName = 'removeTag' // issue #222\r\n                jQuery(instance.DOM.originalInput).triggerHandler(eventName, [data])\r\n            }\r\n            else{\r\n                try {\r\n                    var eventData = typeof data === 'object'\r\n                        ? data\r\n                        : {value:data};\r\n\r\n                    eventData = opts.cloneData ? extend({}, eventData) : eventData\r\n                    eventData.tagify = this\r\n\r\n                    if( data.event )\r\n                        eventData.event = this.cloneEvent(data.event)\r\n\r\n                    // TODO: move the below to the \"extend\" function\r\n                    if( data instanceof Object )\r\n                        for( var prop in data )\r\n                            if(data[prop] instanceof HTMLElement)\r\n                                eventData[prop] = data[prop]\r\n\r\n                    e = new CustomEvent(eventName, {\"detail\":eventData})\r\n                }\r\n                catch(err){ logger.warn(err) }\r\n\r\n                target.dispatchEvent(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n", "export default function () {\n  document.querySelectorAll(\"[data-facet-dropdown]\").forEach((dropdown) => {\n    const facet = dropdown.getAttribute(\"data-facet-dropdown\");\n    const form = dropdown.querySelector(\"form\");\n\n    if (form) {\n      let beginState = null;\n\n      dropdown.addEventListener(\"show.bs.dropdown\", function (evt) {\n        beginState = getCurrentState(form, facet);\n      });\n\n      dropdown.addEventListener(\"hidden.bs.dropdown\", function (evt) {\n        const currentState = getCurrentState(form, facet);\n\n        if (beginState !== null && beginState !== currentState) {\n          form.submit();\n        }\n      });\n    } else {\n      console.log(`Could not find form element for facet '${facet}'.`);\n    }\n  });\n}\n\nfunction getCurrentState(form, facet) {\n  const entries = Array.from(new FormData(form).entries());\n\n  return entries\n    .filter(([key]) => key === `f[${facet}]`)\n    .map(([_, value]) => value)\n    .join(\",\");\n}\n"],
  "mappings": "0kBAAA,IAAAA,GAAAC,GAAA,oBAAC,SAASC,GAAEC,GAAE,CAAI,OAAO,QAAS,YAAY,OAAO,IAAK,OAAO,CAAC,EAAEA,EAAC,EAAU,OAAO,QAAS,UAAU,OAAO,QAAS,OAAO,QAAQA,GAAE,EAAOD,GAAE,KAAKA,GAAE,MAAMC,GAAE,CAAE,GAAG,OAAO,KAAO,IAAY,KAAK,QAAK,UAAU,CAAC,OAAO,UAAU,CAAC,aAAa,IAAI,EAAE,CAAC,OAAO,EAAE,QAAQ,GAAG,GAAG,EAAE,IAAI,EAAE,QAAQ,GAAG,KAAK,GAAG,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,SAASD,GAAEC,GAAE,CAAC,IAAIC,GAAE,GAAGF,GAAEC,IAAG,MAAM,EAAE,OAAOC,GAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,YAAY,EAAE,YAAY,EAAE,UAAU,EAAE,gBAAgB,GAAG,gBAAgB,GAAG,OAAO,EAAE,QAAQ,EAAE,OAAO,KAAK,OAAO,CAAC,eAAe,GAAK,iBAAiB,GAAG,qBAAqB,GAAM,iBAAiB,YAAY,iBAAiB,EAAE,mBAAmB,GAAG,uBAAuB,GAAK,eAAe,iBAAiB,aAAa,eAAe,WAAW,aAAa,cAAc,gBAAgB,cAAc,gBAAgB,UAAU,GAAK,gBAAgB,GAAK,kBAAkB,GAAG,mBAAmB,CAAC,QAAQ,QAAQ,QAAQ,QAAQ,EAAE,gBAAgB,GAAM,QAAQ,EAAE,iBAAiB,cAAc,aAAa,OAAO,gBAAgB,kCAAkC,qBAAqB,GAAM,eAAe,SAAS,mBAAmB,GAAM,oBAAoB,GAAM,sBAAsB,GAAM,wBAAwB,CAAC,KAAK,EAAE,iBAAiB,EAAK,EAAE,cAAc,EAAE,EAAE,EAAE,kBAAkB,SAASF,GAAE,CAAC,OAAO,IAAI,YAAYA,GAAE,CAAC,gBAAgB,EAAI,CAAC,CAAC,EAAE,gBAAgB,SAASA,GAAE,CAAC,IAAIC,GAAE,IAAI,UAAUD,GAAE,CAAC,CAAC,EAAE,OAAAC,GAAE,WAAW,EAAE,OAAO,aAAoBA,EAAC,EAAE,QAAQ,OAAO,EAAM,EAAE,CAAC,kBAAkB,GAAG,aAAa,GAAG,sBAAsB,EAAE,gBAAgB,GAAG,aAAa,GAAG,aAAa,EAAE,kBAAkB,GAAG,yBAAyB,GAAG,gBAAgB,EAAE,kBAAkB,GAAG,WAAW,GAAG,eAAe,GAAG,gBAAgB,GAAG,qBAAqB,GAAG,gBAAgB,GAAG,UAAU,GAAG,aAAa,EAAE,aAAa,GAAG,eAAe,EAAE,QAAQ,GAAG,iBAAiB,GAAG,cAAc,GAAG,kBAAkB,GAAG,aAAa,GAAG,aAAa,GAAG,kBAAkB,GAAG,eAAe,CAAC,EAAM,EAAE,CAAC,MAAM,OAAO,MAAM,SAAS,OAAO,EAAM,EAAE,EAAE,IAAI,SAASD,GAAE,CAAC,MAAM,OAAOA,GAAE,eAAeA,GAAE,GAAG,CAAC,EAAE,KAAK,IAAI,EAAE,SAAS,EAAEA,GAAE,CAAC,GAAGA,IAAG,KAA4B,OAAGA,GAAE,MAAM,EAAE,GAAG,KAAa,WAAWA,GAAE,MAAM,EAAE,EAAE,CAAC,GAAG,OAAaA,GAAE,MAAM,EAAE,GAAG,IAAY,WAAWA,GAAE,MAAM,EAAE,EAAE,CAAC,EAAE,KAAK,OAAaA,GAAE,MAAM,EAAE,GAAG,IAAY,WAAWA,GAAE,MAAM,EAAE,EAAE,CAAC,EAAE,IAAI,IAAI,OAAiB,WAAWA,EAAC,GAAG,MAAS,CAAC,SAAS,EAAEA,GAAEC,GAAE,CAAC,OAAOD,GAAE,cAAcA,GAAE,aAAaC,EAAC,CAAC,CAAC,SAAS,EAAED,GAAEC,GAAE,CAAC,OAAOD,GAAE,eAAeA,GAAE,aAAaC,EAAC,GAAGD,GAAE,aAAa,QAAQC,EAAC,EAAE,CAAC,SAAS,GAAGD,GAAEC,GAAE,CAAC,OAAO,EAAED,GAAEC,EAAC,GAAG,EAAED,GAAE,QAAQC,EAAC,CAAC,CAAC,SAAS,EAAED,GAAE,CAAC,OAAOA,GAAE,aAAa,CAAC,SAAS,IAAI,CAAC,OAAO,QAAQ,CAAC,SAAS,EAAEA,GAAEC,GAAE,CAAC,KAAMD,IAAG,CAACC,GAAED,EAAC,GAAGA,GAAE,EAAEA,EAAC,EAAE,OAAOA,IAAI,IAAI,CAAC,SAAS,EAAEA,GAAEC,GAAEC,GAAE,CAAC,IAAIC,GAAE,GAAGF,GAAEC,EAAC,EAAME,GAAE,GAAGH,GAAE,eAAe,EAAE,OAAGD,KAAIC,IAAGG,KAAIA,KAAI,KAAKA,GAAE,MAAM,GAAG,EAAE,QAAQF,EAAC,GAAG,GAAU,QAAoBC,EAAE,CAAC,SAAS,GAAGF,GAAEC,GAAE,CAAC,IAAIC,GAAE,KAAyC,GAApC,EAAEF,GAAE,SAASD,GAAE,CAAC,OAAOG,GAAE,EAAEF,GAAED,GAAEE,EAAC,CAAC,CAAC,EAAKC,KAAI,QAAS,OAAOA,EAAE,CAAC,SAAS,EAAEH,GAAEC,GAAE,CAAC,IAAIC,GAAEF,GAAE,SAASA,GAAE,iBAAiBA,GAAE,mBAAmBA,GAAE,oBAAoBA,GAAE,uBAAuBA,GAAE,iBAAiB,OAAOE,IAAGA,GAAE,KAAKF,GAAEC,EAAC,CAAC,CAAC,SAAS,EAAED,GAAE,CAAC,IAAIC,GAAE,iCAAqCC,GAAED,GAAE,KAAKD,EAAC,EAAE,OAAGE,GAAUA,GAAE,CAAC,EAAE,YAAY,EAAa,EAAG,CAAC,SAAS,EAAEF,GAAEC,GAAE,CAAyE,QAApEC,GAAE,IAAI,UAAcC,GAAED,GAAE,gBAAgBF,GAAE,WAAW,EAAMI,GAAED,GAAE,KAAWF,GAAE,GAAGA,KAAIG,GAAEA,GAAE,WAAW,OAAGA,IAAG,OAAMA,GAAE,GAAG,EAAE,uBAAuB,GAASA,EAAC,CAAC,SAAS,EAAEJ,GAAE,CAAC,OAAOA,GAAE,MAAM,OAAO,CAAC,CAAC,SAAS,EAAEA,GAAE,CAAC,IAAIC,GAAE,CAAC,EAAED,EAAC,EAAE,GAAG,EAAE,OAAO,sBAAsBC,GAAE,CAAC,IAAIC,GAAE,EAAE,mBAAmBF,GAAE,qBAAqB,CAAC,EAAE,OAAOE,GAAE,cAAc,UAAU,EAAE,OAAO,KAAK,CAAC,IAAIC,GAAE,EAAEH,EAAC,EAAE,OAAOG,GAAE,CAAC,IAAI,QAAQ,IAAI,QAAQ,IAAI,QAAQ,IAAI,WAAW,IAAI,UAAU,OAAO,EAAE,UAAUH,GAAE,WAAW,CAAC,EAAE,IAAI,MAAM,OAAO,EAAE,oBAAoBA,GAAE,sBAAsB,CAAC,EAAE,IAAI,KAAK,OAAO,EAAE,iBAAiBA,GAAE,mBAAmB,CAAC,EAAE,IAAI,KAAK,IAAI,KAAK,OAAO,EAAE,qBAAqBA,GAAE,wBAAwB,CAAC,EAAE,IAAI,SAAS,IAAI,QAAQ,OAAO,EAAE,QAAQA,GAAE,SAAS,CAAC,EAAE,QAAQ,OAAO,EAAEA,GAAE,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,GAAGA,GAAE,CAAIA,IAAGA,GAAE,CAAE,CAAC,SAAS,EAAEA,GAAEC,GAAE,CAAC,OAAO,OAAO,UAAU,SAAS,KAAKD,EAAC,IAAI,WAAWC,GAAE,GAAG,CAAC,SAAS,EAAED,GAAE,CAAC,OAAO,EAAEA,GAAE,UAAU,CAAC,CAAC,SAAS,EAAEA,GAAE,CAAC,OAAO,EAAEA,GAAE,QAAQ,CAAC,CAAC,SAAS,GAAGA,GAAE,CAAC,IAAIC,GAAE,qBAAyBC,GAAEF,GAAEC,EAAC,EAAE,OAAIC,KAAGA,GAAEF,GAAEC,EAAC,EAAE,CAAC,GAASC,EAAC,CAAC,SAAS,EAAEF,GAAE,CAAC,IAAIC,GAAE,CAAC,EAAE,GAAGD,GAAG,QAAQE,GAAE,EAAEA,GAAEF,GAAE,OAAOE,KAAKD,GAAE,KAAKD,GAAEE,EAAC,CAAC,EAAG,OAAOD,EAAC,CAAC,SAAS,GAAGD,GAAEC,GAAE,CAAC,GAAGD,GAAG,QAAQE,GAAE,EAAEA,GAAEF,GAAE,OAAOE,KAAKD,GAAED,GAAEE,EAAC,CAAC,CAAG,CAAC,SAAS,EAAEF,GAAE,CAAC,IAAIC,GAAED,GAAE,sBAAsB,EAAME,GAAED,GAAE,IAAQE,GAAEF,GAAE,OAAO,OAAOC,GAAE,OAAO,aAAaC,IAAG,CAAC,CAAC,SAAS,GAAGH,GAAE,CAAC,OAAGA,GAAE,aAAaA,GAAE,YAAY,YAAY,OAAO,WAAmB,GAAG,EAAE,KAAK,SAASA,GAAE,YAAY,EAAE,IAAI,EAAc,GAAG,EAAE,KAAK,SAASA,EAAC,CAAE,CAAC,SAAS,EAAEA,GAAE,CAAC,OAAOA,GAAE,KAAK,EAAE,MAAM,KAAK,CAAC,CAAC,SAAS,GAAGA,GAAEC,GAAE,CAAC,QAAQC,MAAKD,GAAMA,GAAE,eAAeC,EAAC,IAAGF,GAAEE,EAAC,EAAED,GAAEC,EAAC,GAAG,OAAOF,EAAC,CAAC,SAAS,EAAEA,GAAE,CAAC,GAAG,CAAC,OAAO,KAAK,MAAMA,EAAC,CAAC,OAAOA,GAAE,CAAC,SAAEA,EAAC,EAAS,IAAI,CAAC,CAAC,SAAS,GAAG,CAAC,IAAIA,GAAE,wBAAwB,GAAG,CAAC,oBAAa,QAAQA,GAAEA,EAAC,EAAE,aAAa,WAAWA,EAAC,EAAS,EAAI,MAAS,CAAC,MAAO,EAAK,CAAC,CAAC,SAAS,EAAEC,GAAE,CAAC,GAAG,CAAC,IAAID,GAAE,IAAI,IAAIC,EAAC,EAAE,OAAGD,KAAGC,GAAED,GAAE,SAASA,GAAE,QAAWC,GAAE,MAAM,KAAK,IAAGA,GAAEA,GAAE,QAAQ,OAAO,EAAE,GAASA,EAAC,MAAS,CAAC,OAAOA,EAAC,CAAC,CAAC,SAAS,EAAE,EAAE,CAAC,OAAO,GAAG,GAAG,EAAE,KAAK,UAAU,CAAC,OAAO,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,EAAEA,GAAE,CAAC,IAAID,GAAE,EAAE,GAAG,YAAY,SAASA,GAAE,CAACC,GAAED,GAAE,OAAO,GAAG,CAAC,CAAC,EAAE,OAAOA,EAAC,CAAC,SAAS,GAAG,CAAC,EAAE,OAAO,SAASA,GAAEC,GAAEC,GAAE,CAAI,SAAS,QAAQ,IAAID,GAAED,GAAEE,EAAC,CAAE,CAAC,CAAC,SAAS,GAAG,CAAC,EAAE,OAAO,IAAI,CAAC,SAAS,EAAEF,GAAEC,GAAE,CAAC,OAAGA,GAAUD,GAAE,cAAcC,EAAC,EAAc,EAAE,GAAG,EAAED,EAAC,CAAE,CAAC,SAAS,EAAEA,GAAEC,GAAE,CAAC,OAAGA,GAAUD,GAAE,iBAAiBC,EAAC,EAAc,EAAE,GAAG,EAAED,EAAC,CAAE,CAAC,SAAS,EAAEA,GAAEC,GAAE,CAACD,GAAE,EAAEA,EAAC,EAAKC,GAAG,WAAW,UAAU,CAAC,EAAED,EAAC,EAAEA,GAAE,IAAI,EAAEC,EAAC,EAAOD,GAAE,cAAc,YAAYA,EAAC,CAAE,CAAC,SAAS,EAAEA,GAAEC,GAAEC,GAAE,CAACF,GAAE,EAAEA,EAAC,EAAKE,GAAG,WAAW,UAAU,CAAC,EAAEF,GAAEC,EAAC,EAAED,GAAE,IAAI,EAAEE,EAAC,EAAOF,GAAE,WAAWA,GAAE,UAAU,IAAIC,EAAC,CAAE,CAAC,SAAS,EAAED,GAAEC,GAAEC,GAAE,CAACF,GAAE,EAAEA,EAAC,EAAKE,GAAG,WAAW,UAAU,CAAC,EAAEF,GAAEC,EAAC,EAAED,GAAE,IAAI,EAAEE,EAAC,EAAUF,GAAE,YAAWA,GAAE,UAAU,OAAOC,EAAC,EAAKD,GAAE,UAAU,SAAS,GAAGA,GAAE,gBAAgB,OAAO,EAAI,CAAC,SAAS,EAAEA,GAAEC,GAAE,CAACD,GAAE,EAAEA,EAAC,EAAEA,GAAE,UAAU,OAAOC,EAAC,CAAC,CAAC,SAAS,EAAED,GAAEC,GAAE,CAACD,GAAE,EAAEA,EAAC,EAAE,GAAGA,GAAE,cAAc,SAAS,SAASA,GAAE,CAAC,EAAEA,GAAEC,EAAC,CAAC,CAAC,EAAE,EAAED,GAAEC,EAAC,CAAC,CAAC,SAAS,EAAED,GAAEC,GAAE,CAAQ,GAAPD,GAAE,EAAEA,EAAC,EAAKA,GAAE,QAAS,OAAOA,GAAE,QAAQC,EAAC,EAAO,EAAG,IAAGD,IAAG,MAAM,EAAEA,GAAEC,EAAC,EAAG,OAAOD,SAASA,GAAEA,IAAG,EAAEA,EAAC,GAAG,OAAO,IAAK,CAAC,SAAS,EAAEA,GAAEC,GAAE,CAAC,OAAOD,GAAE,UAAU,EAAEC,GAAE,MAAM,IAAIA,EAAC,CAAC,SAAS,EAAED,GAAEC,GAAE,CAAC,OAAOD,GAAE,UAAUA,GAAE,OAAOC,GAAE,MAAM,IAAIA,EAAC,CAAC,SAAS,EAAED,GAAE,CAAC,IAAIC,GAAED,GAAE,KAAK,EAAE,OAAG,EAAEC,GAAE,GAAG,GAAG,EAAEA,GAAE,IAAI,EAAUA,GAAE,UAAU,EAAEA,GAAE,OAAO,CAAC,EAAcA,EAAE,CAAC,SAAS,EAAED,GAAEC,GAAE,CAAC,OAAGA,GAAE,QAAQ,UAAU,IAAI,EAAS,CAAC,EAAED,GAAE,EAAEC,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,EAAUA,GAAE,QAAQ,OAAO,IAAI,EAAS,CAAC,EAAED,GAAE,EAAEC,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,EAAUA,GAAE,QAAQ,OAAO,IAAI,EAAS,CAAC,EAAED,GAAE,EAAEC,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,EAAUA,GAAE,QAAQ,WAAW,IAAI,EAAS,CAAC,EAAED,GAAE,EAAEC,GAAE,OAAO,CAAC,CAAC,CAAC,CAAC,EAAUA,KAAI,WAAkB,CAAC,QAAQ,EAAUA,KAAI,SAAgB,CAAC,MAAM,EAAUA,KAAI,OAAc,CAAC,SAAS,IAAI,EAAc,GAAG,EAAE,iBAAiB,EAAEA,EAAC,CAAC,CAAE,CAAC,IAAI,EAAE,SAASD,GAAEC,GAAE,CAAgC,QAA3BC,GAAE,GAAG,EAAE,iBAAiBD,EAAC,EAAUE,GAAE,EAAEA,GAAED,GAAE,OAAOC,KAAI,CAAC,IAAIC,GAAEF,GAAEC,EAAC,EAAE,GAAGC,GAAE,wBAAwBJ,EAAC,IAAI,KAAK,4BAA6B,OAAOI,EAAE,CAAC,EAAM,EAAE,SAASJ,GAAEC,GAAE,CAAgC,QAA3BC,GAAE,GAAG,EAAE,iBAAiBD,EAAC,EAAUE,GAAED,GAAE,OAAO,EAAEC,IAAG,EAAEA,KAAI,CAAC,IAAIC,GAAEF,GAAEC,EAAC,EAAE,GAAGC,GAAE,wBAAwBJ,EAAC,IAAI,KAAK,4BAA6B,OAAOI,EAAE,CAAC,EAAE,SAAS,GAAGJ,GAAEC,GAAE,CAAC,OAAGA,GAAU,EAAED,GAAEC,EAAC,EAAE,CAAC,EAAc,EAAE,GAAG,EAAE,KAAKD,EAAC,EAAE,CAAC,CAAE,CAAC,SAAS,EAAEA,GAAE,CAAC,OAAG,EAAEA,GAAE,QAAQ,EAAU,EAAEA,EAAC,EAAcA,EAAE,CAAC,SAAS,EAAEA,GAAEC,GAAEC,GAAE,CAAC,OAAG,EAAED,EAAC,EAAS,CAAC,OAAO,GAAG,EAAE,KAAK,MAAMD,GAAE,SAASC,EAAC,EAAa,CAAC,OAAO,EAAED,EAAC,EAAE,MAAMC,GAAE,SAASC,EAAC,CAAE,CAAC,SAAS,EAAED,GAAEC,GAAEC,GAAE,CAAC,GAAG,UAAU,CAAC,IAAIH,GAAE,EAAEC,GAAEC,GAAEC,EAAC,EAAEH,GAAE,OAAO,iBAAiBA,GAAE,MAAMA,GAAE,QAAQ,CAAC,CAAC,EAAE,IAAIA,GAAE,EAAEE,EAAC,EAAE,OAAOF,GAAEE,GAAEC,EAAC,CAAC,SAAS,EAAEF,GAAEC,GAAEC,GAAE,CAAC,UAAG,UAAU,CAAC,IAAIH,GAAE,EAAEC,GAAEC,GAAEC,EAAC,EAAEH,GAAE,OAAO,oBAAoBA,GAAE,MAAMA,GAAE,QAAQ,CAAC,CAAC,EAAS,EAAEE,EAAC,EAAEA,GAAEC,EAAC,CAAC,IAAI,GAAG,GAAG,EAAE,cAAc,QAAQ,EAAE,SAAS,GAAGH,GAAEC,GAAE,CAAC,IAAIC,GAAE,GAAGF,GAAEC,EAAC,EAAE,GAAGC,GAAE,CAAC,GAAGA,KAAI,OAAQ,MAAM,CAAC,GAAGF,GAAEC,EAAC,CAAC,EAAO,IAAIE,GAAE,EAAEH,GAAEE,EAAC,EAAE,OAAGC,GAAE,SAAS,GAAG,EAAE,iBAAiBD,GAAE,QAAQD,GAAE,uBAAuB,EAAQ,CAAC,EAAE,GAAcE,EAAG,CAAC,CAAC,SAAS,GAAGH,GAAEC,GAAE,CAAC,OAAO,EAAED,GAAE,SAASA,GAAE,CAAC,OAAO,GAAGA,GAAEC,EAAC,GAAG,IAAI,CAAC,CAAC,CAAC,SAAS,GAAGD,GAAE,CAAC,IAAIC,GAAE,GAAGD,GAAE,WAAW,EAAE,GAAGC,GAAG,OAAGA,KAAI,OAAe,GAAGD,GAAE,WAAW,EAAc,GAAGA,GAAEC,EAAC,EAAQ,IAAIC,GAAE,GAAGF,EAAC,EAAE,OAAGE,GAAE,QAAgB,GAAG,EAAE,KAAiBF,EAAG,CAAC,SAAS,GAAGA,GAAE,CAAmC,QAA9BC,GAAE,EAAE,OAAO,mBAA2BC,GAAE,EAAEA,GAAED,GAAE,OAAOC,KAAK,GAAGF,KAAIC,GAAEC,EAAC,EAAG,MAAO,GAAM,MAAO,EAAK,CAAC,SAAS,GAAGD,GAAEC,GAAE,CAAC,GAAGD,GAAE,WAAW,SAASD,GAAE,CAAI,CAACE,GAAE,aAAaF,GAAE,IAAI,GAAG,GAAGA,GAAE,IAAI,GAAGC,GAAE,gBAAgBD,GAAE,IAAI,CAAE,CAAC,EAAE,GAAGE,GAAE,WAAW,SAASF,GAAE,CAAI,GAAGA,GAAE,IAAI,GAAGC,GAAE,aAAaD,GAAE,KAAKA,GAAE,KAAK,CAAE,CAAC,CAAC,CAAC,SAAS,GAAGA,GAAEC,GAAE,CAAa,QAARC,GAAE,GAAGD,EAAC,EAAUE,GAAE,EAAEA,GAAED,GAAE,OAAOC,KAAI,CAAC,IAAIC,GAAEF,GAAEC,EAAC,EAAE,GAAG,CAAC,GAAGC,GAAE,aAAaJ,EAAC,EAAG,MAAO,EAAK,OAAOA,GAAE,CAAC,EAAEA,EAAC,CAAC,CAAC,CAAC,OAAOA,KAAI,WAAW,CAAC,SAAS,GAAGA,GAAEI,GAAEC,GAAE,CAAC,IAAIJ,GAAE,IAAI,EAAEG,GAAE,IAAI,EAAME,GAAE,YAAeN,KAAI,SAAiBA,GAAE,QAAQ,GAAG,EAAE,GAAGM,GAAEN,GAAE,OAAO,EAAEA,GAAE,QAAQ,GAAG,CAAC,EAAEC,GAAED,GAAE,OAAOA,GAAE,QAAQ,GAAG,EAAE,EAAEA,GAAE,MAAM,GAAOM,GAAEN,IAAE,IAAIE,GAAE,GAAG,EAAE,iBAAiBD,EAAC,EAAE,OAAGC,IAAG,GAAGA,GAAE,SAASF,GAAE,CAAC,IAAIC,GAAMC,GAAEE,GAAE,UAAU,EAAI,EAAEH,GAAE,GAAG,EAAE,uBAAuB,EAAEA,GAAE,YAAYC,EAAC,EAAM,GAAGI,GAAEN,EAAC,IAAGC,GAAEC,IAAE,IAAIC,GAAE,CAAC,WAAW,GAAK,OAAOH,GAAE,SAASC,EAAC,EAAM,GAAGD,GAAE,qBAAqBG,EAAC,IAASH,GAAEG,GAAE,OAAUA,GAAE,YAAe,GAAGG,GAAEN,GAAEA,GAAEC,GAAEI,EAAC,EAAE,GAAGA,GAAE,KAAK,SAASL,GAAE,CAAC,GAAGA,GAAE,oBAAoBG,EAAC,CAAC,CAAC,EAAC,CAAC,EAAEC,GAAE,WAAW,YAAYA,EAAC,IAAOA,GAAE,WAAW,YAAYA,EAAC,EAAE,GAAG,GAAG,EAAE,KAAK,wBAAwB,CAAC,QAAQA,EAAC,CAAC,GAASJ,EAAC,CAAC,SAAS,GAAGA,GAAEC,GAAEC,GAAE,CAAC,IAAIC,GAAE,GAAGH,GAAE,eAAe,EAAE,GAAGG,GAAE,CAAC,IAAIC,GAAED,GAAE,MAAM,GAAG,EAAE,QAAQH,GAAE,EAAEA,GAAEI,GAAE,OAAOJ,KAAI,CAAC,IAAIK,GAAED,GAAEJ,EAAC,EAAE,MAAM,IAAI,CAAC,EAAMM,GAAED,GAAE,CAAC,EAAE,KAAK,EAAKC,GAAE,QAAQ,GAAG,IAAI,IAAGA,GAAEA,GAAE,UAAU,CAAC,GAAE,IAAIC,GAAEF,GAAE,CAAC,GAAG,OAAWG,GAAEP,GAAE,cAAc,IAAIK,EAAC,EAAKE,IAAG,GAAGD,GAAEC,GAAEN,EAAC,CAAE,CAAC,CAAC,GAAG,EAAED,GAAE,mCAAmC,EAAE,SAASD,GAAE,CAAC,IAAIC,GAAE,GAAGD,GAAE,aAAa,EAAKC,IAAG,MAAM,GAAGA,GAAED,GAAEE,EAAC,CAAE,CAAC,CAAC,CAAC,SAAS,GAAGF,GAAE,CAAC,GAAG,EAAEA,GAAE,mCAAmC,EAAE,SAASA,GAAE,CAAC,IAAIC,GAAE,GAAGD,GAAE,IAAI,EAAME,GAAE,GAAG,EAAE,eAAeD,EAAC,EAAKC,IAAG,MAAMF,GAAE,WAAW,aAAaE,GAAEF,EAAC,CAAE,CAAC,CAAC,CAAC,SAAS,GAAGM,GAAEN,GAAEO,GAAE,CAAC,GAAGP,GAAE,iBAAiB,MAAM,EAAE,SAASA,GAAE,CAAC,IAAIC,GAAE,EAAED,GAAE,IAAI,EAAE,GAAGC,IAAGA,GAAE,OAAO,EAAE,CAAC,IAAIC,GAAED,GAAE,QAAQ,IAAI,KAAK,EAAME,GAAEH,GAAE,QAAQ,QAAQ,IAAI,KAAK,EAAMI,GAAEE,GAAE,cAAcH,GAAE,QAAQD,GAAE,IAAI,EAAE,GAAGE,IAAGA,KAAIE,GAAE,CAAC,IAAID,GAAEL,GAAE,UAAU,EAAE,GAAGA,GAAEI,EAAC,EAAEG,GAAE,MAAM,KAAK,UAAU,CAAC,GAAGP,GAAEK,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,GAAGL,GAAE,CAAC,OAAO,UAAU,CAAC,EAAEA,GAAE,EAAE,OAAO,UAAU,EAAE,GAAGA,EAAC,EAAE,GAAGA,EAAC,EAAE,GAAGA,EAAC,EAAE,GAAGA,GAAE,WAAW,CAAC,CAAC,CAAC,SAAS,GAAGA,GAAE,CAAC,IAAIC,GAAE,cAAkBC,GAAE,EAAEF,GAAEC,EAAC,EAAED,GAAEA,GAAE,cAAcC,EAAC,EAAcC,IAAE,MAAM,CAAE,CAAC,SAAS,EAAEF,GAAEC,GAAEC,GAAEC,GAAE,CAAW,IAAV,GAAGH,GAAEE,GAAEC,EAAC,EAAQD,GAAE,WAAW,OAAO,GAAE,CAAC,IAAIE,GAAEF,GAAE,WAAW,EAAEE,GAAE,EAAE,OAAO,UAAU,EAAEJ,GAAE,aAAaI,GAAEH,EAAC,EAAKG,GAAE,WAAW,KAAK,WAAWA,GAAE,WAAW,KAAK,cAAcD,GAAE,MAAM,KAAK,GAAGC,EAAC,CAAC,CAAE,CAAC,CAAC,SAAS,GAAGJ,GAAEC,GAAE,CAAS,QAAJC,GAAE,EAAQA,GAAEF,GAAE,QAAQC,IAAGA,IAAG,GAAGA,GAAED,GAAE,WAAWE,IAAG,EAAE,EAAE,OAAOD,EAAC,CAAC,SAAS,GAAGD,GAAE,CAAC,IAAIC,GAAE,EAAE,GAAGD,GAAE,WAAY,QAAQE,GAAE,EAAEA,GAAEF,GAAE,WAAW,OAAOE,KAAI,CAAC,IAAIC,GAAEH,GAAE,WAAWE,EAAC,EAAKC,GAAE,QAAOF,GAAE,GAAGE,GAAE,KAAKF,EAAC,EAAEA,GAAE,GAAGE,GAAE,MAAMF,EAAC,EAAE,CAAE,OAAOA,EAAC,CAAC,SAAS,GAAGA,GAAE,CAAC,IAAIC,GAAE,GAAGD,EAAC,EAAE,GAAGC,GAAE,WAAW,CAAC,QAAQF,GAAE,EAAEA,GAAEE,GAAE,WAAW,OAAOF,KAAI,CAAC,IAAMG,GAAED,GAAE,WAAWF,EAAC,EAAEC,GAAE,oBAAoBE,GAAE,MAAMA,GAAE,QAAQ,CAAC,CAAC,OAAOD,GAAE,UAAU,CAAC,CAAC,SAAS,GAAGF,GAAE,CAAC,IAAIC,GAAE,GAAGD,EAAC,EAAKC,GAAE,SAAS,aAAaA,GAAE,OAAO,EAAKA,GAAE,WAAWA,GAAE,UAAU,MAAM,EAAKA,GAAE,gBAAgBA,GAAE,eAAe,MAAM,EAAKA,GAAE,eAAe,GAAGA,GAAE,cAAc,SAASD,GAAE,CAAIA,GAAE,IAAIA,GAAE,GAAG,oBAAoBA,GAAE,QAAQA,GAAE,QAAQ,CAAE,CAAC,EAAKC,GAAE,WAAUA,GAAE,SAAS,MAAK,GAAGD,EAAC,CAAC,CAAC,SAAS,EAAEA,GAAE,CAAC,GAAGA,GAAE,2BAA2B,EAAE,GAAGA,EAAC,EAAKA,GAAE,UAAU,GAAGA,GAAE,SAAS,SAASA,GAAE,CAAC,EAAEA,EAAC,CAAC,CAAC,CAAE,CAAC,SAAS,GAAGC,GAAED,GAAEE,GAAE,CAAC,GAAGD,GAAE,UAAU,OAAQ,OAAO,GAAGA,GAAED,GAAEE,EAAC,EAAO,IAAIC,GAAMC,GAAEH,GAAE,gBAAqJ,IAArI,EAAE,EAAEA,EAAC,EAAEA,GAAED,GAAEE,EAAC,EAAKE,IAAG,KAAMD,GAAE,EAAEF,EAAC,EAAE,WAAgBE,GAAEC,GAAE,YAAY,GAAGH,EAAC,EAAE,aAAaE,GAAED,GAAE,KAAKA,GAAE,KAAK,OAAO,SAASF,GAAE,CAAC,OAAOA,IAAGC,EAAC,CAAC,EAAQE,IAAGA,KAAIF,IAAME,GAAE,WAAW,KAAK,cAAcD,GAAE,KAAK,KAAKC,EAAC,EAAEA,GAAEA,GAAE,mBAAmB,EAAEF,EAAC,EAAE,EAAEA,EAAC,EAAE,YAAYA,EAAC,CAAE,CAAC,SAAS,GAAGD,GAAEC,GAAEC,GAAE,CAAC,OAAO,EAAEF,GAAEA,GAAE,WAAWC,GAAEC,EAAC,CAAC,CAAC,SAAS,GAAGF,GAAEC,GAAEC,GAAE,CAAC,OAAO,EAAE,EAAEF,EAAC,EAAEA,GAAEC,GAAEC,EAAC,CAAC,CAAC,SAAS,GAAGF,GAAEC,GAAEC,GAAE,CAAC,OAAO,EAAEF,GAAE,KAAKC,GAAEC,EAAC,CAAC,CAAC,SAAS,GAAGF,GAAEC,GAAEC,GAAE,CAAC,OAAO,EAAE,EAAEF,EAAC,EAAEA,GAAE,YAAYC,GAAEC,EAAC,CAAC,CAAC,SAAS,GAAGF,GAAEC,GAAEC,GAAE,CAAC,SAAEF,EAAC,EAAS,EAAEA,EAAC,EAAE,YAAYA,EAAC,CAAC,CAAC,SAAS,GAAGA,GAAEC,GAAEC,GAAE,CAAC,IAAIC,GAAEH,GAAE,WAAsB,GAAX,EAAEA,GAAEG,GAAEF,GAAEC,EAAC,EAAKC,GAAE,CAAC,KAAMA,GAAE,aAAa,EAAEA,GAAE,WAAW,EAAEH,GAAE,YAAYG,GAAE,WAAW,EAAE,EAAEA,EAAC,EAAEH,GAAE,YAAYG,EAAC,CAAC,CAAC,CAAC,SAAS,GAAGH,GAAEC,GAAEC,GAAE,CAAC,IAAIC,GAAED,IAAG,GAAGF,GAAE,WAAW,EAAE,GAAGG,GAAE,CAAC,IAAIC,GAAE,GAAG,EAAE,uBAAuB,EAAE,GAAGH,GAAE,iBAAiBE,EAAC,EAAE,SAASH,GAAE,CAACI,GAAE,YAAYJ,EAAC,CAAC,CAAC,EAAEC,GAAEG,EAAC,CAAC,OAAOH,EAAC,CAAC,SAAS,GAAGD,GAAEC,GAAEC,GAAEC,GAAEC,GAAE,CAAC,OAAOJ,GAAE,CAAC,IAAI,OAAO,OAAO,IAAI,YAAY,GAAGE,GAAEC,GAAEC,EAAC,EAAE,OAAO,IAAI,aAAa,GAAGF,GAAEC,GAAEC,EAAC,EAAE,OAAO,IAAI,cAAc,GAAGF,GAAEC,GAAEC,EAAC,EAAE,OAAO,IAAI,YAAY,GAAGF,GAAEC,GAAEC,EAAC,EAAE,OAAO,IAAI,WAAW,GAAGF,GAAEC,GAAEC,EAAC,EAAE,OAAO,IAAI,SAAS,GAAGF,GAAEC,GAAEC,EAAC,EAAE,OAAO,QAAoB,QAARC,GAAE,GAAGJ,EAAC,EAAUK,GAAE,EAAEA,GAAED,GAAE,OAAOC,KAAI,CAAC,IAAIC,GAAEF,GAAEC,EAAC,EAAE,GAAG,CAAC,IAAIE,GAAED,GAAE,WAAWP,GAAEE,GAAEC,GAAEC,EAAC,EAAE,GAAGI,GAAE,CAAC,GAAG,OAAOA,GAAE,OAAS,IAAa,QAAQC,GAAE,EAAEA,GAAED,GAAE,OAAOC,KAAI,CAAC,IAAIC,GAAEF,GAAEC,EAAC,EAAKC,GAAE,WAAW,KAAK,WAAWA,GAAE,WAAW,KAAK,cAAcN,GAAE,MAAM,KAAK,GAAGM,EAAC,CAAC,CAAE,CAAE,MAAM,CAAC,OAAOV,GAAE,CAAC,EAAEA,EAAC,CAAC,CAAC,CAAIA,KAAI,YAAa,GAAGE,GAAEC,GAAEC,EAAC,EAAO,GAAG,EAAE,OAAO,iBAAiBH,GAAEC,GAAEC,GAAEC,EAAC,CAAE,CAAC,CAAC,SAAS,GAAGJ,GAAE,CAAC,GAAGA,GAAE,QAAQ,QAAQ,EAAE,GAAG,CAAC,IAAIC,GAAED,GAAE,QAAQ,uCAAuC,EAAE,EAAME,GAAED,GAAE,MAAM,yCAAyC,EAAE,GAAGC,GAAG,OAAOA,GAAE,CAAC,CAAE,CAAC,CAAC,SAAS,GAAGF,GAAEC,GAAEC,GAAEC,GAAEC,GAAEC,GAAE,CAACD,GAAE,MAAM,GAAGD,EAAC,EAAE,IAAIG,GAAE,EAAEH,EAAC,EAAE,GAAGG,GAAG,UAAGJ,GAAEI,GAAEF,EAAC,EAAEE,GAAE,GAAGJ,GAAEI,GAAED,EAAC,EAAE,GAAGC,EAAC,EAAS,GAAGN,GAAEE,GAAED,GAAEK,GAAEF,EAAC,CAAE,CAAC,SAAS,GAAGJ,GAAEC,GAAEC,GAAE,CAAC,IAAIC,GAAEH,GAAE,kBAAkBC,EAAC,EAAE,GAAGE,GAAE,QAAQ,GAAG,IAAI,EAAE,CAAC,IAAIC,GAAE,EAAED,EAAC,EAAE,QAAQE,MAAKD,GAAG,GAAGA,GAAE,eAAeC,EAAC,EAAE,CAAC,IAAIC,GAAEF,GAAEC,EAAC,EAAM,EAAEC,EAAC,IAAGA,GAAE,CAAC,MAAMA,EAAC,GAAE,GAAGJ,GAAEG,GAAEC,EAAC,CAAC,CAAE,KAAyB,SAAfC,GAAEJ,GAAE,MAAM,GAAG,EAAUK,GAAE,EAAEA,GAAED,GAAE,OAAOC,KAAK,GAAGN,GAAEK,GAAEC,EAAC,EAAE,KAAK,EAAE,CAAC,CAAC,CAAG,CAAC,IAAI,GAAG,KAAS,EAAE,QAAY,GAAG,aAAiB,GAAG,gBAAoB,GAAG,CAAC,IAAI,IAAI,GAAG,EAAM,GAAG,QAAQ,SAAS,GAAGR,GAAE,CAAkB,QAAbC,GAAE,CAAC,EAAMC,GAAE,EAAQA,GAAEF,GAAE,QAAO,CAAC,GAAG,GAAG,KAAKA,GAAE,OAAOE,EAAC,CAAC,EAAE,CAAS,QAAJC,GAAED,GAAQ,GAAG,KAAKF,GAAE,OAAOE,GAAE,CAAC,CAAC,GAAGA,KAAID,GAAE,KAAKD,GAAE,OAAOG,GAAED,GAAEC,GAAE,CAAC,CAAC,CAAC,SAAS,GAAG,QAAQH,GAAE,OAAOE,EAAC,CAAC,IAAI,GAAG,CAAC,IAAIE,GAAEJ,GAAE,OAAOE,EAAC,EAAMC,GAAED,GAAM,IAAJA,KAAUA,GAAEF,GAAE,QAAQA,GAAE,OAAOE,EAAC,IAAIE,IAAMJ,GAAE,OAAOE,EAAC,IAAI,MAAMA,KAAIA,KAAID,GAAE,KAAKD,GAAE,OAAOG,GAAED,GAAEC,GAAE,CAAC,CAAC,CAAC,KAAK,CAAC,IAAIE,GAAEL,GAAE,OAAOE,EAAC,EAAED,GAAE,KAAKI,EAAC,CAAC,CAACH,IAAG,CAAC,OAAOD,EAAC,CAAC,SAAS,GAAGD,GAAEC,GAAEC,GAAE,CAAC,OAAO,GAAG,KAAKF,GAAE,OAAO,CAAC,CAAC,GAAGA,KAAI,QAAQA,KAAI,SAASA,KAAI,QAAQA,KAAIE,IAAGD,KAAI,GAAG,CAAC,SAAS,GAAGD,GAAEC,GAAEC,GAAE,CAAC,GAAGD,GAAE,CAAC,IAAI,IAAI,CAACA,GAAE,MAAM,EAAgE,QAA1DE,GAAE,EAAMC,GAAE,qBAAqBF,GAAE,cAAkBG,GAAE,KAAWJ,GAAE,OAAO,GAAE,CAAC,IAAIK,GAAEL,GAAE,CAAC,EAAE,GAAGK,KAAI,KAAS,GAAJH,KAAOA,KAAI,EAAE,CAAIE,KAAI,OAAMD,GAAEA,GAAE,QAAOH,GAAE,MAAM,EAAEG,IAAG,MAAM,GAAG,CAAC,IAAIG,GAAE,GAAGP,GAAE,UAAU,CAAC,OAAO,SAASI,EAAC,EAAE,CAAC,EAAE,UAAU,CAAC,MAAO,EAAI,CAAC,EAAE,OAAAG,GAAE,OAAOH,GAASG,EAAC,OAAOP,GAAE,CAAC,UAAG,GAAG,EAAE,KAAK,oBAAoB,CAAC,MAAMA,GAAE,OAAOI,EAAC,CAAC,EAAS,IAAI,CAAC,OAAUE,KAAI,KAAKH,KAAO,GAAGG,GAAED,GAAEH,EAAC,EAAGE,IAAG,KAAKF,GAAE,IAAII,GAAE,QAAQJ,GAAE,IAAII,GAAE,eAAeA,GAAE,KAAUF,GAAEA,GAAEE,GAAED,GAAEJ,GAAE,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,EAAED,GAAEC,GAAE,CAAU,QAALC,GAAE,GAASF,GAAE,OAAO,GAAG,CAACA,GAAE,CAAC,EAAE,MAAMC,EAAC,GAAGC,IAAGF,GAAE,MAAM,EAAE,OAAOE,EAAC,CAAC,IAAI,GAAG,0BAA0B,SAAS,GAAGF,GAAE,CAAC,IAAIC,GAAE,GAAGD,GAAE,YAAY,EAAME,GAAE,CAAC,EAAE,GAAGD,GAAE,CAAC,IAAIE,GAAE,GAAGF,EAAC,EAAE,EAAE,CAAC,EAAEE,GAAE,EAAE,EAAE,IAAIC,GAAED,GAAE,OAAWE,GAAE,EAAEF,GAAE,SAAS,EAAE,GAAGE,KAAI,GAAI,GAAGA,KAAI,QAAQ,CAAC,IAAIC,GAAE,CAAC,QAAQ,OAAO,EAAE,EAAEH,GAAE,EAAE,EAAEG,GAAE,aAAa,EAAE,EAAEH,GAAE,SAAS,CAAC,EAAE,EAAEA,GAAE,EAAE,EAAE,IAAII,GAAE,GAAGP,GAAEG,GAAE,OAAO,EAAKI,KAAGD,GAAE,YAAYC,IAAEL,GAAE,KAAKI,EAAC,CAAC,SAASD,GAAE,QAAQ,MAAM,IAAI,EAAGH,GAAE,KAAK,CAAC,QAAQ,MAAM,SAASG,GAAE,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,IAAIG,GAAE,CAAC,QAAQH,EAAC,EAAME,GAAE,GAAGP,GAAEG,GAAE,OAAO,EAAwB,IAAnBI,KAAGC,GAAE,YAAYD,IAAQJ,GAAE,OAAO,GAAGA,GAAE,CAAC,IAAI,KAAI,CAAC,EAAEA,GAAE,EAAE,EAAE,IAAIM,GAAEN,GAAE,MAAM,EAAE,GAAGM,KAAI,UAAWD,GAAE,QAAQ,WAAaC,KAAI,OAAQD,GAAE,KAAK,WAAaC,KAAI,UAAWD,GAAE,QAAQ,WAAaC,KAAI,SAASN,GAAE,CAAC,IAAI,IAAKA,GAAE,MAAM,EAAEK,GAAE,MAAM,EAAE,EAAEL,GAAE,CAAC,CAAC,UAAUM,KAAI,QAAQN,GAAE,CAAC,IAAI,IAAI,CAACA,GAAE,MAAM,EAAE,IAAIO,GAAE,EAAEP,GAAE,CAAC,GAAKO,KAAI,WAAWA,KAAI,QAAQA,KAAI,QAAQA,KAAI,cAAYP,GAAE,MAAM,EAAEO,IAAG,IAAI,EAAEP,GAAE,CAAC,GAAEK,GAAE,KAAKE,EAAC,MAASD,KAAI,UAAUN,GAAE,CAAC,IAAI,KAAKA,GAAE,MAAM,EAAEK,GAAE,OAAO,EAAEL,GAAE,CAAC,GAAUM,KAAI,YAAYN,GAAE,CAAC,IAAI,KAAKA,GAAE,MAAM,EAAEK,GAAE,SAAS,EAAE,EAAEL,GAAE,CAAC,CAAC,GAAUM,KAAI,SAASN,GAAE,CAAC,IAAI,KAAKA,GAAE,MAAM,EAAEK,GAAE,MAAM,EAAEL,GAAE,CAAC,IAAWM,KAAI,QAAQA,KAAI,cAAcN,GAAE,CAAC,IAAI,KAAKA,GAAE,MAAM,EAAEK,GAAEC,EAAC,EAAE,EAAEN,GAAE,CAAC,GAAO,GAAGH,GAAE,oBAAoB,CAAC,MAAMG,GAAE,MAAM,CAAC,CAAC,CAAE,CAACD,GAAE,KAAKM,EAAC,CAAC,CAAKL,GAAE,SAASC,IAAG,GAAGJ,GAAE,oBAAoB,CAAC,MAAMG,GAAE,MAAM,CAAC,CAAC,EAAE,EAAEA,GAAE,EAAE,CAAC,OAAOA,GAAE,CAAC,IAAI,KAAKA,GAAE,MAAM,EAAE,CAAC,OAAGD,GAAE,OAAO,EAAUA,GAAU,EAAEF,GAAE,MAAM,EAAS,CAAC,CAAC,QAAQ,QAAQ,CAAC,EAAU,EAAEA,GAAE,4CAA4C,EAAS,CAAC,CAAC,QAAQ,OAAO,CAAC,EAAU,EAAEA,GAAE,EAAE,EAAS,CAAC,CAAC,QAAQ,QAAQ,CAAC,EAAa,CAAC,CAAC,QAAQ,OAAO,CAAC,CAAE,CAAC,SAAS,GAAGA,GAAE,CAAC,GAAGA,EAAC,EAAE,UAAU,EAAI,CAAC,SAAS,GAAGA,GAAEC,GAAEC,GAAE,CAAC,IAAIC,GAAE,GAAGH,EAAC,EAAEG,GAAE,QAAQ,WAAW,UAAU,CAAI,GAAGH,EAAC,GAAGG,GAAE,YAAY,KAAU,GAAGD,GAAEF,GAAE,GAAG,kBAAkB,CAAC,YAAYE,GAAE,OAAOF,EAAC,CAAC,CAAC,GAAGC,GAAED,EAAC,EAAE,GAAGA,GAAEC,GAAEC,EAAC,EAAE,EAAEA,GAAE,YAAY,CAAC,CAAC,SAAS,GAAGF,GAAE,CAAC,OAAO,SAAS,WAAWA,GAAE,UAAU,EAAEA,GAAE,MAAM,GAAG,EAAEA,GAAE,MAAM,EAAE,QAAQ,GAAG,IAAI,CAAC,CAAC,SAAS,GAAGC,GAAEC,GAAEF,GAAE,CAAC,GAAGC,GAAE,UAAU,KAAK,GAAGA,EAAC,IAAIA,GAAE,SAAS,IAAIA,GAAE,SAAS,UAAUA,GAAE,UAAU,OAAO,CAACC,GAAE,QAAQ,GAAK,IAAIC,GAAEC,GAAE,GAAGH,GAAE,UAAU,IAAKE,GAAE,MAAMC,GAAE,EAAEH,GAAE,MAAM,MAAM,CAAC,IAAII,GAAE,EAAEJ,GAAE,QAAQ,EAAEE,GAAEE,GAAEA,GAAE,YAAY,EAAE,MAAqBD,GAAE,EAAEH,GAAE,QAAQ,CAAC,CAACD,GAAE,QAAQ,SAASA,GAAE,CAAC,GAAGC,GAAE,SAASD,GAAEC,GAAE,CAAC,GAAG,EAAED,GAAE,EAAE,OAAO,eAAe,EAAE,CAAC,EAAEA,EAAC,EAAE,MAAM,CAAC,GAAGG,GAAEC,GAAEJ,GAAEC,EAAC,CAAC,EAAEC,GAAEF,GAAE,EAAI,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,GAAGA,GAAEC,GAAE,CAAC,MAAG,IAAAD,GAAE,OAAO,UAAUA,GAAE,OAAO,WAAYC,GAAE,UAAU,QAAuB,EAAEA,GAAE,8BAA8B,GAAG,EAAEA,GAAE,MAAM,IAAI,MAAqBA,GAAE,UAAU,KAAKA,GAAE,OAAOA,GAAE,aAAa,MAAM,IAAI,KAAKA,GAAE,aAAa,MAAM,EAAE,QAAQ,GAAG,IAAI,IAA6B,CAAC,SAAS,GAAGD,GAAEC,GAAE,CAAC,OAAO,GAAGD,EAAC,EAAE,SAASA,GAAE,UAAU,KAAKC,GAAE,OAAO,UAAUA,GAAE,SAASA,GAAE,QAAQ,CAAC,SAAS,GAAGD,GAAEC,GAAEC,GAAE,CAAC,IAAIC,GAAEH,GAAE,YAAY,GAAGG,GAAG,GAAG,CAAC,OAAOA,GAAE,KAAKF,GAAEC,EAAC,IAAI,EAAI,OAAOF,GAAE,CAAC,UAAG,GAAG,EAAE,KAAK,yBAAyB,CAAC,MAAMA,GAAE,OAAOG,GAAE,MAAM,CAAC,EAAS,EAAI,CAAE,MAAO,EAAK,CAAC,SAAS,GAAGE,GAAEC,GAAEN,GAAEO,GAAEC,GAAE,CAAC,IAAIC,GAAE,GAAGJ,EAAC,EAAMJ,GAAKM,GAAE,KAAMN,GAAE,EAAEI,GAAEE,GAAE,IAAI,EAAON,GAAE,CAACI,EAAC,EAAKE,GAAE,SAASN,GAAE,QAAQ,SAASD,GAAE,CAAC,IAAIC,GAAE,GAAGD,EAAC,EAAEC,GAAE,UAAUD,GAAE,KAAK,CAAC,EAAE,GAAGC,GAAE,SAASE,GAAE,CAAC,IAAIC,GAAE,SAASJ,GAAE,CAAC,GAAG,CAAC,GAAGK,EAAC,EAAE,CAACF,GAAE,oBAAoBI,GAAE,QAAQH,EAAC,EAAE,MAAM,CAAC,GAAG,IAAGC,GAAEL,EAAC,KAAaQ,IAAG,GAAGR,GAAEK,EAAC,IAAGL,GAAE,eAAe,EAAK,IAAGO,GAAEF,GAAEL,EAAC,GAAU,KAAIC,GAAE,GAAGD,EAAC,EAAyD,GAAvDC,GAAE,YAAYM,GAAKN,GAAE,YAAY,OAAMA,GAAE,WAAW,CAAC,GAAKA,GAAE,WAAW,QAAQI,EAAC,EAAE,EAAE,CAAwD,GAAvDJ,GAAE,WAAW,KAAKI,EAAC,EAAKE,GAAE,SAASP,GAAE,gBAAgB,EAAKO,GAAE,QAAQP,GAAE,QAAW,CAAC,EAAEA,GAAE,OAAOO,GAAE,MAAM,EAAG,OAAQ,GAAGA,GAAE,KAAK,CAAC,GAAGE,GAAE,cAAe,OAAYA,GAAE,cAAc,EAAK,CAAC,GAAGF,GAAE,QAAQ,CAAC,IAAIL,GAAE,GAAGC,EAAC,EAAE,GAAGD,GAAE,YAAYC,GAAE,MAAO,OAAOD,GAAE,UAAUC,GAAE,KAAK,CAAuC,GAAnCM,GAAE,SAAS,aAAaA,GAAE,OAAO,EAAKA,GAAE,SAAU,OAAUF,GAAE,SAAcE,GAAE,WAAUH,GAAED,GAAEL,EAAC,EAAES,GAAE,SAAS,WAAW,UAAU,CAACA,GAAE,SAAS,IAAI,EAAEF,GAAE,QAAQ,GAAWA,GAAE,MAAOE,GAAE,QAAQ,WAAW,UAAU,CAACH,GAAED,GAAEL,EAAC,CAAC,EAAEO,GAAE,KAAK,GAAO,GAAGF,GAAE,cAAc,EAAEC,GAAED,GAAEL,EAAC,EAAE,EAAC,EAAKA,GAAE,eAAe,OAAMA,GAAE,cAAc,CAAC,GAAEA,GAAE,cAAc,KAAK,CAAC,QAAQO,GAAE,QAAQ,SAASH,GAAE,GAAGD,EAAC,CAAC,EAAEA,GAAE,iBAAiBI,GAAE,QAAQH,EAAC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,GAAU,GAAG,KAAK,SAAS,IAAI,CAAK,KAAI,GAAG,UAAU,CAAC,GAAG,EAAI,EAAE,OAAO,iBAAiB,SAAS,EAAE,EAAE,YAAY,UAAU,CAAI,KAAI,GAAG,GAAM,GAAG,GAAG,EAAE,iBAAiB,sDAAsD,EAAE,SAASJ,GAAE,CAAC,GAAGA,EAAC,CAAC,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,SAAS,GAAGC,GAAE,CAAC,GAAG,CAAC,EAAEA,GAAE,kBAAkB,GAAG,EAAEA,EAAC,EAAE,CAACA,GAAE,aAAa,mBAAmB,MAAM,EAAE,IAAID,GAAE,GAAGC,EAAC,EAAKD,GAAE,SAAU,GAAGC,GAAE,UAAU,EAAOA,GAAE,iBAAiB,wBAAwB,SAASD,GAAE,CAAC,GAAGC,GAAE,UAAU,CAAC,EAAE,CAAC,KAAK,EAAI,CAAC,CAAE,CAAC,CAAC,SAAS,GAAGD,GAAEC,GAAEC,GAAE,CAAY,QAAPC,GAAE,EAAED,EAAC,EAAUE,GAAE,EAAEA,GAAED,GAAE,OAAOC,KAAI,CAAC,IAAIC,GAAEF,GAAEC,EAAC,EAAE,MAAM,OAAO,EAAKC,GAAE,CAAC,IAAI,WAAW,GAAGL,GAAEK,GAAE,CAAC,EAAE,CAAC,EAAKA,GAAE,CAAC,IAAI,QAAQ,GAAGL,EAAC,CAAE,CAAC,CAAC,SAAS,GAAGO,GAAEL,GAAEC,GAAE,CAAC,GAAI,GAAGI,EAAC,EAAU,IAAGL,GAAE,QAAQ,GAAG,GAAG,EAAE,CAAC,IAAIF,GAAE,SAAS,UAAU,SAAS,KAAK,IAAI,SAAS,KAAK,IAAO,SAAS,UAAU,SAAUE,GAAE,SAASF,GAAEE,GAAU,SAAS,UAAU,UAASA,GAAE,QAAQF,GAAEE,GAAE,CAAC,IAAID,GAAE,EAAE,gBAAgBC,EAAC,EAAED,GAAE,QAAQ,SAASD,GAAE,CAAC,GAAGO,GAAE,eAAe,CAAC,MAAMP,GAAE,OAAOC,EAAC,CAAC,EAAE,GAAGM,EAAC,CAAC,EAAEN,GAAE,QAAQ,SAASD,GAAE,CAAC,GAAG,CAAC,KAAK,KAAK,IAAI,EAAE,QAAQA,GAAE,IAAI,GAAG,EAAE,CAAC,IAAIC,GAAE,GAAGE,EAAC,EAAE,WAAW,UAAU,CAAC,GAAGI,GAAEL,GAAEC,GAAE,CAAC,CAAC,EAAEF,EAAC,CAAC,CAAC,EAAEA,GAAE,OAAO,SAASD,GAAE,CAACG,GAAE,CAAC,EAAE,GAAGI,EAAC,EAAE,UAAUN,GAAEA,GAAE,iBAAiB,UAAU,SAASD,GAAE,CAAC,GAAG,IAAGO,EAAC,EAAU,KAAIN,GAAED,GAAE,KAAK,EAAEO,GAAE,SAASP,GAAE,CAACC,GAAED,GAAE,kBAAkBC,GAAE,KAAKM,EAAC,CAAC,CAAC,EAA4C,QAAtCL,GAAE,EAAEK,EAAC,EAAMJ,GAAE,EAAEF,EAAC,EAAMG,GAAE,EAAED,GAAE,QAAQ,EAAUE,GAAE,EAAEA,GAAED,GAAE,OAAOC,KAAI,CAAC,IAAIC,GAAEF,GAAEC,EAAC,EAAE,GAAG,GAAGC,GAAE,aAAa,GAAG,OAAOA,GAAEJ,EAAC,CAAC,CAAC,GAAGA,GAAE,KAAK,EAAC,CAAC,EAAC,CAAC,SAAS,GAAGF,GAAE,CAAC,GAAG,CAAC,GAAGA,EAAC,EAAG,UAAGA,EAAC,EAAE,UAAU,MAAM,EAAS,EAAK,CAAC,SAAS,GAAGS,GAAE,CAAC,IAAIC,GAAE,EAAED,GAAE,SAAST,GAAE,CAAC,OAAO,GAAGA,EAAC,EAAE,WAAW,IAAI,CAAC,EAAKU,GAAGD,GAAE,iBAAiB,GAAGA,EAAC,EAAE,CAAC,EAAE,QAAQ,SAAST,GAAE,CAAC,IAAIC,GAAE,GAAGS,EAAC,EAAE,UAAcR,GAAE,GAAGO,GAAEC,EAAC,EAAMP,GAAE,GAAGM,GAAE,MAAM,EAAML,GAAED,GAAE,OAAWE,GAAEF,GAAE,OAAWG,GAAE,GAAGG,EAAC,EAAMF,GAAE,GAAGF,GAAEC,EAAC,EAAME,GAAE,GAAGD,GAAEE,EAAC,EAAiB,GAAfD,GAAE,QAAWN,GAAKE,IAAGA,GAAE,OAAO,EAAE,CAAC,GAAGK,GAAE,yBAAyBL,EAAC,EAAE,MAAM,CAACH,GAAE,KAAK,KAAK,UAAUO,EAAC,CAAC,EAAK,GAAGR,GAAES,EAAC,GAAGT,GAAE,eAAe,CAAE,CAAC,EAAO,GAAGS,GAAE,6BAA6B,CAAE,CAAC,SAAS,GAAGT,GAAE,CAAC,IAAIC,GAAE,EAAE,OAAO,iBAAiB,GAAG,OAAOA,IAAI,WAAY,OAAOA,GAAED,EAAC,EAAE,GAAGC,KAAI,cAAc,CAAC,IAAIC,GAAE,KAAK,IAAIF,GAAE,CAAC,EAAMG,GAAE,IAAI,KAAK,IAAI,EAAED,EAAC,EAAE,OAAOC,GAAE,KAAK,OAAO,CAAC,CAAC,EAAE,oFAAoF,CAAC,CAAC,SAAS,GAAGH,GAAEC,GAAEC,GAAE,CAAY,QAAPC,GAAE,EAAED,EAAC,EAAUE,GAAE,EAAEA,GAAED,GAAE,OAAOC,KAAI,CAAC,IAAIC,GAAEF,GAAEC,EAAC,EAAE,MAAM,OAAO,EAAKC,GAAE,CAAC,IAAI,WAAW,GAAGL,GAAEK,GAAE,CAAC,CAAC,EAAKA,GAAE,CAAC,IAAI,QAAQ,GAAGL,GAAEK,GAAE,CAAC,CAAC,CAAE,CAAC,CAAC,SAAS,GAAGJ,GAAED,GAAE,CAAC,IAAIE,GAAE,EAAE,kBAAkBF,EAAC,EAAEE,GAAE,QAAQ,SAASF,GAAE,CAAC,GAAGC,GAAE,gBAAgB,CAAC,MAAMD,GAAE,OAAOE,EAAC,CAAC,EAAE,GAAGD,EAAC,CAAC,EAAE,GAAGA,EAAC,EAAE,eAAeC,EAAC,CAAC,SAAS,GAAGG,GAAEC,GAAE,CAAC,IAAIC,GAAE,EAAEF,GAAE,EAAE,EAAE,GAAGE,GAAE,CAAC,IAAIC,GAAE,GAAGD,EAAC,EAAE,eAAmBE,GAAE,SAAST,GAAE,CAAC,GAAG,IAAGO,EAAC,EAAU,IAAG,CAAC,GAAGF,EAAC,EAAE,CAACG,GAAE,oBAAoBF,GAAEG,EAAC,EAAE,MAAM,CAAC,IAAIR,GAAED,GAAE,KAAK,EAAEK,GAAE,SAASL,GAAE,CAACC,GAAED,GAAE,kBAAkBC,GAAE,KAAKI,EAAC,CAAC,CAAC,EAAE,IAAIH,GAAE,GAAGG,EAAC,EAAMF,GAAE,GAAGE,EAAC,EAAMD,GAAE,EAAEC,EAAC,EAAE,GAAGH,GAAE,UAAUC,GAAEE,GAAEJ,GAAEG,EAAC,EAAE,GAAGA,GAAE,KAAK,EAAE,GAAGC,GAAE,kBAAkBL,EAAC,EAAC,EAAE,GAAGK,EAAC,EAAE,YAAYI,GAAED,GAAE,iBAAiBF,GAAEG,EAAC,CAAC,MAAM,GAAGJ,GAAE,uBAAuB,CAAE,CAAC,SAAS,GAAGL,GAAEC,GAAEC,GAAE,CAAC,IAAIC,GAAE,EAAEH,GAAE,EAAE,EAAE,GAAGG,GAAE,CAAC,IAAIC,GAAE,GAAGD,EAAC,EAAE,eAAmBE,GAAE,UAAU,CAAK,GAAGF,EAAC,IAAM,GAAGH,EAAC,EAAGC,GAAED,EAAC,EAAOI,GAAE,oBAAoBF,GAAEG,EAAC,EAAG,EAAE,GAAGL,EAAC,EAAE,YAAYK,GAAED,GAAE,iBAAiBF,GAAEG,EAAC,CAAC,MAAM,GAAGL,GAAE,uBAAuB,CAAE,CAAC,SAAS,GAAGA,GAAE,CAAC,GAAG,CAAC,GAAGA,EAAC,EAAG,UAAGA,EAAC,EAAE,eAAe,MAAM,EAAS,EAAK,CAAC,SAAS,GAAGA,GAAE,CAAC,OAAO,GAAGA,EAAC,EAAE,gBAAgB,IAAI,CAAC,SAAS,GAAGA,GAAEC,GAAEC,GAAEC,GAAE,CAAC,IAAIC,GAAE,UAAU,CAAKF,GAAE,SAAQA,GAAE,OAAO,GAAKD,GAAED,EAAC,EAAE,EAAKG,GAAG,WAAWC,GAAED,EAAC,EAAOC,GAAE,CAAE,CAAC,SAAS,GAAGH,GAAEG,GAAEJ,GAAE,CAAC,IAAIK,GAAE,GAAM,UAAG,EAAE,SAASH,GAAE,CAAC,GAAG,EAAED,GAAE,MAAMC,EAAC,EAAE,CAAC,IAAIC,GAAE,GAAGF,GAAE,MAAMC,EAAC,EAAEG,GAAE,GAAKD,GAAE,KAAKD,GAAEC,GAAE,KAAKF,GAAEF,GAAE,QAAQ,SAASA,GAAE,CAAC,GAAGC,GAAED,GAAEI,GAAE,SAASJ,GAAEC,GAAE,CAAC,GAAG,EAAED,GAAE,EAAE,OAAO,eAAe,EAAE,CAAC,EAAEA,EAAC,EAAE,MAAM,CAAC,GAAGE,GAAEC,GAAEH,GAAEC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAASI,EAAC,CAAC,SAAS,GAAGF,GAAEH,GAAEC,GAAEC,GAAE,CAAC,GAAGF,GAAE,SAAU,GAAGG,GAAED,GAAEF,GAAE,QAAQ,UAAUA,GAAE,UAAU,WAAY,GAAG,EAAE,GAAGG,GAAED,GAAED,GAAED,EAAC,EAAE,GAAGG,EAAC,UAAUH,GAAE,UAAU,YAAY,CAAC,IAAII,GAAE,CAAC,EAAKJ,GAAE,OAAMI,GAAE,KAAK,GAAGD,GAAEH,GAAE,IAAI,GAAKA,GAAE,YAAWI,GAAE,UAAU,WAAWJ,GAAE,SAAS,GAAE,IAAIK,GAAE,IAAI,qBAAqB,SAASL,GAAE,CAAC,QAAQC,GAAE,EAAEA,GAAED,GAAE,OAAOC,KAAI,CAAC,IAAIC,GAAEF,GAAEC,EAAC,EAAE,GAAGC,GAAE,eAAe,CAAC,GAAGC,GAAE,WAAW,EAAE,KAAK,CAAC,CAAC,EAAEC,EAAC,EAAEC,GAAE,QAAQF,EAAC,EAAE,GAAGA,GAAED,GAAED,GAAED,EAAC,CAAC,MAASA,GAAE,UAAU,OAAY,GAAGA,GAAEG,GAAE,GAAG,OAAO,CAAC,IAAIA,EAAC,CAAC,CAAC,GAAG,GAAGA,GAAED,GAAED,GAAED,GAAE,KAAK,EAAWA,GAAE,cAAcC,GAAE,QAAQ,GAAK,GAAGE,GAAED,GAAEF,EAAC,GAAO,GAAGG,GAAED,GAAED,GAAED,EAAC,CAAE,CAAC,SAAS,GAAGA,GAAE,CAAC,GAAG,EAAE,OAAO,kBAAkBA,GAAE,OAAO,mBAAmBA,GAAE,OAAO,UAAUA,GAAE,OAAO,IAAI,CAAC,IAAIC,GAAE,GAAG,EAAE,cAAc,QAAQ,EAAE,GAAGD,GAAE,WAAW,SAASA,GAAE,CAACC,GAAE,aAAaD,GAAE,KAAKA,GAAE,KAAK,CAAC,CAAC,EAAEC,GAAE,YAAYD,GAAE,YAAYC,GAAE,MAAM,GAAS,EAAE,OAAO,oBAAmBA,GAAE,MAAM,EAAE,OAAO,mBAAkB,IAAIC,GAAEF,GAAE,cAAc,GAAG,CAACE,GAAE,aAAaD,GAAED,EAAC,CAAC,OAAOA,GAAE,CAAC,EAAEA,EAAC,CAAC,QAAC,CAAWA,GAAE,eAAeA,GAAE,cAAc,YAAYA,EAAC,CAAE,CAAC,CAAC,CAAC,SAAS,GAAGA,GAAE,CAAI,EAAEA,GAAE,QAAQ,GAAG,GAAGA,EAAC,EAAE,GAAG,EAAEA,GAAE,QAAQ,EAAE,SAASA,GAAE,CAAC,GAAGA,EAAC,CAAC,CAAC,CAAC,CAAC,SAAS,IAAI,CAAC,OAAO,SAAS,cAAc,6BAA6B,CAAC,CAAC,SAAS,GAAGA,GAAE,CAAC,IAAIC,GAAE,KAASC,GAAE,CAAC,EAAE,GAAG,SAAS,SAAsH,QAAxGC,GAAE,SAAS,SAAS,iFAAiFH,EAAC,EAAQC,GAAEE,GAAE,YAAY,GAAED,GAAE,KAAKD,EAAC,MAAgD,SAArCG,GAAE,SAAS,qBAAqB,GAAG,EAAUC,GAAE,EAAEA,GAAED,GAAE,OAAOC,KAA2B,QAAlBC,GAAEF,GAAEC,EAAC,EAAE,WAAmBE,GAAE,EAAEA,GAAED,GAAE,OAAOC,KAAI,CAAC,IAAIC,GAAEF,GAAEC,EAAC,EAAE,MAAQ,EAAEC,GAAE,QAAQ,GAAG,EAAEA,GAAE,aAAa,IAAGN,GAAE,KAAKE,GAAEC,EAAC,CAAC,CAAE,CAAG,OAAOH,EAAC,CAAC,SAAS,GAAGF,GAAE,CAAC,GAAGA,GAAE,iBAAiB,CAAC,IAAIC,GAAE,GAAG,EAAE,MAAM,GAAOC,GAAEF,GAAE,iBAAiB,EAAEC,GAAE,0JAA6J,EAAE,OAAOC,EAAC,KAAM,OAAM,CAAC,CAAE,CAAC,SAAS,GAAGF,GAAE,CAAC,IAAIG,GAAE,EAAE,IAAI,EAAEH,GAAE,MAAM,CAAC,GAAG,EAAEA,GAAE,MAAM,EAAE,GAAIG,GAAU,KAAIF,GAAE,SAASD,GAAE,CAAC,IAAIC,GAAE,EAAED,GAAE,OAAO,8BAA8B,EAAE,GAAGC,KAAI,KAAK,CAAC,IAAIC,GAAE,GAAGC,EAAC,EAAED,GAAE,kBAAkBD,EAAC,CAAC,EAAED,GAAE,iBAAiB,QAAQC,EAAC,EAAED,GAAE,iBAAiB,UAAUC,EAAC,EAAED,GAAE,iBAAiB,WAAW,SAASA,GAAE,CAAC,IAAIC,GAAE,GAAGE,EAAC,EAAEF,GAAE,kBAAkB,IAAI,CAAC,EAAC,CAAC,SAAS,GAAGD,GAAE,CAAC,IAAIC,GAAE,GAAGD,EAAC,EAAME,GAAE,EAAE,QAAQF,GAAE,EAAEA,GAAEC,GAAE,OAAOD,KAAI,CAAC,IAAMG,GAAEF,GAAED,EAAC,EAAKG,KAAI,IAAKD,KAAYC,KAAI,KAAKD,IAAI,CAAC,OAAOA,EAAC,CAAC,SAAS,GAAGD,GAAED,GAAEE,GAAE,CAAC,IAAIC,GAAE,GAAGF,EAAC,EAAEE,GAAE,WAAW,CAAC,EAAE,IAAIC,GAAMC,GAAE,SAASL,GAAE,CAAC,OAAO,GAAGC,GAAE,UAAU,CAAKG,KAAGA,GAAE,IAAI,SAAS,QAAQF,EAAC,GAAEE,GAAE,KAAKH,GAAED,EAAC,CAAC,CAAC,CAAC,EAAEC,GAAE,iBAAiBD,GAAEK,EAAC,EAAEF,GAAE,WAAW,KAAK,CAAC,MAAMH,GAAE,SAASK,EAAC,CAAC,CAAC,CAAC,SAAS,GAAGL,GAAE,CAAC,IAAIC,GAAE,GAAGD,GAAE,OAAO,EAAE,GAAGC,GAAE,CAAiD,QAA5CC,GAAE,CAAC,EAAMC,GAAEF,GAAE,MAAM;AAAA,CAAI,EAAMG,GAAE,KAASC,GAAE,EAAQF,GAAE,OAAO,GAAE,CAAC,IAAIG,GAAEH,GAAE,MAAM,EAAMI,GAAED,GAAE,MAAM,2BAA2B,EAAKD,KAAI,GAAGE,IAAGD,GAAE,MAAM,GAAG,EAAEF,GAAEG,GAAE,CAAC,EAAE,MAAM,EAAE,EAAE,EAAEL,GAAEE,EAAC,EAAEG,GAAE,CAAC,GAAOL,GAAEE,EAAC,GAAGE,GAAED,IAAG,GAAGC,EAAC,CAAC,CAAC,QAAQE,MAAKN,GAAG,GAAGF,GAAEQ,GAAEN,GAAEM,EAAC,CAAC,CAAE,CAAC,CAAC,SAAS,GAAGP,GAAE,CAAC,GAAGA,EAAC,EAAE,QAAQD,GAAE,EAAEA,GAAEC,GAAE,WAAW,OAAOD,KAAI,CAAC,IAAIE,GAAED,GAAE,WAAWD,EAAC,EAAE,KAASG,GAAEF,GAAE,WAAWD,EAAC,EAAE,MAAM,GAAG,EAAEE,GAAE,QAAQ,GAAG,EAAEA,GAAE,aAAa,EAAE,CAAC,IAAIF,GAAEE,GAAE,MAAMA,GAAE,QAAQ,GAAG,EAAE,CAAC,EAAK,EAAEF,GAAE,GAAG,IAAEA,GAAE,OAAOA,IAAE,GAAGC,GAAED,GAAEG,EAAC,CAAC,CAAC,CAAC,CAAC,SAAS,GAAGF,GAAE,CAAC,GAAG,EAAEA,GAAE,EAAE,OAAO,eAAe,EAAE,CAAC,EAAEA,EAAC,EAAE,MAAM,CAAC,IAAIC,GAAE,GAAGD,EAAC,EAAE,GAAGC,GAAE,WAAW,GAAGD,EAAC,EAAE,CAAC,GAAGA,EAAC,EAAEC,GAAE,SAAS,GAAGD,EAAC,EAAE,GAAGA,EAAC,EAAE,GAAGA,GAAE,wBAAwB,EAAKA,GAAE,QAAOC,GAAE,UAAUD,GAAE,OAAM,IAAID,GAAE,GAAGC,EAAC,EAAME,GAAE,GAAGF,GAAEC,GAAEF,EAAC,EAAMG,KAAM,GAAGF,GAAE,UAAU,IAAI,OAAQ,GAAGA,GAAEC,GAAEF,EAAC,EAAU,EAAEC,GAAE,YAAY,GAAGD,GAAE,QAAQ,SAASA,GAAE,CAAC,GAAGC,GAAED,GAAEE,GAAE,UAAU,CAAC,CAAC,CAAC,CAAC,IAAMD,GAAE,UAAU,QAAQ,EAAEA,GAAE,MAAM,IAAI,UAAU,EAAEA,GAAE,MAAM,IAAG,GAAGA,EAAC,EAAE,IAAIG,GAAE,GAAGH,GAAE,QAAQ,EAAKG,IAAG,GAAGH,GAAEC,GAAEE,EAAC,EAAE,IAAIC,GAAE,GAAGJ,GAAE,OAAO,EAAKI,IAAG,GAAGJ,GAAEC,GAAEG,EAAC,EAAE,GAAGJ,GAAE,uBAAuB,CAAC,CAAC,CAAC,SAAS,GAAGD,GAAE,CAAQ,GAAPA,GAAE,EAAEA,EAAC,EAAK,EAAEA,GAAE,EAAE,OAAO,eAAe,EAAE,CAAC,EAAEA,EAAC,EAAE,MAAM,CAAC,GAAGA,EAAC,EAAE,GAAG,GAAGA,EAAC,EAAE,SAASA,GAAE,CAAC,GAAGA,EAAC,CAAC,CAAC,EAAE,GAAG,GAAGA,EAAC,EAAE,EAAE,CAAC,CAAC,SAAS,GAAGA,GAAE,CAAC,OAAOA,GAAE,QAAQ,qBAAqB,OAAO,EAAE,YAAY,CAAC,CAAC,SAAS,GAAGA,GAAEC,GAAE,CAAC,IAAIC,GAAE,OAAG,OAAO,aAAa,OAAO,OAAO,aAAc,WAAYA,GAAE,IAAI,YAAYF,GAAE,CAAC,QAAQ,GAAK,WAAW,GAAK,OAAOC,EAAC,CAAC,GAAOC,GAAE,GAAG,EAAE,YAAY,aAAa,EAAEA,GAAE,gBAAgBF,GAAE,GAAK,GAAKC,EAAC,GAASC,EAAC,CAAC,SAAS,GAAGF,GAAEC,GAAEC,GAAE,CAAC,GAAGF,GAAEC,GAAE,GAAG,CAAC,MAAMA,EAAC,EAAEC,EAAC,CAAC,CAAC,CAAC,SAAS,GAAGF,GAAE,CAAC,OAAOA,KAAI,uBAAuB,CAAC,SAAS,EAAEA,GAAEC,GAAE,CAAC,GAAG,GAAGD,EAAC,EAAE,SAASA,GAAE,CAAC,GAAG,CAACC,GAAED,EAAC,CAAC,OAAOA,GAAE,CAAC,EAAEA,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,EAAEA,GAAE,CAAI,QAAQ,MAAO,QAAQ,MAAMA,EAAC,EAAU,QAAQ,KAAK,QAAQ,IAAI,UAAUA,EAAC,CAAE,CAAC,SAAS,GAAGA,GAAEC,GAAEC,GAAE,CAACF,GAAE,EAAEA,EAAC,EAAKE,IAAG,OAAMA,GAAE,CAAC,GAAEA,GAAE,IAAOF,GAAE,IAAIG,GAAE,GAAGF,GAAEC,EAAC,EAAK,EAAE,QAAQ,CAAC,GAAGD,EAAC,GAAG,EAAE,OAAOD,GAAEC,GAAEC,EAAC,EAAKA,GAAE,QAAO,EAAEA,GAAE,KAAK,EAAE,GAAGF,GAAE,aAAa,CAAC,UAAUE,EAAC,CAAC,GAAE,IAAIE,GAAEJ,GAAE,cAAcG,EAAC,EAAME,GAAE,GAAGJ,EAAC,EAAE,GAAGG,IAAGC,KAAIJ,GAAE,CAAC,IAAIK,GAAE,GAAGD,GAAEF,GAAE,MAAM,EAAEC,GAAEA,IAAGJ,GAAE,cAAcM,EAAC,CAAC,CAAC,SAAEN,GAAE,SAASA,GAAE,CAACI,GAAEA,IAAIJ,GAAE,QAAQC,GAAEE,EAAC,IAAI,IAAO,CAACA,GAAE,gBAAiB,CAAC,EAASC,EAAC,CAAC,IAAI,GAAG,SAAS,SAAS,SAAS,OAAO,SAAS,IAAI,CAAC,IAAIJ,GAAE,GAAG,EAAE,cAAc,wCAAwC,EAAE,OAAOA,IAAG,GAAG,EAAE,IAAI,CAAC,SAAS,GAAGA,GAAEC,GAAEC,GAAEC,GAAE,CAAC,GAAI,EAAE,EAAU,CAAAH,GAAE,EAAEA,EAAC,EAA0D,QAApDI,GAAE,EAAE,aAAa,QAAQ,oBAAoB,CAAC,GAAG,CAAC,EAAUC,GAAE,EAAEA,GAAED,GAAE,OAAOC,KAAK,GAAGD,GAAEC,EAAC,EAAE,MAAML,GAAE,CAACI,GAAE,OAAOC,GAAE,CAAC,EAAE,KAAK,CAAE,IAAIC,GAAE,CAAC,IAAIN,GAAE,QAAQC,GAAE,MAAMC,GAAE,OAAOC,EAAC,EAAqE,IAAnE,GAAG,GAAG,EAAE,KAAK,0BAA0B,CAAC,KAAKG,GAAE,MAAMF,EAAC,CAAC,EAAEA,GAAE,KAAKE,EAAC,EAAQF,GAAE,OAAO,EAAE,OAAO,kBAAkBA,GAAE,MAAM,EAAE,KAAMA,GAAE,OAAO,GAAG,GAAG,CAAC,aAAa,QAAQ,qBAAqB,KAAK,UAAUA,EAAC,CAAC,EAAE,KAAK,OAAOJ,GAAE,CAAC,GAAG,GAAG,EAAE,KAAK,yBAAyB,CAAC,MAAMA,GAAE,MAAMI,EAAC,CAAC,EAAEA,GAAE,MAAM,CAAC,EAAE,CAAC,SAAS,GAAGJ,GAAE,CAAC,GAAG,CAAC,EAAE,EAAG,OAAO,KAAKA,GAAE,EAAEA,EAAC,EAA0D,QAApDC,GAAE,EAAE,aAAa,QAAQ,oBAAoB,CAAC,GAAG,CAAC,EAAUC,GAAE,EAAEA,GAAED,GAAE,OAAOC,KAAK,GAAGD,GAAEC,EAAC,EAAE,MAAMF,GAAG,OAAOC,GAAEC,EAAC,EAAG,OAAO,IAAI,CAAC,SAAS,GAAGF,GAAE,CAAC,IAAIC,GAAE,EAAE,OAAO,aAAiBC,GAAEF,GAAE,UAAU,EAAI,EAAE,UAAG,EAAEE,GAAE,IAAID,EAAC,EAAE,SAASD,GAAE,CAAC,EAAEA,GAAEC,EAAC,CAAC,CAAC,EAASC,GAAE,SAAS,CAAC,SAAS,IAAI,CAAC,IAAIF,GAAE,GAAG,EAAMC,GAAE,IAAI,SAAS,SAAS,SAAS,OAAWC,GAAE,GAAG,CAACA,GAAE,GAAG,EAAE,cAAc,oDAAoD,CAAC,MAAS,CAACA,GAAE,GAAG,EAAE,cAAc,gDAAgD,CAAC,CAAKA,KAAG,GAAG,GAAG,EAAE,KAAK,yBAAyB,CAAC,KAAKD,GAAE,WAAWD,EAAC,CAAC,EAAE,GAAGC,GAAE,GAAGD,EAAC,EAAE,GAAG,EAAE,MAAM,OAAO,OAAO,GAAK,EAAE,OAAO,gBAAe,QAAQ,aAAa,CAAC,KAAK,EAAI,EAAE,GAAG,EAAE,MAAM,OAAO,SAAS,IAAI,CAAC,CAAC,SAAS,GAAGA,GAAE,CAAI,EAAE,OAAO,sBAAqBA,GAAEA,GAAE,QAAQ,kCAAkC,EAAE,GAAK,EAAEA,GAAE,GAAG,GAAG,EAAEA,GAAE,GAAG,KAAGA,GAAEA,GAAE,MAAM,EAAE,EAAE,IAAM,EAAE,OAAO,gBAAgB,QAAQ,UAAU,CAAC,KAAK,EAAI,EAAE,GAAGA,EAAC,EAAE,GAAGA,EAAC,CAAC,SAAS,GAAGA,GAAE,CAAI,EAAE,OAAO,gBAAe,QAAQ,aAAa,CAAC,KAAK,EAAI,EAAE,GAAGA,EAAC,EAAE,GAAGA,EAAC,CAAC,SAAS,GAAGA,GAAE,CAAC,GAAGA,GAAE,SAASA,GAAE,CAACA,GAAE,KAAK,CAAC,CAAC,CAAC,CAAC,SAAS,GAAGK,GAAE,CAAC,IAAIL,GAAE,IAAI,eAAmBM,GAAE,CAAC,KAAKD,GAAE,IAAIL,EAAC,EAAE,GAAG,GAAG,EAAE,KAAK,wBAAwBM,EAAC,EAAEN,GAAE,KAAK,MAAMK,GAAE,EAAI,EAAEL,GAAE,iBAAiB,6BAA6B,MAAM,EAAEA,GAAE,OAAO,UAAU,CAAC,GAAG,KAAK,QAAQ,KAAK,KAAK,OAAO,IAAI,CAAC,GAAG,GAAG,EAAE,KAAK,4BAA4BM,EAAC,EAAE,IAAIN,GAAE,EAAE,KAAK,QAAQ,EAAEA,GAAEA,GAAE,cAAc,wCAAwC,GAAGA,GAAE,IAAIC,GAAE,GAAG,EAAMC,GAAE,EAAED,EAAC,EAAME,GAAE,GAAG,KAAK,QAAQ,EAAE,GAAGA,GAAE,CAAC,IAAIC,GAAE,EAAE,OAAO,EAAKA,GAAGA,GAAE,UAAUD,GAAO,OAAO,SAAS,MAAMA,EAAE,CAAC,GAAGF,GAAED,GAAEE,EAAC,EAAE,GAAGA,GAAE,KAAK,EAAE,GAAGG,GAAE,GAAG,GAAG,EAAE,KAAK,sBAAsB,CAAC,KAAKA,GAAE,UAAU,GAAK,eAAe,KAAK,QAAQ,CAAC,CAAC,MAAM,GAAG,GAAG,EAAE,KAAK,iCAAiCC,EAAC,CAAE,EAAEN,GAAE,KAAK,CAAC,CAAC,SAAS,GAAGA,GAAE,CAAC,GAAG,EAAEA,GAAEA,IAAG,SAAS,SAAS,SAAS,OAAO,IAAIC,GAAE,GAAGD,EAAC,EAAE,GAAGC,GAAE,CAAC,IAAIC,GAAE,EAAED,GAAE,OAAO,EAAME,GAAE,GAAG,EAAMC,GAAE,EAAED,EAAC,EAAE,GAAGA,GAAED,GAAEE,EAAC,EAAE,GAAGA,GAAE,KAAK,EAAE,SAAS,MAAMH,GAAE,MAAM,WAAW,UAAU,CAAC,OAAO,SAAS,EAAEA,GAAE,MAAM,CAAC,EAAE,CAAC,EAAE,GAAGD,GAAE,GAAG,GAAG,EAAE,KAAK,sBAAsB,CAAC,KAAKA,GAAE,KAAKC,EAAC,CAAC,CAAC,MAAS,EAAE,OAAO,qBAAsB,OAAO,SAAS,OAAO,EAAI,EAAO,GAAGD,EAAC,CAAG,CAAC,SAAS,GAAGA,GAAE,CAAC,IAAIC,GAAE,GAAGD,GAAE,cAAc,EAAE,OAAGC,IAAG,OAAMA,GAAE,CAACD,EAAC,GAAE,GAAGC,GAAE,SAASD,GAAE,CAAC,IAAIC,GAAE,GAAGD,EAAC,EAAEC,GAAE,cAAcA,GAAE,cAAc,GAAG,EAAED,GAAE,UAAU,IAAO,KAAKA,GAAE,UAAU,EAAE,OAAO,YAAY,CAAC,CAAC,EAASC,EAAC,CAAC,SAAS,GAAGD,GAAE,CAAC,IAAIC,GAAE,GAAGD,GAAE,iBAAiB,EAAE,OAAGC,IAAG,OAAMA,GAAE,CAAC,GAAE,GAAGA,GAAE,SAASD,GAAE,CAAC,IAAIC,GAAE,GAAGD,EAAC,EAAEC,GAAE,cAAcA,GAAE,cAAc,GAAG,EAAED,GAAE,aAAa,WAAW,EAAE,CAAC,CAAC,EAASC,EAAC,CAAC,SAAS,GAAGD,GAAEC,GAAE,CAAC,GAAGD,GAAE,SAASA,GAAE,CAAC,IAAIC,GAAE,GAAGD,EAAC,EAAEC,GAAE,cAAcA,GAAE,cAAc,GAAG,EAAKA,GAAE,eAAe,GAAGD,GAAE,UAAU,OAAU,KAAKA,GAAE,UAAU,EAAE,OAAO,YAAY,CAAE,CAAC,EAAE,GAAGC,GAAE,SAASD,GAAE,CAAC,IAAIC,GAAE,GAAGD,EAAC,EAAEC,GAAE,cAAcA,GAAE,cAAc,GAAG,EAAKA,GAAE,eAAe,GAAGD,GAAE,gBAAgB,UAAU,CAAE,CAAC,CAAC,CAAC,SAAS,GAAGA,GAAEC,GAAE,CAAC,QAAQC,GAAE,EAAEA,GAAEF,GAAE,OAAOE,KAAI,CAAC,IAAIC,GAAEH,GAAEE,EAAC,EAAE,GAAGC,GAAE,WAAWF,EAAC,EAAG,MAAO,EAAK,CAAC,MAAO,EAAK,CAAC,SAAS,GAAGD,GAAE,CAAwD,OAApDA,GAAE,OAAO,IAAIA,GAAE,MAAM,MAAMA,GAAE,UAA0BA,GAAE,OAAO,UAAUA,GAAE,OAAO,UAAUA,GAAE,UAAU,SAASA,GAAE,UAAU,SAASA,GAAE,UAAU,OAAe,GAASA,GAAE,OAAO,YAAYA,GAAE,OAAO,QAAgBA,GAAE,QAAe,EAAI,CAAC,SAAS,GAAGA,GAAEC,GAAEC,GAAE,CAAC,GAAGF,IAAG,MAAMC,IAAG,KAAK,CAAC,IAAIE,GAAED,GAAEF,EAAC,EAAKG,KAAI,OAAWD,GAAEF,EAAC,EAAEC,GAAU,MAAM,QAAQE,EAAC,EAAM,MAAM,QAAQF,EAAC,EAAGC,GAAEF,EAAC,EAAEG,GAAE,OAAOF,EAAC,EAAOE,GAAE,KAAKF,EAAC,EAAW,MAAM,QAAQA,EAAC,EAAGC,GAAEF,EAAC,EAAE,CAACG,EAAC,EAAE,OAAOF,EAAC,EAAOC,GAAEF,EAAC,EAAE,CAACG,GAAEF,EAAC,CAAG,CAAC,CAAC,SAAS,GAAGA,GAAEC,GAAEC,GAAEH,GAAEI,GAAE,CAAC,GAAG,EAAAJ,IAAG,MAAM,GAAGC,GAAED,EAAC,GAAyB,IAAVC,GAAE,KAAKD,EAAC,EAAK,GAAGA,EAAC,EAAE,CAAC,IAAIK,GAAE,EAAEL,GAAE,MAAM,EAAMM,GAAEN,GAAE,MAASA,GAAE,WAAUM,GAAE,EAAEN,GAAE,iBAAiB,gBAAgB,CAAC,EAAE,IAAI,SAASA,GAAE,CAAC,OAAOA,GAAE,KAAK,CAAC,GAAKA,GAAE,QAAOM,GAAE,EAAEN,GAAE,KAAK,GAAE,GAAGK,GAAEC,GAAEJ,EAAC,EAAKE,IAAG,GAAGJ,GAAEG,EAAC,CAAE,CAAC,GAAG,EAAEH,GAAE,MAAM,EAAE,CAAC,IAAIO,GAAEP,GAAE,SAAS,GAAGO,GAAE,SAASP,GAAE,CAAC,GAAGC,GAAEC,GAAEC,GAAEH,GAAEI,EAAC,CAAC,CAAC,CAAC,EAAC,CAAC,SAAS,GAAGJ,GAAEC,GAAE,CAAID,GAAE,eAAc,GAAGA,GAAE,0BAA0B,EAAMA,GAAE,cAAc,IAAGC,GAAE,KAAK,CAAC,IAAID,GAAE,QAAQA,GAAE,kBAAkB,SAASA,GAAE,QAAQ,CAAC,EAAE,GAAGA,GAAE,yBAAyB,CAAC,QAAQA,GAAE,kBAAkB,SAASA,GAAE,QAAQ,CAAC,GAAG,CAAC,SAAS,GAAGA,GAAEC,GAAE,CAAC,IAAIC,GAAE,CAAC,EAAMC,GAAE,CAAC,EAAMC,GAAE,CAAC,EAAMC,GAAE,CAAC,EAAMC,GAAE,GAAGN,EAAC,EAAMO,GAAE,EAAEP,GAAE,MAAM,GAAGA,GAAE,aAAa,IAAM,GAAGA,GAAE,aAAa,IAAI,OAAkI,GAAxHM,GAAE,oBAAmBC,GAAEA,IAAGD,GAAE,kBAAkB,iBAAiB,IAAQL,KAAI,OAAO,GAAGC,GAAEE,GAAEC,GAAE,EAAEL,GAAE,MAAM,EAAEO,EAAC,EAAE,GAAGL,GAAEC,GAAEE,GAAEL,GAAEO,EAAC,EAAKD,GAAE,mBAAmBN,GAAE,UAAU,UAAUA,GAAE,UAAU,SAAS,EAAEA,GAAE,MAAM,IAAI,SAAS,CAAC,IAAIQ,GAAEF,GAAE,mBAAmBN,GAAMS,GAAE,EAAED,GAAE,MAAM,EAAE,GAAGC,GAAED,GAAE,MAAMJ,EAAC,CAAC,CAAC,IAAIM,GAAE,GAAGV,GAAE,YAAY,EAAE,UAAGU,GAAE,SAASV,GAAE,CAAC,GAAGE,GAAEC,GAAEE,GAAEL,GAAEO,EAAC,EAAM,EAAEP,GAAE,MAAM,GAAG,GAAGA,GAAE,iBAAiB,EAAE,EAAE,SAASA,GAAE,CAAC,GAAGE,GAAEC,GAAEE,GAAEL,GAAEO,EAAC,CAAC,CAAC,CAAE,CAAC,EAAEJ,GAAE,GAAGA,GAAEC,EAAC,EAAQ,CAAC,OAAOC,GAAE,OAAOF,EAAC,CAAC,CAAC,SAAS,GAAGH,GAAEC,GAAEC,GAAE,CAAIF,KAAI,KAAIA,IAAG,KAAO,OAAOE,EAAC,IAAI,oBAAmBA,GAAE,KAAK,UAAUA,EAAC,GAAE,IAAIC,GAAE,mBAAmBD,EAAC,EAAE,OAAAF,IAAG,mBAAmBC,EAAC,EAAE,IAAIE,GAASH,EAAC,CAAC,SAAS,GAAGA,GAAE,CAAC,IAAIC,GAAE,GAAG,QAAQC,MAAKF,GAAG,GAAGA,GAAE,eAAeE,EAAC,EAAE,CAAC,IAAIC,GAAEH,GAAEE,EAAC,EAAK,MAAM,QAAQC,EAAC,EAAG,GAAGA,GAAE,SAASH,GAAE,CAACC,GAAE,GAAGA,GAAEC,GAAEF,EAAC,CAAC,CAAC,EAAOC,GAAE,GAAGA,GAAEC,GAAEC,EAAC,CAAE,CAAE,OAAOF,EAAC,CAAC,SAAS,GAAGD,GAAE,CAAC,IAAIC,GAAE,IAAI,SAAS,QAAQC,MAAKF,GAAG,GAAGA,GAAE,eAAeE,EAAC,EAAE,CAAC,IAAIC,GAAEH,GAAEE,EAAC,EAAK,MAAM,QAAQC,EAAC,EAAG,GAAGA,GAAE,SAASH,GAAE,CAACC,GAAE,OAAOC,GAAEF,EAAC,CAAC,CAAC,EAAOC,GAAE,OAAOC,GAAEC,EAAC,CAAE,CAAE,OAAOF,EAAC,CAAC,SAAS,GAAGD,GAAEC,GAAEC,GAAE,CAAC,IAAIC,GAAE,CAAC,aAAa,OAAO,aAAa,EAAEH,GAAE,IAAI,EAAE,kBAAkB,EAAEA,GAAE,MAAM,EAAE,YAAY,GAAGC,GAAE,IAAI,EAAE,iBAAiB,GAAG,EAAE,SAAS,IAAI,EAAE,UAAGD,GAAE,aAAa,GAAMG,EAAC,EAAKD,KAAI,SAAWC,GAAE,WAAW,EAAED,IAAK,GAAGF,EAAC,EAAE,UAASG,GAAE,YAAY,EAAE,QAAcA,EAAC,CAAC,SAAS,GAAGF,GAAED,GAAE,CAAC,IAAIE,GAAE,GAAGF,GAAE,WAAW,EAAE,GAAGE,GAAE,CAAC,GAAGA,KAAI,OAAQ,MAAM,CAAC,EAAO,GAAGA,KAAI,IAAK,OAAOD,GAAO,GAAGC,GAAE,QAAQ,MAAM,IAAI,EAAG,UAAGA,GAAE,OAAO,CAAC,EAAE,MAAM,GAAG,EAAE,SAASF,GAAE,CAACA,GAAEA,GAAE,KAAK,EAAE,OAAOC,GAAED,EAAC,CAAC,CAAC,EAASC,GAAO,IAAIE,GAAE,CAAC,EAAE,UAAGD,GAAE,MAAM,GAAG,EAAE,SAASF,GAAE,CAACA,GAAEA,GAAE,KAAK,EAAEG,GAAEH,EAAC,EAAEC,GAAED,EAAC,CAAC,CAAC,EAASG,EAAE,KAAM,QAAOF,EAAE,CAAC,SAAS,GAAGD,GAAE,CAAC,OAAO,EAAEA,GAAE,MAAM,GAAG,EAAEA,GAAE,MAAM,EAAE,QAAQ,GAAG,GAAG,CAAC,CAAC,SAAS,GAAGA,GAAEC,GAAE,CAAC,IAAIC,GAAED,IAAI,GAAGD,GAAE,SAAS,EAAMG,GAAE,CAAC,UAAU,GAAGH,EAAC,EAAE,QAAQ,YAAY,EAAE,OAAO,iBAAiB,UAAU,EAAE,OAAO,iBAAiB,YAAY,EAAE,OAAO,kBAAkB,EAA4C,GAAvC,GAAGA,EAAC,EAAE,SAAS,CAAC,GAAGA,EAAC,IAAGG,GAAE,KAAQ,OAASD,GAAE,CAAC,IAAIE,GAAE,EAAEF,EAAC,EAAE,GAAGE,GAAE,OAAO,EAAG,QAAQC,GAAE,EAAEA,GAAED,GAAE,OAAOC,KAAI,CAAC,IAAIC,GAAEF,GAAEC,EAAC,EAAE,GAAGC,GAAE,QAAQ,OAAO,IAAI,EAAGH,GAAE,UAAa,EAAEG,GAAE,OAAO,CAAC,CAAC,UAAUA,GAAE,QAAQ,SAAS,IAAI,EAAGH,GAAE,YAAe,EAAEG,GAAE,OAAO,CAAC,CAAC,UAAUA,GAAE,QAAQ,aAAa,IAAI,EAAGH,GAAE,WAAcG,GAAE,OAAO,EAAE,IAAI,eAAeA,GAAE,QAAQ,cAAc,IAAI,EAAGH,GAAE,YAAeG,GAAE,OAAO,EAAE,IAAI,eAAeA,GAAE,QAAQ,SAAS,IAAI,EAAE,CAAC,IAAIC,GAAED,GAAE,OAAO,CAAC,EAAME,GAAED,GAAE,MAAM,GAAG,EAAME,GAAED,GAAE,IAAI,EAAME,GAAEF,GAAE,OAAO,EAAEA,GAAE,KAAK,GAAG,EAAE,KAAKL,GAAE,OAAUM,GAAEN,GAAE,aAAgBO,EAAC,SAASJ,GAAE,QAAQ,OAAO,IAAI,EAAE,CAAC,IAAIK,GAAEL,GAAE,OAAO,CAAC,EAAME,GAAEG,GAAE,MAAM,GAAG,EAAMC,GAAEJ,GAAE,IAAI,EAAME,GAAEF,GAAE,OAAO,EAAEA,GAAE,KAAK,GAAG,EAAE,KAAKL,GAAE,KAAQS,GAAET,GAAE,WAAcO,EAAC,SAASJ,GAAE,QAAQ,eAAe,IAAI,EAAE,CAAC,IAAIO,GAAEP,GAAE,OAAO,EAAsB,EAAEH,GAAE,YAAeU,IAAG,MAAM,MAASR,IAAG,EAAGF,GAAE,UAAaG,GAAO,EAAE,gCAAgCA,EAAC,CAAE,CAAE,CAAC,OAAOH,EAAC,CAAC,SAAS,GAAGH,GAAE,CAAC,OAAO,GAAGA,GAAE,aAAa,IAAI,uBAAuB,EAAEA,GAAE,MAAM,GAAG,EAAEA,GAAE,SAAS,IAAI,qBAAqB,CAAC,SAAS,GAAGC,GAAEC,GAAEC,GAAE,CAAC,IAAIC,GAAE,KAAgE,OAA3D,EAAEF,GAAE,SAASF,GAAE,CAAII,IAAG,OAAMA,GAAEJ,GAAE,iBAAiBC,GAAEE,GAAED,EAAC,EAAE,CAAC,EAAKE,KAA0B,GAAGF,EAAC,EAAU,GAAGC,EAAC,EAAc,GAAGA,EAAC,EAAG,CAAC,SAAS,EAAEH,GAAE,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,KAAK,CAACA,EAAC,CAAC,CAAC,CAAC,SAAS,GAAGA,GAAEC,GAAE,CAAC,IAAIC,GAAEF,GAAE,CAAC,EAAMG,GAAEH,GAAEA,GAAE,OAAO,CAAC,EAAE,GAAGC,GAAE,OAAO,CAAC,IAAIG,GAAE,KAAQH,GAAE,eAAcG,GAAE,GAAGF,GAAED,GAAE,YAAY,GAAKA,GAAE,SAAS,QAAQC,IAAGE,MAAIA,GAAEA,IAAGF,GAAEE,GAAE,UAAU,GAAKH,GAAE,SAAS,WAAWE,IAAGC,MAAIA,GAAEA,IAAGD,GAAEC,GAAE,UAAUA,GAAE,aAAa,CAAC,GAAGH,GAAE,KAAK,CAAC,IAAIG,GAAE,KAAK,GAAGH,GAAE,WAAW,CAAC,IAAII,GAAEJ,GAAE,WAAcA,GAAE,aAAa,WAAUI,GAAE,QAAOD,GAAE,GAAGF,GAAEG,EAAC,CAAC,CAAIJ,GAAE,OAAO,QAAQC,IAAGE,MAAIA,GAAEA,IAAGF,GAAEE,GAAE,eAAe,CAAC,MAAM,QAAQ,SAAS,EAAE,OAAO,cAAc,CAAC,GAAKH,GAAE,OAAO,WAAWE,IAAGC,MAAIA,GAAEA,IAAGD,GAAEC,GAAE,eAAe,CAAC,MAAM,MAAM,SAAS,EAAE,OAAO,cAAc,CAAC,EAAE,CAAC,CAAC,SAAS,GAAGJ,GAAEC,GAAEC,GAAEC,GAAE,CAAkB,GAAdA,IAAG,OAAMA,GAAE,CAAC,GAAKH,IAAG,KAAM,OAAOG,GAAE,IAAIC,GAAE,GAAGJ,GAAEC,EAAC,EAAE,GAAGG,GAAE,CAAC,IAAIC,GAAED,GAAE,KAAK,EAAME,GAAEJ,GAAE,GAAGG,KAAI,QAAS,OAAO,KAAQA,GAAE,QAAQ,aAAa,IAAI,GAAGA,GAAEA,GAAE,OAAO,EAAE,EAAEC,GAAE,IAAaD,GAAE,QAAQ,KAAK,IAAI,IAAGA,GAAEA,GAAE,OAAO,CAAC,EAAEC,GAAE,IAAQD,GAAE,QAAQ,GAAG,IAAI,IAAGA,GAAE,IAAIA,GAAE,KAAI,IAAIE,GAAKD,GAAGC,GAAE,GAAGP,GAAE,UAAU,CAAC,OAAO,SAAS,WAAWK,GAAE,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,EAAOE,GAAE,EAAEF,EAAC,EAAE,QAAQG,MAAKD,GAAMA,GAAE,eAAeC,EAAC,GAAML,GAAEK,EAAC,GAAG,OAAML,GAAEK,EAAC,EAAED,GAAEC,EAAC,EAAI,CAAC,OAAO,GAAG,EAAER,EAAC,EAAEC,GAAEC,GAAEC,EAAC,CAAC,CAAC,SAAS,GAAGH,GAAEC,GAAEC,GAAE,CAAC,OAAG,EAAE,OAAO,UAAkBD,GAAE,GAAO,GAAGD,GAAE,0BAA0B,EAASE,GAAE,CAAC,SAAS,GAAGF,GAAEC,GAAE,CAAC,OAAO,GAAGD,GAAE,UAAU,GAAKC,EAAC,CAAC,CAAC,SAAS,GAAGD,GAAEC,GAAE,CAAC,OAAO,GAAGD,GAAE,UAAU,GAAMC,EAAC,CAAC,CAAC,SAAS,GAAGD,GAAE,CAAC,OAAO,GAAG,GAAGA,EAAC,EAAE,GAAGA,EAAC,CAAC,CAAC,CAAC,SAAS,GAAGC,GAAEC,GAAEC,GAAE,CAAC,GAAGA,KAAI,KAAM,GAAG,CAACF,GAAE,iBAAiBC,GAAEC,EAAC,CAAC,MAAS,CAACF,GAAE,iBAAiBC,GAAE,mBAAmBC,EAAC,CAAC,EAAEF,GAAE,iBAAiBC,GAAE,mBAAmB,MAAM,CAAC,CAAE,CAAC,SAAS,GAAGD,GAAE,CAAC,GAAGA,GAAE,aAAa,OAAO,IAAM,IAAa,GAAG,CAAC,IAAID,GAAE,IAAI,IAAIC,GAAE,WAAW,EAAE,OAAOD,GAAE,SAASA,GAAE,MAAM,MAAS,CAAC,GAAG,GAAG,EAAE,KAAK,sBAAsB,CAAC,IAAIC,GAAE,WAAW,CAAC,CAAC,CAAE,CAAC,SAAS,EAAED,GAAEC,GAAE,CAAC,OAAOD,GAAE,sBAAsB,EAAE,MAAMC,EAAC,CAAC,CAAC,SAAS,GAAGD,GAAEC,GAAEC,GAAE,CAAmB,OAAlBF,GAAEA,GAAE,YAAY,EAAKE,GAAMA,cAAa,SAAS,EAAEA,GAAE,QAAQ,EAAU,GAAGF,GAAEC,GAAE,KAAK,KAAK,CAAC,eAAe,EAAEC,EAAC,EAAE,cAAc,EAAI,CAAC,EAAc,GAAGF,GAAEC,GAAE,EAAEC,GAAE,MAAM,EAAEA,GAAE,MAAM,CAAC,QAAQA,GAAE,QAAQ,QAAQA,GAAE,QAAQ,OAAOA,GAAE,OAAO,eAAe,EAAEA,GAAE,MAAM,EAAE,aAAaA,GAAE,KAAK,cAAc,EAAI,CAAC,EAAe,GAAGF,GAAEC,GAAE,KAAK,KAAK,CAAC,cAAc,EAAI,CAAC,CAAE,CAAC,SAAS,GAAGD,GAAE,CAAU,QAALC,GAAE,CAAC,EAAQD,IAAGC,GAAE,KAAKD,EAAC,EAAEA,GAAEA,GAAE,cAAc,OAAOC,EAAC,CAAC,SAAS,GAAGD,GAAEC,GAAEC,GAAE,CAAC,IAAIC,GAAMC,GAAE,GAAG,OAAO,KAAM,WAAW,CAACA,GAAE,IAAI,IAAIH,GAAE,SAAS,SAAS,IAAI,EAAE,IAAII,GAAE,SAAS,SAAS,OAAOF,GAAEE,KAAID,GAAE,MAAM,MAAMA,GAAEH,GAAEE,GAAE,EAAEF,GAAE,SAAS,SAAS,MAAM,EAAE,OAAG,EAAE,OAAO,kBAAqB,CAACE,GAAU,GAAc,GAAGH,GAAE,mBAAmB,GAAG,CAAC,IAAII,GAAE,SAASD,EAAC,EAAED,EAAC,CAAC,CAAC,CAAC,SAAS,GAAGF,GAAEC,GAAEE,GAAED,GAAEE,GAAEU,GAAE,CAAC,IAAIT,GAAE,KAASC,GAAE,KAAoB,GAAfF,GAAEA,IAAU,CAAC,EAAKA,GAAE,eAAe,OAAO,QAAU,IAAa,IAAIG,GAAE,IAAI,QAAQ,SAASP,GAAEC,GAAE,CAACI,GAAEL,GAAEM,GAAEL,EAAC,CAAC,EAAKE,IAAG,OAAMA,GAAE,GAAG,EAAE,MAAK,IAAIY,GAAEX,GAAE,SAAS,GAAG,GAAG,CAAC,GAAGD,EAAC,EAAG,UAAGE,EAAC,EAASE,GAAE,IAAIC,GAAEJ,GAAE,gBAAgB,GAAGD,EAAC,EAAE,GAAGK,IAAG,MAAMA,IAAG,GAAI,UAAGL,GAAE,mBAAmB,CAAC,OAAO,GAAGA,GAAE,WAAW,CAAC,CAAC,EAAE,GAAGG,EAAC,EAASC,GAAE,IAAIE,GAAE,GAAGN,EAAC,EAAMO,GAAED,GAAE,kBAAkB,GAAGC,GAAE,CAAC,IAAIC,GAAE,EAAED,GAAE,YAAY,EAAKC,IAAG,OAAMV,GAAEU,IAAE,IAAIC,GAAE,EAAEF,GAAE,YAAY,EAAKE,IAAG,OAAMZ,GAAEY,GAAE,CAAC,GAAG,CAACE,GAAE,CAAC,IAAIE,GAAE,UAAU,CAAC,OAAO,GAAGhB,GAAEC,GAAEE,GAAED,GAAEE,GAAE,EAAI,CAAC,EAAMa,GAAE,CAAC,OAAOT,GAAE,IAAIL,GAAE,KAAKF,GAAE,KAAKD,GAAE,gBAAgBE,GAAE,IAAIE,GAAE,aAAaY,EAAC,EAAE,GAAG,GAAGb,GAAE,eAAec,EAAC,IAAI,GAAO,UAAGZ,EAAC,EAASE,EAAE,CAAC,IAAIM,GAAEV,GAAMe,GAAE,GAAGf,GAAE,SAAS,EAAMgB,GAAE,KAASC,GAAE,GAAM,GAAGF,GAAE,CAAC,IAAIG,GAAEH,GAAE,MAAM,GAAG,EAAMI,GAAED,GAAE,CAAC,EAAE,KAAK,EAAkF,GAA7EC,KAAI,OAAQT,GAAE,GAAGV,GAAE,SAAS,EAAOU,GAAE,GAAGV,GAAEmB,EAAC,EAAEJ,IAAGG,GAAE,CAAC,GAAG,QAAQ,KAAK,EAAEZ,GAAE,GAAGI,EAAC,EAAKK,KAAI,QAAQT,GAAE,KAAKA,GAAE,YAAY,GAAM,UAAGJ,EAAC,EAASE,GAAO,GAAGW,KAAI,QAAQ,CAAC,GAAGT,GAAE,IAAK,UAAGJ,EAAC,EAASE,GAAOa,GAAE,EAAK,SAASF,KAAI,UAAW,GAAGL,GAAE,YAAY,UAAUK,GAAE,QAAQ,OAAO,IAAI,EAAE,CAAC,IAAIK,GAAEL,GAAE,MAAM,GAAG,EAAEC,IAAGI,GAAE,CAAC,GAAG,QAAQ,KAAK,CAAC,CAAC,CAAC,GAAGd,GAAE,IAAK,GAAGA,GAAE,UAAW,GAAGI,GAAE,YAAY,MAAM,CAAC,GAAGM,IAAG,KAAK,CAAC,GAAGjB,GAAE,CAAC,IAAIsB,GAAE,GAAGtB,EAAC,EAAKsB,IAAGA,GAAE,aAAaA,GAAE,YAAY,QAAOL,GAAEK,GAAE,YAAY,MAAM,CAAIL,IAAG,OAAMA,GAAE,OAAO,CAAC,OAAGV,GAAE,gBAAgB,OAAMA,GAAE,eAAe,CAAC,GAAKU,KAAI,SAASV,GAAE,eAAe,SAAS,EAAGA,GAAE,eAAe,KAAK,UAAU,CAAC,GAAGT,GAAEC,GAAEE,GAAED,GAAEE,EAAC,CAAC,CAAC,EAAUe,KAAI,MAAOV,GAAE,eAAe,KAAK,UAAU,CAAC,GAAGT,GAAEC,GAAEE,GAAED,GAAEE,EAAC,CAAC,CAAC,EAAUe,KAAI,SAAQV,GAAE,eAAe,CAAC,EAAEA,GAAE,eAAe,KAAK,UAAU,CAAC,GAAGT,GAAEC,GAAEE,GAAED,GAAEE,EAAC,CAAC,CAAC,GAAE,GAAGC,EAAC,EAASE,EAAC,CAAE,IAAIkB,GAAE,IAAI,eAAehB,GAAE,IAAIgB,GAAEhB,GAAE,UAAUW,GAAE,IAAIM,GAAE,UAAU,CAA8B,GAA7BjB,GAAE,IAAI,KAAKA,GAAE,UAAU,GAASA,GAAE,gBAAgB,MAAMA,GAAE,eAAe,OAAO,EAAE,CAAC,IAAIT,GAAES,GAAE,eAAe,MAAM,EAAET,GAAE,CAAC,CAAC,EAAM2B,GAAE,GAAGxB,GAAE,WAAW,EAAE,GAAGwB,GAAE,CAAC,IAAIC,GAAE,OAAOD,EAAC,EAAE,GAAGC,KAAI,MAAM,CAAC,GAAGzB,GAAE,cAAc,CAAC,OAAOyB,GAAE,OAAOpB,EAAC,CAAC,EAAG,UAAGH,EAAC,EAAEqB,GAAE,EAASnB,EAAE,CAAC,IAAIsB,GAAE,GAAG1B,GAAE,YAAY,EAAE,GAAG0B,IAAM,CAAC,QAAQA,EAAC,EAAG,UAAGxB,EAAC,EAAEqB,GAAE,EAASnB,GAAG,IAAIuB,GAAE,GAAG3B,GAAEK,GAAEoB,EAAC,EAAKxB,GAAE,UAAS0B,GAAE,GAAGA,GAAE1B,GAAE,OAAO,GAAE,IAAI2B,GAAE,GAAG5B,GAAEH,EAAC,EAAMgC,GAAED,GAAE,OAAWE,GAAEF,GAAE,OAAU3B,GAAE,SAAQ6B,GAAE,GAAGA,GAAE7B,GAAE,MAAM,GAAE,IAAI8B,GAAE,GAAG/B,EAAC,EAAMgC,GAAE,GAAGF,GAAEC,EAAC,EAAME,GAAE,GAAGD,GAAEhC,EAAC,EAAKH,KAAI,OAAO,CAAC,GAAGG,EAAC,IAAG2B,GAAE,cAAc,EAAE,qCAAuC,EAAE,OAAO,qBAAqB9B,KAAI,QAAOoC,GAAE,uBAAuB,EAAE,EAAE5B,GAAE,IAAI,GAAG,SAAUP,IAAG,MAAMA,KAAI,MAAIA,GAAE,GAAG,EAAE,SAAS,MAAK,IAAIoC,GAAE,GAAGlC,GAAE,YAAY,EAAMmC,GAAE,GAAGnC,EAAC,EAAE,QAAYoC,GAAE,EAAE,OAAO,wBAAwB,QAAQvC,EAAC,GAAG,EAAMwC,GAAE,CAAC,QAAQF,GAAE,aAAaC,GAAE,WAAWH,GAAE,qBAAqBD,GAAE,QAAQL,GAAE,OAAOtB,GAAE,KAAKR,GAAE,OAAOgC,GAAE,gBAAgB5B,GAAE,aAAaiC,GAAE,aAAa,EAAE,OAAO,gBAAgB,QAAQjC,GAAE,SAASiC,GAAE,SAAS,EAAE,OAAO,QAAQ,KAAKpC,GAAE,gBAAgBC,EAAC,EAAE,GAAG,CAAC,GAAGC,GAAE,qBAAqBqC,EAAC,EAAG,UAAGnC,EAAC,EAAEqB,GAAE,EAASnB,GAA2E,GAAzEN,GAAEuC,GAAE,KAAKxC,GAAEwC,GAAE,KAAKV,GAAEU,GAAE,QAAQJ,GAAEI,GAAE,WAAWR,GAAEQ,GAAE,OAAOD,GAAEC,GAAE,aAAgBR,IAAGA,GAAE,OAAO,EAAG,UAAG7B,GAAE,yBAAyBqC,EAAC,EAAE,GAAGnC,EAAC,EAAEqB,GAAE,EAASnB,GAAE,IAAIkC,GAAExC,GAAE,MAAM,GAAG,EAAMyC,GAAED,GAAE,CAAC,EAAME,GAAEF,GAAE,CAAC,EAAMG,GAAE3C,GAAE,GAAGsC,GAAE,CAACK,GAAEF,GAAE,IAAIG,GAAE,OAAO,KAAKT,EAAC,EAAE,SAAS,EAAKS,KAAMD,GAAE,QAAQ,GAAG,EAAE,EAAGA,IAAG,IAASA,IAAG,IAAIA,IAAG,GAAGR,EAAC,EAAKO,KAAGC,IAAG,IAAID,IAAG,CAAC,GAAG,CAAC,GAAGxC,GAAEyC,GAAEJ,EAAC,EAAG,UAAGrC,GAAE,mBAAmBqC,EAAC,EAAE,GAAGlC,EAAC,EAASC,GAAyH,GAAvHkB,GAAE,KAAKzB,GAAE,YAAY,EAAE4C,GAAE,EAAI,EAAEnB,GAAE,iBAAiB,WAAW,EAAEA,GAAE,gBAAgBe,GAAE,gBAAgBf,GAAE,QAAQe,GAAE,QAAW,CAAAH,GAAE,WAAiB,QAAQS,MAAKhB,GAAG,GAAGA,GAAE,eAAegB,EAAC,EAAE,CAAC,IAAIC,GAAEjB,GAAEgB,EAAC,EAAE,GAAGrB,GAAEqB,GAAEC,EAAC,CAAC,EAAG,IAAIC,GAAE,CAAC,IAAIvB,GAAE,OAAOjB,GAAE,cAAcgC,GAAE,IAAIpC,GAAE,QAAQkC,GAAE,SAAS,CAAC,YAAYrC,GAAE,iBAAiB2C,GAAE,OAAOD,EAAC,CAAC,EAAqnB,GAAnnBlB,GAAE,OAAO,UAAU,CAAC,GAAG,CAAC,IAAIzB,GAAE,GAAGG,EAAC,EAAsG,GAApG6C,GAAE,SAAS,aAAa,GAAGvB,EAAC,EAAEV,GAAEZ,GAAE6C,EAAC,EAAE,GAAGC,GAAEC,EAAC,EAAE,GAAG/C,GAAE,oBAAoB6C,EAAC,EAAE,GAAG7C,GAAE,mBAAmB6C,EAAC,EAAK,CAAC,GAAG7C,EAAC,EAAE,CAAY,QAAPF,GAAE,KAAWD,GAAE,OAAO,GAAGC,IAAG,MAAK,CAAC,IAAIC,GAAEF,GAAE,MAAM,EAAK,GAAGE,EAAC,IAAGD,GAAEC,GAAE,CAAID,KAAG,GAAGA,GAAE,oBAAoB+C,EAAC,EAAE,GAAG/C,GAAE,mBAAmB+C,EAAC,EAAE,CAAC,GAAG3C,EAAC,EAAEqB,GAAE,CAAC,OAAO1B,GAAE,CAAC,SAAGG,GAAE,mBAAmB,GAAG,CAAC,MAAMH,EAAC,EAAEgD,EAAC,CAAC,EAAQhD,EAAC,CAAC,EAAEyB,GAAE,QAAQ,UAAU,CAAC,GAAGwB,GAAEC,EAAC,EAAE,GAAG/C,GAAE,oBAAoB6C,EAAC,EAAE,GAAG7C,GAAE,iBAAiB6C,EAAC,EAAE,GAAG1C,EAAC,EAAEoB,GAAE,CAAC,EAAED,GAAE,QAAQ,UAAU,CAAC,GAAGwB,GAAEC,EAAC,EAAE,GAAG/C,GAAE,oBAAoB6C,EAAC,EAAE,GAAG7C,GAAE,iBAAiB6C,EAAC,EAAE,GAAG1C,EAAC,EAAEoB,GAAE,CAAC,EAAED,GAAE,UAAU,UAAU,CAAC,GAAGwB,GAAEC,EAAC,EAAE,GAAG/C,GAAE,oBAAoB6C,EAAC,EAAE,GAAG7C,GAAE,eAAe6C,EAAC,EAAE,GAAG1C,EAAC,EAAEoB,GAAE,CAAC,EAAK,CAAC,GAAGvB,GAAE,qBAAqB6C,EAAC,EAAG,UAAG3C,EAAC,EAAEqB,GAAE,EAASnB,GAAE,IAAI0C,GAAE,GAAG9C,EAAC,EAAM+C,GAAE,GAAG/C,EAAC,EAAE,GAAG,CAAC,YAAY,UAAU,WAAW,OAAO,EAAE,SAASF,GAAE,CAAC,GAAG,CAACwB,GAAEA,GAAE,MAAM,EAAE,SAASzB,GAAE,CAACA,GAAE,iBAAiBC,GAAE,SAASD,GAAE,CAAC,GAAGG,GAAE,YAAYF,GAAE,CAAC,iBAAiBD,GAAE,iBAAiB,OAAOA,GAAE,OAAO,MAAMA,GAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAGG,GAAE,kBAAkB6C,EAAC,EAAE,IAAIG,GAAEZ,GAAE,KAAK,GAAGd,GAAEtB,GAAEiC,EAAC,EAAE,OAAAX,GAAE,KAAK0B,EAAC,EAAS5C,EAAC,CAAC,SAAS,GAAGP,GAAEC,GAAE,CAAC,IAAIC,GAAED,GAAE,IAAQE,GAAE,KAASC,GAAE,KAAqO,GAA7N,EAAEF,GAAE,WAAW,GAAGC,GAAED,GAAE,kBAAkB,SAAS,EAAEE,GAAE,QAAe,EAAEF,GAAE,eAAe,GAAGC,GAAED,GAAE,kBAAkB,aAAa,EAAEE,GAAE,QAAe,EAAEF,GAAE,kBAAkB,IAAGC,GAAED,GAAE,kBAAkB,gBAAgB,EAAEE,GAAE,WAAaD,GAAG,OAAGA,KAAI,QAAe,CAAC,EAAa,CAAC,KAAKC,GAAE,KAAKD,EAAC,EAAG,IAAIE,GAAEJ,GAAE,SAAS,iBAAqBK,GAAEL,GAAE,SAAS,aAAiBM,GAAE,GAAGP,GAAE,aAAa,EAAMQ,GAAE,GAAGR,GAAE,gBAAgB,EAAMS,GAAE,GAAGT,EAAC,EAAE,QAAYU,GAAE,KAASC,GAAE,KAA8E,OAAtEJ,IAAGG,GAAE,OAAOC,GAAEJ,IAAUC,IAAGE,GAAE,UAAUC,GAAEH,IAAUC,KAAGC,GAAE,OAAOC,GAAEL,IAAGD,IAAKM,GAAMA,KAAI,QAAe,CAAC,GAAKA,KAAI,SAAQA,GAAEL,IAAGD,IAAKJ,GAAE,SAAS,QAAQU,GAAE,QAAQ,GAAG,IAAI,KAAIA,GAAEA,GAAE,IAAIV,GAAE,SAAS,QAAa,CAAC,KAAKS,GAAE,KAAKC,EAAC,GAAa,CAAC,CAAE,CAAC,SAAS,GAAGH,GAAEC,GAAE,CAAC,IAAIC,GAAED,GAAE,IAAQE,GAAEF,GAAE,OAAWT,GAAES,GAAE,IAAQR,GAAEQ,GAAE,cAAc,GAAI,GAAGD,GAAE,oBAAoBC,EAAC,EAAsD,IAA1C,EAAEC,GAAE,cAAc,GAAG,GAAGA,GAAE,aAAaF,EAAC,EAAK,EAAEE,GAAE,eAAe,EAAE,CAAC,GAAG,EAAE,IAAIR,GAAEQ,GAAE,kBAAkB,aAAa,EAAME,GAAKV,GAAE,QAAQ,GAAG,IAAI,IAAGU,GAAE,EAAEV,EAAC,EAAEA,GAAEU,GAAE,KAAQ,OAAOA,GAAE,MAAQ,GAAG,MAAMV,GAAEU,EAAC,EAAE,KAAK,UAAU,CAAC,GAAGV,EAAC,CAAC,CAAC,EAAE,MAAM,CAAC,IAAIC,GAAE,EAAEO,GAAE,cAAc,GAAYA,GAAE,kBAAkB,YAAY,IAAzC,OAA2C,GAAG,EAAEA,GAAE,eAAe,EAAE,CAAC,SAAS,KAAKA,GAAE,kBAAkB,aAAa,EAAEP,IAAG,SAAS,OAAO,EAAE,MAAM,CAAC,GAAGA,GAAE,CAAC,SAAS,OAAO,EAAE,MAAM,CAAI,EAAEO,GAAE,eAAe,IAAGD,GAAE,OAAO,GAAG,EAAE,cAAcC,GAAE,kBAAkB,aAAa,CAAC,GAAE,IAAIG,GAAE,GAAGL,GAAEC,EAAC,EAAML,GAAEM,GAAE,QAAQ,KAAKA,GAAE,OAAO,KAAKA,GAAE,SAAS,IAAQQ,GAAER,GAAE,SAAaL,GAAEK,GAAE,QAAQ,IAAQS,GAAE,EAAE,OAAO,YAAgBb,GAAE,GAAG,CAAC,WAAWF,GAAE,eAAec,GAAE,QAAQb,GAAE,YAAYc,EAAC,EAAEV,EAAC,EAAE,GAAI,GAAGE,GAAE,kBAAkBL,EAAC,EAAyG,IAAhGK,GAAEL,GAAE,OAAOY,GAAEZ,GAAE,eAAeD,GAAEC,GAAE,QAAQa,GAAEb,GAAE,YAAYG,GAAE,OAAOE,GAAEF,GAAE,OAAOJ,GAAEI,GAAE,WAAW,CAACJ,GAAKC,GAAE,WAAW,CAAII,GAAE,SAAS,KAAK,GAAGF,EAAC,EAAE,EAAEA,GAAE,SAASR,GAAE,CAACkB,GAAElB,GAAE,kBAAkBkB,GAAER,GAAEF,EAAC,CAAC,CAAC,EAAKK,GAAE,MAAM,GAAG,EAAE,IAAIN,GAAEP,GAAE,aAAgB,EAAEU,GAAE,aAAa,IAAGH,GAAEG,GAAE,kBAAkB,WAAW,GAAE,IAAIE,GAAE,GAAGJ,GAAED,EAAC,EAAKK,GAAE,eAAe,aAAa,IAAGO,GAAEP,GAAE,aAAYD,GAAE,UAAU,IAAI,EAAE,OAAO,aAAa,EAAE,IAAIS,GAAE,KAASC,GAAE,KAASC,GAAE,UAAU,CAAC,GAAG,CAAC,IAAItB,GAAE,SAAS,cAAkBC,GAAE,CAAC,EAAE,GAAG,CAACA,GAAE,CAAC,IAAID,GAAE,MAAMA,GAAEA,GAAE,eAAe,KAAK,IAAIA,GAAEA,GAAE,aAAa,IAAI,CAAC,MAAS,CAAC,CAAC,IAAIE,GAAK,EAAEQ,GAAE,eAAe,IAAGR,GAAEQ,GAAE,kBAAkB,aAAa,GAAE,IAAIP,GAAE,EAAEQ,EAAC,EAA4B,GAA1B,GAAGC,GAAE,UAAUD,GAAEH,GAAEU,GAAEf,GAAED,EAAC,EAAKD,GAAE,KAAK,CAAC,GAAGA,GAAE,GAAG,GAAG,EAAEA,GAAE,IAAI,IAAI,EAAE,CAAC,IAAIG,GAAE,SAAS,eAAe,EAAEH,GAAE,IAAI,IAAI,CAAC,EAAMI,GAAE,CAAC,cAAcO,GAAE,cAAc,OAAU,CAACA,GAAE,YAAY,CAAC,EAAE,OAAO,kBAAkB,EAAE,GAAGR,GAAE,CAAC,GAAGH,GAAE,OAAOG,GAAE,kBAAmB,GAAG,CAACA,GAAE,kBAAkBH,GAAE,MAAMA,GAAE,GAAG,CAAC,MAAS,CAAC,CAAEG,GAAE,MAAMC,EAAC,CAAC,CAAC,CAAqJ,GAApJM,GAAE,UAAU,OAAO,EAAE,OAAO,aAAa,EAAE,GAAGR,GAAE,KAAK,SAASH,GAAE,CAAIA,GAAE,WAAWA,GAAE,UAAU,IAAI,EAAE,OAAO,aAAa,EAAE,GAAGA,GAAE,iBAAiBS,EAAC,CAAC,CAAC,EAAK,EAAEC,GAAE,yBAAyB,EAAE,CAAC,IAAIJ,GAAEE,GAAM,GAAGA,EAAC,IAAGF,GAAE,GAAG,EAAE,MAAK,GAAGI,GAAE,wBAAwBJ,EAAC,CAAC,CAAC,IAAIC,GAAE,UAAU,CAAsT,GAArT,GAAGJ,GAAE,MAAM,SAASH,GAAE,CAACA,GAAE,KAAK,CAAC,CAAC,EAAE,GAAGG,GAAE,KAAK,SAASH,GAAE,CAAIA,GAAE,WAAWA,GAAE,UAAU,OAAO,EAAE,OAAO,aAAa,EAAE,GAAGA,GAAE,mBAAmBS,EAAC,CAAC,CAAC,EAAKI,GAAE,OAASA,GAAE,OAAO,QAAQ,GAAGA,GAAE,IAAI,EAAE,GAAG,GAAG,EAAE,KAAK,yBAAyB,CAAC,KAAKA,GAAE,IAAI,CAAC,IAAO,GAAGA,GAAE,IAAI,EAAE,GAAG,GAAG,EAAE,KAAK,yBAAyB,CAAC,KAAKA,GAAE,IAAI,CAAC,IAAMJ,GAAE,SAAS,OAAO,CAAC,IAAIT,GAAE,EAAE,IAAIS,GAAE,SAAS,MAAM,EAAKT,IAAGA,GAAE,eAAe,CAAC,MAAM,QAAQ,SAAS,MAAM,CAAC,CAAE,CAAC,GAAGG,GAAE,OAAO,CAACgB,GAAE,CAAC,IAAIlB,GAAE,EAAE,OAAO,EAAKA,GAAGA,GAAE,UAAUE,GAAE,MAAW,OAAO,SAAS,MAAMA,GAAE,KAAM,CAAc,GAAb,GAAGA,GAAE,KAAKS,EAAC,EAAK,EAAEF,GAAE,2BAA2B,EAAE,CAAC,IAAIR,GAAEM,GAAM,GAAGA,EAAC,IAAGN,GAAE,GAAG,EAAE,MAAK,GAAGQ,GAAE,0BAA0BR,EAAC,CAAC,CAAC,GAAGkB,EAAC,CAAC,EAAKR,GAAE,YAAY,EAAG,WAAWL,GAAEK,GAAE,WAAW,EAAOL,GAAE,CAAE,OAAOP,GAAE,CAAC,SAAGQ,GAAE,iBAAiBC,EAAC,EAAE,GAAGY,EAAC,EAAQrB,EAAC,CAAC,EAAMwB,GAAE,EAAE,OAAO,sBAAwE,GAA/CZ,GAAE,eAAe,YAAY,IAAGY,GAAEZ,GAAE,YAAcY,IAAG,GAAGhB,GAAE,wBAAwBC,EAAC,GAAG,OAAO,QAAU,KAAa,SAAS,oBAAoB,CAAC,IAAIgB,GAAE,IAAI,QAAQ,SAASzB,GAAEC,GAAE,CAACmB,GAAEpB,GAAEqB,GAAEpB,EAAC,CAAC,EAAMyB,GAAEJ,GAAEA,GAAE,UAAU,CAAC,SAAS,oBAAoB,UAAU,CAAC,OAAAI,GAAE,EAASD,EAAC,CAAC,CAAC,CAAC,CAAIb,GAAE,UAAU,EAAG,WAAWU,GAAEV,GAAE,SAAS,EAAOU,GAAE,CAAE,CAAIjB,IAAG,GAAGG,GAAE,qBAAqB,GAAG,CAAC,MAAM,8BAA8BE,GAAE,OAAO,SAASD,GAAE,SAAS,WAAW,EAAEA,EAAC,CAAC,GAAE,CAAC,IAAI,GAAG,CAAC,EAAE,SAAS,IAAI,CAAC,MAAM,CAAC,KAAK,SAAST,GAAE,CAAC,OAAO,IAAI,EAAE,QAAQ,SAASA,GAAEC,GAAE,CAAC,MAAO,EAAI,EAAE,kBAAkB,SAASD,GAAEC,GAAEC,GAAE,CAAC,OAAOF,EAAC,EAAE,aAAa,SAASA,GAAE,CAAC,MAAO,EAAK,EAAE,WAAW,SAASA,GAAEC,GAAEC,GAAEC,GAAE,CAAC,MAAO,EAAK,EAAE,iBAAiB,SAASH,GAAEC,GAAEC,GAAE,CAAC,OAAO,IAAI,CAAC,CAAC,CAAC,SAAS,GAAGF,GAAEC,GAAE,CAAIA,GAAE,MAAMA,GAAE,KAAK,CAAC,EAAE,GAAGD,EAAC,EAAE,GAAG,GAAG,EAAEC,EAAC,CAAC,CAAC,SAAS,GAAGD,GAAE,CAAC,OAAO,GAAGA,EAAC,CAAC,CAAC,SAAS,GAAGA,GAAEE,GAAEC,GAAE,CAAC,GAAGH,IAAG,KAAW,OAAOE,GAAKA,IAAG,OAAWA,GAAE,CAAC,GAAKC,IAAG,OAAWA,GAAE,CAAC,GAAE,IAAIF,GAAE,GAAGD,GAAE,QAAQ,EAAE,OAAGC,IAAG,GAAGA,GAAE,MAAM,GAAG,EAAE,SAASD,GAAE,CAAsB,GAArBA,GAAEA,GAAE,QAAQ,KAAK,EAAE,EAAKA,GAAE,MAAM,EAAE,CAAC,GAAG,UAAU,CAACG,GAAE,KAAKH,GAAE,MAAM,CAAC,CAAC,EAAE,MAAM,CAAC,GAAGG,GAAE,QAAQH,EAAC,EAAE,EAAE,CAAC,IAAIC,GAAE,GAAGD,EAAC,EAAKC,IAAGC,GAAE,QAAQD,EAAC,EAAE,GAAGC,GAAE,KAAKD,EAAC,CAAE,CAAC,CAAC,EAAS,GAAG,EAAED,EAAC,EAAEE,GAAEC,EAAC,CAAC,CAAC,IAAI,GAAG,GAAM,GAAG,EAAE,iBAAiB,mBAAmB,UAAU,CAAC,GAAG,EAAI,CAAC,EAAE,SAAS,GAAGH,GAAE,CAAI,IAAI,GAAG,EAAE,aAAa,WAAYA,GAAE,EAAO,GAAG,EAAE,iBAAiB,mBAAmBA,EAAC,CAAE,CAAC,SAAS,IAAI,CAAI,EAAE,OAAO,yBAAyB,IAAO,GAAG,EAAE,KAAK,mBAAmB,YAAY,iCAAiC,EAAE,OAAO,eAAe,wEAAwE,EAAE,OAAO,aAAa,KAAK,EAAE,OAAO,eAAe,qCAAqC,EAAE,OAAO,aAAa,IAAI,EAAE,OAAO,eAAe,yCAAyC,CAAE,CAAC,SAAS,IAAI,CAAC,IAAIA,GAAE,GAAG,EAAE,cAAc,0BAA0B,EAAE,OAAGA,GAAU,EAAEA,GAAE,OAAO,EAAc,IAAK,CAAC,SAAS,IAAI,CAAC,IAAIA,GAAE,GAAG,EAAKA,KAAG,EAAE,OAAO,GAAG,EAAE,OAAOA,EAAC,EAAE,CAAC,UAAG,UAAU,CAAC,GAAG,EAAE,GAAG,EAAE,IAAIA,GAAE,GAAG,EAAE,KAAK,GAAGA,EAAC,EAAE,IAAIC,GAAE,GAAG,EAAE,iBAAiB,sDAAsD,EAAED,GAAE,iBAAiB,aAAa,SAASA,GAAE,CAAC,IAAIC,GAAED,GAAE,OAAWE,GAAE,GAAGD,EAAC,EAAKC,IAAGA,GAAE,KAAKA,GAAE,IAAI,MAAM,CAAE,CAAC,EAAE,IAAIA,GAAE,OAAO,WAAW,OAAO,WAAW,SAASF,GAAE,CAAIA,GAAE,OAAOA,GAAE,MAAM,MAAM,GAAG,EAAE,GAAGC,GAAE,SAASD,GAAE,CAAC,GAAGA,GAAE,gBAAgB,CAAC,SAAS,GAAG,EAAE,aAAa,EAAE,CAAC,CAAC,CAAC,GAAUE,IAAGA,GAAEF,EAAC,CAAG,EAAE,WAAW,UAAU,CAAC,GAAGA,GAAE,YAAY,CAAC,CAAC,EAAEA,GAAE,IAAI,EAAE,CAAC,CAAC,CAAC,EAAS,CAAC,EAAE,CAAC,CAAC,ICA195C,IAAAoD,GAAAC,GAAA,MAAC,UAAU,CACP,SAASC,GAAcC,GAAK,CACxB,IAAIC,GAASD,GAAI,aAAa,WAAW,GAAKA,GAAI,aAAa,gBAAgB,EAC3EC,IACA,WAAW,UAAY,CACnBD,GAAI,cAAc,YAAYA,EAAG,CACrC,EAAG,KAAK,cAAcC,EAAM,CAAC,CAErC,CAEA,KAAK,gBAAgB,YAAa,CAC9B,QAAS,SAAUC,GAAMC,GAAK,CAC1B,GAAID,KAAS,wBAAyB,CAClC,IAAIF,GAAMG,GAAI,OAAO,IACrB,GAAIH,GAAI,eACJD,GAAcC,EAAG,EACbA,GAAI,kBAEJ,QADII,GAAWJ,GAAI,iBAAiB,+BAA+B,EAC1DK,GAAI,EAAGA,GAAID,GAAS,OAAQC,KACjCN,GAAcK,GAASC,EAAC,CAAC,CAIzC,CACJ,CACJ,CAAC,CACL,GAAG,IC1BH,IAAAC,GAAiB,kMCAmCC,GAAK,mBAAoBC,GAAK,gBAAuCC,GAAK,cAA0DC,GAAK,aAAcC,GAAK,eAAgBC,GAAK,gBAAwLC,GAAI,mBAAuDC,GAAI,QAASC,GAAI,UAAWC,GAAK,WAA0EC,GAAK,UAA4BC,GAAK,QAAsBC,GAAK,QAA0BC,GAAK,YAA6BC,GAAK,QAASC,GAAK,aAAcC,GAAK,aAAmKC,GAAK,cAAoCC,GAAK,cAAeC,GAAK,YAAoDC,GAAK,SAA+DC,GAAK,SAAyBC,GAAK,aAmDtlCC,GAAK,YAoDNC,GAAK,YAAaC,GAAK,UAAWC,GAAK,YAAaC,GAAK,aAA8FC,GAAK,SAAyMC,GAAK,qBAAsBC,GAAK,kBAAmBC,GAAI,gBAAiBC,GAAI,qBA0B1VC,GAAK,UAAU,cAAeC,GAAID,GAAI,CAAE,UAAWE,EAAE,EAAK,UAAWC,GAAID,GAAIE,GAAI,4BAEvLH,GAAQA,GAAE,OAAO,KAAMI,IAAMD,GAAE,KAAKC,GAAE,KAAK,CAAC,EAAQD,GAAE,KAAKD,EAAC,EACvD,IAASG,GAAI,qBAAsBC,GAAKN,GAAIA,GAAE,OAAO,KAAMI,IAAMC,GAAE,KAAKD,GAAE,KAAK,CAAC,EAEnFC,GAAE,KAAKH,EAAC,EACFA,IAAIA,GAAE,SAAS,SAAS,EAG7B,GAAA,CAAE,KAAMK,EAAAA,EAAM,SAAe,CAAC,oBAAqB,aAAa,EAAE,KAAMH,IAAMA,MAAKG,GAAE,KAAK,EAAG,IAAAC,GAAK,CAACJ,GAAGK,GAAGC,GAAGC,KAAM,CACnH,IAAMC,GAAID,IAAK,GACfP,GAAE,iBAAiBK,GAAGC,GAAGE,EAAC,CAC5B,EAAGC,GAAK,CAACT,GAAGK,GAAGC,GAAGC,KAAM,CACtB,IAAMC,GAAID,IAAK,GACfP,GAAE,oBAAoBK,GAAGC,GAAGE,EAAC,CAC/B,EAAGE,GAAK,CAACV,GAAGK,GAAGC,GAAGC,KAAM,CACtB,IAAMC,GAAKG,IAAM,EACdA,GAAE,SAAWX,IAAKW,GAAE,gBAAkBX,MAAOM,GAAE,MAAMN,GAAG,CAACW,EAAC,CAAC,EAAGF,GAAGT,GAAGK,GAAGG,GAAGD,EAAC,EAChF,EACEH,GAAGJ,GAAGK,GAAGG,GAAGD,EAAC,CACf,EAAGK,GAAK,IAAM,CACd,GAAS,IAAM,CACb,IAAIZ,GAAI,GACR,GAAI,CACF,IAAMK,GAAI,OAAO,eAAe,CAAA,EAAI,UAAW,CAC7C,IAAK,KAAOL,GAAI,GAAIA,GAC1B,CAAK,EACDU,GAAG,SAAU1C,GAAG4C,GAAIP,EAAC,CACzB,MAAI,CACD,CACD,OAAOL,EACT,GAAI,EAAO,CAAC,kBAAmB,WAAW,EAAE,KAAMA,IAAMA,MAAKG,GAAE,KAAK,EAC9B,CAAC,kBAAmB,WAAW,EAAE,KAAMH,IAAMA,MAAKG,GAAE,KAAK,EAAQ,CAAC,mBAAoB,YAAY,EAAE,KAAMH,IAAMA,MAAKG,GAAE,KAAK,EAAE,IAACU,GAAK,CAACb,GAAGK,KAAML,GAAE,aAAaK,EAAC,EAA6CS,GAAK,CAACd,GAAGK,KAAML,GAAE,aAAaK,EAAC,EAA6CU,GAAK,CAACf,GAAGK,GAAGC,KAAMN,GAAE,aAAaK,GAAGC,EAAC,EAAmDU,GAAK,CAAChB,GAAGK,KAAML,GAAE,gBAAgBK,EAAC,EAAgDY,GAAK,CAACjB,MAAMK,KAAM,CACvfL,GAAE,UAAU,IAAI,GAAGK,EAAC,CACtB,EAAGa,GAAK,CAAClB,MAAMK,KAAM,CACnBL,GAAE,UAAU,OAAO,GAAGK,EAAC,CACzB,EAAGc,GAAK,CAACnB,GAAGK,KAAML,GAAE,UAAU,SAASK,EAAC,EAA2Fe,GAAKpB,IAAMA,IAAK,MAAQ,OAAOA,IAAK,UAAY,GAAIqB,GAAKrB,IAAMoB,GAAEpB,EAAC,GAAK,OAAOA,GAAE,UAAY,UAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAE,EAAE,KAAMK,IAAML,GAAE,WAAaK,EAAC,GAAK,GAAIiB,GAAKtB,IAAMqB,GAAErB,EAAC,GAAKA,GAAE,WAAa,GAAK,GAAIuB,GAAoB,IAAI,IAAOC,GAAI,CAChY,KAAMD,GAQN,IAAK,CAACvB,GAAGK,GAAGC,KAAM,CACXgB,GAAEtB,EAAC,IAERuB,GAAE,IAAIlB,EAAC,GAAKkB,GAAE,IAAIlB,GAAmB,IAAI,GAAK,EAAGkB,GAAE,IAAIlB,EAAC,EAAE,IAAIL,GAAGM,EAAC,EACnE,EAOD,UAAYN,IAAMuB,GAAE,IAAIvB,EAAC,GAAK,KAQ9B,IAAK,CAACA,GAAGK,KAAM,CACb,GAAI,CAACiB,GAAEtB,EAAC,GAAK,CAACK,GACZ,OAAO,KACT,IAAMC,GAAIkB,GAAE,UAAUnB,EAAC,EACvB,OAAOL,IAAKM,IAAKA,GAAE,IAAIN,EAAC,GAAK,IAC9B,EAOD,OAAQ,CAACA,GAAGK,KAAM,CAChB,IAAMC,GAAIkB,GAAE,UAAUnB,EAAC,EACvB,CAACC,IAAK,CAACgB,GAAEtB,EAAC,IAAMM,GAAE,OAAON,EAAC,EAAGM,GAAE,OAAS,GAAKiB,GAAE,OAAOlB,EAAC,EACxD,CACH,EAAGoB,GAAK,CAACzB,GAAGK,KAAMmB,GAAE,IAAIxB,GAAGK,EAAC,EAAGqB,GAAK1B,IAAM,OAAOA,IAAK,UAAY,GAAI2B,GAAK3B,IAAMoB,GAAEpB,EAAC,GAAKA,GAAE,YAAY,OAAS,UAAY,GAAI4B,GAAK5B,IAAMqB,GAAErB,EAAC,GAAKA,GAAE,WAAa,GAAK,GAAI6B,GAAK7B,IAAM2B,GAAE3B,EAAC,EAAIA,GAAE,SAAW4B,GAAE5B,EAAC,EAAIA,GAAIqB,GAAErB,EAAC,EAAIA,GAAE,cAAgB,OAAO,SAAU8B,GAAI,CAAC9B,MAAMK,KAAM,OAAO,OAAOL,GAAG,GAAGK,EAAC,EAAG0B,GAAM/B,IAAM,CAClT,GAAI,CAACA,GACH,OACF,GAAI0B,GAAE1B,EAAC,EACL,OAAO6B,GAAG,EAAC,cAAc7B,EAAC,EAC5B,GAAM,CAAE,QAASK,EAAG,EAAGL,GAAGM,GAAIyB,GAAG1B,EAAC,EAClC,GAAI,CAACC,GACH,OACF,IAAMC,GAAI,CAAE,GAAGP,EAAA,EACf,OAAO,OAAOO,GAAE,QAASuB,GAAExB,GAAGC,EAAC,CACjC,EAUGyB,GAAI,CAAChC,GAAGK,KAAML,GAAE,cAAcK,EAAC,EAAyC4B,GAAI,CAACjC,GAAGK,KAAM,CACvF,IAAMC,GAAI,iBAAiBN,EAAC,EAAGO,GAAIF,GAAE,QAAQ,SAAU,QAAQ,EAAE,QAAQ,WAAY,KAAK,EAAE,YAAW,EACvG,OAAOC,GAAE,iBAAiBC,EAAC,CAC7B,EA8BG2B,GAAMlC,IAAM,CACb,IAAMK,GAAI4B,GAAEjC,GAAGN,EAAC,EAAGY,GAAI2B,GAAEjC,GAAGR,EAAE,EAAGe,GAAID,GAAE,SAAS,IAAI,EAElD,EACE,IAAKE,GAAIH,IAAKA,KAAM,OAAS,WAAWC,EAAC,EAAIC,GAE/C,EAEF,OAAO,OAAO,MAAMC,EAAC,EAEnB,EACEA,EACN,EAAG2B,GAAMnC,IAAM,CACb,IAAMK,GAAI4B,GAAEjC,GAAGN,EAAC,EAAGY,GAAI2B,GAAEjC,GAAGT,EAAE,EAAGgB,GAAID,GAAE,SAAS,IAAI,EAElD,EACE,IAAKE,GAAIH,IAAKA,KAAM,OAAS,WAAWC,EAAC,EAAIC,GAE/C,EAEF,OAAO,OAAO,MAAMC,EAAC,EAEnB,EACEA,EACN,EAAG4B,GAAK,CAACpC,GAAGK,KAAM,CAChB,IAAIC,GAAI,EACFC,GAAI,IAAI,MAAMd,EAAC,EAAGe,GAAI2B,GAAGnC,EAAC,EAAGW,GAAIuB,GAAGlC,EAAC,EAC3C,GAAIQ,GAAG,CACL,IAAM6B,GAAKC,IAAM,CACfA,GAAE,SAAWtC,KAAMK,GAAE,MAAML,GAAG,CAACsC,EAAC,CAAC,EAAGtC,GAAE,oBAAoBP,GAAG4C,EAAC,EAAG/B,GAAI,EAC3E,EACIN,GAAE,iBAAiBP,GAAG4C,EAAC,EAAG,WAAW,IAAM,CACzC/B,IAAK0B,GAAEhC,GAAGO,EAAC,CACjB,EAAOC,GAAIG,GAAI,EAAE,CAAA,MAEbN,GAAE,MAAML,GAAG,CAACO,EAAC,CAAC,CAClB,EAA+FgC,GAAK,CAACvC,GAAGK,KAAML,GAAE,MAAMK,EAAC,EAAGmC,GAAKxC,IAAM,CAAC,OAAQ,EAAE,EAAE,SAASA,EAAC,EAAI,GAAK,CAAC,QAAS,EAAE,EAAE,SAASA,EAAC,EAAI,GAAK,CAAC,OAAQ,GAAI,KAAM,MAAM,EAAE,SAASA,EAAC,EAAI,KAAOA,KAAM,IAAM,CAAC,OAAO,MAAM,CAACA,EAAC,EAAI,CAACA,GAAIA,GAAGyC,GAAKzC,IAAM,OAAO,QAAQA,EAAC,EAAG0C,GAAM1C,IAAMA,GAAE,YAAW,EAAI2C,GAAK,CAAC3C,GAAGK,GAAGC,GAAGC,KAAM,CAC5W,IAAMC,GAAI,CAAE,GAAGF,EAAG,EAAEK,GAAI,CAAE,GAAGX,GAAE,OAAS,EAAEqC,GAAI,CAAE,GAAGhC,EAAG,EAAEiC,GAAI,CAAE,EAAEM,GAAI,QACpE,OAAOH,GAAE9B,EAAC,EAAE,QAAQ,CAAC,CAACkC,GAAGC,EAAC,IAAM,CAC9B,IAAMC,GAAIxC,IAAK,OAAOsC,IAAK,UAAYA,GAAE,SAAStC,EAAC,EAAIsC,GAAE,QAAQtC,GAAG,EAAE,EAAE,QAAQ,SAAWyC,IAAMN,GAAGM,EAAC,CAAC,EAAIH,GAC1GP,GAAES,EAAC,EAAIP,GAAEM,EAAC,CACd,CAAG,EAAGL,GAAEjC,EAAC,EAAE,QAAQ,CAAC,CAACqC,GAAGC,EAAC,IAAM,CAC3BtC,GAAEqC,EAAC,EAAIL,GAAEM,EAAC,CACd,CAAG,EAAGL,GAAEpC,EAAC,EAAE,QAAQ,CAAC,CAACwC,GAAGC,EAAC,IAAM,CAC3BD,MAAKrC,GAAI6B,GAAEQ,EAAC,EAAIrC,GAAEqC,EAAC,EAAIA,MAAKP,GAAID,GAAEQ,EAAC,EAAIP,GAAEO,EAAC,EAAIR,GAAEQ,EAAC,EAAIA,KAAMD,GAAI/B,GAAGb,GAAG4C,EAAC,EAAIE,EAC3E,CAAA,EAAGT,EACN,EAA2DY,GAAMjD,IAAM,OAAO,KAAKA,EAAC,EAAiCkD,GAAK,CAAClD,GAAGK,KAAM,CAClI,IAAMC,GAAI,IAAI,YAAYN,GAAG,CAC3B,WAAY,GACZ,QAAS,EACb,CAAG,EACD,OAAOoB,GAAEf,EAAC,GAAKyB,GAAExB,GAAGD,EAAC,EAAGC,EAC1B,EAAG6C,GAAK,CAAE,QAAS,EAAE,EAAIC,GAAMpD,IAAMA,GAAE,aAAcqD,GAAK,CAACrD,GAAGK,KAAM,CAClEoC,GAAEpC,EAAC,EAAE,QAAQ,CAAC,CAACC,GAAGC,EAAC,IAAM,CACvB,GAAIA,IAAKmB,GAAEpB,EAAC,GAAKA,GAAE,SAAS,IAAI,EAC9BN,GAAE,MAAM,YAAYM,GAAGC,EAAC,MACrB,CACH,IAAMC,GAAI,CAAA,EACVA,GAAEF,EAAC,EAAIC,GAAGuB,GAAE9B,GAAE,MAAOQ,EAAC,CAAA,CAE5B,CAAG,CACH,EAAG8C,GAAKtD,IAAMoB,GAAEpB,EAAC,GAAKA,GAAE,YAAY,OAAS,OAAS,GAAIuD,GAAMvD,IAAM,OAAOA,IAAK,UAAY,GAAIwD,GAAoB,IAAI,IAAOC,GAAK,CASpI,IAAK,CAACzD,GAAGK,GAAGC,GAAGC,KAAM,CACnBe,GAAEtB,EAAC,IAAMO,IAAKA,GAAE,QAAUiD,GAAE,IAAIxD,EAAC,GAAKwD,GAAE,IAAIxD,GAAmB,IAAI,GAAK,EAAGwD,GAAE,IAAIxD,EAAC,EAAE,IAAIO,GAAG,WAAWF,GAAGC,EAAC,CAAC,GAAKkD,GAAE,IAAIxD,GAAG,WAAWK,GAAGC,EAAC,CAAC,EAC1I,EAQD,IAAK,CAACN,GAAGK,KAAM,CACb,GAAI,CAACiB,GAAEtB,EAAC,EACN,OAAO,KACT,IAAMM,GAAIkD,GAAE,IAAIxD,EAAC,EACjB,OAAOK,IAAKC,IAAKgD,GAAEhD,EAAC,EAAIA,GAAE,IAAID,EAAC,GAC/B,KAAOkD,GAAGjD,EAAC,EAAIA,GAAI,IACpB,EAOD,MAAO,CAACN,GAAGK,KAAM,CACf,GAAI,CAACiB,GAAEtB,EAAC,EACN,OACF,IAAMM,GAAIkD,GAAE,IAAIxD,EAAC,EACjBK,IAAKA,GAAE,QAAUiD,GAAEhD,EAAC,GAAK,aAAaA,GAAE,IAAID,EAAC,CAAC,EAAGC,GAAE,OAAOD,EAAC,EAAGC,GAAE,OAAS,GAAKkD,GAAE,OAAOxD,EAAC,IAAM,aAAaM,EAAC,EAAGkD,GAAE,OAAOxD,EAAC,EAC1H,CACH,EAAgC0D,GAAI,CAAC1D,GAAGK,KAAM,CAC5C,GAAM,CAAE,MAAOC,GAAG,OAAQC,GAAG,IAAKC,GAAG,MAAOG,GAAG,OAAQ0B,GAAG,KAAMC,EAAC,EAAKtC,GAAE,sBAAA,EACpE4C,GAAI,EAAGC,GAAI,EACf,GAAIxC,IAAKiB,GAAEtB,EAAC,EAAG,CACb,GAAM,CAAE,YAAa8C,GAAG,aAAcC,EAAC,EAAK/C,GAC5C4C,GAAIE,GAAI,EAAI,KAAK,MAAMxC,EAAC,EAAIwC,GAE1B,EACCD,GAAIE,GAAI,EAAI,KAAK,MAAMxC,EAAC,EAAIwC,GAE7B,CAAA,CAGJ,MAAO,CACL,MAAOzC,GAAIsC,GACX,OAAQrC,GAAIsC,GACZ,IAAKrC,GAAIqC,GACT,MAAOlC,GAAIiC,GACX,OAAQP,GAAIQ,GACZ,KAAMP,GAAIM,GACV,EAAGN,GAAIM,GACP,EAAGpC,GAAIqC,EACX,CACA,EAAGc,GAAM3D,IAAM6B,GAAE7B,EAAC,EAAE,KAAM4D,GAAK5D,IAAM6B,GAAE7B,EAAC,EAAE,gBAGvC6D,GAAM7D,IAAMqB,GAAErB,EAAC,GAAKA,GAAE,YAAY,OAAS,cAAgB,GAAI8D,GAAM9D,IAAMA,GAAE,WAAa,OAASA,GAAIsB,GAAEtB,EAAC,GAAKA,GAAE,cACpHqB,GAAErB,EAAC,GAAKA,GAAE,YACV6D,GAAG7D,EAAC,GAAKA,GAAE,MACX4D,GAAE5D,EAAC,EAkBC+D,GAAI,EAAGC,GAAI,EACTC,GAAoB,IAAI,IAAOC,GAAK,CAAClE,GAAGK,KAAM,CAClD,IAAIC,GAAID,GAAI0D,GAAIC,GAChB,GAAI3D,GAAG,CACL,IAAME,GAAI2D,GAAGlE,EAAC,EAAGQ,GAAIyD,GAAE,IAAI1D,EAAC,GAAqB,IAAI,IACrD0D,GAAE,IAAI1D,EAAC,GAAK0D,GAAE,IAAI1D,GAAGC,EAAC,EAAG8C,GAAE9C,EAAC,GAAK,CAACA,GAAE,IAAIH,EAAC,GAAKG,GAAE,IAAIH,GAAGC,EAAC,EAAGyD,IAAK,GAAKzD,GAAIE,GAAE,IAAIH,EAAC,CAAA,KAC3E,CACL,IAAME,GAAIP,GAAE,IAAMA,GAClBiE,GAAE,IAAI1D,EAAC,EAAID,GAAI2D,GAAE,IAAI1D,EAAC,GAAK0D,GAAE,IAAI1D,GAAGD,EAAC,EAAG0D,IAAK,EAAA,CAE/C,OAAO1D,EACT,EAAG6D,GAAMnE,IAAM,CACb,IAAIK,GACJ,OAAOL,GAAI4B,GAAE5B,EAAC,EAAIA,GAAE,YAAcqB,GAAErB,EAAC,GAAKK,GAAyBL,IAAE,gBAAkB,KAAO,OAASK,GAAE,YAAcL,GAAI,MAC7H,EAAGoE,GAAMpE,IAAM,MAAM,QAAQA,EAAC,GAAK,GAAmLqE,GAAMrE,IAAM,CAChO,GAAI,CAACqB,GAAErB,EAAC,EACN,MAAO,GACT,GAAM,CAAE,IAAKK,GAAG,OAAQC,EAAG,EAAGoD,GAAE1D,EAAC,EAAG,CAAE,aAAcO,EAAG,EAAGqD,GAAE5D,EAAC,EAC7D,OAAOK,IAAKE,IAAKD,IAAK,CACxB,EAK0CgE,GAAMtE,IAAM,OAAOA,IAAK,YAAc,GAS0FuE,GAAMvE,IAAMoB,GAAEpB,EAAC,GAAKA,GAAE,YAAY,OAAS,YAAc,GAAIwE,GAAMxE,IAAM4D,GAAE5D,EAAC,EAAE,MAAQ,MAAqEyE,GAAMzE,IAAMqB,GAAErB,EAAC,GAAK,CAAC,QAAS,KAAM,IAAI,EAAE,SAASA,GAAE,QAAQ,GAAK,GAAI0E,GAAK,CAAC1E,GAAGK,KAAML,GAAIA,GAAE,QAAQK,EAAC,GACzaqE,GAAG1E,GAAE,YAAW,EAAG,KAAMK,EAAC,EAAI,KAAMsE,GAAK,CAAC3E,GAAGK,KAAMiB,GAAEtB,EAAC,EAAIA,IAAKqB,GAAEhB,EAAC,EAAIA,GAAIwB,GAAG,GAAE,cAAc7B,EAAC,EAAG4E,GAAK,CAAC5E,GAAGK,MAAOgB,GAAEhB,EAAC,EAAIA,GAAIwB,GAAG,GAAE,qBAAqB7B,EAAC,EAA0F6E,GAAK,CAAC7E,GAAGK,MAAOgB,GAAEhB,EAAC,EAAIA,GAAIwB,GAAAA,GAAK,iBAAiB7B,EAAC,EAAG8E,GAAK,CAAC9E,GAAGK,MAAOA,IAAKgB,GAAEhB,EAAC,EAAIA,GAAIwB,GAAG,GAAE,uBACzU7B,EACF,EAAG+E,GAAK,CAAC/E,GAAGK,KAAML,GAAE,QAAQK,EAAC,EC5bvBA,GAAI,CAAE,EAAEyC,GAAK9C,IAAM,CACvB,GAAM,CAAE,KAAM6C,GAAG,cAAexB,EAAC,EAAKrB,GACtC,CAAC,GAAGK,GAAEwC,EAAC,CAAC,EAAE,QAAQ,CAAC,CAACvC,GAAGE,EAAC,IAAM,CAC5Ba,KAAMf,IAAK,CAAC,GAAGE,EAAC,EAAE,QAAQ,CAAC,CAACD,GAAG8B,EAAC,IAAM,CACpC9B,GAAE,MAAMD,GAAG,CAACN,EAAC,CAAC,EAAG,OAAOqC,IAAK,UAAYA,GAAE,MAAQ1B,GAAEL,GAAGuC,GAAGtC,GAAG8B,EAAC,CACrE,CAAK,CACL,CAAG,CACH,EAAGd,GAAI,CAACvB,GAAG6C,GAAGxB,GAAGf,KAAM,CACrBD,GAAEwC,EAAC,IAAMxC,GAAEwC,EAAC,EAAoB,IAAI,KACpC,IAAMrC,GAAIH,GAAEwC,EAAC,EACbrC,GAAE,IAAIR,EAAC,GAAKQ,GAAE,IAAIR,GAAmB,IAAI,GAAK,EAC9C,IAAMO,GAAIC,GAAE,IAAIR,EAAC,EAAG,CAAE,KAAMqC,EAAG,EAAG9B,GAClCA,GAAE,IAAIc,GAAGf,EAAC,EAAG+B,IAAKrC,GAAE,iBAAiB6C,GAAGC,GAAGxC,EAAC,CAC9C,EAAGK,GAAI,CAACX,GAAG6C,GAAGxB,GAAGf,KAAM,CACrB,IAAME,GAAIH,GAAEwC,EAAC,EAAGtC,GAAIC,IAAKA,GAAE,IAAIR,EAAC,EAAGqC,GAAI9B,IAAKA,GAAE,IAAIc,EAAC,EAAGQ,GAAIQ,KAAM,OAASA,GAAI/B,GAC7EC,IAAKA,GAAE,IAAIc,EAAC,GAAKd,GAAE,OAAOc,EAAC,EAAGb,KAAM,CAACD,IAAK,CAACA,GAAE,OAASC,GAAE,OAAOR,EAAC,GAAI,CAACQ,IAAK,CAACA,GAAE,OAAS,OAAOH,GAAEwC,EAAC,GAAI,CAACtC,IAAK,CAACA,GAAE,OAASP,GAAE,oBAAoB6C,GAAGC,GAAGjB,EAAC,CACrJ,ECbMmD,GAAY,OCAZC,GAAY,OCAZC,GAAgB,kBCFhBC,GAAc,QCAdC,GAAiB,QAAAC,GAAA,QCCjBC,GAAUC,GCMKC,GAArB,KAAmC,CAQjC,YAAYC,GAA8BC,GAAsB,CACxD,IAAAC,GAAUC,GAAcH,EAAM,EAEpC,GAAI,CAACE,GACC,MAAAE,GAASJ,EAAM,EACX,MAAM,GAAG,KAAK,IAAA,YAAgBA,EAAAA,4BAAkC,EAEhE,MAAM,GAAG,KAAK,IAAA,wDAA4D,EAIpF,IAAMK,GAAeC,GAAK,IAAiBJ,GAAS,KAAK,IAAI,EAEzDG,IACFA,GAAa,QAAQ,EAGvB,KAAK,QAAUH,GACf,KAAK,QACH,KAAK,UAAYK,GAAW,KAAK,QAAQ,EAAE,OACvCC,GAAiBN,GAAS,KAAK,SAAUD,IAAU,CAAA,EAAI,IAAI,EAC3D,CAAA,EAENK,GAAK,IAAIJ,GAAS,KAAK,KAAM,IAAI,CACnC,CAGA,IAAI,SAAU,CACL,OAAAL,EACT,CAGA,IAAI,MAAO,CACF,MAAA,eACT,CAGA,IAAI,UAAW,CACb,MAAO,CAAA,CACT,CAGA,SAAU,CACRS,GAAK,OAAO,KAAK,QAAS,KAAK,IAAI,EACxBC,GAAA,IAAI,EAAE,QAAgBE,IAAA,CAC/B,OAAO,KAAKA,EAAI,CAAA,CACjB,CACH,CACF,ECtCMC,GAAgB,IAAIhB,EAAAA,GACpBiB,GAAuB,IAAIlB,EAAAA,KAAkBC,EAAAA,KAO7CkB,GAAoBV,IAAyBW,GAAmBX,GAASP,EAAc,EAKvFmB,GAAwBZ,IAAyB,IAAIa,GAAMb,EAAO,EAIlEc,GAAkBC,GAA8B,YAAYvB,EAAAA,EAAa,EACzEwB,GAAmBD,GAA8B,aAAavB,EAAAA,EAAa,EAS3EyB,GAAsBC,IAAgB,CACpC,GAAA,CAAE,QAAAlB,EAAY,EAAAkB,GACpBC,GAAmBD,EAAI,EAEvBE,GAAcpB,GAASgB,EAAgB,EAEvCE,GAAK,QAAQ,EACblB,GAAQ,OAAO,CACjB,EAUMmB,GAAqB,CAACD,GAAaG,KAAkB,CACnD,IAAAC,GAASD,GAAME,GAAcC,GAC7B,CAAE,QAAAC,GAAS,MAAAC,EAAU,EAAAR,GAEvBO,IAAgBH,GAAAG,GAASE,GAAiBD,EAAK,CACrD,EAKqBb,GAArB,cAAmChB,EAAc,CAM/C,YAAYC,GAA8B,CACxC,MAAMA,EAAM,EAHd8B,GAAA,KAAA,SAAA,EAwBAA,GAAA,KAAA,QAAQ,IAAM,CACN,GAAA,CAAE,QAAA5B,EAAY,EAAA,KAGhBA,IAAW6B,GAAS7B,GAASV,EAAS,IACxC8B,GAAcpB,GAASc,EAAe,EAEjCA,GAAgB,mBACnBgB,GAAY9B,GAASV,EAAS,EAE1BuC,GAAS7B,GAASX,EAAS,EAC7B0C,GAAqB/B,GAAS,IAAMiB,GAAmB,IAAI,CAAC,EACvDA,GAAmB,IAAI,GAElC,CAAA,EAhCA,KAAK,QAAUhB,GAAcQ,GAAsB,KAAK,OAAO,EAG/DU,GAAmB,KAAM,EAAI,CAC/B,CAGA,IAAI,MAAO,CACF,OAAA1B,EACT,CA2BA,SAAU,CACR0B,GAAmB,IAAI,EACvB,MAAM,QAAQ,CAChB,CACF,EAjDES,GADmBf,GACZ,WAAWL,EAAAA,EAClBoB,GAFmBf,GAEZ,OAAOD,EAAAA,EACdgB,GAHmBf,GAGZ,cAAcH,EAAAA,ECjFvB,IAAMsB,GAAc,SCAdC,GAAe,iBCFfC,GAAe,SCAfC,GAAkB,SCuBlBC,GAAiB,IAAIH,EAAAA,KAAiBC,EAAAA,KAMtCG,GAAqBrC,IAAyBW,GAAoBX,GAASmC,EAAe,EAG1FG,GAAsBtC,IAAyB,IAAIuC,GAAOvC,EAAO,EAUjEwC,GAAsB,CAACC,GAAcpB,KAAkB,EAC5CA,GAAME,GAAcC,IAC5BiB,GAAK,QAASd,GAAiBc,GAAK,MAAM,CACnD,EAKqBF,GAArB,cAAoC1C,EAAc,CAUhD,YAAYC,GAA8B,CACxC,MAAMA,EAAM,EANd8B,GAAA,KAAA,WAAW,EAAA,EAiCXA,GAAA,KAAA,SAAUlH,IAAa,CACjBA,IAAGA,GAAE,eAAe,EAElB,GAAA,CAAE,QAAAsF,GAAS,SAAA0C,EAAa,EAAA,KAC1B,CAACb,GAAS7B,GAAS,UAAU,GAAK,CAAC2C,GAAa3C,GAAS,UAAU,KACtD0C,GAAWZ,GAAcc,IACjC5C,GAASgC,EAAW,EAC3Ba,GAAa7C,GAAS8C,GAAaJ,GAAW,QAAU,MAAM,EACzD,KAAA,SAAWb,GAAS7B,GAASgC,EAAW,EAC/C,CAAA,EAjCM,GAAA,CAAE,QAAAhC,EAAY,EAAA,KAGf,KAAA,SAAW6B,GAAS7B,GAASgC,EAAW,EAC7Ca,GAAa7C,GAAS8C,GAAa,OAAO,CAAC,CAAC,KAAK,QAAQ,CAAC,EAG1DN,GAAoB,KAAM,EAAI,CAChC,CAKA,IAAI,MAAO,CACF,OAAAL,EACT,CAsBA,SAAU,CACRK,GAAoB,IAAI,EACxB,MAAM,QAAQ,CAChB,CACF,EAtDEZ,GADmBW,GACZ,WAAWH,EAAAA,EAClBR,GAFmBW,GAEZ,OAAOD,EAAAA,EACdV,GAHmBW,GAGZ,cAAcF,EAAAA,ECnDvB,IAAMU,GAAe,iBCFfC,GAAiB,WCAjBC,GAAoB,WCEpBC,GAAe,iBCAfC,GAAkB,oBCUlBC,GAAoBpD,IAAyB,CACjD,IAAMqD,GAAa,CAACN,GAAcG,GAAcC,GAAiB,MAAM,EACjEG,GAAMC,GAAYvD,EAAO,EAExB,OAAAqD,GACJ,IAAWG,IAAA,CACJ,IAAAC,GAAWd,GAAa3C,GAASwD,EAAG,EAC1C,OAAIC,GACKD,KAAQN,GAAeQ,GAAQ1D,GAASyD,EAAQ,EAAIxD,GAAcwD,GAAUH,EAAG,EAEjF,IAAA,CACR,EACA,OAAYhJ,IAAAA,EAAC,EAAE,CAAC,CACrB,ECwBMqJ,GAAmB,kBAAkBX,EAAAA,KACrCY,GAAe,GAAGZ,EAAAA,QAClBa,GAAgB,mBAChBC,GAAc,gBACdC,GAAc,SAEdC,GAAoC,CACxC,MAAO,QACP,SAAU,GACV,MAAO,GACP,SAAU,GACZ,EAMMC,GAAuBjE,IAAyBW,GAAsBX,GAASiD,EAAiB,EAKhGiB,GAAwBlE,IAAyB,IAAImE,GAASnE,EAAO,EAEvEoE,GAAS,EACTC,GAAW,EACXC,GAAO,EAILC,GAAqBxD,GAAiC,YAAYiC,EAAAA,EAAgB,EAClFwB,GAAoBzD,GAAiC,WAAWiC,EAAAA,EAAgB,EAShFyB,GAAgChC,IAAmB,CACvD,GAAM,CAAE,MAAAiC,GAAO,UAAAC,GAAW,QAAA3E,GAAS,OAAA4E,GAAQ,QAAAC,EAAY,EAAApC,GAGvD,GAAIA,GAAK,YAAa,CACd,IAAAqC,GAAaC,GAAetC,EAAI,EAChCuC,GAAcL,KAAc,OAAS,OAAS,OAC9CM,GAAiBN,KAAc,OAAS,QAAU,MAE/C/B,GAAAgC,GAAOF,EAAK,EAAG1C,EAAW,EACnCF,GAAY8C,GAAOF,EAAK,EAAG,GAAGd,EAAAA,IAAgBoB,EAAAA,EAAa,EAC3DlD,GAAY8C,GAAOF,EAAK,EAAG,GAAGd,EAAAA,IAAgBqB,EAAAA,EAAgB,EAElDnD,GAAA8C,GAAOE,EAAU,EAAG9C,EAAW,EAC3CF,GAAY8C,GAAOE,EAAU,EAAG,GAAGlB,EAAAA,IAAgBqB,EAAAA,EAAgB,EAEnE7D,GAAcpB,GAASwE,EAAiB,EAClCU,GAAA,MAAMlF,GAAS8D,EAAW,EAG5BrB,GAAK,OAAS,CAACc,GAAYvD,EAAO,EAAE,QAAU6E,GAAQ,UAAY,CAACpC,GAAK,UAC1EA,GAAK,MAAM,CAAA,CAGjB,EAMA,SAAS0C,IAAwC,CAEzC,IAAA1C,GAAOwB,GAAoB,IAAI,EAEjCxB,IAAQ,CAACA,GAAK,UAAY,CAACyC,GAAM,IAAI,KAAMnB,EAAW,GACxDnB,GAAS,KAAMmB,EAAW,CAE9B,CAOA,SAASqB,IAAyC,CAE1C,IAAA3C,GAAOwB,GAAoB,IAAI,EAEjCxB,IAAQA,GAAK,UAAY,CAACyC,GAAM,IAAI,KAAMnB,EAAW,GACvDtB,GAAK,MAAM,CAEf,CAOA,SAAS4C,GAA4C3K,GAAe,CAClEA,GAAE,eAAe,EAEjB,IAAMsF,GAAW0D,GAAQ,KAAMC,EAAgB,GAAKP,GAAiB,IAAI,EACnEX,GAAOwB,GAAoBjE,EAAO,EAEpC,GAAAyC,IAAQ,CAACA,GAAK,YAAa,CAC7B,IAAM6C,GAAW,EAAE3C,GAAa,KAAMkB,EAAa,GAAgC,GAGjF,MACA,CAAChC,GAAS,KAAMG,EAAW,GAC3B,CAAC,OAAO,MAAMsD,EAAQ,GAGtB7C,GAAK,GAAG6C,EAAQ,CAAA,CAGtB,CAOA,SAASC,GAA2C7K,GAAe,CACjEA,GAAE,eAAe,EACjB,IAAMsF,GAAU0D,GAAQ,KAAMC,EAAgB,GAAMP,GAAiB,IAAI,EACnEX,GAAOwB,GAAoBjE,EAAO,EAEpC,GAAAyC,IAAQ,CAACA,GAAK,YAAa,CACvB,IAAAuC,GAAcrC,GAAa,KAAMmB,EAAW,EAG9CkB,KAAgB,OAClBvC,GAAK,KAAK,EACDuC,KAAgB,QACzBvC,GAAK,KAAK,CAAA,CAGhB,CAOA,IAAM+C,GAAqB,CAAC,CAAE,KAAAC,GAAM,OAAA3F,EAAAA,IAA+C,CAC3E,IAAAwD,GAAMC,GAAYzD,EAAM,EACxB,CAACE,EAAO,EAAI,CAAC,GAAG0F,GAAiB/B,GAAkBL,EAAG,CAAC,EAAE,OAAYhJ,IAAAqL,GAAuBrL,EAAC,CAAC,EAC9FmI,GAAOwB,GAAoBjE,EAAO,EAGpC,GAAAyC,IAAQ,CAACA,GAAK,aAAe,CAAC,kBAAkB,KAAK3C,GAAO,QAAQ,EAAG,CACnE,IAAA8F,GAAMC,GAAM7F,EAAO,EAKrByF,MAHkBG,GAAqBE,GAAfC,IAGDtD,GAAK,KAAK,EAC5BgD,MALaG,GAAsBG,GAAhBD,KAKIrD,GAAK,KAAK,CAAA,CAE9C,EASA,SAASuD,GAAuCtL,GAA2B,CACnE,GAAA,CAAE,OAAAoF,EAAW,EAAApF,GACb+H,GAAOwB,GAAoB,IAAI,EAInCxB,IACAA,GAAK,UACHA,GAAK,WAAa,CAACA,GAAK,UAAU,SAAS3C,EAAc,GAAM,CAAC2C,GAAK,SAAS,SAAS3C,EAAqB,KAE9GpF,GAAE,yBAAyB,EAC3BA,GAAE,gBAAgB,EAClBA,GAAE,eAAe,EAErB,CASA,SAASuL,GAA8CvL,GAAiB,CAChE,GAAA,CAAE,OAAAoF,EAAW,EAAApF,GACb+H,GAAOwB,GAAoB,IAAI,EAErC,GAAIxB,IAAQ,CAACA,GAAK,aAAe,CAACA,GAAK,QAAS,CAExC,GAAA,CAAE,SAAAyD,GAAU,WAAAC,EAAe,EAAA1D,GAC5B,CAAC,GAAGyD,GAAU,GAAGC,EAAU,EAAE,MAAMC,IAAMA,KAAOtG,IAAUsG,GAAG,SAAStG,EAAc,CAAC,IACxFsE,GAAS1J,GAAE,MAGP,KAAK,SAASoF,EAAc,IAC9B2C,GAAK,QAAU,GACf4D,GAA4B5D,GAAM,EAAI,GAAA,CAI9C,CAOA,IAAM6D,GAA8B5L,IAAoB,CACtD2J,GAAW3J,GAAE,KACf,EAOM6L,GAA4B7L,IAAoB,CrBnRjD,IAAA8L,GqBoRG,GAAA,CAAE,OAAA1G,EAAW,EAAApF,GACb4I,GAAMC,GAAYzD,EAAc,EAChC2C,GAAO,CAAC,GAAGiD,GAAiB/B,GAAkBL,EAAG,CAAC,EACrD,IAAIpG,IAAK+G,GAAoB/G,EAAC,CAAa,EAC3C,KAAKxB,IAAKA,GAAE,OAAO,EAItB,GAAI+G,GAAM,CACF,GAAA,CAAE,QAAAzC,GAAS,MAAA0E,EAAU,EAAAjC,GACrBmD,GAAMC,GAAM7F,EAAO,EACzBsE,GAAO5J,GAAE,MAET+H,GAAK,QAAU,GACf4D,GAA4B5D,EAAI,EAG9B,GAAC+D,GAAAlD,GAAI,aAAA,IAAJ,MAAAkD,GAAoB,SAAA,EAAW,SAChCxG,GAAQ,SAASF,EAAqB,GACtC,KAAK,IAAIsE,GAASE,EAAI,EAAI,MAItBD,GAAWD,GACb3B,GAAK,GAAGiC,IAASkB,GAAM,GAAK,EAAE,EACrBvB,GAAWD,IACpB3B,GAAK,GAAGiC,IAASkB,GAAM,EAAI,GAAG,GAKzBxB,GAAA,EACEC,GAAA,EACJC,GAAA,CAAA,CAEX,EAUMmC,GAA4B,CAAChE,GAAgBiC,KAAkB,CAC7D,GAAA,CAAE,WAAAyB,EAAe,EAAA1D,GACtB,CAAA,GAAG0D,EAAU,EAAE,QAAQxL,IAAKmH,GAAYxH,GAAG0H,EAAW,CAAC,EAGpDS,GAAK,WAAWiC,EAAK,GAAY9B,GAAAuD,GAAWzB,EAAK,EAAG1C,EAAW,CACrE,EAQMqE,GAA8B,CAAC5D,GAAgBpB,KAAkB,CAC/D,GAAA,CAAE,QAAArB,EAAY,EAAAyC,GACdnB,GAASD,GAAME,GAAcC,GACnCF,GAAOiC,GAAYvD,EAAO,EAAG0G,GAAkBJ,GAA6CK,EAAc,EAC1GrF,GAAOiC,GAAYvD,EAAO,EAAG4G,GAAgBL,GAA2CI,EAAc,CACxG,EAQME,GAAyB,CAACpE,GAAgBpB,KAAkB,CAChE,GAAM,CAAE,QAAArB,GAAS,QAAA6E,GAAS,OAAAD,GAAQ,SAAAsB,GAAU,WAAAC,EAAe,EAAA1D,GACrD,CAAE,MAAAqE,GAAO,MAAAC,GAAO,SAAAC,GAAU,SAAAC,EAAAA,EAAapC,GACvCvD,GAASD,GAAME,GAAcC,GAE/BuF,IAASC,KACJ1F,GAAAtB,GAASkH,GAAiB/B,EAAoB,EAC9C7D,GAAAtB,GAASmH,GAAiB/B,EAAqB,GAGpD0B,IAASlC,GAAO,OAAS,IACpBtD,GAAAtB,GAASoH,GAAkBnB,GAA6CU,EAAc,EAC7FrF,GAAOtB,GAASqH,GAAiBrB,GAAiD,CAAE,QAAS,EAAA,CAAO,EACpG1E,GAAOtB,GAASsH,GAAgBtB,GAAiD,CAAE,QAAS,EAAA,CAAO,GAIjGE,GAAS,QACXA,GAAS,QAAiBqB,IAAA,CAEpBA,IAAcjG,GAAAiG,GAAO5F,GAAiB4D,EAAwC,CAAA,CACnF,EAICY,GAAW,QACbA,GAAW,QAAqBqB,IAAA,CACvBlG,GAAAkG,GAAW7F,GAAiB0D,EAAyC,CAAA,CAC7E,EAGC4B,IAAU3F,GAAOiC,GAAYvD,EAAO,EAAGyH,GAAcjC,EAAmC,CAC9F,EAQMT,GAAkBtC,IAAmB,CACnC,GAAA,CAAE,OAAAmC,GAAQ,QAAA5E,EAAY,EAAAyC,GACtBqC,GAAa7E,GAAc,IAAI2D,EAAAA,IAAgB5B,EAAAA,GAAehC,EAAO,EACpE,OAAA0H,GAAc5C,EAAU,EAAI,CAAC,GAAGF,EAAM,EAAE,QAAQE,EAAU,EAAI,EACvE,EAKqBX,GAArB,cAAsCtE,EAAc,CAiBlD,YAAYC,GAA8BC,GAAmC,CAC3E,MAAMD,GAAQC,EAAM,EAGd,GAAA,CAAE,QAAAC,EAAY,EAAA,KAGpB,KAAK,UAAY6F,GAAM7F,EAAO,EAAI,QAAU,OAC5C,KAAK,QAAU,GAIV,KAAA,OAAS2H,GAAuB/D,GAAc5D,EAAO,EACpD,GAAA,CAAE,OAAA4E,EAAW,EAAA,KAIf,GAAAA,GAAO,QAAU,EAAG,CAChB,IAAAgD,GAAc7C,GAAe,IAAI,EAEjC8C,GAAiB,CAAC,GAAGjD,EAAM,EAAE,KAAU/J,IAAAiN,GAAQjN,GAAG,IAAI+I,EAAAA,UAAsBA,EAAAA,OAAmB,CAAC,EACtG,KAAK,MAAQgE,GAGP,IAAAtE,GAAMC,GAAYvD,EAAO,EAE/B,KAAK,SAAW,CACd,GAAG0F,GAAiB,IAAI5B,EAAAA,IAAgB9D,EAAO,EAC/C,GAAG0F,GAAiB,IAAI5B,EAAAA,KAAgBf,EAAAA,MAAkB/C,GAAQ,EAAA,KAAQsD,EAAG,CAAA,EAC7E,OAAO,CAACpG,GAAGxB,GAAGqM,KAAOrM,KAAMqM,GAAG,QAAQ7K,EAAC,CAAC,EAE1C,KAAK,UAAY+C,GAAc,IAAI+C,EAAAA,cAA6BhD,EAAO,EAGvE,KAAK,WAAa,CAChB,GAAI,KAAK,UAAY0F,GAAiB,IAAI7B,EAAAA,IAAkB,KAAK,SAAS,EAAI,CAAC,EAC/E,GAAG6B,GAAiB,IAAI7B,EAAAA,KAAkBd,EAAAA,MAAkB/C,GAAQ,EAAA,KAAQsD,EAAG,CAAA,EAC/E,OAAO,CAACpG,GAAGxB,GAAGqM,KAAOrM,KAAMqM,GAAG,QAAQ7K,EAAC,CAAC,EAGpC,GAAA,CAAE,QAAA2H,EAAY,EAAA,KAGpB,KAAK,QAAQ,SAAWA,GAAQ,WAAa,GAAOb,GAAiB,SAAWa,GAAQ,SAIpFgD,GACF,KAAK,MAAQ,CAAC,GAAGjD,EAAM,EAAE,QAAQiD,EAAc,EACtCD,GAAc,IACvB,KAAK,MAAQ,EACJhF,GAAAgC,GAAO,CAAC,EAAG5C,EAAW,EAC3B,KAAK,WAAW,QAAQyE,GAA0B,KAAM,CAAC,GAI3D,KAAK,WAAW,QAAkCA,GAAA,KAAM,KAAK,KAAK,EAGtEI,GAAuB,KAAM,EAAI,EAG7BhC,GAAQ,UAAU,KAAK,MAAM,CAAA,CAErC,CAKA,IAAI,MAAO,CACF,OAAA5B,EACT,CAIA,IAAI,UAAW,CACN,OAAAe,EACT,CAKA,IAAI,UAAW,CACN,OAAAnC,GAAS,KAAK,QAASkC,EAAW,CAC3C,CAKA,IAAI,aAAc,CAChB,OAAO9D,GAAc,IAAI2D,EAAAA,UAAsBA,EAAAA,QAAqB,KAAK,OAAO,IAAM,IACxF,CAKA,OAAQ,CACN,GAAM,CAAE,QAAA5D,GAAS,QAAA6E,GAAS,SAAAmD,GAAU,MAAAtD,EAAAA,EAAU,KAExCQ,GAAA,MAAMlF,GAASgD,EAAc,EAC/BgF,KACI9C,GAAA,MAAMlF,GAAS+D,EAAW,EAChCjC,GAAY9B,GAAS+D,EAAW,GAG5BmB,GAAA,IACJlF,GACA,IAAM,CAIA,KAAK,SAAW,CAAC,KAAK,UAAY,CAAC,KAAK,SAAW2F,GAAuB3F,EAAO,GAC9E,KAAA,GAAG0E,GAAQ,CAAC,CAErB,EACAG,GAAQ,SACR7B,EAAA,CAEJ,CAGA,OAAQ,CACA,GAAA,CAAE,QAAAhD,GAAS,QAAA6E,EAAY,EAAA,KAEzB,CAAC,KAAK,UAAYA,GAAQ,WAC5BjC,GAAS5C,GAAS+D,EAAW,EACvBmB,GAAA,IACJlF,GACA,IAAM,CAEN,EACA,EACA+D,EAAA,EAGN,CAGA,MAAO,CAEA,KAAK,aACH,KAAA,GAAG,KAAK,MAAQ,CAAC,CAE1B,CAGA,MAAO,CAEA,KAAK,aACH,KAAA,GAAG,KAAK,MAAQ,CAAC,CAE1B,CAOA,GAAGkE,GAAa,CACd,GAAM,CAAE,QAAAjI,GAAS,OAAA4E,GAAQ,QAAAC,EAAA,EAAY,KAC/BC,GAAaC,GAAe,IAAI,EAChCa,GAAMC,GAAM7F,EAAO,EACrBkI,GAAOD,GAKP,GAAA,CAAC,KAAK,aAAenD,KAAeoD,IAAQ,CAAChD,GAAM,IAAIlF,GAAS8D,EAAW,EAAG,CAG5EgB,GAAaoD,IAASpD,KAAe,GAAKoD,KAAStD,GAAO,OAAS,EAChE,KAAA,UAAYgB,GAAM,QAAU,QACxBd,GAAaoD,IAASpD,KAAeF,GAAO,OAAS,GAAKsD,KAAS,KACvE,KAAA,UAAYtC,GAAM,OAAS,SAE5B,GAAA,CAAE,UAAAjB,EAAc,EAAA,KAGlBuD,GAAO,EACTA,GAAOtD,GAAO,OAAS,EACdsD,IAAQtD,GAAO,SACjBsD,GAAA,GAIH,IAAAlD,GAAcL,KAAc,OAAS,OAAS,OAC9CM,GAAiBN,KAAc,OAAS,QAAU,MAElDwD,GAAkB,CACtB,cAAevD,GAAOsD,EAAI,EAC1B,KAAMpD,GACN,GAAIoD,GACJ,UAAAvD,EAAA,EAIFyD,GAAa7D,GAAoB4D,EAAe,EAChDC,GAAa5D,GAAmB2D,EAAe,EAG/C/G,GAAcpB,GAASuE,EAAkB,EACpCA,GAAmB,mBAEtB,KAAK,MAAQ2D,GACbzB,GAA0B,KAAMyB,EAAI,EAEhCG,GAA6BzD,GAAOsD,EAAI,CAAC,GAAKrG,GAAS7B,GAAS,OAAO,EACnEkF,GAAA,IACJlF,GACA,IAAM,CACJ4C,GAASgC,GAAOsD,EAAI,EAAG,GAAGtE,EAAAA,IAAgBoB,EAAAA,EAAa,EAChDsD,GAAA1D,GAAOsD,EAAI,CAAC,EACnBtF,GAASgC,GAAOsD,EAAI,EAAG,GAAGtE,EAAAA,IAAgBqB,EAAAA,EAAgB,EAC1DrC,GAASgC,GAAOE,EAAU,EAAG,GAAGlB,EAAAA,IAAgBqB,EAAAA,EAAgB,EAGhElD,GACE6C,GAAOsD,EAAI,EACX,IAAM,KAAK,QAAU,KAAK,OAAO,QAAUzD,GAA6B,IAAI,CAAA,CAEhF,EACA,EACAX,EAAA,GAGOlB,GAAAgC,GAAOsD,EAAI,EAAGlG,EAAW,EACtBF,GAAA8C,GAAOE,EAAU,EAAG9C,EAAW,EAErCkD,GAAA,IACJlF,GACA,IAAM,CACEkF,GAAA,MAAMlF,GAAS8D,EAAW,EAG5B9D,IAAW6E,GAAQ,UAAY,CAAC,KAAK,UACvC,KAAK,MAAM,EAGbzD,GAAcpB,GAASwE,EAAiB,CAC1C,EACA,EACAV,EAAA,GAAA,CAKV,CAGA,SAAU,CACF,GAAA,CAAE,YAAAyE,EAAgB,EAAA,KAElBC,GAAQ,CACZ,GAAG,KACH,YAAAD,EAAA,EAEF1B,GAAuB2B,EAAK,EAC5B,MAAM,QAAQ,EAGVA,GAAM,aACRzG,GAAqByG,GAAM,OAAOA,GAAM,KAAK,EAAG,IAAM,CACpD/D,GAA6B+D,EAAK,CAAA,CACnC,CAEL,CACF,EA1RE5G,GADmBuC,GACZ,WAAWR,EAAAA,EAClB/B,GAFmBuC,GAEZ,OAAOD,EAAAA,EACdtC,GAHmBuC,GAGZ,cAAcF,EAAAA,EC5YvB,IAAMwE,GAAkB,aCHlBC,GAAiB,WCAjBC,GAAoB,WCsCpBC,GAAmB,IAAIF,EAAAA,GACvBG,GAAyB,IAAI5G,EAAAA,KAAiByG,EAAAA,KAC9CI,GAAmB,CAAE,OAAQ,IAAA,EAM7BC,GAAuB/I,IAAyBW,GAAsBX,GAAS2I,EAAiB,EAKhGK,GAAwBhJ,IAAyB,IAAIiJ,GAASjJ,EAAO,EAIrEkJ,GAAoBnI,GAAiC,WAAW2H,EAAAA,EAAgB,EAChFS,GAAqBpI,GAAiC,YAAY2H,EAAAA,EAAgB,EAClFU,GAAoBrI,GAAiC,WAAW2H,EAAAA,EAAgB,EAChFW,GAAsBtI,GAAiC,aAAa2H,EAAAA,EAAgB,EASpFY,GAAkB7G,IAAmB,CACzC,GAAM,CAAE,QAAAzC,GAAS,OAAAuJ,GAAQ,SAAAC,EAAA,EAAa/G,GAEtCrB,GAAcpB,GAASkJ,EAAiB,EACnCA,GAAkB,mBACfhE,GAAA,IAAIlF,GAASyJ,GAAM,EAAE,EACvBF,IAAcrE,GAAA,IAAIqE,GAAQE,GAAM,EAAE,EAEtC7G,GAAS5C,GAASyI,EAAe,EACjC3G,GAAY9B,GAAS0I,EAAc,EAEnCgB,GAAgB1J,GAAS,CAAE,OAAQ,GAAGA,GAAQ,YAAA,IAAA,CAAkB,EAEhE+B,GAAqB/B,GAAS,IAAM,CAClCkF,GAAM,MAAMlF,EAAO,EACfuJ,IAAQrE,GAAM,MAAMqE,EAAM,EAE9BC,GAAS,QAAeG,IAAA9G,GAAa8G,GAAKC,GAAc,MAAM,CAAC,EAE/D9H,GAAY9B,GAASyI,EAAe,EACpC7F,GAAS5C,GAAS0I,EAAc,EAChC9F,GAAS5C,GAASV,EAAS,EAE3BoK,GAAgB1J,GAAS,CAAE,OAAQ,EAAI,CAAA,EAEvCoB,GAAcpB,GAASmJ,EAAkB,CAAA,CAC1C,EAEL,EAOMU,GAAmBpH,IAAmB,CAC1C,GAAM,CAAE,QAAAzC,GAAS,OAAAuJ,GAAQ,SAAAC,EAAA,EAAa/G,GAEtCrB,GAAcpB,GAASoJ,EAAiB,EAEnCA,GAAkB,mBACflE,GAAA,IAAIlF,GAASyJ,GAAM,EAAE,EACvBF,IAAcrE,GAAA,IAAIqE,GAAQE,GAAM,EAAE,EAEtCC,GAAgB1J,GAAS,CAAE,OAAQ,GAAGA,GAAQ,YAAA,IAAA,CAAkB,EAEhE8B,GAAY9B,GAAS0I,EAAc,EACnC5G,GAAY9B,GAASV,EAAS,EAC9BsD,GAAS5C,GAASyI,EAAe,EAEjCH,GAAOtI,EAAO,EACd0J,GAAgB1J,GAAS,CAAE,OAAQ,KAAO,CAAA,EAE1C+B,GAAqB/B,GAAS,IAAM,CAClCkF,GAAM,MAAMlF,EAAO,EAEfuJ,IAAQrE,GAAM,MAAMqE,EAAM,EAE9BC,GAAS,QAAeG,IAAA9G,GAAa8G,GAAKC,GAAc,OAAO,CAAC,EAEhE9H,GAAY9B,GAASyI,EAAe,EACpC7F,GAAS5C,GAAS0I,EAAc,EAEhCgB,GAAgB1J,GAAS,CAAE,OAAQ,EAAI,CAAA,EAEvCoB,GAAcpB,GAASqJ,EAAmB,CAAA,CAC3C,EAEL,EAQMS,GAAwB,CAACrH,GAAgBpB,KAAkB,CACzD,IAAAC,GAASD,GAAME,GAAcC,GAC7B,CAAE,SAAAgI,EAAa,EAAA/G,GAGjB+G,GAAS,QACXA,GAAS,QAAeG,IAAArI,GAAOqI,GAAKhI,GAAiBoI,EAAqC,CAAC,CAE/F,EASMA,GAAwBrP,IAAkB,CACxC,GAAA,CAAE,OAAAoF,EAAW,EAAApF,GACbsP,GAAUlK,IAAU4D,GAAQ5D,GAAuB+I,EAAsB,EACzE7I,GAAUgK,IAAW5G,GAAiB4G,EAAO,EAC7CvH,GAAOzC,IAAW+I,GAAoB/I,EAAO,EAE/CyC,IAAMA,GAAK,OAAO,EAGlBuH,IAAWA,GAAQ,UAAY,KAAKtP,GAAE,eAAe,CAC3D,EAMqBuO,GAArB,cAAsCpJ,EAAc,CAYlD,YAAYC,GAA8BC,GAAmC,CAC3E,MAAMD,GAAQC,EAAM,EAGd,GAAA,CAAE,QAAAC,GAAS,QAAA6E,EAAY,EAAA,KACvBvB,GAAMC,GAAYvD,EAAO,EAG/B,KAAK,SAAW,CAAC,GAAG0F,GAAiBmD,GAAwBvF,EAAG,CAAC,EAAE,OAAOqG,IAAOvG,GAAiBuG,EAAG,IAAM3J,EAAO,EAGlH,KAAK,OAAS0H,GAAc7C,GAAQ,MAAM,EACtCA,GAAQ,OACR3E,GAAS2E,GAAQ,MAAM,EACvBzB,GAAiBpD,EAAO,GAAKC,GAAc4E,GAAQ,OAAkBvB,EAAG,EACxE,KAGJwG,GAAsB,KAAM,EAAI,CAClC,CAKA,IAAI,MAAO,CACF,OAAAnB,EACT,CAIA,IAAI,UAAW,CACN,OAAAG,EACT,CAKA,QAAS,CACFjH,GAAS,KAAK,QAASvC,EAAS,EAChC,KAAK,KAAK,EADyB,KAAK,KAAK,CAEpD,CAGA,MAAO,CACC,GAAA,CAAE,SAAAkK,GAAU,QAAAxJ,EAAY,EAAA,KACzBkF,GAAM,IAAIlF,EAAO,IACpB6J,GAAgB,IAAI,EAEhBL,GAAS,QACXA,GAAS,QAAeG,IAAA/G,GAAS+G,GAAK,GAAGjB,EAAAA,GAAiB,CAAC,EAGjE,CAGA,MAAO,CACL,GAAM,CAAE,QAAA1I,GAAS,OAAAuJ,GAAQ,SAAAC,EAAA,EAAa,KAClCS,GACAC,GAEAX,KACeU,GAAA,CAAC,GAAGvE,GAAiB,IAAIgD,EAAAA,IAAkBpJ,EAAAA,GAAaiK,EAAM,CAAC,EAAE,KAAK7N,IACrFqN,GAAoBrN,EAAC,CAAA,EAEEwO,GAAAD,IAAkBlB,GAAoBkB,EAAc,IAG1E,CAACV,IAAU,CAACrE,GAAM,IAAIqE,EAAM,IAAM,CAACrE,GAAM,IAAIlF,EAAO,IACnDkK,IAA0BD,KAAmBjK,KAC/C6J,GAAgBK,EAAsB,EACfA,GAAA,SAAS,QAAeP,IAAA,CACpC/G,GAAA+G,GAAK,GAAGjB,EAAAA,GAAiB,CAAA,CACnC,GAGHY,GAAe,IAAI,EAEfE,GAAS,QACXA,GAAS,QAAeG,IAAA7H,GAAY6H,GAAK,GAAGjB,EAAAA,GAAiB,CAAC,EAGpE,CAGA,SAAU,CACRoB,GAAsB,IAAI,EAE1B,MAAM,QAAQ,CAChB,CACF,EApGElI,GADmBqH,GACZ,WAAWL,EAAAA,EAClBhH,GAFmBqH,GAEZ,OAAOD,EAAAA,EACdpH,GAHmBqH,GAGZ,cAAcF,EAAAA,ECjLvB,IAAMoB,GAAsB,CAAC,WAAY,SAAU,YAAa,SAAS,ECFnEC,GAAoB,WCEpBC,GAAoB,gBCMpBC,GAAiBtK,IAAyB,CAExC,IAAAuK,GAAe7G,GAAQ1D,GAAS,GAAG,EACzC,OACGA,GAAQ,UAAY,KAEnBwK,GAAaxK,GAAS,MAAM,GAC3B2C,GAAa3C,GAAS,MAAM,EAAa,MAAM,EAAE,IAAM,KAEzDuK,IACCC,GAAaD,GAAc,MAAM,GAChC5H,GAAa4H,GAAc,MAAM,EAAa,MAAM,EAAE,IAAM,GAEnE,EC8BM,CAACE,GAAgBC,GAAcC,GAAiBC,EAAa,EAAIC,GACjEC,GAAmB,IAAI7I,EAAAA,KAAiBwI,EAAAA,KAMxCM,GAAuB/K,IAAyBW,GAAsBX,GAASoK,EAAiB,EAKhGY,GAAwBhL,IAAyB,IAAIiL,GAASjL,EAAO,EAKrEkL,GAAuB,GAAGb,EAAAA,OAC1Bc,GAAgB,CAACV,GAAgBC,EAAY,EAC7CU,GAAkB,CAACT,GAAiBC,EAAa,EACjDS,GAAgB,CAAC,IAAK,QAAQ,EAE9BC,GAAmB,CACvB,OAAQ,EACR,QAAS,SACX,EAIMC,GAAoBxK,GAAiC,WAAW0J,EAAAA,EAAgB,EAChFe,GAAqBzK,GAAiC,YAAY0J,EAAAA,EAAgB,EAClFgB,GAAoB1K,GAAiC,WAAW0J,EAAAA,EAAgB,EAChFiB,GAAsB3K,GAAiC,aAAa0J,EAAAA,EAAgB,EACpFkB,GAAuB5K,GAAiC,cAAc0J,EAAAA,EAAgB,EAUtFmB,GAAiBnJ,IAAmB,CACxC,GAAM,CAAE,QAAAzC,GAAS,KAAA6L,GAAM,cAAAC,GAAe,QAAAjH,EAAAA,EAAYpC,GAC5C,CAAE,OAAAsJ,EAAW,EAAAlH,GAInB,GAAImH,GAAgBH,GAAM,UAAU,IAAM,SAAU,CAC5C,IAAAjG,GAAMC,GAAM7F,EAAO,EAEnBiM,GAAUpK,GAASgK,GAAMX,EAAoB,EAGhC,CAAC,SAAU,MAAO,SAAU,OAAQ,OAAO,EACnD,QAAajO,IAAA,CAEtB,IAAMiP,GAAmC,CAAA,EACzCA,GAAMjP,EAAC,EAAI,GACXyM,GAAgBmC,GAAMK,EAAK,CAAA,CAC5B,EAKD,IAAIC,GACFtB,GAAgB,KAAK1O,IAAK0F,GAASiK,GAAe5O,EAAC,CAAC,GACNuN,GAE1C2B,GAA8C,CAClD,SAAU,CAACL,GAAQ,EAAG,CAAC,EACvB,OAAQ,CAAC,EAAG,EAAGA,EAAM,EACrB,UAAWnG,GAAM,CAAC,GAAI,EAAG,EAAGmG,EAAM,EAAI,CAAC,GAAIA,GAAQ,CAAC,EACpD,QAASnG,GAAM,CAAC,GAAImG,GAAQ,CAAC,EAAI,CAAC,GAAI,EAAG,EAAGA,EAAM,CAAA,EAG9CM,GAAgE,CACpE,SAAU,CAAE,IAAK,MAAO,EACxB,OAAQ,CAAE,IAAK,OAAQ,OAAQ,MAAO,EACtC,UAAWzG,GAAM,CAAE,KAAM,OAAQ,MAAO,MAAO,EAAI,CAAE,KAAM,OAAQ,MAAO,MAAO,EACjF,QAASA,GAAM,CAAE,KAAM,OAAQ,MAAO,MAAO,EAAI,CAAE,KAAM,OAAQ,MAAO,MAAO,EAC/E,UAAWA,GAAM,CAAE,MAAO,IAAK,KAAM,MAAO,EAAI,CAAE,MAAO,OAAQ,KAAM,GAAI,EAC3E,QAASA,GAAM,CAAE,MAAO,OAAQ,KAAM,GAAI,EAAI,CAAE,MAAO,IAAK,KAAM,MAAO,CAAA,EAGrE,CAAE,YAAa0G,GAAW,aAAcC,EAAAA,EAAeV,GAEvD,CAAE,YAAAW,GAAa,aAAAC,EAAa,EAAIC,GAAmB1M,EAAO,EAC1D,CACJ,KAAM2M,GACN,IAAKC,GACL,MAAOC,GACP,OAAQC,EAAA,EACNC,GAAsB/M,EAAO,EAG3BgN,GAAiBL,GAAaL,GAAYP,GAAS,EAEnDkB,GAAkBN,GAAaL,GAAYO,GAAcd,IAAUS,GAEnEU,GAAeN,GAAYL,GAAaR,IAAUU,GAElDU,GAAmBP,GAAYL,GAAaO,GAAef,IAAUU,GAErEW,GAAYR,GAAYL,GAAaR,GAAS,EAE9CsB,IAAe,CAACzH,IAAOqG,IAAarG,IAAO,CAACqG,KAAaU,GAAaE,GAAcP,GAAY,EAChGgB,IAAgB1H,IAAOqG,IAAa,CAACrG,IAAO,CAACqG,KAAaU,GAAaL,IAAaE,GA6B1F,GAzBIpB,GAAgB,SAASe,EAAa,GAAKa,IAAkBC,KAC/Cd,GAAA1B,IAEd0B,KAAkBxB,KAAqB/E,GAAuBqH,GAAjBD,MAC/Bb,GAAAvB,IAEduB,KAAkBvB,KAAkBhF,GAAMoH,GAAiBC,MAC7Cd,GAAAxB,IAEdwB,KAAkBzB,IAAgB0C,IAAa,CAACD,KAClChB,GAAA1B,IAEd0B,KAAkB1B,IAAkB0C,IAAoB,CAACC,KAC3CjB,GAAAzB,IAIdU,GAAgB,SAASe,EAAa,GAAKe,IAChC9E,GAAAiE,GAAiBF,EAAa,EAAG,CAC5C,IAAK,OACL,OAAQ,CAAA,CACT,EAIChB,GAAc,SAASgB,EAAa,IAAMkB,IAAcC,IAAc,CAGxE,IAAIC,GAA0E,CAAE,KAAM,OAAQ,MAAO,MAAO,EACxG,CAACF,IAAcC,IAAe,CAAC1H,KAAK2H,GAAW,CAAE,KAAM,OAAQ,MAAO,CAAE,GACxEF,IAAc,CAACC,IAAe1H,KAAK2H,GAAW,CAAE,KAAM,EAAG,MAAO,MAAO,GACvEA,IAAuBnF,GAAAiE,GAAiBF,EAAa,EAAGoB,EAAQ,CAAA,CAGhE,IAAAC,GAAoBpB,GAAeD,EAAa,EACtDzC,GAAgBmC,GAAM,CACpB,GAAGQ,GAAiBF,EAAa,EACjC,OAAQ,GAAGqB,GAAQ,IAAIlT,IAAMA,IAAI,GAAGA,EAAAA,IAAU,EAAE,KAAK,GAAG,CAAA,EAAA,CACzD,EAGG6Q,GAAc,SAASgB,EAAa,GAAKF,IAEvCA,IAGcvC,GAAAmC,GAAMQ,GADnB,CAACzG,IAAOyH,IAAgBzH,IAAO0H,GAAe,YAAyC,SAC1C,CAAC,EAIrDlM,GAAc0K,GAAeH,EAAoB,CAAA,CAErD,EAQM8B,GAAgB5B,IACb,CAAC,GAAGA,GAAK,QAAQ,EACrB,IAAS3O,IAAA,CACR,GAAIA,IAAKmO,GAAc,SAASnO,GAAE,OAAO,EAAU,OAAAA,GAC7C,GAAA,CAAE,kBAAAwQ,EAAsB,EAAAxQ,GAC9B,OAAIwQ,IAAqBrC,GAAc,SAASqC,GAAkB,OAAO,EAChEA,GAEF,IACR,CAAA,EACA,OAAOxQ,IAAKA,EAAC,EASZyQ,GAAyBlL,IAAmB,CAC1C,GAAA,CAAE,QAAAzC,GAAS,QAAA6E,EAAY,EAAApC,GACvBnB,GAASmB,GAAK,KAAOlB,GAAcC,GACnC8B,GAAMC,GAAYvD,EAAO,EAExBsB,GAAAgC,GAAK3B,GAAiBiM,EAAuC,EAC7DtM,GAAAgC,GAAKuK,GAAYD,EAAuC,EACxDtM,GAAAgC,GAAKmE,GAAcqG,EAAsC,EACzDxM,GAAAgC,GAAKyK,GAAYC,EAAmC,EAGvDnJ,GAAQ,UAAY,WACtB,CAACoJ,GAAaC,EAAW,EAAE,QAAcC,IAAA,CACvC7M,GAAO8M,GAAUpO,EAAO,EAAGmO,GAAIE,GAAuB1H,EAAc,CAAA,CACrE,CAEL,EAQM2H,GAAwB,CAAC7L,GAAgBpB,KAAkB,EAChDA,GAAME,GAAcC,IAC5BiB,GAAK,QAASd,GAAiB4M,EAAqC,CAC7E,EAQMC,GAA0BxO,IAAkD,CAC1E,IAAAyO,GAAgB,CAAC,GAAG5D,GAAiB,YAAa,aAAa,EAClE,IAAS3N,IAAAyK,GAAuB,GAAGzK,EAAAA,IAAKoC,EAAAA,GAAaiE,GAAYvD,EAAO,CAAC,CAAC,EAC1E,KAAU1F,IAAAA,GAAE,MAAM,EAEjB,GAAAmU,IAAiBA,GAAc,OACjC,MAAO,CAAC,GAAIA,GAAc,CAAC,EAAE,QAA0C,EAAE,KAAKnU,IAC5EuQ,GAAgB,KAAK3N,IAAKA,KAAMyF,GAAarI,GAAG2H,EAAY,CAAC,CAAA,CAInE,EASM2L,GAA0BlT,IAAkB,CAC1C,GAAA,CAAE,OAAAoF,GAAQ,KAAA4O,EAAS,EAAAhU,GAGrB,GAAAoF,IAAU4H,GAAc5H,EAAM,EAAG,CAE7B,IAAAE,GAAUwO,GAAuB1O,EAAM,EACvC2C,GAAOzC,IAAW+K,GAAoB/K,EAAO,EAGnD,GAAIyC,GAAM,CACF,GAAA,CAAE,cAAAqJ,GAAe,KAAAD,EAAS,EAAApJ,GAE1BkM,GACJ7C,IACAA,GAAc,SAAShM,EAAM,IAC5BA,GAAO,UAAY,QAAU4D,GAAQ5D,GAAQ,MAAM,IAAM,MAExD,CAAC6B,GAAiBiN,EAAc,EAAE,SAASF,EAAI,GAAKpE,GAAcxK,EAAM,GAC1EpF,GAAE,eAAe,EAIf,CAACiU,IAAUD,KAASb,IAAc/N,KAAWE,IAAWF,KAAW+L,IACrEpJ,GAAK,KAAK,CAAA,CAAA,CAIlB,EAOM8L,GAAwB7T,IAAkB,CACxC,GAAA,CAAE,OAAAoF,EAAW,EAAApF,GACbsF,GAAUF,IAAU4D,GAAQ5D,GAAuBgL,EAAgB,EACnErI,GAAOzC,IAAW+K,GAAoB/K,EAAO,EAG/CyC,KACF/H,GAAE,gBAAgB,EAClB+H,GAAK,OAAO,EAERzC,IAAWsK,GAActK,EAAO,GAAGtF,GAAE,eAAe,EAE5D,EAOMoT,GAAyBpT,IAAqB,CAE9C,CAACmU,GAAcC,EAAU,EAAE,SAASpU,GAAE,IAAI,GAAGA,GAAE,eAAe,CACpE,EAOA,SAASsT,GAAsCtT,GAAkB,CACzD,GAAA,CAAE,KAAA+K,EAAS,EAAA/K,GACXsF,GAAUwO,GAAuB,IAAI,EACrC/L,GAAOzC,IAAW+K,GAAoB/K,EAAO,EAC7C,CAAE,cAAA+O,EAAmB,EAAA/O,IAAWuD,GAAYvD,EAAO,EAGzD,GAAIyC,IAAQsM,GAAe,CACnB,GAAA,CAAE,KAAAlD,GAAM,KAAAmD,EAAS,EAAAvM,GACjBwM,GAAYxB,GAAa5B,EAAI,EAG/B,GAAAoD,IAAaA,GAAU,QAAU,CAACJ,GAAcC,EAAU,EAAE,SAASrJ,EAAI,EAAG,CAC1E,IAAAwC,GAAMgH,GAAU,QAAQF,EAAa,EAErCA,KAAkB/O,GACdiI,GAAA,EACGxC,KAASqJ,GACZ7G,GAAAA,GAAM,EAAIA,GAAM,EAAI,EACjBxC,KAASoJ,KAClB5G,GAAMA,GAAMgH,GAAU,OAAS,EAAIhH,GAAM,EAAIA,IAG3CgH,GAAUhH,EAAG,GAASiH,GAAAD,GAAUhH,EAAG,CAAgB,CAAA,CAGrDkH,KAAc1J,IAAQuJ,KACxBvM,GAAK,OAAO,EACZyM,GAAMlP,EAAO,EAAA,CAGnB,CAGA,SAASqO,IAAyC,CAC1C,IAAArO,GAAUwO,GAAuB,IAAI,EACrC/L,GAAOzC,IAAW+K,GAAoB/K,EAAO,EAG/CyC,IAAQA,GAAK,MAAMmJ,GAAcnJ,EAAI,CAC3C,CAKA,IAAqBwI,GAArB,cAAsCpL,EAAc,CAalD,YAAYC,GAA8BC,GAAmC,CAC3E,MAAMD,GAAQC,EAAM,EAGd,GAAA,CAAE,cAAA+L,EAAc,EAAI,KAAK,QACzB,CAACD,EAAI,EAAIlE,GAAuB0C,GAAmByB,EAA2B,EAGhFD,KAEF,KAAK,cAAgBC,GACrB,KAAK,KAAOD,GAGZyC,GAAsB,KAAM,EAAI,EAEpC,CAKA,IAAI,MAAO,CACF,OAAAlE,EACT,CAIA,IAAI,UAAW,CACN,OAAAkB,EACT,CAKA,QAAS,CACH,KAAK,KAAM,KAAK,KAAK,EACpB,KAAK,KAAK,CACjB,CAGA,MAAO,CACL,GAAM,CAAE,QAAAtL,GAAS,KAAAgP,GAAM,KAAAnD,GAAM,cAAAC,EAAAA,EAAkB,KAG/C,GAAI,CAACkD,GAAM,CACH,IAAAI,GAAiBZ,GAAuBxO,EAAO,EAC/CqP,GAAkBD,IAAkBrE,GAAoBqE,EAAc,EACxEC,IAAiBA,GAAgB,KAAK,EAG1C,CAAC9D,GAAmBC,GAAoBG,EAAoB,EAAE,QAAajR,IAAA,CACzEA,GAAE,cAAgBsF,EAAA,CACnB,EAEDoB,GAAc0K,GAAeP,EAAiB,EACzCA,GAAkB,mBACrB3I,GAASiJ,GAAMvM,EAAS,EACxBsD,GAASkJ,GAAexM,EAAS,EACpBuD,GAAA7C,GAAS4J,GAAc,MAAM,EAG1CgC,GAAc,IAAI,EAElB,KAAK,KAAO,CAACoD,GAEbE,GAAMlP,EAAO,EACb2N,GAAsB,IAAI,EAC1BvM,GAAc0K,GAAeN,EAAkB,EAAA,CAGrD,CAGA,MAAO,CACL,GAAM,CAAE,QAAAxL,GAAS,KAAAgP,GAAM,KAAAnD,GAAM,cAAAC,EAAAA,EAAkB,KAG3CkD,KACF,CAACvD,GAAmBC,EAAmB,EAAE,QAAahR,IAAA,CACpDA,GAAE,cAAgBsF,EAAA,CACnB,EAEDoB,GAAc0K,GAAeL,EAAiB,EACzCA,GAAkB,mBACrB3J,GAAY+J,GAAMvM,EAAS,EAC3BwC,GAAYgK,GAAexM,EAAS,EACvBuD,GAAA7C,GAAS4J,GAAc,OAAO,EAE3C,KAAK,KAAO,CAACoF,GAEbrB,GAAsB,IAAI,EAC1BvM,GAAc0K,GAAeJ,EAAmB,GAGtD,CAGA,SAAU,CACJ,KAAK,MAAM,KAAK,KAAK,EAEzB4C,GAAsB,IAAI,EAC1B,MAAM,QAAQ,CAChB,CACF,EAnHE1M,GADmBqJ,GACZ,WAAWH,EAAAA,EAClBlJ,GAFmBqJ,GAEZ,OAAOD,EAAAA,EACdpJ,GAHmBqJ,GAGZ,cAAcF,EAAAA,ECzZvB,IAAMuE,GAAc,QCAdC,GAAiB,QCAjBC,GAAqB,YCErBC,GAAgB,YCAhBC,GAAmB,eCAnBC,GAAiB,aCAjBC,GAAsB,kBCYtBC,GAAiBtG,IAAwB,CAC7C,GAAG5B,GAAuB8H,GAAelG,EAAM,EAC/C,GAAG5B,GAAuB+H,GAAkBnG,EAAM,EAClD,GAAG5B,GAAuBgI,GAAgBpG,EAAM,EAChD,GAAG5B,GAAuBiI,GAAqBrG,EAAM,EACrD,GAAG5B,GAAuB,WAAY4B,EAAM,CAC9C,EAQauG,GAAkB9P,IAA0B,CACjD,IAAA+P,GAAKC,GAAgBhQ,EAAO,EAClC0J,GAAgBqG,GAAI,CAClB,aAAc,GACd,SAAU,EAAA,CACX,EAEK,IAAAE,GAAaJ,GAAcE,EAAE,EAE/BE,GAAW,QACbA,GAAW,QAAiBC,IAAA,CAC1BxG,GAAgBwG,GAAO,CACrB,aAAc,GACd,YAAa,EAAA,CACd,CAAA,CACF,CAEL,EASaC,GAAoBnQ,IAAyB,CACxD,GAAM,CAAE,YAAAwM,EAAA,EAAgBE,GAAmB1M,EAAO,EAC5C,CAAE,WAAAoQ,EAAA,EAAehC,GAAUpO,EAAO,EACjC,OAAA,KAAK,IAAIoQ,GAAa5D,EAAW,CAC1C,EASa6D,GAAe,CAACrQ,GAAsBsQ,KAAuB,CAClE,IAAAP,GAAKC,GAAgBhQ,EAAO,EAC5BuQ,GAAU,SAASvE,GAAgB+D,GAAI,cAAc,EAAG,EAAE,EAE1DS,GADSxE,GAAgB+D,GAAI,UAAU,IAAM,UACzBQ,GAAU,EAAIJ,GAAiBnQ,EAAO,EAC1DiQ,GAAaJ,GAAcE,EAAE,EAG/BO,KACF5G,GAAgBqG,GAAI,CAClB,SAAU,SACV,aAAc,GAAGQ,GAAUC,EAAAA,IAAA,CAC5B,EAGGP,GAAW,QACbA,GAAW,QAAiBC,IAAA,CACpB,IAAAO,GAAezE,GAAgBkE,GAAO,cAAc,EAGtD,GAFJA,GAAM,MAAM,aAAe,GAAG,SAASO,GAAc,EAAE,EAAID,EAAAA,KAEvD,CAACb,GAAgBC,EAAmB,EAAE,KAAKjT,IAAKkF,GAASqO,GAAOhT,EAAC,CAAC,EAAG,CACjE,IAAAwT,GAAa1E,GAAgBkE,GAAO,aAAa,EACvDA,GAAM,MAAM,YAAc,GAAG,SAASQ,GAAY,EAAE,EAAIF,EAAAA,IAAA,CAC1D,CACD,EAGP,EC9FMG,GAAkB,YCElBC,GAAiBC,GAAc,CAAE,QAAS,MAAO,UAAW,iBAAA,CAAmB,EAE/EC,GAAc,CAAChR,GAAqBiR,KAAiC,CACzE,IAAMC,GAAkBC,GAAOF,EAAe,GAAKA,GAAgB,WAAa,OAC1EG,GAASD,GAAOF,EAAe,GAAK,CAACC,GAAkBD,GAAkBH,GACzEO,GAAOH,GAAkBD,GAAkBf,GAAgBlQ,EAAM,EAEnEmR,GAAOnR,EAAM,IACXoR,KAAWN,IACbO,GAAK,OAAOP,EAAc,EAE5BM,GAAO,OAAOpR,EAAM,EAExB,EAEMsR,GAAc,CAACtR,GAAqBiR,KAAiC,CACzE,IAAMC,GAAkBC,GAAOF,EAAe,GAAKA,GAAgB,WAAa,OAC1EG,GAASD,GAAOF,EAAe,GAAK,CAACC,GAAkBD,GAAkBH,GAE3EK,GAAOnR,EAAM,IACfA,GAAO,OAAO,EAEVoR,KAAWN,IAAkB,CAACA,GAAe,SAAS,QACxDA,GAAe,OAAO,EAG5B,EAEMS,GAAW,CAACvR,GAAqBiR,KAAiC,CACtE,IAAMG,GAASD,GAAOF,EAAe,GAAKA,GAAgB,WAAa,OAASA,GAAkBH,GAClG,OAAOK,GAAOnR,EAAM,GAAKoR,GAAO,SAASpR,EAAM,CACjD,EChBMwR,GAAiB,WACjBC,GAAqB,GAAGjC,EAAAA,IAAegC,EAAAA,GACvCE,GAAyB,GAAGb,EAAAA,IAAmBW,EAAAA,GAC/CG,GAAsB,IAAInC,EAAAA,IAAehQ,EAAAA,GACzCoS,GAA0B,IAAIf,EAAAA,IAAmBrR,EAAAA,GAGjDqS,GAAUd,GAAc,KAAK,EAQ7Be,GAAkB5R,IACfC,GAAc,GAAGwR,EAAAA,IAAuBC,EAAAA,GAA2BnO,GAAYvD,EAAO,CAAC,EAQ1F6R,GAAqBC,IAAsB,CACzC,IAAAC,GAAcD,GAAUP,GAAqBC,GACnD,CAACD,GAAoBC,EAAsB,EAAE,QAAatU,IAAA,CACxD4E,GAAY6P,GAASzU,EAAC,CAAA,CACvB,EACD0F,GAAS+O,GAASI,EAAW,CAC/B,EASMC,GAAgB,CAAChS,GAAsBiS,GAAkBH,KAAsB,CACnFD,GAAkBC,EAAO,EACbhB,GAAAa,GAAS3B,GAAgBhQ,EAAO,CAAC,EACzCiS,IAASrP,GAAS+O,GAAStS,EAAS,CAC1C,EAKM6S,GAAc,IAAM,CACnBrQ,GAAS8P,GAASrS,EAAS,IAC9BsD,GAAS+O,GAASrS,EAAS,EAC3BgJ,GAAOqJ,EAAO,EAElB,EAKMQ,GAAc,IAAM,CACxBrQ,GAAY6P,GAASrS,EAAS,CAChC,EAOM8S,GAAiBpS,IAAgC,CAChD4R,GAAe5R,EAAO,IACzB8B,GAAY6P,GAAStS,EAAS,EAClB+R,GAAAO,GAAS3B,GAAgBhQ,EAAO,CAAC,EAC7C8P,GAAe9P,EAAO,EAE1B,ECrFMqS,GAAarS,IACV0H,GAAc1H,EAAO,GAAKgM,GAAgBhM,GAAS,YAAY,IAAM,UAAYA,GAAQ,eAAiB,KCwD7GsS,GAAgB,IAAIhD,EAAAA,GACpBiD,GAAsB,IAAItQ,EAAAA,KAAiBqN,EAAAA,KAC3CkD,GAAuB,IAAIjT,EAAAA,KAAkB+P,EAAAA,KAC7CmD,GAAmB,GAAGnD,EAAAA,UAEtBoD,GAAgB,CACpB,SAAU,GACV,SAAU,EACZ,EAMMC,GAAoB3S,IAAyBW,GAAmBX,GAASuP,EAAc,EAKvFqD,GAAqB5S,IAAyB,IAAI6S,GAAM7S,EAAO,EAI/D8S,GAAiB/R,GAA8B,WAAWuO,EAAAA,EAAa,EACvEyD,GAAkBhS,GAA8B,YAAYuO,EAAAA,EAAa,EACzE0D,GAAiBjS,GAA8B,WAAWuO,EAAAA,EAAa,EACvE2D,GAAmBlS,GAA8B,aAAauO,EAAAA,EAAa,EAU3E4D,GAAqBzQ,IAAgB,CACnC,GAAA,CAAE,QAAAzC,EAAY,EAAAyC,GACd0Q,GAAiBhD,GAAiBnQ,EAAO,EACzC,CAAE,aAAAyM,GAAc,aAAA2G,EAAa,EAAI1G,GAAmB1M,EAAO,EAC3D,CAAE,aAAcqT,GAAa,aAAcC,EAAAA,EAAsBtT,GACjEuT,GAAgBF,KAAgBC,GAGlC,GAAA,CAACC,IAAiBJ,GAAgB,CACpC,IAAMK,GAAO3N,GAAM7F,EAAO,EAAgD,cAA5C,eACxByT,GAAW,CAAA,EACRA,GAAAD,EAAG,EAAI,GAAGL,EAAAA,KACnBzJ,GAAgB1J,GAASyT,EAAQ,CAAA,CAEtBpD,GAAArQ,GAASuT,IAAiB9G,KAAiB2G,EAAY,CACtE,EAQMM,GAAqB,CAACjR,GAAapB,KAAkB,CACnD,IAAAC,GAASD,GAAME,GAAcC,GAC7B,CAAE,QAAAxB,GAAS,OAAA2T,EAAW,EAAAlR,GACrBnB,GAAAtB,GAAS2B,GAAiBiS,EAAoC,EACrEtS,GAAO8M,GAAUpO,EAAO,EAAGkO,GAAayF,GAAQhN,EAAc,EAC9DrF,GAAOiC,GAAYvD,EAAO,EAAGyH,GAAcoM,EAAgC,CAC7E,EAQMC,GAAqB,CAACrR,GAAapB,KAAkB,CACnD,IAAAC,GAASD,GAAME,GAAcC,GAC7B,CAAE,SAAAgI,EAAa,EAAA/G,GAGjB+G,GAAS,QACXA,GAAS,QAAeG,IAAArI,GAAOqI,GAAKhI,GAAiBoS,EAAkC,CAAC,CAE5F,EAOMC,GAAkBvR,IAAgB,CACtC,GAAM,CAAE,SAAA+G,GAAU,QAAAxJ,GAAS,cAAAiU,EAAA,EAAkBxR,GAC7C2P,GAAcpS,EAAO,EACrB0J,GAAgB1J,GAAS,CAAE,aAAc,GAAI,QAAS,EAAA,CAAI,EAC1D0T,GAAmBjR,EAAI,EAEvB,IAAMyR,GAAepB,GAAe,eAAiBtJ,GAAS,KAAK6I,EAAS,EAExE6B,IAAchF,GAAMgF,EAA2B,EAEnDjB,GAAiB,cAAgBgB,GACjC7S,GAAcpB,GAASiT,EAAgB,CACzC,EAOMkB,GAAkB1R,IAAgB,CAChC,GAAA,CAAE,QAAAzC,GAAS,cAAAiU,EAAkB,EAAAxR,GACnCyM,GAAMlP,EAAO,EACb0T,GAAmBjR,GAAM,EAAI,EAE7BsQ,GAAgB,cAAgBkB,GAChC7S,GAAcpB,GAAS+S,EAAe,CACxC,EAOMqB,GAAmB3R,IAAgB,CACjC,GAAA,CAAE,QAAAzC,GAAS,QAAAiS,EAAY,EAAAxP,GAC7BiH,GAAgB1J,GAAS,CAAE,QAAS,OAAS,CAAA,EAE7CkT,GAAkBzQ,EAAI,EAEjBmP,GAAe5R,EAAO,GACzB0J,GAAgBsG,GAAgBhQ,EAAO,EAAG,CAAE,SAAU,QAAA,CAAU,EAGlE4C,GAAS5C,GAASV,EAAS,EAC3B+U,GAAgBrU,GAASsU,EAAU,EACtBzR,GAAA7C,GAASuU,GAAW,MAAM,EAEnCtC,GAASlQ,GAAqB/B,GAAS,IAAMmU,GAAe1R,EAAI,CAAC,EAChE0R,GAAe1R,EAAI,CAC1B,EAOM+R,GAAmB/R,IAAgB,CACvC,GAAM,CAAE,QAAAzC,GAAS,QAAA6E,GAAS,QAAAoN,EAAA,EAAYxP,GAIlCoC,GAAQ,UAAYoN,IAAWpQ,GAAS8P,GAASrS,EAAS,GAAK,CAACsS,GAAe5R,EAAO,GAE5EmS,GAAAA,EACZpQ,GAAqB4P,GAAS,IAAMqC,GAAevR,EAAI,CAAC,GAExDuR,GAAevR,EAAI,CAEvB,EASMsR,GAAqBrZ,IAAkB,CACrC,GAAA,CAAE,OAAAoF,EAAW,EAAApF,GAEbsP,GAAUlK,IAAU4D,GAAQ5D,GAAuByS,EAAmB,EACtEvS,GAAUgK,IAAW5G,GAAiB4G,EAAO,EAC7CvH,GAAOzC,IAAW2S,GAAiB3S,EAAO,EAG5CyC,KAEEuH,IAAWA,GAAQ,UAAY,KAAKtP,GAAE,eAAe,EACzD+H,GAAK,cAAgBuH,GACrBvH,GAAK,OAAO,EAEhB,EAQMoR,GAAkB,CAAC,CAAE,KAAApO,GAAM,OAAA3F,EAAAA,IAA4B,CAC3D,IAAME,GAAUC,GAAcwR,GAAqBlO,GAAYzD,EAAc,CAAC,EACxE2C,GAAOzC,IAAW2S,GAAiB3S,EAAO,EAGhD,GAAIyC,GAAM,CACF,GAAA,CAAE,QAAAoC,EAAY,EAAApC,GAGlBoC,GAAQ,UACRY,KAAS0J,IACTtN,GAAS7B,GAASV,EAAS,IAG3BmD,GAAK,cAAgB,KACrBA,GAAK,KAAK,EAAA,CAGhB,EAOA,SAASmR,GAAuClZ,GAAe,C3CnR1D,IAAA8L,GAAAiO,G2CoRG,IAAAhS,GAAOkQ,GAAiB,IAAI,EAIlC,GAAIlQ,IAAQ,CAACyC,GAAM,IAAI,IAAI,EAAG,CAC5B,GAAM,CAAE,QAAAL,GAAS,SAAA6P,GAAU,YAAAC,EAAA,EAAgBlS,GACrC,CAAE,SAAAmS,EAAa,EAAA/P,GACf,CAAE,OAAA/E,EAAW,EAAApF,GAEbma,IAAetR,IAAAA,GAAAA,GAAY,IAAI,IAAhBA,KAAAA,OAAAA,GAAmB,aAAA,IAAnBA,KAAAA,OAAAA,GAAmC,SAAA,EAAW,OAC7DuR,GAAqBH,GAAY,SAAS7U,EAAqB,EAC/D2B,GAAU3B,IAAU4D,GAAQ5D,GAAuB0S,EAAoB,EAGzEkC,IAAY,CAACI,GACT5P,GAAA,IACJ,KACA,IAAM,CACJtC,GAAS,KAAM6P,EAAgB,EAC/B1Q,GAAqB4S,GAAa,IAAMI,GAAoBtS,EAAI,CAAC,CACnE,EACA,EAAA,GAEOhB,IAAY,CAACoT,IAAgB,CAACH,IAAY,CAACI,IAAsBF,MAC1EnS,GAAK,cAAgBhB,IAAW,KAChCgB,GAAK,KAAK,EACV/H,GAAE,eAAe,EAAA,CAGvB,CAOA,IAAMqa,GAAuBtS,IAAgB,CACrC,GAAA,CAAE,QAAAzC,GAAS,YAAA2U,EAAgB,EAAAlS,GAC3BuS,IAAY3M,GAA6BsM,EAAW,GAAK,GAAK,GACpE7S,GAAY9B,GAASyS,EAAgB,EAErCvN,GAAM,IAAIlF,GAAS,IAAMkF,GAAM,MAAMlF,EAAO,EAAGgV,EAAQ,CACzD,EAKqBnC,GAArB,cAAmChT,EAAc,CAe/C,YAAYC,GAA8BC,GAAgC,CACxE,MAAMD,GAAQC,EAAM,EAkHtB6B,GAAA,KAAA,SAAS,IAAM,CAETC,GAAS,KAAK,QAASvC,EAAS,GAAG4T,GAAkB,IAAI,CAAA,CAAA,EAjHvD,GAAA,CAAE,QAAAlT,EAAY,EAAA,KAGd2U,GAAc1U,GAAc,IAAIqP,EAAAA,UAAsBtP,EAAO,EAG/D2U,KACF,KAAK,YAAcA,GAEd,KAAA,SAAW,CAAC,GAAGjP,GAAiB6M,GAAqBhP,GAAYvD,EAAO,CAAC,CAAC,EAAE,OAC/E2J,IAAOvG,GAAiBuG,EAAG,IAAM3J,EAAA,EAI9B,KAAA,SAAW,KAAK,QAAQ,WAAa,SACrC,KAAA,QAAU6B,GAAS7B,GAASX,EAAS,EAC1C,KAAK,cAAgB,KAGrByU,GAAmB,KAAM,EAAI,EAEjC,CAKA,IAAI,MAAO,CACF,OAAAvE,EACT,CAIA,IAAI,UAAW,CACN,OAAAmD,EACT,CAKA,QAAS,CACH7Q,GAAS,KAAK,QAASvC,EAAS,EAAG,KAAK,KAAK,EAC5C,KAAK,KAAK,CACjB,CAGA,MAAO,CACL,GAAM,CAAE,QAAAU,GAAS,QAAA6E,GAAS,QAAAoN,GAAS,cAAAgC,EAAAA,EAAkB,KAC/C,CAAE,SAAAW,EAAa,EAAA/P,GACjBoQ,GAAe,EAEnB,GAAI,CAACpT,GAAS7B,GAASV,EAAS,IAC9BwT,GAAe,cAAgBmB,IAAiB,OAChD7S,GAAcpB,GAAS8S,EAAc,EACjC,CAACA,GAAe,kBAAkB,CAE9B,IAAAoC,GAActD,GAAe5R,EAAO,EAEtC,GAAAkV,IAAeA,KAAgBlV,GAAS,CACpC,IAAAkB,GACJyR,GAAiBuC,EAAW,GAE5BvU,GAAyDuU,GAAa1F,EAAkB,EACtFtO,IAAMA,GAAK,KAAK,CAAA,CAElB0T,IACGvD,GAASM,EAAO,EAGnBE,GAAkB,EAAI,EAFRG,GAAAhS,GAASiS,GAAS,EAAI,EAKtCgD,GAAe5M,GAA6BsJ,EAAO,EACvCO,GAAAA,EACZ,WAAW,IAAMkC,GAAgB,IAAI,EAAGa,EAAY,IAEpDb,GAAgB,IAAI,EAEhBc,IAAerT,GAAS8P,GAASrS,EAAS,GAChC6S,GAAAA,GAKtB,CAGA,MAAO,CACL,GAAM,CAAE,QAAAnS,GAAS,QAAAiS,GAAS,cAAAgC,EAAA,EAAkB,KAExCpS,GAAS7B,GAASV,EAAS,IAC7B0T,GAAe,cAAgBiB,IAAiB,OAChD7S,GAAcpB,GAASgT,EAAc,EAEhCA,GAAe,mBAClBlR,GAAY9B,GAASV,EAAS,EACjBuD,GAAA7C,GAASsU,GAAY,MAAM,EACxCD,GAAgBrU,GAASuU,EAAS,EAG9BtC,GACFlQ,GAAqB/B,GAAS,IAAMwU,GAAgB,IAAI,CAAC,EAEzDA,GAAgB,IAAI,GAI5B,CAWA,SAAU,CACF,IAAAhM,GAAQ,CAAE,GAAG,IAAA,EACb,CAAE,QAAAxI,GAAS,YAAA2U,EAAgB,EAAAnM,GAC3B2M,GAAW,IAAM,WAAW,IAAM,MAAM,QAAA,EAAW,EAAE,EAC3DrB,GAAmBtL,EAAK,EAGxB,KAAK,KAAK,EAEN3G,GAAS7B,GAAS,MAAM,EAC1B+B,GAAqB4S,GAAaQ,EAAQ,EAEjCA,GAAAA,CAEb,CACF,EAtJEvT,GADmBiR,GACZ,WAAWP,EAAAA,EAClB1Q,GAFmBiR,GAEZ,OAAOD,EAAAA,EACdhR,GAHmBiR,GAGZ,cAAcF,EAAAA,EC9QvB,IAAMyC,GAAoB,IAAIzE,EAAAA,GACxB0E,GAA0B,IAAIpT,EAAAA,KAAiB0O,EAAAA,KAC/C2E,GAA2B,IAAI/V,EAAAA,KAAkBoR,EAAAA,KACjD4E,GAAyB,GAAG5E,EAAAA,YAE5B6E,GAAoB,CACxB,SAAU,GACV,SAAU,GACV,OAAQ,EACV,EAMMC,GAAwBzV,IAAyBW,GAAuBX,GAASwP,EAAkB,EAKnGkG,GAAyB1V,IAAyB,IAAI2V,GAAU3V,EAAO,EAIvE4V,GAAqB7U,GAAkC,WAAW4P,EAAAA,EAAiB,EACnFkF,GAAsB9U,GAAkC,YAAY4P,EAAAA,EAAiB,EACrFmF,GAAqB/U,GAAkC,WAAW4P,EAAAA,EAAiB,EACnFoF,GAAuBhV,GAAkC,aAAa4P,EAAAA,EAAiB,EAUvFqF,GAAyBvT,IAAoB,CAC3C,GAAA,CAAE,QAAAzC,EAAY,EAAAyC,GACd,CAAE,aAAAgK,GAAc,aAAA2G,EAAa,EAAI1G,GAAmB1M,EAAO,EACpDqQ,GAAArQ,GAASyM,KAAiB2G,EAAY,CACrD,EAQM6C,GAAwB,CAACxT,GAAiBpB,KAAkB,CAC1D,IAAAC,GAASD,GAAME,GAAcC,GACnCiB,GAAK,SAAS,QAAQkH,IAAOrI,GAAOqI,GAAKhI,GAAiBuU,EAAwC,CAAC,CACrG,EAQMC,GAAyB,CAAC1T,GAAiBpB,KAAkB,CAC3D,IAAAC,GAASD,GAAME,GAAcC,GAC7B8B,GAAMC,GAAYd,GAAK,OAAO,EAC7BnB,GAAAgC,GAAKmE,GAAc2O,EAA2C,EAC9D9U,GAAAgC,GAAK3B,GAAiB0U,EAAwC,CACvE,EAOMC,GAAuB7T,IAAoB,CACzC,GAAA,CAAE,QAAAzC,GAAS,QAAA6E,EAAY,EAAApC,GAGxBoC,GAAQ,SACXmR,GAAsBvT,EAAI,EAC1BiH,GAAgBsG,GAAgBhQ,EAAO,EAAG,CAAE,SAAU,QAAA,CAAU,GAGlE4C,GAAS5C,GAASuV,EAAsB,EACxC3S,GAAS5C,GAASV,EAAS,EAC3BoK,GAAgB1J,GAAS,CAAE,WAAY,SAAW,CAAA,EAElD+B,GAAqB/B,GAAS,IAAMuW,GAAsB9T,EAAI,CAAC,CACjE,EAOM+T,GAAuB/T,IAAoB,CACzC,GAAA,CAAE,QAAAzC,GAAS,QAAA6E,EAAY,EAAApC,GACvByS,GAActD,GAAe5R,EAAO,EAE1CA,GAAQ,KAAK,EAET,CAACkV,IAAerQ,GAAQ,UAAYhD,GAAS8P,GAASrS,EAAS,GACrD6S,GAAAA,EACZpQ,GAAqB4P,GAAS,IAAM8E,GAAsBhU,EAAI,CAAC,GAC1DgU,GAAsBhU,EAAI,CACnC,EASMyT,GAA2Bxb,IAAkB,CACjD,IAAMsP,GAAUtG,GAAQhJ,GAAE,OAAuB2a,EAAuB,EAClErV,GAAUgK,IAAW5G,GAAiB4G,EAAO,EAC7CvH,GAAOzC,IAAWyV,GAAqBzV,EAAO,EAGhDyC,KACFA,GAAK,cAAgBuH,GACrBvH,GAAK,OAAO,EAERuH,IAAWA,GAAQ,UAAY,KACjCtP,GAAE,eAAe,EAGvB,EAOM2b,GAA2B3b,IAAkB,CAC3C,GAAA,CAAE,OAAAoF,EAAW,EAAApF,GACbsF,GAAUC,GAAcyR,GAAyBnO,GAAYzD,EAAc,CAAC,EAC5E4W,GAAmBzW,GAAcqV,GAA0BtV,EAAkC,EAC7FyC,GAAOzC,IAAWyV,GAAqBzV,EAAO,EAGpD,GAAIyC,GAAM,CACF,GAAA,CAAE,QAAAoC,GAAS,SAAA2E,EAAa,EAAA/G,GACxB,CAAE,SAAAmS,EAAa,EAAA/P,GACfmF,GAAUtG,GAAQ5D,GAAuBuV,EAAuB,EAChEsB,GAAYpT,GAAYvD,EAAO,EAAE,aAAa,GAGhD,CAAC2R,GAAQ,SAAS7R,EAAqB,GAAK8U,KAAa,YAGzD,EAAE+B,IAAaA,GAAU,SAAA,EAAW,UAClC,CAAC3W,GAAQ,SAASF,EAAqB,GACvC8U,KAC4B,CAAC5K,IAAWR,GAAS,SAAS1J,EAAqB,IAC9E4W,IAAoBA,GAAiB,SAAS5W,EAAqB,KAEtE2C,GAAK,cACHiU,IAAoBA,GAAiB,SAAS5W,EAAqB,EAAI4W,GAAmB,KAC5FjU,GAAK,KAAK,GAIRuH,IAAWA,GAAQ,UAAY,KAAKtP,GAAE,eAAe,EAAA,CAG/D,EAQM0b,GAA6B,CAAC,CAAE,KAAA3Q,GAAM,OAAA3F,EAAAA,IAA4B,CACtE,IAAME,GAAUC,GAAcyR,GAAyBnO,GAAYzD,EAAc,CAAC,EAC5E2C,GAAOzC,IAAWyV,GAAqBzV,EAAO,EAGhDyC,IAEEA,GAAK,QAAQ,UAAYgD,KAAS0J,KACpC1M,GAAK,cAAgB,KACrBA,GAAK,KAAK,EAGhB,EAOM8T,GAAyB9T,IAAoB,CAC3C,GAAA,CAAE,QAAAzC,EAAY,EAAAyC,GACpBX,GAAY9B,GAASuV,EAAsB,EAE3ClB,GAAgBrU,GAASsU,EAAU,EACtBzR,GAAA7C,GAASuU,GAAW,MAAM,EAC1B1R,GAAA7C,GAAS,OAAQ,QAAQ,EAEtCoB,GAAcpB,GAAS6V,EAAmB,EAE1CM,GAAuB1T,GAAM,EAAI,EACjCyM,GAAMlP,EAAO,CACf,EAOMyW,GAAyBhU,IAAoB,CAC3C,GAAA,CAAE,QAAAzC,GAAS,SAAAwJ,EAAa,EAAA/G,GAEjBI,GAAA7C,GAASsU,GAAY,MAAM,EACxCD,GAAgBrU,GAASuU,EAAS,EAClCF,GAAgBrU,GAAS,MAAM,EAC/B0J,GAAgB1J,GAAS,CAAE,WAAY,EAAI,CAAA,EAE3C,IAAM4W,GAAiBhB,GAAmB,eAAiBpM,GAAS,KAAK6I,EAAS,EAE9EuE,IAAgB1H,GAAM0H,EAA6B,EAEvDxE,GAAcpS,EAAO,EAErBoB,GAAcpB,GAAS+V,EAAoB,EAC3CjU,GAAY9B,GAASuV,EAAsB,EAGtC3D,GAAe5R,EAAO,GACzBmW,GAAuB1T,EAAI,CAE/B,EAKqBkT,GAArB,cAAuC9V,EAAc,CAYnD,YAAYC,GAA8BC,GAAoC,CAC5E,MAAMD,GAAQC,EAAM,EAGd,GAAA,CAAE,QAAAC,EAAY,EAAA,KAGf,KAAA,SAAW,CAAC,GAAG0F,GAAiB2P,GAAyB9R,GAAYvD,EAAO,CAAC,CAAC,EAAE,OACnF2J,IAAOvG,GAAiBuG,EAAG,IAAM3J,EAAA,EAInC,KAAK,cAAgB,KAGrBiW,GAAsB,KAAM,EAAI,CAClC,CAKA,IAAI,MAAO,CACF,OAAAzG,EACT,CAIA,IAAI,UAAW,CACN,OAAAgG,EACT,CAKA,QAAS,CACH3T,GAAS,KAAK,QAASvC,EAAS,EAAG,KAAK,KAAK,EAC5C,KAAK,KAAK,CACjB,CAGA,MAAO,CACL,GAAM,CAAE,QAAAU,GAAS,QAAA6E,GAAS,cAAAoP,EAAA,EAAkB,KACxCgB,GAAe,EAEnB,GAAI,CAACpT,GAAS7B,GAASV,EAAS,IAC9BsW,GAAmB,cAAgB3B,IAAiB,OACpD4B,GAAoB,cAAgB5B,IAAiB,OACrD7S,GAAcpB,GAAS4V,EAAkB,EAErC,CAACA,GAAmB,kBAAkB,CAElC,IAAAV,GAActD,GAAe5R,EAAO,EACtC,GAAAkV,IAAeA,KAAgBlV,GAAS,CACpC,IAAAkB,GACJuU,GAAqBP,EAAW,GAEhCvU,GAAyDuU,GAAa3F,EAAc,EAClFrO,IAAMA,GAAK,KAAK,CAAA,CAGlB2D,GAAQ,UACLwM,GAASM,EAAO,EAGDE,GAAAA,EAFlBG,GAAchS,GAAS,EAAI,EAK7BiV,GAAe5M,GAA6BsJ,EAAO,EACvCO,GAAAA,EAEZ,WAAW,IAAMoE,GAAoB,IAAI,EAAGrB,EAAY,IAExDqB,GAAoB,IAAI,EAEpBpB,IAAerT,GAAS8P,GAASrS,EAAS,GAChC6S,GAAAA,GAKtB,CAGA,MAAO,CACC,GAAA,CAAE,QAAAnS,GAAS,cAAAiU,EAAkB,EAAA,KAE/BpS,GAAS7B,GAASV,EAAS,IAC7BwW,GAAmB,cAAgB7B,IAAiB,OACpD8B,GAAqB,cAAgB9B,IAAiB,OACtD7S,GAAcpB,GAAS8V,EAAkB,EACpCA,GAAmB,mBACtBlT,GAAS5C,GAASuV,EAAsB,EACxCzT,GAAY9B,GAASV,EAAS,EAC9BkX,GAAoB,IAAI,GAG9B,CAGA,SAAU,CACF,IAAAhO,GAAQ,CAAE,GAAG,IAAA,EACb,CAAE,QAAAxI,GAAS,QAAA6E,EAAY,EAAA2D,GACvBqO,GAAQhS,GAAQ,SAAWwD,GAA6BsJ,EAAO,EAA+B,EAC9FwD,GAAW,IAAM,WAAW,IAAM,MAAM,QAAA,EAAW0B,GAAQ,EAAE,EACnEZ,GAAsBzN,EAAK,EAE3B,KAAK,KAAK,EACN3G,GAAS7B,GAASV,EAAS,EAC7ByC,GAAqB/B,GAASmV,EAAQ,EAG7BA,GAAAA,CAEb,CACF,EA7HEvT,GADmB+T,GACZ,WAAWP,EAAAA,EAClBxT,GAFmB+T,GAEZ,OAAOD,EAAAA,EACd9T,GAHmB+T,GAGZ,cAAcF,EAAAA,ECvSvB,IAAMqB,GAAgB,UCAhBC,GAAmB,UCAnBC,GAAgB,UCOhBC,GAAkBC,IAAoB,CAC1C,IAAMC,GAAYD,KAAYF,GACxBI,GAAYD,GAAY,GAAGD,EAAAA,SAAkB,GAAGA,EAAAA,QAChDG,GAAUF,GAAoD,GAAxC,cAAcD,EAAAA,iBACpC3P,GAAQ,eAAe2P,EAAAA,iBACvBI,GAAO,eAAeF,EAAAA,WAC5B,MAAO,eAAeF,EAAAA,WAAkBF,EAAAA,KAAkBK,GAAS9P,GAAQ+P,EAAAA,QAC7E,ECfMC,GAAoB,CACxB,IAAK,MACL,OAAQ,SACR,KAAM,QACN,MAAO,KACT,ECkBMC,GAA+B/U,IAAY,CAC/C,IAAMgV,GAAa,4BACb,CAAE,QAAAzX,GAAS,QAAA0X,GAAS,UAAAC,GAAW,QAAA9S,GAAS,MAAA0C,EAAU,EAAA9E,GAGxD,GAAIiV,GAAS,CACL,IAAAE,GAAe,CAAE,GAAGL,EAAAA,EACpB3R,GAAMC,GAAM7F,EAAO,EAGzB0J,GAAgBgO,GAAS,CAEvB,IAAK,GACL,KAAM,GACN,MAAO,GACP,OAAQ,EAAA,CACT,EACK,IAAAG,GAAYpV,GAAK,OAASsU,GAC1B,CAAE,YAAae,GAAU,aAAcC,EAAAA,EAAcL,GACrD,CAAE,YAAaM,GAAQ,aAAcC,GAAQ,YAAaC,EAAW,EAAAxL,GAAmB1M,EAAO,EACjG,CAAE,UAAAmY,EAAc,EAAAtT,GACd,CAAE,YAAauT,GAAc,YAAaC,EAAAA,EAAiBV,GAE3DW,GADiBtM,GAAgB2L,GAA0B,UAAU,IACpC,QACjCxE,GAA+B,KAAK,IAAnBmF,GAAuBF,GAAeC,GAAyBL,GAASE,EAAtB,EACnEK,GAAc3S,IAAO0S,GAAyCnF,GAAiB,EAC/EqF,GAAeR,IAAWpS,GAAuB,EAAjBuN,IAAsB,EACtD,CACJ,MAAOsF,GACP,OAAQC,GACR,KAAMC,GACN,MAAOC,GACP,IAAKC,EAAA,EACH9L,GAAsB/M,GAAS,EAAI,EACjC,CAAE,EAAA1F,GAAG,EAAA8C,EAAAA,EAAM,CACf,EAAGub,GACH,EAAGE,EAAA,EAGLnP,GAAgBnC,GAAsB,CACpC,IAAK,GACL,KAAM,GACN,MAAO,GACP,OAAQ,EAAA,CACT,EACD,IAAIuR,GAA+B,EAC/BC,GAAkC,GAClCC,GAAgC,EAChCC,GAAiC,GACjCC,GAA4B,GAC5BC,GAA6B,GAC7BC,GAA8B,GAE5BC,GAAc9R,GAAsB,aAAe,EACnD+R,GAAe/R,GAAsB,cAAgB,EACrDgS,GAAcF,GAAa,EAG7BjM,GAAYyL,GAAcd,GAAYuB,GAAc,EACpDpM,GAAe2L,GAAcd,GAAYW,GAAaY,IAAerB,GACrE5K,GAAasL,GAAeb,GAAWuB,GAAad,GACpDjL,GAAcqL,GAAeb,GAAWW,GAAYY,IAAcb,GAEhEgB,GAAc,CAAC,OAAQ,OAAO,EAC9BC,GAAY,CAAC,MAAO,QAAQ,EAEtBrM,GAAAoM,GAAY,SAASrB,EAAS,EACtCU,GAAcH,GAAa,EAAIX,GAAY,EAAIuB,GAAc,EAC7DlM,GACWF,GAAAsM,GAAY,SAASrB,EAAS,EACzCU,GAAcd,GAAY,EAAIW,GAAa,EAAIY,IAAerB,GAC9D/K,GACSG,GAAAoM,GAAU,SAAStB,EAAS,EAAIQ,GAAeF,GAAY,EAAIX,GAAW,EAAIS,GAAclL,GAC3FC,GAAAmM,GAAU,SAAStB,EAAS,EACtCQ,GAAeb,GAAW,EAAIW,GAAY,GAAKD,GAC/ClL,GAIJ6K,GAAYqB,GAAY,SAASrB,EAAS,GAAK9K,IAAcC,GAAc,MAAQ6K,GAEvEA,GAAAA,KAAc,OAAS/K,GAAY,SAAW+K,GAC9CA,GAAAA,KAAc,UAAYjL,GAAe,MAAQiL,GACjDA,GAAAA,KAAc,QAAU9K,GAAa,QAAU8K,GAC3DA,GAAYA,KAAc,SAAW7K,GAAyC,OAAS6K,GAGlFT,GAAQ,UAAU,SAASS,EAAS,IACvCT,GAAQ,UAAYA,GAAQ,UAAU,QAAQD,GAAYG,GAAaO,EAAS,CAAC,GAK/EqB,GAAY,SAASrB,EAAS,GAE5BA,KAAc,OAEDa,GAAA1e,GAAIwd,IAAYD,GAAYwB,GAAa,GAGzCL,GAAA1e,GAAIme,IAAaZ,GAAYwB,GAAa,GAIvDjM,IAAaF,IACD4L,GAAA,EACGC,GAAA,EACNG,GAAAL,GAAcH,GAAa,EAAIY,GAAc,GAC/ClM,IACK0L,GAAA1b,GACG2b,GAAA,GACjBG,GAAWR,GAAa,EAAIW,IACnBnM,IACT4L,GAAc1b,GAAI2a,GAAYW,GACbK,GAAA,GACNG,GAAAnB,GAAYW,GAAa,EAAIW,KAE1BP,GAAA1b,GAAI2a,GAAY,EAAIW,GAAa,EACpCQ,GAAAnB,GAAY,EAAIuB,GAAc,IAElCG,GAAU,SAAStB,EAAS,IACjCA,KAAc,MACFW,GAAA1b,GAAI2a,IAAaF,GAAYyB,GAAc,GAG3CR,GAAA1b,GAAIsb,IAAcb,GAAYyB,GAAc,GAIxDjM,IACa2L,GAAA,EACHG,GAAA7e,GAAIme,GAAY,EAAIc,IACvBjM,IACM0L,GAAA,OACCC,GAAA,EACHG,GAAAX,GAAY,EAAID,GAAeI,GAAgBW,KAE7CP,GAAA1e,GAAIwd,GAAW,EAAIW,GAAY,EAC9CU,GAAYrB,GAAW,EAAIyB,KAK/B7P,GAAgBgO,GAAS,CACvB,IAAK,GAAGoB,EAAAA,KACR,OAAQC,KAAmB,GAAK,GAAK,GAAGA,EAAAA,KACxC,KAAMC,KAAiB,OAASA,GAAe,GAAGA,EAAAA,KAClD,MAAOC,KAAkB,GAAK,GAAGA,EAAAA,KAAoB,EAAA,CACtD,EAIGvR,GAAcH,EAAK,IACjB2R,KAAa,KACT3R,GAAA,MAAM,IAAM,GAAG2R,EAAAA,MAEnBC,KAAc,GACV5R,GAAA,MAAM,KAAO,GAAG4R,EAAAA,KACbC,KAAe,KAClB7R,GAAA,MAAM,MAAQ,GAAG6R,EAAAA,OAG3B,IAAMM,GAAsB3Y,GAA+C,cAAc4Y,GAAYlX,GAAK,IAAI,CAAA,EAAG,EACjHrB,GAAcpB,GAAS0Z,EAAmB,CAAA,CAE9C,ECxLME,GAAkC,CACtC,SAAU3C,GAAeD,EAAa,EACtC,MAAO,GACP,YAAa,GACb,QAAS,cACT,UAAW,MACX,WAAY,OACZ,UAAW,GACX,MAAO,IACP,UAAW,SAAS,KACpB,QAAS,GACT,YAAa,GACb,SAAU,EACZ,ECdM6C,GAAoB,sBCFpBC,GAAmB,UCSnBC,GAAU,CAAC/Z,GAAsBga,GAAiCC,KAAuC,CAE7G,GAAI/Z,GAAS8Z,EAAO,GAAKA,GAAQ,OAAQ,CACnC,IAAAE,GAAQF,GAAQ,KAAA,EAChBG,GAAWF,EAAU,IAAGC,GAAQD,GAAWC,EAAK,GAGpD,IAAME,GADY,IAAI,UAAA,EACS,gBAAgBF,GAAO,WAAW,EACjEla,GAAQ,OAAW,GAAGoa,GAAa,KAAK,UAAW,CAAA,MAC1C1S,GAAcsS,EAAO,EAC9Bha,GAAQ,OAAOga,EAAO,GACbK,GAAWL,EAAO,GAAMM,GAAQN,EAAO,GAAKA,GAAQ,MAAM/I,EAAM,IACzEjR,GAAQ,OAAW,GAAGga,EAAQ,CAElC,ECRMO,GAAa9X,IAA4B,CACvC,IAAA0U,GAAY1U,GAAK,OAASqX,GAE1B,CAAE,GAAAU,GAAI,QAAAxa,GAAS,QAAA6E,EAAA,EAAYpC,GAC3B,CAAE,MAAAgY,GAAO,UAAAtC,GAAW,SAAAuC,GAAU,UAAAC,GAAW,YAAAC,GAAa,WAAAX,GAAY,YAAAY,GAAa,QAAAb,GAAS,SAAAc,EAAA,EAAajW,GACrGkW,GAAY5D,GAAYH,GAAgBF,GACxCc,GAAe,CAAE,GAAGL,EAAAA,EACtByD,GAAqB,CAAA,EACrBC,GAAuB,CAAA,EAEvBpV,GAAM7F,EAAO,IACf4X,GAAa,KAAO,MACpBA,GAAa,MAAQ,SAIvB,IAAMsD,GAAiB,MAAMH,EAAAA,IAAanD,GAAaO,EAAS,CAAA,GAG5DgD,GACA,GAAAzT,GAAcgT,EAAQ,EACNS,GAAAT,OACb,CACC,IAAAU,GAAavK,GAAc,KAAK,EAC9BkJ,GAAAqB,GAAYV,GAAUT,EAAU,EACxCkB,GAAkBC,GAAW,UAAA,CAI/B3Y,GAAK,QAAUiF,GAAcyT,EAAe,EACvCA,GAAgB,UAAU,EAAI,EACJ,OAEzB,GAAA,CAAE,QAAAzD,EAAY,EAAAjV,GAEpB,GAAIiV,GAAS,CAEE7U,GAAA6U,GAAS,KAAM8C,EAAE,EACjB3X,GAAA6U,GAAS,OAAQV,EAAa,EAE3C,IAAMI,GAAYD,GAAY,GAAGH,EAAAA,SAAwB,GAAGF,EAAAA,QACtDuE,GAAgBlE,GAAY,KAAOlX,GAAc,IAAI6W,EAAAA,UAAwBY,EAAO,EACpF4D,GAAcrb,GAAc,IAAImX,EAAAA,GAAaM,EAAO,EAG1DjV,GAAK,MAAQxC,GAAc,IAAI8a,EAAAA,SAAmBrD,EAAO,EACnD,GAAA,CAAE,MAAAnQ,EAAU,EAAA9E,GAElB,GAAIiF,GAAc+S,EAAK,EAAGO,GAAa,CAACP,GAAM,UAAU,EAAI,CAAC,MACxD,CACG,IAAAc,GAAY1K,GAAc,KAAK,EAC7BkJ,GAAAwB,GAAWd,GAAOR,EAAU,EACpCe,GAAa,CAAK,GAAGO,GAAU,UAAW,CAAA,CAG5C,GAAI7T,GAAcsS,EAAO,EAAGiB,GAAe,CAACjB,GAAQ,UAAU,EAAI,CAAC,MAC9D,CACG,IAAAwB,GAAc3K,GAAc,KAAK,EAC/BkJ,GAAAyB,GAAaxB,GAASC,EAAU,EACxCgB,GAAe,CAAK,GAAGO,GAAY,UAAW,CAAA,CAIhD,GAAIX,GACF,GAAIJ,GACF,GAAI/S,GAAcoT,EAAQ,EAAGE,GAAa,CAAC,GAAGA,GAAYF,GAAS,UAAU,EAAI,CAAC,MAC7E,CACG,IAAAW,GAAU5K,GAAc,KAAK,EAC3BkJ,GAAA0B,GAASX,GAAUb,EAAU,EACrCe,GAAa,CAAC,GAAGA,GAAYS,GAAQ,UAAkB,CAAA,SAIrDJ,IAAeA,GAAc,OAAO,EACpC3T,GAAcoT,EAAQ,EAAGG,GAAe,CAAC,GAAGA,GAAcH,GAAS,UAAU,EAAI,CAAC,MACjF,CACG,IAAAW,GAAU5K,GAAc,KAAK,EAC3BkJ,GAAA0B,GAASX,GAAUb,EAAU,EACrCgB,GAAe,CAAC,GAAGA,GAAcQ,GAAQ,UAAkB,CAAA,CAQ5DtE,GAOMsD,IAASa,IAAqBvB,GAAAuB,GAAab,GAAOR,EAAU,GALjEQ,IAASY,IAAuBtB,GAAAsB,GAAeL,GAAYf,EAAU,EAErED,IAAWsB,IAAqBvB,GAAAuB,GAAaL,GAAchB,EAAU,EAEzExX,GAAK,IAAMxC,GAAc,aAAcyX,EAAO,GAAK,QAKrD9U,GAAS8U,GAAS,gBAAgB,EAClC9U,GAAS2E,GAAO,mBAAmB,EAI9B1F,GAAS6V,GAASqD,EAAS,GAAGnY,GAAS8U,GAASqD,EAAS,EAE1DJ,IAAa,CAAC9Y,GAAS6V,GAASrY,EAAS,GAAGuD,GAAS8U,GAASrY,EAAS,EAEvEub,IAAe,CAAC/Y,GAAS6V,GAASkD,EAAW,GAC/ChY,GAAS8U,GAASkD,EAAW,EAG1B/Y,GAAS6V,GAASwD,EAAc,GAAGtY,GAAS8U,GAASwD,EAAc,CAAA,CAE5E,ECrHMQ,GAAuB1b,IAAqC,CAC1D,IAAA2b,GAAiB,CAAC,OAAQ,MAAM,EAChCC,GAA2B,CAAA,EAC7B,CAAE,WAAAC,EAAe,EAAA7b,GAErB,KAAO6b,IAAc,CAACF,GAAe,SAASE,GAAW,QAAQ,GAC/DA,GAAaC,GAAcD,EAAU,EAE/BE,GAAaF,EAAU,GAAKG,GAAeH,EAAU,GACzDD,GAAW,KAAKC,EAAU,EAI9B,OACED,GAAW,KAAK,CAAC1e,GAAGxB,KAEhBsQ,GAAgB9O,GAAkB,UAAU,IAAM,YAClD0e,GAAW,MAAMlgB,GAAI,CAAC,EAAE,MAAWV,IAAAgR,GAAgBhR,GAAkB,UAAU,IAAM,QAAQ,EAEtFkC,GAEF,IACR,GAAgDqG,GAAYvD,EAAO,EAAE,IAE1E,EC2BMic,GAAkB,IAAIha,EAAAA,KAAiB+U,EAAAA,iBAA8BA,EAAAA,KACrEkF,GAAY,QAOdC,GAAsBnc,IAAyBW,GAAqBX,GAAS8Z,EAAgB,EAK3FsC,GAAuBpc,IAAyB,IAAIqc,GAAQrc,EAAO,EASnEsc,GAAiB7Z,IAAkB,CACvC,GAAM,CAAE,QAAAzC,GAAS,QAAA0X,GAAS,UAAAC,GAAW,aAAA4E,EAAAA,EAAiB9Z,GACtD4R,GAAgBrU,GAASwc,EAAe,EACxCpL,GAAYsG,GAAwBC,KAAc4E,GAAe5E,GAAY4E,EAAY,CAC3F,EAOME,GAAUha,IAAuC,CACrD,GAAM,CAAE,QAAAiV,GAAS,UAAAC,GAAW,aAAA4E,EAAA,EAAiB9Z,GAE7C,OAAOiV,IAAWrG,GAASqG,GAASC,KAAc4E,GAAe5E,GAAY4E,EAAY,CAC3F,EAQMG,GAAyB,CAACja,GAAe0S,KAA0B,CACjE,GAAA,CAAE,QAAAnV,EAAY,EAAAyC,GACpBka,GAAsBla,EAAI,EAGtB+H,GAAaxK,GAAS6Z,EAAiB,GAAKpX,GAAK,OAASqX,IAC5D8C,GAAmBna,EAAI,EAGrB0S,IAAmBA,GAAAA,CACzB,EAQM0H,GAAsB,CAACpa,GAAepB,KAAkB,CACtD,IAAAC,GAASD,GAAME,GAAcC,GAC7B,CAAE,QAAAxB,EAAY,EAAAyC,GAEpBnB,GAAOiC,GAAYvD,EAAO,EAAGqH,GAAiB5E,GAAK,YAA8BkE,EAAc,EAE/F,CAACsH,GAAaC,EAAW,EAAE,QAAcC,IAAA,CACvC7M,GAAO8M,GAAUpO,EAAO,EAAGmO,GAAI1L,GAAK,OAAQkE,EAAc,CAAA,CAC3D,CACH,EAOMmW,GAAsBra,IAAkB,CACtC,GAAA,CAAE,QAAAzC,EAAY,EAAAyC,GACdsa,GAAoBhc,GAA+C,YAAY4Y,GAAYlX,GAAK,IAAI,CAAA,EAAG,EAE7Goa,GAAoBpa,GAAM,EAAI,EAC9BrB,GAAcpB,GAAS+c,EAAiB,EAClC7X,GAAA,MAAMlF,GAAS,IAAI,CAC3B,EAOMgd,GAAuBva,IAAkB,CACvC,GAAA,CAAE,QAAAzC,EAAY,EAAAyC,GACdwa,GAAqBlc,GAA+C,aAAa4Y,GAAYlX,GAAK,IAAI,CAAA,EAAG,EAE/Goa,GAAoBpa,EAAI,EACxB6Z,GAAc7Z,EAAI,EAClBrB,GAAcpB,GAASid,EAAkB,EAEnC/X,GAAA,MAAMlF,GAAS,KAAK,CAC5B,EAQM2c,GAAwB,CAACla,GAAepB,KAAkB,CACxD,IAAAC,GAASD,GAAME,GAAcC,GAE7B,CAAE,QAAAxB,GAAS,QAAA6E,GAAS,IAAA8E,EAAA,EAAQlH,GAC5B,CAAE,QAAAuH,EAAY,EAAAnF,GAEdgW,GAAc,CAAA,EADFpY,GAAK,OAASqX,IACEjV,GAA2B,aAGxDmF,GAAQ,SAAS,QAAQ,IACvBvH,GAAA,QAAU,CAAC,CAACpB,GAEM2I,GAAQ,MAAM,GAAG,EAEzB,QAAckT,IAAA,CAEvBA,KAAOC,IACF7b,GAAAtB,GAAS4O,GAAgBnM,GAAK,UAAU,EACxCnB,GAAAtB,GAASkH,GAAiBzE,GAAK,UAAU,EAG3CoY,KACIvZ,GAAAtB,GAASmH,GAAiB1E,GAAK,UAAU,EAChDnB,GAAOiC,GAAYvD,EAAO,EAAGqH,GAAiB5E,GAAK,YAA8BkE,EAAc,IAExFuW,KAAOvb,GAChBL,GAAOtB,GAASkd,GAAKrC,GAA4BpY,GAAK,WAAnBA,GAAK,MAAwB,EACvDya,KAAOrP,KACTvM,GAAAtB,GAASod,GAAc3a,GAAK,UAAU,EAExCoY,IAAoBvZ,GAAAtB,GAASqd,GAAe5a,GAAK,UAAU,EAE5D6a,IACKhc,GAAAtB,GAAS2B,GAAiBc,GAAK,WAAW,GAIjDoY,IAAelR,IACVrI,GAAAqI,GAAKhI,GAAiBc,GAAK,UAAU,CAC9C,CACD,EAEL,EAQM8a,GAA4B,CAAC9a,GAAepB,KAAkB,CAC5D,IAAAC,GAASD,GAAME,GAAcC,GAC7B,CAAE,QAAAxB,GAAS,UAAA2X,GAAW,aAAA4E,EAAA,EAAiB9Z,GACvC,CAAE,aAAA+a,GAAc,aAAApK,EAAiB,EAAAuE,GACjC8F,GAAc/Z,GAAQ1D,GAAS,IAAIsP,EAAAA,EAAa,EAChDoO,GAAkBha,GAAQ1D,GAAS,IAAI2Q,EAAAA,EAAiB,EAGxDgN,GAAMvP,GAAUpO,EAAO,EAEvB4d,GAAejG,KAAc4E,IADlBiB,KAAiBpK,GAC4BuE,GAAYgG,GAC1Erc,GAAOsc,GAAc1P,GAAazL,GAAK,OAAQkE,EAAc,EAC7DrF,GAAOsc,GAAc3P,GAAaxL,GAAK,OAAQkE,EAAc,EAGzD8W,IAAanc,GAAOmc,GAAa,WAAWnO,EAAAA,GAAe7M,GAAK,UAAU,EAC1Eib,IAAiBpc,GAAOoc,GAAiB,WAAW/M,EAAAA,GAAmBlO,GAAK,UAAU,CAC5F,EAQMma,GAAqB,CAACna,GAAeuX,KAAqB,CAExD,IAAA6D,GAAW,CAAChE,GAAmBqC,EAAS,EACxC,CAAE,QAAAlc,EAAY,EAAAyC,GAEpBI,GACE7C,GACA6d,GAAS7D,GAAU,EAAI,CAAC,EACxBA,IAAWrX,GAAa3C,GAAS6d,GAAS,CAAC,CAAC,GAAgC,EAAA,EAE9ExJ,GAAgBrU,GAAS6d,GAAS7D,GAAU,EAAI,CAAC,CAAC,CACpD,EAKqBqC,GAArB,cAAqCxc,EAAc,CAkBjD,YAAYC,GAA8BC,GAAkC,CAC1E,MAAMD,GAAQC,EAAM,EA6DtB6B,GAAA,KAAA,cAAc,IAAMsN,GAAM,KAAK,OAAO,CAAA,EAEtCtN,GAAA,KAAA,aAAa,IAAM,KAAK,KAAA,CAAA,EAsCxBA,GAAA,KAAA,aAAa,IAAM,KAAK,KAAA,CAAA,EAgCxBA,GAAA,KAAA,SAAS,IAAM,CACb4V,GAAkB,IAAI,CAAA,CAAA,EAIxB5V,GAAA,KAAA,SAAS,IAAM,CACP,GAAA,CAAE,QAAA8V,EAAY,EAAA,KAEhBA,IAAW,CAAC+E,GAAO,IAAI,EAAG,KAAK,KAAK,EACnC,KAAK,KAAK,CAAA,CAAA,EAyCjB7a,GAAA,KAAA,cAAc,CAAC,CAAE,OAAA9B,EAAAA,IAAyB,CAClC,GAAA,CAAE,QAAA4X,GAAS,QAAA1X,EAAY,EAAA,KAI1B0X,IAAWA,GAAQ,SAAS5X,EAAqB,GAClDA,KAAWE,IACVF,IAAUE,GAAQ,SAASF,EAAqB,GAIjD,KAAK,KAAK,CACZ,CAAA,EAjMM,GAAA,CAAE,QAAAE,EAAY,EAAA,KACdmX,GAAY,KAAK,OAAS2C,GAC1BiB,GAAY5D,GAAYH,GAAgBF,GACxCgH,GAAe3G,GAAY2C,GAAmB/C,GAGpDoF,GAAyC4B,IAAsBpd,GAAeod,GAAMD,EAAY,EAGhG,KAAK,QAAU,GAEf,KAAK,GAAK,GAAG/C,EAAAA,IAAaiD,GAAOhe,GAAS+a,EAAS,CAAA,GAG7C,GAAA,CAAE,QAAAlW,EAAY,EAAA,KAGb,CAACA,GAAQ,OAASsS,IAAe,CAACA,IAAa,CAACtS,GAAQ,UAE7DuD,GAAawR,GAAiB,CAAE,UAAW,EAAI,CAAA,EAI3CpP,GAAaxK,GAASkc,EAAS,GAAK/E,IAAa,OAAOtS,GAAQ,OAAU,UACzD+X,GAAA,KAAM/X,GAAQ,KAAK,EAInC,KAAA,UAAY6W,GAAoB1b,EAAO,EAC5C,KAAK,aAAe,CAAC,SAAU,OAAO,EAAE,KAC1Bie,IAAAjS,GAAgB,KAAK,UAA0B,UAAU,IAAMiS,EAAA,EAExE,KAAK,UACN1a,GAAY,KAAK,OAAO,EAAE,KAG9BgX,GAAU,IAAI,EAGdoC,GAAsB,KAAM,EAAI,EAEpC,CAKA,IAAI,MAAO,CACF,OAAA7C,EACT,CAIA,IAAI,UAAW,CACN,OAAAF,EACT,CAQA,MAAO,CACL,GAAM,CAAE,QAAA/U,GAAS,QAAA6S,GAAS,QAAA1X,GAAS,UAAA2X,GAAW,aAAA4E,GAAc,GAAA/B,EAAO,EAAA,KAC7D,CAAE,UAAAG,EAAc,EAAA9V,GAChBqZ,GAAWhZ,GAAM,IAAIlF,GAAS,KAAK,EACnCme,GAAexG,KAAc4E,GAAe5E,GAAY4E,GAExDrX,GAAA,MAAMlF,GAAS,KAAK,EAEtB0X,IAAW,CAACwG,IAAY,CAACzB,GAAO,IAAI,GAChCvX,GAAA,IACJlF,GACA,IAAM,CACJ,IAAMoe,GAAmBrd,GAA+C,WAAW4Y,GAAY,KAAK,IAAI,CAAA,EAAG,EAC3GvY,GAAcpB,GAASoe,EAAgB,EAClCA,GAAiB,mBAEpBtN,GAAY4G,GAASyG,EAAY,EAEpBtb,GAAA7C,GAASwc,GAAiB,IAAIhC,EAAAA,EAAI,EAE/C,KAAK,OAAO,EACZ+C,GAA0B,KAAM,EAAI,EAG/B1b,GAAS6V,GAASpY,EAAS,GAAGsD,GAAS8U,GAASpY,EAAS,EAE1Dqb,GAAW5Y,GAAqB2V,GAAS,IAAMoF,GAAmB,IAAI,CAAC,EACtEA,GAAmB,IAAI,EAEhC,EACA,GACA,IAAA,CAGN,CAIA,MAAO,CACL,GAAM,CAAE,QAAAjY,GAAS,QAAA6S,GAAS,QAAA1X,EAAA,EAAY,KAChC,CAAE,UAAA2a,GAAW,MAAA9D,EAAU,EAAAhS,GAEvBK,GAAA,MAAMlF,GAAS,IAAI,EAGrB0X,IAAW+E,GAAO,IAAI,GAClBvX,GAAA,IACJlF,GACA,IAAM,CACJ,IAAMqe,GAAmBtd,GAA+C,WAAW4Y,GAAY,KAAK,IAAI,CAAA,EAAG,EAC3GvY,GAAcpB,GAASqe,EAAgB,EAElCA,GAAiB,mBACpB,KAAK,OAAO,EACZvc,GAAY4V,GAASpY,EAAS,EAC9Bie,GAA0B,IAAI,EAG1B5C,GAAW5Y,GAAqB2V,GAAS,IAAMsF,GAAoB,IAAI,CAAC,EACvEA,GAAoB,IAAI,EAEjC,EACAnG,GAAQ,GACR,KAAA,CAGN,CAgBA,QAAS,CACD,GAAA,CAAE,QAAAyH,EAAY,EAAA,KAEfA,KACH3B,GAAsB,KAAM,EAAI,EAChC,KAAK,QAAU,CAAC2B,GAEpB,CAGA,SAAU,CACR,GAAM,CAAE,QAAA5G,GAAS,QAAA7S,GAAS,QAAAyZ,EAAA,EAAY,KAChC,CAAE,UAAA3D,EAAc,EAAA9V,GAElByZ,KACE5G,IAAW+E,GAAO,IAAI,GAAK9B,IAC7B,KAAK,KAAK,EACV5Y,GAAqB2V,GAAS,IAAMiF,GAAsB,IAAI,CAAC,GAE/DA,GAAsB,IAAI,EAE5B,KAAK,QAAU,CAAC2B,GAEpB,CAGA,eAAgB,CACT,KAAK,QACL,KAAK,QAAQ,EADC,KAAK,OAAO,CAEjC,CAwBA,SAAU,CACF,GAAA,CAAE,QAAA5G,GAAS,QAAA7S,EAAY,EAAA,KACvB2D,GAAQ,CAAE,GAAG,KAAM,KAAM,KAAK,IAAA,EAC9B2M,GAAW,IAAM,WAAW,IAAMuH,GAAuBlU,GAAO,IAAM,MAAM,QAAA,CAAS,EAAG,EAAE,EAE5F3D,GAAQ,WAAa4X,GAAOjU,EAAK,GACnC,KAAK,QAAQ,MAAQ,EACrB,KAAK,KAAK,EACVzG,GAAqB2V,GAAwBvC,EAAQ,GAE5CA,GAAAA,CAEb,CACF,EAtOEvT,GADmBya,GACZ,WAAWJ,EAAAA,EAClBra,GAFmBya,GAEZ,OAAOD,EAAAA,EACdxa,GAHmBya,GAGZ,cAAcF,EAAAA,EACrBva,GAJmBya,GAIZ,WAAW7E,EAAAA,EC1PpB,IAAM+G,GAAkB,IAAItc,EAAAA,KAAiB6U,EAAAA,iBAA8BA,EAAAA,KAErE0H,GAAkCpW,GAAa,CAAC,EAAGwR,GAAiB,CACxE,SAAU3C,GAAeH,EAAa,EACtC,QAAS,GACT,YAAa,GACb,SAAU,wDACZ,CAAC,EAOK2H,GAAsBze,IAAyBW,GAAqBX,GAAS+W,EAAgB,EAK7F2H,GAAuB1e,IAAyB,IAAI2e,GAAQ3e,EAAO,EAKpD2e,GAArB,cAAqCtC,EAAQ,CAW3C,YAAYvc,GAA8BC,GAAkC,CAC1E,MAAMD,GAAQC,EAAM,EAgBtB6B,GAAA,KAAA,OAAO,IAAM,CACX,MAAM,KAAK,EAEL,GAAA,CAAE,QAAAiD,GAAS,IAAA8E,EAAQ,EAAA,KAErB9E,GAAQ,aAAe8E,IAAK,WAAW,IAAMuF,GAAMvF,EAAG,EAAG,EAAE,CAAA,CAAA,CApBjE,CAIA,IAAI,MAAO,CACF,OAAAoN,EACT,CAIA,IAAI,UAAW,CACN,OAAAyH,EACT,CAUF,EAlCE5c,GADmB+c,GACZ,WAAWJ,EAAAA,EAClB3c,GAFmB+c,GAEZ,OAAOD,EAAAA,EACd9c,GAHmB+c,GAGZ,cAAcF,EAAAA,EACrB7c,GAJmB+c,GAIZ,WAAWnH,EAAAA,EC5CpB,IAAMoH,GAAkB,YCAlBC,GAAqB,YCkCrBC,GAAoB,yBAEpBC,GAAsC,CAC1C,OAAQ,GACR,OAAQ,IACV,EAMMC,GAAwBhf,IAAyBW,GAAuBX,GAAS6e,EAAkB,EAKnGI,GAAyBjf,IAAyB,IAAIkf,GAAUlf,EAAO,EAIvEmf,GAAoBpe,GAAkC,eAAe6d,EAAAA,EAAiB,EAStFQ,GAAoB3c,IAAoB,CAC5C,GAAM,CAAE,OAAA3C,GAAQ,aAAA8d,GAAc,QAAA/Y,GAAS,YAAAwa,GAAa,aAAAjM,GAAc,QAAApT,EAAY,EAAAyC,GACxE,CAAE,OAAAsJ,EAAW,EAAAlH,GACbya,GAAQC,GAAS3B,EAA6B,EAE9C4B,GAAQ1f,IAAU2f,GAAqB,IAAK3f,EAAM,EAClD4f,GAAe9B,GAAe+B,GAAgB/B,EAAY,EAA+BxK,GAM/F,GAJA3Q,GAAK,UAAY6c,GAAS1B,GAAwB,QAAWA,GAA6B,UAItF4B,KAAUE,KAAiBtM,IAAgBiM,KAAgBG,GAAM,QAAS,CACxE,IAAAI,GACAC,GACAC,GAGJrd,GAAK,MAAQ,CAAA,EACbA,GAAK,QAAU,CAAA,EACfA,GAAK,aAAeid,GACpBjd,GAAK,UAAYA,GAAK,aAAesd,GAAgBtd,EAAI,EAEzD,CAAC,GAAG+c,EAAK,EAAE,QAAgBQ,IAAA,CAClBJ,GAAAjd,GAAaqd,GAAM,MAAM,EAChCH,GACED,IAAQA,GAAK,OAAO,CAAC,IAAM,KAAOA,GAAK,MAAM,EAAE,IAAM,KAAO3f,GAAc2f,GAAMrc,GAAYvD,EAAO,CAAC,EAElG6f,KACGpd,GAAA,MAAM,KAAKud,EAAI,EACpBF,GAAO/S,GAAsB8S,EAAU,EAClCpd,GAAA,QAAQ,MAAM6c,GAAQQ,GAAK,IAAMrd,GAAK,UAAYod,GAAW,WAAa9T,EAAM,EACvF,CACD,EACItJ,GAAA,YAAcA,GAAK,MAAM,MAAA,CAElC,EAQMkd,GAAmB/B,IAChBlW,GAAckW,EAAoB,EACpCA,GAA6B,aAC9BlR,GAAmBkR,EAAoB,EAAE,aAQzCmC,GAAkB,CAAC,CAAE,QAAA/f,GAAS,aAAA4d,EAAAA,IAC3B2B,GAAS3B,EAAoB,EAAKA,GAAwB,YAAc7Q,GAAsB/M,EAAO,EAAE,OAQ1GigB,GAASngB,IAAwB,CACrC,CAAC,GAAG2f,GAAqB,IAAK3f,EAAM,CAAC,EAAE,QAAgBogB,IAAA,CACjDre,GAASqe,GAAMle,EAAW,GAAGF,GAAYoe,GAAMle,EAAW,CAAA,CAC/D,CACH,EAQMme,GAAW,CAAC1d,GAAiByd,KAAsB,CACjD,GAAA,CAAE,OAAApgB,GAAQ,QAAAE,EAAY,EAAAyC,GACxBiF,GAAc5H,EAAM,GAAGmgB,GAAMngB,EAAM,EACvC2C,GAAK,WAAayd,GAClBtd,GAASsd,GAAMle,EAAW,EAG1B,IAAMoe,GAAyB,CAAA,EAC3BC,GAAaH,GACV,KAAAG,KAAerQ,GAAgBhQ,EAAO,GAC3CqgB,GAAaA,GAAW,eACpBxe,GAASwe,GAAY,KAAK,GAAKxe,GAASwe,GAAY,eAAe,IAAGD,GAAQ,KAAKC,EAAU,EAGnGD,GAAQ,QAAoBE,IAAA,CAC1B,IAAMC,GAAaD,GAAS,uBAGxBC,IAAc,CAAC1e,GAAS0e,GAAYve,EAAW,GACjDY,GAAS2d,GAAYve,EAAW,CAClC,CACD,EAGDmd,GAAkB,cAAgBe,GAClC9e,GAAcpB,GAASmf,EAAiB,CAC1C,EAQMqB,GAAoB,CAAC/d,GAAiBpB,KAAkB,EAC7CA,GAAME,GAAcC,IAC5BiB,GAAK,aAA6BwL,GAAaxL,GAAK,QAASkE,EAAc,CACpF,EAKqBuY,GAArB,cAAuCrf,EAAc,CAmBnD,YAAYC,GAA8BC,GAAoC,CAC5E,MAAMD,GAAQC,EAAM,EAuCtB6B,GAAA,KAAA,UAAU,IAAM,CACR,GAAA,CAAE,OAAA9B,EAAW,EAAA,KAInB,GAAI4H,GAAc5H,EAAM,GAAKA,GAAO,aAAe,EAAG,CACpDsf,GAAiB,IAAI,EAErB,GAAM,CAAE,UAAAqB,GAAW,UAAAC,GAAW,YAAArB,GAAa,MAAAsB,GAAO,WAAA7b,EAAe,EAAA,KAEjE,GAAI2b,IAAaC,GAAW,CACpB,IAAAE,GAAgBD,GAAMtB,GAAc,CAAC,EAGvCva,KAAe8b,IACjBT,GAAS,KAAMS,EAAa,EAE9B,MAAA,CAGI,GAAA,CAAE,QAAAC,EAAY,EAAA,KAEhB,GAAA/b,IAAc2b,GAAYI,GAAQ,CAAC,GAAKA,GAAQ,CAAC,EAAI,EAAG,CAC1D,KAAK,WAAa,KACd/gB,IAAQmgB,GAAMngB,EAAM,EACxB,MAAA,CAGI6gB,GAAA,QAAQ,CAACT,GAAMxkB,KAAM,CAEvBoJ,KAAeob,IACfO,IAAaI,GAAQnlB,EAAC,IACrB,OAAOmlB,GAAQnlB,GAAI,CAAC,EAAM,KAAe+kB,GAAYI,GAAQnlB,GAAI,CAAC,IAEnEykB,GAAS,KAAMD,EAAI,CACrB,CACD,CAAA,CACH,CAAA,EAzEM,GAAA,CAAE,QAAAlgB,GAAS,QAAA6E,EAAY,EAAA,KAG7B,KAAK,OAAS5E,GAAc4E,GAAQ,OAAgCtB,GAAYvD,EAAO,CAAC,EAGpF,KAAK,SAEP,KAAK,aAAeA,GAAQ,aAAeA,GAAQ,aAAeA,GAAUoO,GAAUpO,EAAO,EACxF,KAAA,aAAe2f,GAAgB,KAAK,YAAY,EAGrDa,GAAkB,KAAM,EAAI,EAE5B,KAAK,QAAQ,EAEjB,CAMA,IAAI,MAAO,CACF,OAAA3B,EACT,CAIA,IAAI,UAAW,CACN,OAAAE,EACT,CA+CA,SAAU,CACRyB,GAAkB,IAAI,EACtB,MAAM,QAAQ,CAChB,CACF,EAvGE5e,GADmBsd,GACZ,WAAWJ,EAAAA,EAClBld,GAFmBsd,GAEZ,OAAOD,EAAAA,EACdrd,GAHmBsd,GAGZ,cAAcF,EAAAA,ECxLvB,IAAM8B,GAAY,MCAZC,GAAe,MCsCfC,GAAc,IAAI/e,EAAAA,KAAiB6e,EAAAA,KAMnCG,GAAkBjhB,IAAyBW,GAAiBX,GAAS+gB,EAAY,EAGjFG,GAAmBlhB,IAAyB,IAAImhB,GAAInhB,EAAO,EAI3DohB,GAAergB,GAA4B,WAAW+f,EAAAA,EAAW,EACjEO,GAAgBtgB,GAA4B,YAAY+f,EAAAA,EAAW,EACnEQ,GAAevgB,GAA4B,WAAW+f,EAAAA,EAAW,EACjES,GAAiBxgB,GAA4B,aAAa+f,EAAAA,EAAW,EAarEU,GAAAA,IAA+C,IAS/CC,GAAiBhf,IAAc,CAC7B,GAAA,CAAE,WAAAif,GAAY,IAAAC,EAAQ,EAAAlf,GAGxBif,IAAc7f,GAAS6f,GAAYjZ,EAAe,IACpDiZ,GAAW,MAAM,OAAS,GAC1B5f,GAAY4f,GAAYjZ,EAAe,GAIrCkZ,IAAKzc,GAAM,MAAMyc,EAAG,CAC1B,EAOMC,GAAkBnf,IAAc,CACpC,GAAM,CAAE,QAAAzC,GAAS,WAAA0hB,GAAY,QAASG,GAAa,IAAAF,EAAQ,EAAAlf,GACrD,CAAE,IAAAqf,EAAAA,EAASpa,GAAcia,EAAG,GAAKH,GAAW,IAAIG,EAAG,GAAiC,CAAE,IAAK,IAAA,EAGjG,GAAID,IAAcG,IAAehgB,GAASggB,GAAaxiB,EAAS,EAAG,CACjE,GAAM,CAAE,cAAA0iB,GAAe,WAAAC,EAAA,EAAeR,GAAW,IAAIxhB,EAAO,GAAgC,CAC1F,cAAe,EACf,WAAY,CAAA,EAEV+hB,KAAkBC,GACpBP,GAAchf,EAAI,EAGlB,WAAW,IAAM,CACJif,GAAA,MAAM,OAAS,GAAGM,EAAAA,KAC7B1Z,GAAOoZ,EAAU,EACjB3f,GAAqB2f,GAAY,IAAMD,GAAchf,EAAI,CAAC,CAAA,EACzD,EAAE,CAAA,MAEEkf,IAAKzc,GAAM,MAAMyc,EAAG,EAE/BN,GAAc,cAAgBS,GAE9B1gB,GAAcpB,GAASqhB,EAAa,CACtC,EAOMY,GAAkBxf,IAAc,CACpC,GAAM,CAAE,QAAAzC,GAAS,QAAS6hB,GAAa,WAAAH,GAAY,IAAAC,EAAQ,EAAAlf,GACrD,CAAE,IAAAqf,GAAK,QAAA9H,EAAAA,EAAa2H,IAAOH,GAAW,IAAIG,EAAG,GAAiC,CAAE,IAAK,KAAM,QAAS,IAAK,EAC3GI,GAAgB,EAehB,GAZAL,IAAcG,IAAehgB,GAASggB,GAAaxiB,EAAS,IAC9D,CAAC2a,GAAS6H,EAAW,EAAE,QAAa3kB,IAAA,CAC9BwK,GAAcxK,EAAC,GAAG0F,GAAS1F,GAAG,iBAAiB,CAAA,CACpD,EACe6kB,GAAAra,GAAcsS,EAAO,EAAIA,GAAQ,aAA0C,GAI7FoH,GAAa,cAAgBU,GAC7BP,GAAe,cAAgBvhB,GAC/BoB,GAAcpB,GAASohB,EAAY,EAE/B,CAACA,GAAa,iBAAkB,CAKlC,GAJIS,IAAajf,GAASif,GAAa7f,EAAW,EAC9CgY,IAASlY,GAAYkY,GAAShY,EAAW,EAGzC0f,IAAcG,IAAehgB,GAASggB,GAAaxiB,EAAS,EAAG,CACjE,IAAM2iB,GAAaH,GAAY,aACpBL,GAAA,IAAIxhB,GAAS,CAAE,cAAA+hB,GAAe,WAAAC,GAAY,IAAK,KAAM,QAAS,IAAA,CAAM,EAE/Epf,GAAS8e,GAAYjZ,EAAe,EACzBiZ,GAAA,MAAM,OAAS,GAAGK,EAAAA,KAC7BzZ,GAAOoZ,EAAU,EACjB,CAAC1H,GAAS6H,EAAW,EAAE,QAAa3kB,IAAA,CAC9BA,IAAG4E,GAAY5E,GAAG,iBAAiB,CAAA,CACxC,CAAA,CAGC2kB,IAAeA,IAAehgB,GAASggB,GAAaxiB,EAAS,EAC/D,WAAW,IAAM,CACfuD,GAASif,GAAaviB,EAAS,EAC/ByC,GAAqB8f,GAAa,IAAM,CACtCD,GAAenf,EAAI,CAAA,CACpB,CAAA,EACA,CAAC,GAEAof,IAAajf,GAASif,GAAaviB,EAAS,EAChDsiB,GAAenf,EAAI,GAGjBqf,IAAK1gB,GAAc0gB,GAAKP,EAAc,CAAA,CAE9C,EAQMW,GAAgBzf,IAAwE,CACtF,GAAA,CAAE,IAAAkf,EAAQ,EAAAlf,GAEZ,GAAA,CAACiF,GAAcia,EAA8B,EAAG,MAAO,CAAE,IAAK,KAAM,QAAS,IAAK,EAEhF,IAAAQ,GAAaxa,GAAuB3F,GAAa2f,EAAkB,EACrEG,GAA0B,KAE1BK,GAAW,SAAW,GAAK,CAACtX,GAAgB,KAAK3N,IAAK2E,GAASsgB,GAAW,CAAC,EAAE,cAA8BjlB,EAAC,CAAC,EAC/G,CAAC4kB,EAAG,EAAIK,GACCA,GAAW,OAAS,IACvBL,GAAAK,GAAWA,GAAW,OAAS,CAAC,GAExC,IAAMnI,GAAUtS,GAAcoa,EAAkB,EAAI1e,GAAiB0e,EAAkB,EAAI,KACpF,MAAA,CAAE,IAAAA,GAAK,QAAA9H,EAAAA,CAChB,EAQMoI,GAAqBpiB,IAA8C,CAEnE,GAAA,CAAC0H,GAAc1H,EAAO,EAAU,OAAA,KACpC,IAAMqiB,GAAW3e,GAAQ1D,GAAS,IAAI6K,GAAgB,KAAK,IAAI,CAAA,EAAG,EAClE,OAAOwX,GAAWpiB,GAAc,IAAI4K,GAAgB,CAAC,CAAA,UAAYwX,EAAQ,EAAI,IAC/E,EAQMC,GAAmB,CAAC7f,GAAWpB,KAAkB,EACtCA,GAAME,GAAcC,IAC5BiB,GAAK,QAASd,GAAiB4gB,EAAe,CACvD,EASMA,GAAmB7nB,IAAa,CAC9B,IAAA+H,GAAOwe,GAAevmB,GAAE,MAAqB,EAG/C+H,KACF/H,GAAE,eAAe,EACjB+H,GAAK,KAAK,EAEd,EAKqB0e,GAArB,cAAiCthB,EAAc,CAW7C,YAAYC,GAA8B,CACxC,MAAMA,EAAM,EAGN,GAAA,CAAE,QAAAE,EAAY,EAAA,KACdga,GAAU5W,GAAiBpD,EAAO,EAIxC,GAAIga,GAAS,CACL,IAAA2H,GAAMje,GAAQ1D,GAAS,MAAM,EAC7B2X,GAAYjU,GAAQsW,GAAS,cAAc,EAEjD,KAAK,IAAM2H,GACX,KAAK,QAAU3H,GACf,KAAK,WAAarC,GAGb,KAAA,SAAWyK,GAAkBpiB,EAAO,EAIzC,GAAM,CAAE,IAAA8hB,EAAA,EAAQI,GAAa,IAAI,EAC7B,GAAAP,IAAO,CAACG,GAAK,CACT,IAAAU,GAAWviB,GAAc+gB,GAAaW,EAAG,EACzCc,GAAkBD,IAAYpf,GAAiBof,EAAQ,EAGzDC,KACF7f,GAAS4f,GAAUxgB,EAAW,EAC9BY,GAAS6f,GAAiBnjB,EAAS,EACnCsD,GAAS6f,GAAiBzgB,EAAW,EACxBa,GAAA7C,GAAS0iB,GAAc,MAAM,EAAA,CAK9CJ,GAAiB,KAAM,EAAI,CAAA,CAE/B,CAKA,IAAI,MAAO,CACF,OAAAvB,EACT,CAKA,MAAO,CACL,GAAM,CAAE,QAAA/gB,GAAS,QAAS6hB,GAAa,IAAAF,GAAK,SAAAU,EAAa,EAAA,KAGrD,GAAA,EAAEV,IAAOzc,GAAM,IAAIyc,EAAG,IAAM,CAAC9f,GAAS7B,GAASgC,EAAW,EAAG,CAC/D,GAAM,CAAE,IAAA8f,GAAK,QAAA9H,EAAQ,EAAIkI,GAAa,IAAI,EAStC,GANAP,IAAgBH,GAAA,IAAIG,GAAK,CAAE,IAAAG,GAAK,QAAA9H,GAAS,cAAe,EAAG,WAAY,CAAA,CAAG,EAG9EsH,GAAa,cAAgBthB,GAGzB0H,GAAcoa,EAAG,IACnB1gB,GAAc0gB,GAAoBR,EAAY,EAE1C,CAACA,GAAa,kBAAkB,CAClC1e,GAAS5C,GAASgC,EAAW,EAChBa,GAAA7C,GAAS0iB,GAAc,MAAM,EAE1C,IAAMC,GAAiBjb,GAAcoa,EAAG,GAAKM,GAAkBN,EAAG,EAMlE,GALIa,IAAkB9gB,GAAS8gB,GAAgB3gB,EAAW,GACxDF,GAAY6gB,GAAgB3gB,EAAW,EAIrC2f,GAAK,CACP,IAAMiB,GAAY,IAAM,CAClBd,KACFhgB,GAAYggB,GAAK9f,EAAW,EACfa,GAAAif,GAAKY,GAAc,OAAO,GAErCL,IAAY,CAACxgB,GAASwgB,GAAUrgB,EAAW,GAAGY,GAASyf,GAAUrgB,EAAW,CAAA,EAG9EgY,KAAYnY,GAASmY,GAAS3a,EAAS,GAAMwiB,IAAehgB,GAASggB,GAAaxiB,EAAS,GACvF6F,GAAA,IAAIyc,GAAKiB,GAAW,CAAC,EACZA,GAAAA,EAGf5I,KACFlY,GAAYkY,GAAS1a,EAAS,EAC1BuC,GAASmY,GAAS3a,EAAS,EAC7B0C,GAAqBiY,GAAS,IAAMiI,GAAe,IAAI,CAAC,EAExDA,GAAe,IAAI,EAAA,CAAA,CAM/B,CAGA,SAAU,CACRK,GAAiB,IAAI,EACrB,MAAM,QAAQ,CAChB,CACF,EAxHE1gB,GADmBuf,GACZ,WAAWH,EAAAA,EAClBpf,GAFmBuf,GAEZ,OAAOD,EAAAA,EACdtf,GAHmBuf,GAGZ,cAAcF,EAAAA,ECvPvB,IAAM4B,GAAc,QCAdC,GAAiB,QCqCjBC,GAAgB,IAAIF,EAAAA,GACpBG,GAAuB,IAAIzjB,EAAAA,KAAkBsjB,EAAAA,KAC7CI,GAAsB,IAAIhhB,EAAAA,KAAiB4gB,EAAAA,KAC3CK,GAAe,UAEfC,GAAY,OAEZC,GAAgB,CACpB,UAAW,GACX,SAAU,GACV,MAAO,GACT,EAMMC,GAAoBrjB,IAAyBW,GAAmBX,GAAS8iB,EAAc,EAKvFQ,GAAqBtjB,IAAyB,IAAIujB,GAAMvjB,EAAO,EAI/DwjB,GAAiBziB,GAA8B,WAAW8hB,EAAAA,EAAa,EACvEY,GAAkB1iB,GAA8B,YAAY8hB,EAAAA,EAAa,EACzEa,GAAiB3iB,GAA8B,WAAW8hB,EAAAA,EAAa,EACvEc,GAAmB5iB,GAA8B,aAAa8hB,EAAAA,EAAa,EAS3Ee,GAAqBnhB,IAAgB,CACnC,GAAA,CAAE,QAAAzC,GAAS,QAAA6E,EAAY,EAAApC,GAC7BX,GAAY9B,GAASkjB,EAAY,EAC3Bhe,GAAA,MAAMlF,GAASkjB,EAAY,EAEjC9hB,GAAcpB,GAASyjB,EAAe,EAElC5e,GAAQ,UACJK,GAAA,IAAIlF,GAAS,IAAMyC,GAAK,KAAA,EAAQoC,GAAQ,MAAOge,EAAW,CAEpE,EAOMgB,GAAqBphB,IAAgB,CACnC,GAAA,CAAE,QAAAzC,EAAY,EAAAyC,GACpBX,GAAY9B,GAASkjB,EAAY,EACjCphB,GAAY9B,GAASV,EAAS,EAC9BsD,GAAS5C,GAASmjB,EAAS,EACrBje,GAAA,MAAMlF,GAAS6iB,EAAW,EAChCzhB,GAAcpB,GAAS2jB,EAAgB,CACzC,EAOMG,GAAarhB,IAAgB,CAC3B,GAAA,CAAE,QAAAzC,GAAS,QAAA6E,EAAY,EAAApC,GAC7BG,GAAS5C,GAASkjB,EAAY,EAE1Bre,GAAQ,WACVyD,GAAOtI,EAAO,EACd+B,GAAqB/B,GAAS,IAAM6jB,GAAkBphB,EAAI,CAAC,GAE3DohB,GAAkBphB,EAAI,CAE1B,EAOMshB,GAAathB,IAAgB,CAC3B,GAAA,CAAE,QAAAzC,GAAS,QAAA6E,EAAY,EAAApC,GACvByC,GAAA,IACJlF,GACA,IAAM,CACJ8B,GAAY9B,GAASmjB,EAAS,EAC9B7a,GAAOtI,EAAO,EACd4C,GAAS5C,GAASV,EAAS,EAC3BsD,GAAS5C,GAASkjB,EAAY,EAE1Bre,GAAQ,UACV9C,GAAqB/B,GAAS,IAAM4jB,GAAkBnhB,EAAI,CAAC,EAE3DmhB,GAAkBnhB,EAAI,CAE1B,EACA,GACAygB,EAAA,CAEJ,EAQMc,GAAsB,CAACvhB,GAAapB,KAAkB,CACpD,IAAAC,GAASD,GAAME,GAAcC,GAC7B,CAAE,QAAAxB,GAAS,SAAAwJ,GAAU,QAAA/H,GAAS,QAAAoD,GAAS,KAAAof,EAAS,EAAAxhB,GAGlDhB,IACKH,GAAAG,GAASE,GAAiBsiB,EAAI,EAInCpf,GAAQ,UACV,CAACuY,GAAcC,GAAenW,GAAiBC,EAAe,EAAE,QAC9DzM,IAAA4G,GAAOtB,GAAStF,GAAGwpB,EAAwC,CAAA,EAI3D1a,GAAS,QACXA,GAAS,QAAeG,IAAArI,GAAOqI,GAAKhI,GAAiBwiB,EAAiB,CAAC,CAE3E,EASMC,GAAwB3hB,IAAgB,CACtCyC,GAAA,MAAMzC,GAAK,QAASogB,EAAW,EACrCmB,GAAoBvhB,EAAI,CAC1B,EAOM0hB,GAAqBzpB,IAAa,CAChC,GAAA,CAAE,OAAAoF,EAAW,EAAApF,GAEbsP,GAAUlK,IAAU4D,GAAQ5D,GAAuBmjB,EAAmB,EACtEjjB,GAAUgK,IAAW5G,GAAiB4G,EAAO,EAC7CvH,GAAOzC,IAAWqjB,GAAiBrjB,EAAO,EAG5CyC,KAEEuH,IAAWA,GAAQ,UAAY,KAAKtP,GAAE,eAAe,EACzD+H,GAAK,cAAgBuH,GACrBvH,GAAK,KAAK,EAEd,EAQMyhB,GAA2BxpB,IAAkB,CACjD,IAAMsF,GAAUtF,GAAE,OACZ+H,GAAO4gB,GAAiBrjB,EAAO,EAC/B,CAAE,KAAA0O,GAAM,cAAAuF,EAAkB,EAAAvZ,GAG5B+H,IAAQzC,KAAYiU,IAAiB,CAACjU,GAAQ,SAASiU,EAAqB,IAC1E,CAAC/M,GAAiBkW,EAAY,EAAE,SAAS1O,EAAI,EACzCxJ,GAAA,MAAMlF,GAAS6iB,EAAW,EAE1B3d,GAAA,IAAIlF,GAAS,IAAMyC,GAAK,KAAA,EAAQA,GAAK,QAAQ,MAAOogB,EAAW,EAG3E,EAKqBU,GAArB,cAAmC1jB,EAAc,CAa/C,YAAYC,GAA8BC,GAAgC,CACxE,MAAMD,GAAQC,EAAM,EAwCtB6B,GAAA,KAAA,OAAO,IAAM,CACL,GAAA,CAAE,QAAA5B,GAAS,QAAAqkB,EAAY,EAAA,KAGzBrkB,IAAW,CAACqkB,KACdjjB,GAAcpB,GAASwjB,EAAc,EAChCA,GAAe,kBAClBO,GAAU,IAAI,EAElB,CAAA,EAIFniB,GAAA,KAAA,OAAO,IAAM,CACL,GAAA,CAAE,QAAA5B,GAAS,QAAAqkB,EAAY,EAAA,KAGzBrkB,IAAWqkB,KACbjjB,GAAcpB,GAAS0jB,EAAc,EAChCA,GAAe,kBAClBI,GAAU,IAAI,EAElB,CAAA,EA7DM,GAAA,CAAE,QAAA9jB,GAAS,QAAA6E,EAAY,EAAA,KAGzBA,GAAQ,WAAa,CAAChD,GAAS7B,GAASX,EAAS,EAAGuD,GAAS5C,GAASX,EAAS,EAC1E,CAACwF,GAAQ,WAAahD,GAAS7B,GAASX,EAAS,GAAGyC,GAAY9B,GAASX,EAAS,EAGtF,KAAA,QAAUY,GAAc+iB,GAAsBhjB,EAAO,EAGrD,KAAA,SAAW,CAAC,GAAG0F,GAAiBud,GAAqB1f,GAAYvD,EAAO,CAAC,CAAC,EAAE,OAC/E2J,IAAOvG,GAAiBuG,EAAG,IAAM3J,EAAA,EAInCgkB,GAAoB,KAAM,EAAI,CAChC,CAIA,IAAI,MAAO,CACF,OAAAlB,EACT,CAIA,IAAI,UAAW,CACN,OAAAM,EACT,CAIA,IAAI,SAAU,CACL,OAAAvhB,GAAS,KAAK,QAASvC,EAAS,CACzC,CA+BA,SAAU,CACF,GAAA,CAAE,QAAAU,GAAS,QAAAqkB,EAAY,EAAA,KAGzBA,IACFviB,GAAY9B,GAASV,EAAS,EAGhC8kB,GAAqB,IAAI,EAEzB,MAAM,QAAQ,CAChB,CACF,EA3FExiB,GADmB2hB,GACZ,WAAWR,EAAAA,EAClBnhB,GAFmB2hB,GAEZ,OAAOD,EAAAA,EACd1hB,GAHmB2hB,GAGZ,cAAcF,EAAAA,ECvNvB,IAAMiB,GAAAA,IAAqB,IAgB3B,CAACzjB,GAAO0B,GAAQ4B,GAAU8E,GAAUgC,GAAU4H,GAAO8C,GAAWgJ,GAASO,GAAWiC,GAAKoC,GAAOlH,EAAO,EAAE,QAAQhiB,IAC/GiqB,GAAe,IAAIpnB,GAAE,UAAU,KAAMA,EAAC,CACxC,EAQA,IAAMqnB,GAAuB,CAC3BpP,GACAqP,KACG,CACH,CAAC,GAAGA,EAAU,EAAE,QAAalqB,IAAA6a,GAAS7a,EAAC,CAAC,CAC1C,EALA,IA4BamqB,GAAgBC,IAAyB,CACpD,IAAMC,GAASD,IAAWA,GAAQ,SAAWA,GAAU,SACjDE,GAAiB,CAAC,GAAGC,GAAqB,IAAKF,EAAM,CAAC,EAE5DG,GAAe,QAAcC,IAAA,CACrB,GAAA,CAAE,KAAAC,GAAM,SAAAC,EAAa,EAAAF,GAC3BG,GACEF,GACAJ,GAAe,OAAOO,IAAQC,GAAQD,GAAMF,EAAQ,CAAC,CAAA,CACvD,CACD,CACH,EAgBI,SAAS,KAAmBI,GAAAA,EAElBC,GAAA,SAAU,mBAAoB,IAAMD,GAAAA,EAAgB,CAAE,KAAM,EAAA,CAAM,ECpGjE,SAARE,IAAoB,CACzB,SAAS,KAAK,iBAAiB,qBAAuBC,IAAQ,CAC5DA,GAAI,OAAO,QAAQ,cAAc,EAAI,SAAS,cAC5C,yBACF,EAAE,OACJ,CAAC,CACH,CCNe,SAARC,IAAoB,CACzB,IAAMC,GAAmB,aACnBC,GAAqB,eAEvBC,GAAkB,SAAUC,GAAK,CACnC,IAAIC,GAAMD,GAAI,OAEVE,GADOD,GAAI,QAAQ,MAAM,EACb,iBAAiB,wBAAwB,EACrDE,GAAcF,GAAI,aAAeJ,GACrCK,GAAK,QAASE,IAAQA,GAAG,QAAUD,EAAY,EAC/CF,GAAI,YAAcE,GAAcL,GAAqBD,EACvD,EAEA,SAAS,iBAAiB,uBAAuB,EAAE,QAASI,IAAQ,CAClEA,GAAI,iBAAiB,QAASF,EAAe,EAI7C,IAAIG,GADOD,GAAI,QAAQ,MAAM,EACb,iBAAiB,wBAAwB,EACrDE,GAAc,GAClB,QAASE,GAAI,EAAGA,GAAIH,GAAK,OAAQG,KAC/B,GAAIH,GAAKG,EAAC,EAAE,QAAS,CACnBF,GAAc,GACd,KACF,CAEFF,GAAI,YAAcE,GAAcN,GAAmBC,EACrD,CAAC,CACH,CC5Be,SAARQ,GAAkBC,GAAQ,CAC/BA,GAAO,iBAAiB,kBAAkB,EAAE,QAASC,IAAQ,CAC3DA,GAAI,iBAAiB,QAAS,IAAM,CAClC,UAAU,UAAU,UAAUA,GAAI,QAAQ,SAAS,EAAE,KAAK,IAAM,CAC9D,IAAIC,GAAOD,GAAI,cAAc,KAAK,EAC9BE,GAAOF,GAAI,cAAc,WAAW,EACpCG,GAAeH,GAAI,UACnBI,GAAgBH,GAAK,UACrBI,GAAgBH,GAAK,UACrBI,GAAWJ,GAAK,UAEpBF,GAAI,UAAU,OAAO,uBAAuB,EAC5CA,GAAI,UAAU,IAAI,qBAAqB,EAEvCC,GAAK,UAAU,OAAO,UAAW,YAAY,EAC7CA,GAAK,UAAU,IAAI,WAAY,cAAc,EAE7CC,GAAK,UAAU,OAAO,YAAY,EAClCA,GAAK,UAAU,IAAI,cAAc,EACjCA,GAAK,aAAa,YAAa,QAAQ,EACvCA,GAAK,UAAY,SAEjB,WAAW,UAAY,CACrBF,GAAI,UAAYG,GAChBF,GAAK,UAAYG,GACjBF,GAAK,UAAYG,GACjBH,GAAK,UAAYI,EACnB,EAAG,IAAI,CACT,CAAC,CACH,CAAC,CACH,CAAC,CACH,CC/BA,IAAAC,GAAiB,SAGF,SAARC,IAAoB,CACzB,IAAIC,GAAY,SAAUC,GAAQ,CAChCA,GACG,iBAAiB,iCAAiC,EAClD,QAAQ,SAAUC,GAAI,CACrB,IAAIC,GAAY,SAAS,cAAcD,GAAG,QAAQ,cAAc,EAC5DE,GAAUD,GAAU,cAAc,eAAe,EACjDE,GAAUF,GAAU,cAAc,kBAAkB,EACpDG,GAAQ,GACRD,KACFC,GAAQD,GAAQ,WAElB,IAAIE,GAAQL,GAAI,CACd,QAASE,GAAQ,UACjB,MAAOE,GACP,MAAO,GACT,CAAC,CACH,CAAC,CACL,EAEA,GAAAE,QAAK,OAAOR,EAAS,CACvB,CCjBe,SAARS,IAAoB,CACzB,MAAMC,EAAO,CACX,YAAYC,GAAI,CACd,KAAK,GAAKA,GACV,KAAK,WAAaA,GAAG,iBAAiB,4BAA4B,EAClE,KAAK,UAAY,GACjB,KAAK,KAAK,CACZ,CAEA,MAAO,CACL,GAAI,CACF,IAAMC,GAAa,KAAK,MACtB,aAAa,QAAQC,EAAwB,CAC/C,EACAC,GAAc,OAAO,OAAO,CAAC,EAAGA,GAAaF,EAAU,CACzD,MAAc,CACZ,QAAQ,KACN,0EACF,CACF,CAGIE,GAAY,WACd,KAAK,KAAK,EAEV,KAAK,KAAK,EAGZ,KAAK,YAAY,QAASC,IACxBA,GAAU,iBAAiB,QAAS,IAAI,CAC1C,CACF,CAEA,YAAYC,GAAO,CACjB,KAAK,OAAOA,EAAK,CACnB,CAEA,OAAOA,GAAO,CACR,KAAK,UAAW,KAAK,KAAK,EACpB,KAAK,WAAW,KAAK,KAAK,CACtC,CAEA,MAAO,CACL,KAAK,GAAG,QAAQ,UAAY,GAC5B,KAAK,UAAY,GACjBF,GAAY,WAAa,GAEzB,KAAK,aAAa,CACpB,CAEA,cAAe,CACb,aAAa,QACXD,GACA,KAAK,UAAUC,EAAW,CAC5B,CACF,CAEA,MAAO,CACL,KAAK,GAAG,QAAQ,UAAY,GAC5B,KAAK,UAAY,GACjBA,GAAY,WAAa,GACzB,KAAK,aAAa,CACpB,CACF,CAEA,IAAIA,GAAc,CAChB,WAAY,EACd,EAEMG,GAAqB,SAAS,iBAAiB,uBAAuB,EACtEJ,GAA2B,qBAE7BI,GAAmB,QACrB,CAAC,GAAGA,EAAkB,EAAE,IACrBC,IAAsB,IAAIR,GAAOQ,EAAiB,CACrD,CACJ,CCnFA,IAAAC,GAAiB,SAGF,SAARC,IAAoB,CACzB,IAAMC,GAAS,kBAETC,GAAgB,CAACC,GAAWC,KAAe,CAC/C,MAAM,KAAKD,GAAU,qBAAqB,GAAG,CAAC,EAAE,QAAQ,SAAUE,GAAI,CACpE,GAAIA,GAAG,cAAc,EAAG,CACtB,IAAIC,GAAQD,GAAG,WACf,QAASE,GAAI,EAAGA,GAAID,GAAM,OAAQC,KAAK,CACrC,IAAIC,GAAIF,GAAMC,EAAC,EAAE,KAAK,MAAMN,EAAM,EAC9BO,IACFH,GAAG,aAAaG,GAAE,CAAC,EAAGF,GAAMC,EAAC,EAAE,MAAM,QAAQ,MAAOH,EAAU,CAAC,CAEnE,CACF,CACF,CAAC,CACH,EAEMK,GAAaC,IAAW,CAE5B,IAAIC,GAAkB,SAAUC,GAAG,CACjC,IAAIC,GAAYD,GAAE,OAAO,QAAQ,iBAAiB,EAClDA,GAAE,OAAO,QAAQ,gBAAgB,EAAE,OAAO,EAC1C,IAAIE,GAAS,MAAM,KAAKD,GAAU,QAAQ,EAAE,OAE5C,QAAST,GAAa,EAAGA,GAAaU,GAAQV,KAC5CF,GAAcW,GAAU,SAAST,EAAU,EAAGA,EAAU,CAE5D,EAGIW,GAAe,SAAUH,GAAG,CAE9B,IAAII,GADYJ,GAAE,OAAO,QAAQ,iBAAiB,EACvB,iBAAiB,gBAAgB,EACxDK,GAAYD,GAAWA,GAAW,OAAS,CAAC,EAC5CZ,GAAaY,GAAW,OAExBE,GAAWD,GAAU,UAAU,EAAI,EACvCC,GAAS,cAAc,eAAe,EAAE,MAAQ,GAChDA,GAAS,iBAAiB,aAAa,EAAE,QAASC,IAAS,CACzDA,GAAK,UAAU,OAAO,YAAY,CACpC,CAAC,EAGDjB,GAAcgB,GAAUd,EAAU,EAGlC,IAAIgB,GAAUH,GAAU,cAAc,uBAAuB,EACzDI,GAAYD,GAAQ,UACxBC,GAAU,OAAO,gBAAgB,EACjCA,GAAU,OAAO,qBAAqB,EACtCA,GAAU,IAAI,gBAAgB,EAC9BA,GAAU,IAAI,mBAAmB,EACjCA,GAAYJ,GAAU,cAAc,UAAU,EAAE,UAChDI,GAAU,OAAO,QAAQ,EACzBA,GAAU,IAAI,WAAW,EACzBJ,GAAU,cACR,qCACF,EAAE,YAAc,SAChBG,GAAQ,oBAAoB,QAASL,EAAY,EACjDK,GAAQ,iBAAiB,QAAST,EAAe,EAGjDM,GAAU,MAAMC,EAAQ,EAExB,GAAAI,QAAK,QAAQJ,EAAQ,EAErBA,GACG,cAAc,uBAAuB,EACrC,iBAAiB,QAASH,EAAY,EAEzCG,GAAS,cACP,IAAI,YAAY,iBAAkB,CAAE,QAAS,EAAK,CAAC,CACrD,CACF,EAEAR,GACG,iBAAiB,0BAA0B,EAC3C,QAASL,IAAOA,GAAG,iBAAiB,QAASM,EAAe,CAAC,EAEhED,GACG,iBAAiB,uBAAuB,EACxC,QAASL,IAAOA,GAAG,iBAAiB,QAASU,EAAY,CAAC,CAC/D,EAEA,GAAAO,QAAK,OAAOb,EAAS,CACvB,CCxFe,SAARc,IAAoB,CACzB,SAAS,iBAAiB,yBAAyB,EAAE,QAAQ,SAAUC,GAAI,CACzEA,GAAG,iBAAiB,SAAU,SAAUC,GAAK,CAC3C,IAAMC,GAAUF,GAAG,cAAc,iBAAiB,EAC9CE,KAAY,OACdA,GAAQ,MAAM,QAAU,eACxBA,GAAQ,MAAM,QAAU,KAG1BF,GAAG,OAAO,CACZ,CAAC,CACH,CAAC,EAED,SAAS,iBAAiB,0BAA0B,EAAE,QAAQ,SAAUA,GAAI,CAC1EA,GAAG,iBAAiB,SAAU,SAAUC,GAAK,CAC3CA,GAAI,OAAO,QAAQ,MAAM,EAAE,OAAO,CACpC,CAAC,CACH,CAAC,CACH,CClBA,IAAAE,GAAiB,SAEF,SAARC,IAAoB,CACzB,IAAIC,GAAY,SAAUC,GAAQ,CAChCA,GAAO,iBAAiB,eAAe,EAAE,QAAQ,SAAUC,GAAI,CAChD,SAAS,cAAcA,GAAG,QAAQ,MAAM,EAC9C,iBAAiB,UAAW,SAAUC,GAAK,CAC5CA,GAAI,MAAQ,WACdD,GAAG,cAAc,oBAAoB,EAAE,UAAY,GAEvD,CAAC,CACH,CAAC,EAEDD,GAAO,iBAAiB,mBAAmB,EAAE,QAAQ,SAAUG,GAAK,CAClEA,GAAI,iBAAiB,QAAS,UAAY,CACxC,IAAIC,GAASD,GAAI,QAAQ,eAAe,EAAE,QAAQ,OAC9CE,GAAIF,GAAI,QAAQ,MACpB,SAAS,cAAcC,EAAM,EAAE,MAAQC,GACvCF,GAAI,QAAQ,oBAAoB,EAAE,UAAY,EAChD,CAAC,CACH,CAAC,CACH,EAEA,GAAAG,QAAK,OAAO,SAAUC,GAAI,CACxBR,GAAUQ,EAAE,CACd,CAAC,EAED,SAAS,iBAAiB,iBAAkB,SAAUL,GAAK,CACzDH,GAAUG,GAAI,MAAM,CACtB,CAAC,CACH,CC9BA,IAAAM,GAAiB,SAIF,SAARC,IAAoB,CACzB,IAAIC,GAAa,SAAUC,GAAK,CAC9B,IAAIC,GAAQ,SAAS,iBAAiB,QAAQ,EAAE,KAAK,CAAC,EAClDC,GAAW,SAAS,iBAAiB,iBAAiB,EAAE,KAAK,CAAC,EAE9DD,IACFA,GAAM,UAAU,OAAO,MAAM,EAG3BC,IACFA,GAAS,UAAU,OAAO,MAAM,EAIlC,WAAW,UAAY,CACjBA,IACFA,GAAS,OAAO,EAGdD,IACFA,GAAM,OAAO,CAEjB,EAAG,GAAG,CACR,EAEA,GAAAE,QAAK,OAAO,SAAUC,GAAI,CACxBA,GAAG,iBAAiB,cAAc,EAAE,QAAQ,SAAUC,GAAK,CACzDA,GAAI,iBAAiB,QAASN,EAAU,CAC1C,CAAC,CACH,CAAC,CACH,CClCA,IAAAO,GAAiB,SAEF,SAARC,IAAoB,CACzB,IAAIC,GAAiB,SAAUC,GAAK,CACtBA,GAAI,cAAc,QAAQ,mBAAmB,EACvC,iBAAiB,eAAe,EAC5C,QAAQ,SAAUC,GAAM,CAC5BA,GAAK,aAAa,gBAAiB,OAAO,EAC1CA,GAAK,UAAU,OAAO,wBAAwB,CAChD,CAAC,EACDD,GAAI,cAAc,aAAa,gBAAiB,MAAM,EACtDA,GAAI,cAAc,UAAU,IAAI,wBAAwB,CAC1D,EAEIE,GAAY,SAAUC,GAAQ,CAChCA,GACG,iBAAiB,iCAAiC,EAClD,QAASF,IAASA,GAAK,iBAAiB,QAASF,EAAc,CAAC,CACrE,EAEAG,GAAU,QAAQ,EAElB,GAAAE,QAAK,OAAOF,EAAS,CACvB,CCvBA,IAAAG,GAAiB,SAEF,SAARC,IAAoB,CACzB,IAAIC,GAAY,SAAUC,GAAQ,CAChCA,GACG,iBAAiB,qCAAqC,EACtD,QAAQ,SAAUC,GAAK,CACtBA,GAAI,iBAAiB,QAAS,IAAM,CAClCA,GAAI,QAAQ,QAAQ,EAAE,OAAO,CAC/B,CAAC,CACH,CAAC,CACL,EAEA,GAAAC,QAAK,OAAOH,EAAS,CACvB,CCdA,IAAAI,GAAiB,SCMjB,SAASC,GAAQC,GAAQC,GAAgB,CACvC,IAAIC,GAAO,OAAO,KAAKF,EAAM,EAE7B,GAAI,OAAO,sBAAuB,CAChC,IAAIG,GAAU,OAAO,sBAAsBH,EAAM,EAE7CC,KACFE,GAAUA,GAAQ,OAAO,SAAUC,GAAK,CACtC,OAAO,OAAO,yBAAyBJ,GAAQI,EAAG,EAAE,UACtD,CAAC,GAGHF,GAAK,KAAK,MAAMA,GAAMC,EAAO,CAC/B,CAEA,OAAOD,EACT,CAEA,SAASG,GAAeC,GAAQ,CAC9B,QAASC,GAAI,EAAGA,GAAI,UAAU,OAAQA,KAAK,CACzC,IAAIC,GAAS,UAAUD,EAAC,GAAK,KAAO,UAAUA,EAAC,EAAI,CAAC,EAEhDA,GAAI,EACNR,GAAQ,OAAOS,EAAM,EAAG,EAAI,EAAE,QAAQ,SAAUC,GAAK,CACnDC,GAAgBJ,GAAQG,GAAKD,GAAOC,EAAG,CAAC,CAC1C,CAAC,EACQ,OAAO,0BAChB,OAAO,iBAAiBH,GAAQ,OAAO,0BAA0BE,EAAM,CAAC,EAExET,GAAQ,OAAOS,EAAM,CAAC,EAAE,QAAQ,SAAUC,GAAK,CAC7C,OAAO,eAAeH,GAAQG,GAAK,OAAO,yBAAyBD,GAAQC,EAAG,CAAC,CACjF,CAAC,CAEL,CAEA,OAAOH,EACT,CAEA,SAASK,GAAQC,GAAK,CACpB,0BAEA,OAAI,OAAO,QAAW,YAAc,OAAO,OAAO,UAAa,SAC7DD,GAAU,SAAUC,GAAK,CACvB,OAAO,OAAOA,EAChB,EAEAD,GAAU,SAAUC,GAAK,CACvB,OAAOA,IAAO,OAAO,QAAW,YAAcA,GAAI,cAAgB,QAAUA,KAAQ,OAAO,UAAY,SAAW,OAAOA,EAC3H,EAGKD,GAAQC,EAAG,CACpB,CAEA,SAASF,GAAgBE,GAAKH,GAAKI,GAAO,CACxC,OAAIJ,MAAOG,GACT,OAAO,eAAeA,GAAKH,GAAK,CAC9B,MAAOI,GACP,WAAY,GACZ,aAAc,GACd,SAAU,EACZ,CAAC,EAEDD,GAAIH,EAAG,EAAII,GAGND,EACT,CAEA,SAASE,IAAW,CAClB,OAAAA,GAAW,OAAO,QAAU,SAAUR,GAAQ,CAC5C,QAASC,GAAI,EAAGA,GAAI,UAAU,OAAQA,KAAK,CACzC,IAAIC,GAAS,UAAUD,EAAC,EAExB,QAASE,MAAOD,GACV,OAAO,UAAU,eAAe,KAAKA,GAAQC,EAAG,IAClDH,GAAOG,EAAG,EAAID,GAAOC,EAAG,EAG9B,CAEA,OAAOH,EACT,EAEOQ,GAAS,MAAM,KAAM,SAAS,CACvC,CAEA,SAASC,GAA8BP,GAAQQ,GAAU,CACvD,GAAIR,IAAU,KAAM,MAAO,CAAC,EAC5B,IAAIF,GAAS,CAAC,EACVW,GAAa,OAAO,KAAKT,EAAM,EAC/BC,GAAKF,GAET,IAAKA,GAAI,EAAGA,GAAIU,GAAW,OAAQV,KACjCE,GAAMQ,GAAWV,EAAC,EACd,EAAAS,GAAS,QAAQP,EAAG,GAAK,KAC7BH,GAAOG,EAAG,EAAID,GAAOC,EAAG,GAG1B,OAAOH,EACT,CAEA,SAASY,GAAyBV,GAAQQ,GAAU,CAClD,GAAIR,IAAU,KAAM,MAAO,CAAC,EAE5B,IAAIF,GAASS,GAA8BP,GAAQQ,EAAQ,EAEvDP,GAAKF,GAET,GAAI,OAAO,sBAAuB,CAChC,IAAIY,GAAmB,OAAO,sBAAsBX,EAAM,EAE1D,IAAKD,GAAI,EAAGA,GAAIY,GAAiB,OAAQZ,KACvCE,GAAMU,GAAiBZ,EAAC,EACpB,EAAAS,GAAS,QAAQP,EAAG,GAAK,IACxB,OAAO,UAAU,qBAAqB,KAAKD,GAAQC,EAAG,IAC3DH,GAAOG,EAAG,EAAID,GAAOC,EAAG,EAE5B,CAEA,OAAOH,EACT,CAmCA,IAAIc,GAAU,SAEd,SAASC,GAAUC,GAAS,CAC1B,GAAI,OAAO,OAAW,KAAe,OAAO,UAC1C,MAAO,CAAC,CAAe,UAAU,UAAU,MAAMA,EAAO,CAE5D,CAEA,IAAIC,GAAaF,GAAU,uDAAuD,EAC9EG,GAAOH,GAAU,OAAO,EACxBI,GAAUJ,GAAU,UAAU,EAC9BK,GAASL,GAAU,SAAS,GAAK,CAACA,GAAU,SAAS,GAAK,CAACA,GAAU,UAAU,EAC/EM,GAAMN,GAAU,iBAAiB,EACjCO,GAAmBP,GAAU,SAAS,GAAKA,GAAU,UAAU,EAE/DQ,GAAc,CAChB,QAAS,GACT,QAAS,EACX,EAEA,SAASC,GAAGC,GAAIC,GAAOC,GAAI,CACzBF,GAAG,iBAAiBC,GAAOC,GAAI,CAACV,IAAcM,EAAW,CAC3D,CAEA,SAASK,GAAIH,GAAIC,GAAOC,GAAI,CAC1BF,GAAG,oBAAoBC,GAAOC,GAAI,CAACV,IAAcM,EAAW,CAC9D,CAEA,SAASM,GAETJ,GAEAK,GAAU,CACR,GAAKA,GAGL,IAFAA,GAAS,CAAC,IAAM,MAAQA,GAAWA,GAAS,UAAU,CAAC,GAEnDL,GACF,GAAI,CACF,GAAIA,GAAG,QACL,OAAOA,GAAG,QAAQK,EAAQ,EACrB,GAAIL,GAAG,kBACZ,OAAOA,GAAG,kBAAkBK,EAAQ,EAC/B,GAAIL,GAAG,sBACZ,OAAOA,GAAG,sBAAsBK,EAAQ,CAE5C,MAAY,CACV,MAAO,EACT,CAGF,MAAO,GACT,CAEA,SAASC,GAAgBN,GAAI,CAC3B,OAAOA,GAAG,MAAQA,KAAO,UAAYA,GAAG,KAAK,SAAWA,GAAG,KAAOA,GAAG,UACvE,CAEA,SAASO,GAETP,GAEAK,GAEAG,GAAKC,GAAY,CACf,GAAIT,GAAI,CACNQ,GAAMA,IAAO,SAEb,EAAG,CACD,GAAIH,IAAY,OAASA,GAAS,CAAC,IAAM,IAAML,GAAG,aAAeQ,IAAOJ,GAAQJ,GAAIK,EAAQ,EAAID,GAAQJ,GAAIK,EAAQ,IAAMI,IAAcT,KAAOQ,GAC7I,OAAOR,GAGT,GAAIA,KAAOQ,GAAK,KAElB,OAASR,GAAKM,GAAgBN,EAAE,EAClC,CAEA,OAAO,IACT,CAEA,IAAIU,GAAU,OAEd,SAASC,GAAYX,GAAIY,GAAMC,GAAO,CACpC,GAAIb,IAAMY,GACR,GAAIZ,GAAG,UACLA,GAAG,UAAUa,GAAQ,MAAQ,QAAQ,EAAED,EAAI,MACtC,CACL,IAAIE,IAAa,IAAMd,GAAG,UAAY,KAAK,QAAQU,GAAS,GAAG,EAAE,QAAQ,IAAME,GAAO,IAAK,GAAG,EAC9FZ,GAAG,WAAac,IAAaD,GAAQ,IAAMD,GAAO,KAAK,QAAQF,GAAS,GAAG,CAC7E,CAEJ,CAEA,SAASK,GAAIf,GAAIgB,GAAMC,GAAK,CAC1B,IAAIC,GAAQlB,IAAMA,GAAG,MAErB,GAAIkB,GAAO,CACT,GAAID,KAAQ,OACV,OAAI,SAAS,aAAe,SAAS,YAAY,iBAC/CA,GAAM,SAAS,YAAY,iBAAiBjB,GAAI,EAAE,EACzCA,GAAG,eACZiB,GAAMjB,GAAG,cAGJgB,KAAS,OAASC,GAAMA,GAAID,EAAI,EAEnC,EAAEA,MAAQE,KAAUF,GAAK,QAAQ,QAAQ,IAAM,KACjDA,GAAO,WAAaA,IAGtBE,GAAMF,EAAI,EAAIC,IAAO,OAAOA,IAAQ,SAAW,GAAK,KAExD,CACF,CAEA,SAASE,GAAOnB,GAAIoB,GAAU,CAC5B,IAAIC,GAAoB,GAExB,GAAI,OAAOrB,IAAO,SAChBqB,GAAoBrB,OAEpB,GAAG,CACD,IAAIsB,GAAYP,GAAIf,GAAI,WAAW,EAE/BsB,IAAaA,KAAc,SAC7BD,GAAoBC,GAAY,IAAMD,GAI1C,OAAS,CAACD,KAAapB,GAAKA,GAAG,aAGjC,IAAIuB,GAAW,OAAO,WAAa,OAAO,iBAAmB,OAAO,WAAa,OAAO,YAGxF,OAAOA,IAAY,IAAIA,GAASF,EAAiB,CACnD,CAEA,SAASG,GAAKhB,GAAKiB,GAASC,GAAU,CACpC,GAAIlB,GAAK,CACP,IAAImB,GAAOnB,GAAI,qBAAqBiB,EAAO,EACvCG,GAAI,EACJC,GAAIF,GAAK,OAEb,GAAID,GACF,KAAOE,GAAIC,GAAGD,KACZF,GAASC,GAAKC,EAAC,EAAGA,EAAC,EAIvB,OAAOD,EACT,CAEA,MAAO,CAAC,CACV,CAEA,SAASG,IAA4B,CACnC,IAAIC,GAAmB,SAAS,iBAEhC,OAAIA,IAGK,SAAS,eAEpB,CAYA,SAASC,GAAQhC,GAAIiC,GAA2BC,GAA2BC,GAAWC,GAAW,CAC/F,GAAI,GAACpC,GAAG,uBAAyBA,KAAO,QACxC,KAAIqC,GAAQC,GAAKC,GAAMC,GAAQC,GAAOC,GAAQC,GAmB9C,GAjBI3C,KAAO,QAAUA,GAAG,YAAcA,KAAO8B,GAA0B,GACrEO,GAASrC,GAAG,sBAAsB,EAClCsC,GAAMD,GAAO,IACbE,GAAOF,GAAO,KACdG,GAASH,GAAO,OAChBI,GAAQJ,GAAO,MACfK,GAASL,GAAO,OAChBM,GAAQN,GAAO,QAEfC,GAAM,EACNC,GAAO,EACPC,GAAS,OAAO,YAChBC,GAAQ,OAAO,WACfC,GAAS,OAAO,YAChBC,GAAQ,OAAO,aAGZV,IAA6BC,KAA8BlC,KAAO,SAErEoC,GAAYA,IAAapC,GAAG,WAGxB,CAACR,IACH,EACE,IAAI4C,IAAaA,GAAU,wBAA0BrB,GAAIqB,GAAW,WAAW,IAAM,QAAUF,IAA6BnB,GAAIqB,GAAW,UAAU,IAAM,UAAW,CACpK,IAAIQ,GAAgBR,GAAU,sBAAsB,EAEpDE,IAAOM,GAAc,IAAM,SAAS7B,GAAIqB,GAAW,kBAAkB,CAAC,EACtEG,IAAQK,GAAc,KAAO,SAAS7B,GAAIqB,GAAW,mBAAmB,CAAC,EACzEI,GAASF,GAAMD,GAAO,OACtBI,GAAQF,GAAOF,GAAO,MACtB,KACF,OAGOD,GAAYA,GAAU,YAInC,GAAID,IAAanC,KAAO,OAAQ,CAE9B,IAAI6C,GAAW1B,GAAOiB,IAAapC,EAAE,EACjC8C,GAASD,IAAYA,GAAS,EAC9BE,GAASF,IAAYA,GAAS,EAE9BA,KACFP,IAAOS,GACPR,IAAQO,GACRH,IAASG,GACTJ,IAAUK,GACVP,GAASF,GAAMI,GACfD,GAAQF,GAAOI,GAEnB,CAEA,MAAO,CACL,IAAKL,GACL,KAAMC,GACN,OAAQC,GACR,MAAOC,GACP,MAAOE,GACP,OAAQD,EACV,EACF,CAUA,SAASM,GAAehD,GAAIiD,GAAQC,GAAY,CAK9C,QAJIC,GAASC,GAA2BpD,GAAI,EAAI,EAC5CqD,GAAYrB,GAAQhC,EAAE,EAAEiD,EAAM,EAG3BE,IAAQ,CACb,IAAIG,GAAgBtB,GAAQmB,EAAM,EAAED,EAAU,EAC1CK,GAAU,OAQd,GANIL,KAAe,OAASA,KAAe,OACzCK,GAAUF,IAAaC,GAEvBC,GAAUF,IAAaC,GAGrB,CAACC,GAAS,OAAOJ,GACrB,GAAIA,KAAWrB,GAA0B,EAAG,MAC5CqB,GAASC,GAA2BD,GAAQ,EAAK,CACnD,CAEA,MAAO,EACT,CAWA,SAASK,GAASxD,GAAIyD,GAAUC,GAASC,GAAe,CAKtD,QAJIC,GAAe,EACfhC,GAAI,EACJiC,GAAW7D,GAAG,SAEX4B,GAAIiC,GAAS,QAAQ,CAC1B,GAAIA,GAASjC,EAAC,EAAE,MAAM,UAAY,QAAUiC,GAASjC,EAAC,IAAMkC,GAAS,QAAUH,IAAiBE,GAASjC,EAAC,IAAMkC,GAAS,UAAYvD,GAAQsD,GAASjC,EAAC,EAAG8B,GAAQ,UAAW1D,GAAI,EAAK,EAAG,CACvL,GAAI4D,KAAiBH,GACnB,OAAOI,GAASjC,EAAC,EAGnBgC,IACF,CAEAhC,IACF,CAEA,OAAO,IACT,CASA,SAASmC,GAAU/D,GAAIK,GAAU,CAG/B,QAFI2D,GAAOhE,GAAG,iBAEPgE,KAASA,KAASF,GAAS,OAAS/C,GAAIiD,GAAM,SAAS,IAAM,QAAU3D,IAAY,CAACD,GAAQ4D,GAAM3D,EAAQ,IAC/G2D,GAAOA,GAAK,uBAGd,OAAOA,IAAQ,IACjB,CAUA,SAASC,GAAMjE,GAAIK,GAAU,CAC3B,IAAI4D,GAAQ,EAEZ,GAAI,CAACjE,IAAM,CAACA,GAAG,WACb,MAAO,GAKT,KAAOA,GAAKA,GAAG,wBACTA,GAAG,SAAS,YAAY,IAAM,YAAcA,KAAO8D,GAAS,QAAU,CAACzD,IAAYD,GAAQJ,GAAIK,EAAQ,IACzG4D,KAIJ,OAAOA,EACT,CASA,SAASC,GAAwBlE,GAAI,CACnC,IAAImE,GAAa,EACbC,GAAY,EACZC,GAAcvC,GAA0B,EAE5C,GAAI9B,GACF,EAAG,CACD,IAAI6C,GAAW1B,GAAOnB,EAAE,EACpB8C,GAASD,GAAS,EAClBE,GAASF,GAAS,EACtBsB,IAAcnE,GAAG,WAAa8C,GAC9BsB,IAAapE,GAAG,UAAY+C,EAC9B,OAAS/C,KAAOqE,KAAgBrE,GAAKA,GAAG,aAG1C,MAAO,CAACmE,GAAYC,EAAS,CAC/B,CASA,SAASE,GAAcC,GAAKC,GAAK,CAC/B,QAAS5C,MAAK2C,GACZ,GAAKA,GAAI,eAAe3C,EAAC,GAEzB,QAAS6C,MAAOD,GACd,GAAIA,GAAI,eAAeC,EAAG,GAAKD,GAAIC,EAAG,IAAMF,GAAI3C,EAAC,EAAE6C,EAAG,EAAG,OAAO,OAAO7C,EAAC,EAI5E,MAAO,EACT,CAEA,SAASwB,GAA2BpD,GAAI0E,GAAa,CAEnD,GAAI,CAAC1E,IAAM,CAACA,GAAG,sBAAuB,OAAO8B,GAA0B,EACvE,IAAI6C,GAAO3E,GACP4E,GAAU,GAEd,EAEE,IAAID,GAAK,YAAcA,GAAK,aAAeA,GAAK,aAAeA,GAAK,aAAc,CAChF,IAAIE,GAAU9D,GAAI4D,EAAI,EAEtB,GAAIA,GAAK,YAAcA,GAAK,cAAgBE,GAAQ,WAAa,QAAUA,GAAQ,WAAa,WAAaF,GAAK,aAAeA,GAAK,eAAiBE,GAAQ,WAAa,QAAUA,GAAQ,WAAa,UAAW,CACpN,GAAI,CAACF,GAAK,uBAAyBA,KAAS,SAAS,KAAM,OAAO7C,GAA0B,EAC5F,GAAI8C,IAAWF,GAAa,OAAOC,GACnCC,GAAU,EACZ,CACF,OAGOD,GAAOA,GAAK,YAErB,OAAO7C,GAA0B,CACnC,CAEA,SAASgD,GAAOC,GAAKC,GAAK,CACxB,GAAID,IAAOC,GACT,QAASP,MAAOO,GACVA,GAAI,eAAeP,EAAG,IACxBM,GAAIN,EAAG,EAAIO,GAAIP,EAAG,GAKxB,OAAOM,EACT,CAEA,SAASE,GAAYC,GAAOC,GAAO,CACjC,OAAO,KAAK,MAAMD,GAAM,GAAG,IAAM,KAAK,MAAMC,GAAM,GAAG,GAAK,KAAK,MAAMD,GAAM,IAAI,IAAM,KAAK,MAAMC,GAAM,IAAI,GAAK,KAAK,MAAMD,GAAM,MAAM,IAAM,KAAK,MAAMC,GAAM,MAAM,GAAK,KAAK,MAAMD,GAAM,KAAK,IAAM,KAAK,MAAMC,GAAM,KAAK,CAC5N,CAEA,IAAIC,GAEJ,SAASC,GAASC,GAAUC,GAAI,CAC9B,OAAO,UAAY,CACjB,GAAI,CAACH,GAAkB,CACrB,IAAII,GAAO,UACPC,GAAQ,KAERD,GAAK,SAAW,EAClBF,GAAS,KAAKG,GAAOD,GAAK,CAAC,CAAC,EAE5BF,GAAS,MAAMG,GAAOD,EAAI,EAG5BJ,GAAmB,WAAW,UAAY,CACxCA,GAAmB,MACrB,EAAGG,EAAE,CACP,CACF,CACF,CAEA,SAASG,IAAiB,CACxB,aAAaN,EAAgB,EAC7BA,GAAmB,MACrB,CAEA,SAASO,GAAS3F,GAAI4F,GAAGC,GAAG,CAC1B7F,GAAG,YAAc4F,GACjB5F,GAAG,WAAa6F,EAClB,CAEA,SAASC,GAAM9F,GAAI,CACjB,IAAI+F,GAAU,OAAO,QACjBC,GAAI,OAAO,QAAU,OAAO,MAEhC,OAAID,IAAWA,GAAQ,IACdA,GAAQ,IAAI/F,EAAE,EAAE,UAAU,EAAI,EAC5BgG,GACFA,GAAEhG,EAAE,EAAE,MAAM,EAAI,EAAE,CAAC,EAEnBA,GAAG,UAAU,EAAI,CAE5B,CAkBA,IAAIiG,GAAU,WAAa,IAAI,KAAK,EAAE,QAAQ,EAE9C,SAASC,IAAwB,CAC/B,IAAIC,GAAkB,CAAC,EACnBC,GACJ,MAAO,CACL,sBAAuB,UAAiC,CAEtD,GADAD,GAAkB,CAAC,EACf,EAAC,KAAK,QAAQ,UAClB,KAAIE,GAAW,CAAC,EAAE,MAAM,KAAK,KAAK,GAAG,QAAQ,EAC7CA,GAAS,QAAQ,SAAUC,GAAO,CAChC,GAAI,EAAAC,GAAID,GAAO,SAAS,IAAM,QAAUA,KAAUE,GAAS,OAC3D,CAAAL,GAAgB,KAAK,CACnB,OAAQG,GACR,KAAMG,GAAQH,EAAK,CACrB,CAAC,EAED,IAAII,GAAWC,GAAe,CAAC,EAAGR,GAAgBA,GAAgB,OAAS,CAAC,EAAE,IAAI,EAGlF,GAAIG,GAAM,sBAAuB,CAC/B,IAAIM,GAAcC,GAAOP,GAAO,EAAI,EAEhCM,KACFF,GAAS,KAAOE,GAAY,EAC5BF,GAAS,MAAQE,GAAY,EAEjC,CAEAN,GAAM,SAAWI,GACnB,CAAC,EACH,EACA,kBAAmB,SAA2BI,GAAO,CACnDX,GAAgB,KAAKW,EAAK,CAC5B,EACA,qBAAsB,SAA8BC,GAAQ,CAC1DZ,GAAgB,OAAOa,GAAcb,GAAiB,CACpD,OAAQY,EACV,CAAC,EAAG,CAAC,CACP,EACA,WAAY,SAAoBE,GAAU,CACxC,IAAIC,GAAQ,KAEZ,GAAI,CAAC,KAAK,QAAQ,UAAW,CAC3B,aAAad,EAAmB,EAC5B,OAAOa,IAAa,YAAYA,GAAS,EAC7C,MACF,CAEA,IAAIE,GAAY,GACZC,GAAgB,EACpBjB,GAAgB,QAAQ,SAAUW,GAAO,CACvC,IAAIO,GAAO,EACPN,GAASD,GAAM,OACfJ,GAAWK,GAAO,SAClBO,GAASb,GAAQM,EAAM,EACvBQ,GAAeR,GAAO,aACtBS,GAAaT,GAAO,WACpBU,GAAgBX,GAAM,KACtBY,GAAeb,GAAOE,GAAQ,EAAI,EAElCW,KAEFJ,GAAO,KAAOI,GAAa,EAC3BJ,GAAO,MAAQI,GAAa,GAG9BX,GAAO,OAASO,GAEZP,GAAO,uBAELY,GAAYJ,GAAcD,EAAM,GAAK,CAACK,GAAYjB,GAAUY,EAAM,IACrEG,GAAc,IAAMH,GAAO,MAAQG,GAAc,KAAOH,GAAO,SAAWZ,GAAS,IAAMY,GAAO,MAAQZ,GAAS,KAAOY,GAAO,QAE9HD,GAAOO,GAAkBH,GAAeF,GAAcC,GAAYN,GAAM,OAAO,GAK9ES,GAAYL,GAAQZ,EAAQ,IAC/BK,GAAO,aAAeL,GACtBK,GAAO,WAAaO,GAEfD,KACHA,GAAOH,GAAM,QAAQ,WAGvBA,GAAM,QAAQH,GAAQU,GAAeH,GAAQD,EAAI,GAG/CA,KACFF,GAAY,GACZC,GAAgB,KAAK,IAAIA,GAAeC,EAAI,EAC5C,aAAaN,GAAO,mBAAmB,EACvCA,GAAO,oBAAsB,WAAW,UAAY,CAClDA,GAAO,cAAgB,EACvBA,GAAO,aAAe,KACtBA,GAAO,SAAW,KAClBA,GAAO,WAAa,KACpBA,GAAO,sBAAwB,IACjC,EAAGM,EAAI,EACPN,GAAO,sBAAwBM,GAEnC,CAAC,EACD,aAAajB,EAAmB,EAE3Be,GAGHf,GAAsB,WAAW,UAAY,CACvC,OAAOa,IAAa,YAAYA,GAAS,CAC/C,EAAGG,EAAa,EAJZ,OAAOH,IAAa,YAAYA,GAAS,EAO/Cd,GAAkB,CAAC,CACrB,EACA,QAAS,SAAiBY,GAAQc,GAAaP,GAAQQ,GAAU,CAC/D,GAAIA,GAAU,CACZvB,GAAIQ,GAAQ,aAAc,EAAE,EAC5BR,GAAIQ,GAAQ,YAAa,EAAE,EAC3B,IAAIgB,GAAWlB,GAAO,KAAK,EAAE,EACzBmB,GAASD,IAAYA,GAAS,EAC9BE,GAASF,IAAYA,GAAS,EAC9BG,IAAcL,GAAY,KAAOP,GAAO,OAASU,IAAU,GAC3DG,IAAcN,GAAY,IAAMP,GAAO,MAAQW,IAAU,GAC7DlB,GAAO,WAAa,CAAC,CAACmB,GACtBnB,GAAO,WAAa,CAAC,CAACoB,GACtB5B,GAAIQ,GAAQ,YAAa,eAAiBmB,GAAa,MAAQC,GAAa,OAAO,EACnF,KAAK,gBAAkBC,GAAQrB,EAAM,EAErCR,GAAIQ,GAAQ,aAAc,aAAee,GAAW,MAAQ,KAAK,QAAQ,OAAS,IAAM,KAAK,QAAQ,OAAS,GAAG,EACjHvB,GAAIQ,GAAQ,YAAa,oBAAoB,EAC7C,OAAOA,GAAO,UAAa,UAAY,aAAaA,GAAO,QAAQ,EACnEA,GAAO,SAAW,WAAW,UAAY,CACvCR,GAAIQ,GAAQ,aAAc,EAAE,EAC5BR,GAAIQ,GAAQ,YAAa,EAAE,EAC3BA,GAAO,SAAW,GAClBA,GAAO,WAAa,GACpBA,GAAO,WAAa,EACtB,EAAGe,EAAQ,CACb,CACF,CACF,CACF,CAEA,SAASM,GAAQrB,GAAQ,CACvB,OAAOA,GAAO,WAChB,CAEA,SAASa,GAAkBH,GAAef,GAAUY,GAAQe,GAAS,CACnE,OAAO,KAAK,KAAK,KAAK,IAAI3B,GAAS,IAAMe,GAAc,IAAK,CAAC,EAAI,KAAK,IAAIf,GAAS,KAAOe,GAAc,KAAM,CAAC,CAAC,EAAI,KAAK,KAAK,KAAK,IAAIf,GAAS,IAAMY,GAAO,IAAK,CAAC,EAAI,KAAK,IAAIZ,GAAS,KAAOY,GAAO,KAAM,CAAC,CAAC,EAAIe,GAAQ,SAC7N,CAEA,IAAIC,GAAU,CAAC,EACXC,GAAW,CACb,oBAAqB,EACvB,EACIC,GAAgB,CAClB,MAAO,SAAeC,GAAQ,CAE5B,QAASC,MAAUH,GACbA,GAAS,eAAeG,EAAM,GAAK,EAAEA,MAAUD,MACjDA,GAAOC,EAAM,EAAIH,GAASG,EAAM,GAIpCJ,GAAQ,QAAQ,SAAUK,GAAG,CAC3B,GAAIA,GAAE,aAAeF,GAAO,WAC1B,KAAM,iCAAiC,OAAOA,GAAO,WAAY,iBAAiB,CAEtF,CAAC,EACDH,GAAQ,KAAKG,EAAM,CACrB,EACA,YAAa,SAAqBG,GAAWC,GAAUC,GAAK,CAC1D,IAAI5B,GAAQ,KAEZ,KAAK,cAAgB,GAErB4B,GAAI,OAAS,UAAY,CACvB5B,GAAM,cAAgB,EACxB,EAEA,IAAI6B,GAAkBH,GAAY,SAClCN,GAAQ,QAAQ,SAAUG,GAAQ,CAC3BI,GAASJ,GAAO,UAAU,IAE3BI,GAASJ,GAAO,UAAU,EAAEM,EAAe,GAC7CF,GAASJ,GAAO,UAAU,EAAEM,EAAe,EAAEpC,GAAe,CAC1D,SAAUkC,EACZ,EAAGC,EAAG,CAAC,EAKLD,GAAS,QAAQJ,GAAO,UAAU,GAAKI,GAASJ,GAAO,UAAU,EAAEG,EAAS,GAC9EC,GAASJ,GAAO,UAAU,EAAEG,EAAS,EAAEjC,GAAe,CACpD,SAAUkC,EACZ,EAAGC,EAAG,CAAC,EAEX,CAAC,CACH,EACA,kBAAmB,SAA2BD,GAAUG,GAAIT,GAAUF,GAAS,CAC7EC,GAAQ,QAAQ,SAAUG,GAAQ,CAChC,IAAIQ,GAAaR,GAAO,WACxB,GAAI,GAACI,GAAS,QAAQI,EAAU,GAAK,CAACR,GAAO,qBAC7C,KAAIS,GAAc,IAAIT,GAAOI,GAAUG,GAAIH,GAAS,OAAO,EAC3DK,GAAY,SAAWL,GACvBK,GAAY,QAAUL,GAAS,QAC/BA,GAASI,EAAU,EAAIC,GAEvBC,GAASZ,GAAUW,GAAY,QAAQ,EACzC,CAAC,EAED,QAASR,MAAUG,GAAS,QAC1B,GAAKA,GAAS,QAAQ,eAAeH,EAAM,EAC3C,KAAIU,GAAW,KAAK,aAAaP,GAAUH,GAAQG,GAAS,QAAQH,EAAM,CAAC,EAEvE,OAAOU,GAAa,MACtBP,GAAS,QAAQH,EAAM,EAAIU,IAGjC,EACA,mBAAoB,SAA4BC,GAAMR,GAAU,CAC9D,IAAIS,GAAkB,CAAC,EACvB,OAAAhB,GAAQ,QAAQ,SAAUG,GAAQ,CAC5B,OAAOA,GAAO,iBAAoB,YAEtCU,GAASG,GAAiBb,GAAO,gBAAgB,KAAKI,GAASJ,GAAO,UAAU,EAAGY,EAAI,CAAC,CAC1F,CAAC,EACMC,EACT,EACA,aAAc,SAAsBT,GAAUQ,GAAME,GAAO,CACzD,IAAIC,GACJ,OAAAlB,GAAQ,QAAQ,SAAUG,GAAQ,CAE3BI,GAASJ,GAAO,UAAU,GAE3BA,GAAO,iBAAmB,OAAOA,GAAO,gBAAgBY,EAAI,GAAM,aACpEG,GAAgBf,GAAO,gBAAgBY,EAAI,EAAE,KAAKR,GAASJ,GAAO,UAAU,EAAGc,EAAK,EAExF,CAAC,EACMC,EACT,CACF,EAEA,SAASC,GAAcC,GAAM,CAC3B,IAAIb,GAAWa,GAAK,SAChBC,GAASD,GAAK,OACdL,GAAOK,GAAK,KACZE,GAAWF,GAAK,SAChBG,GAAUH,GAAK,QACfI,GAAOJ,GAAK,KACZK,GAASL,GAAK,OACdM,GAAWN,GAAK,SAChBO,GAAWP,GAAK,SAChBQ,GAAoBR,GAAK,kBACzBS,GAAoBT,GAAK,kBACzBU,GAAgBV,GAAK,cACrBW,GAAcX,GAAK,YACnBY,GAAuBZ,GAAK,qBAEhC,GADAb,GAAWA,IAAYc,IAAUA,GAAO1D,EAAO,EAC3C,EAAC4C,GACL,KAAIC,GACAT,GAAUQ,GAAS,QACnB0B,GAAS,KAAOlB,GAAK,OAAO,CAAC,EAAE,YAAY,EAAIA,GAAK,OAAO,CAAC,EAE5D,OAAO,aAAe,CAACmB,IAAc,CAACC,GACxC3B,GAAM,IAAI,YAAYO,GAAM,CAC1B,QAAS,GACT,WAAY,EACd,CAAC,GAEDP,GAAM,SAAS,YAAY,OAAO,EAClCA,GAAI,UAAUO,GAAM,GAAM,EAAI,GAGhCP,GAAI,GAAKgB,IAAQH,GACjBb,GAAI,KAAOiB,IAAUJ,GACrBb,GAAI,KAAOc,IAAYD,GACvBb,GAAI,MAAQe,GACZf,GAAI,SAAWkB,GACflB,GAAI,SAAWmB,GACfnB,GAAI,kBAAoBoB,GACxBpB,GAAI,kBAAoBqB,GACxBrB,GAAI,cAAgBsB,GACpBtB,GAAI,SAAWuB,GAAcA,GAAY,YAAc,OAEvD,IAAIK,GAAqB/D,GAAeA,GAAe,CAAC,EAAG2D,EAAoB,EAAG9B,GAAc,mBAAmBa,GAAMR,EAAQ,CAAC,EAElI,QAASH,MAAUgC,GACjB5B,GAAIJ,EAAM,EAAIgC,GAAmBhC,EAAM,EAGrCiB,IACFA,GAAO,cAAcb,EAAG,EAGtBT,GAAQkC,EAAM,GAChBlC,GAAQkC,EAAM,EAAE,KAAK1B,GAAUC,EAAG,EAEtC,CAEA,IAAI6B,GAAY,CAAC,KAAK,EAElBC,GAAc,SAAqBhC,GAAWC,GAAU,CAC1D,IAAIa,GAAO,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,CAAC,EAC5EU,GAAgBV,GAAK,IACrBmB,GAAOC,GAAyBpB,GAAMiB,EAAS,EAEnDnC,GAAc,YAAY,KAAKhC,EAAQ,EAAEoC,GAAWC,GAAUlC,GAAe,CAC3E,OAAQoE,GACR,SAAUC,GACV,QAASC,GACT,OAAQtB,GACR,OAAQuB,GACR,WAAYC,GACZ,QAAStB,GACT,YAAauB,GACb,YAAaC,GACb,YAAahB,GACb,eAAgB7D,GAAS,OACzB,cAAe4D,GACf,SAAUJ,GACV,kBAAmBE,GACnB,SAAUD,GACV,kBAAmBE,GACnB,mBAAoBmB,GACpB,qBAAsBC,GACtB,eAAgB,UAA0B,CACxCH,GAAc,EAChB,EACA,cAAe,UAAyB,CACtCA,GAAc,EAChB,EACA,sBAAuB,SAA+B/B,GAAM,CAC1DmC,GAAe,CACb,SAAU3C,GACV,KAAMQ,GACN,cAAee,EACjB,CAAC,CACH,CACF,EAAGS,EAAI,CAAC,CACV,EAEA,SAASW,GAAeC,GAAM,CAC5BhC,GAAc9C,GAAe,CAC3B,YAAa0D,GACb,QAASR,GACT,SAAUkB,GACV,OAAQpB,GACR,SAAUK,GACV,kBAAmBE,GACnB,SAAUD,GACV,kBAAmBE,EACrB,EAAGsB,EAAI,CAAC,CACV,CAEA,IAAIV,GACAC,GACAC,GACAtB,GACAuB,GACAC,GACAtB,GACAuB,GACApB,GACAC,GACAC,GACAC,GACAuB,GACArB,GACAsB,GAAsB,GACtBC,GAAkB,GAClBC,GAAY,CAAC,EACbC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAd,GACAe,GACAC,GACAC,GAAwB,GACxBC,GAAyB,GACzBC,GAEJC,GACIC,GAAmC,CAAC,EAExCC,GAAU,GACNC,GAAoB,CAAC,EAGrBC,GAAiB,OAAO,SAAa,IACrCC,GAA0BC,GAC1BC,GAAmBvC,IAAQD,GAAa,WAAa,QAEzDyC,GAAmBJ,IAAkB,CAACK,IAAoB,CAACH,IAAO,cAAe,SAAS,cAAc,KAAK,EACzGI,GAA0B,UAAY,CACxC,GAAKN,GAEL,IAAIrC,GACF,MAAO,GAGT,IAAIxB,GAAK,SAAS,cAAc,GAAG,EACnC,OAAAA,GAAG,MAAM,QAAU,sBACZA,GAAG,MAAM,gBAAkB,OACpC,EAAE,EACEoE,GAAmB,SAA0BpE,GAAIX,GAAS,CAC5D,IAAIgF,GAAQ9G,GAAIyC,EAAE,EACdsE,GAAU,SAASD,GAAM,KAAK,EAAI,SAASA,GAAM,WAAW,EAAI,SAASA,GAAM,YAAY,EAAI,SAASA,GAAM,eAAe,EAAI,SAASA,GAAM,gBAAgB,EAChKE,GAASC,GAASxE,GAAI,EAAGX,EAAO,EAChCoF,GAASD,GAASxE,GAAI,EAAGX,EAAO,EAChCqF,GAAgBH,IAAUhH,GAAIgH,EAAM,EACpCI,GAAiBF,IAAUlH,GAAIkH,EAAM,EACrCG,GAAkBF,IAAiB,SAASA,GAAc,UAAU,EAAI,SAASA,GAAc,WAAW,EAAIjH,GAAQ8G,EAAM,EAAE,MAC9HM,GAAmBF,IAAkB,SAASA,GAAe,UAAU,EAAI,SAASA,GAAe,WAAW,EAAIlH,GAAQgH,EAAM,EAAE,MAEtI,GAAIJ,GAAM,UAAY,OACpB,OAAOA,GAAM,gBAAkB,UAAYA,GAAM,gBAAkB,iBAAmB,WAAa,aAGrG,GAAIA,GAAM,UAAY,OACpB,OAAOA,GAAM,oBAAoB,MAAM,GAAG,EAAE,QAAU,EAAI,WAAa,aAGzE,GAAIE,IAAUG,GAAc,OAAYA,GAAc,QAAa,OAAQ,CACzE,IAAII,GAAqBJ,GAAc,QAAa,OAAS,OAAS,QACtE,OAAOD,KAAWE,GAAe,QAAU,QAAUA,GAAe,QAAUG,IAAsB,WAAa,YACnH,CAEA,OAAOP,KAAWG,GAAc,UAAY,SAAWA,GAAc,UAAY,QAAUA,GAAc,UAAY,SAAWA,GAAc,UAAY,QAAUE,IAAmBN,IAAWD,GAAML,EAAgB,IAAM,QAAUS,IAAUJ,GAAML,EAAgB,IAAM,QAAUY,GAAkBC,GAAmBP,IAAW,WAAa,YACvV,EACIS,GAAqB,SAA4BC,GAAUC,GAAYC,GAAU,CACnF,IAAIC,GAAcD,GAAWF,GAAS,KAAOA,GAAS,IAClDI,GAAcF,GAAWF,GAAS,MAAQA,GAAS,OACnDK,GAAkBH,GAAWF,GAAS,MAAQA,GAAS,OACvDM,GAAcJ,GAAWD,GAAW,KAAOA,GAAW,IACtDM,GAAcL,GAAWD,GAAW,MAAQA,GAAW,OACvDO,GAAkBN,GAAWD,GAAW,MAAQA,GAAW,OAC/D,OAAOE,KAAgBG,IAAeF,KAAgBG,IAAeJ,GAAcE,GAAkB,IAAMC,GAAcE,GAAkB,CAC7I,EAQAC,GAA8B,SAAqCC,GAAGC,GAAG,CACvE,IAAIC,GACJ,OAAA/C,GAAU,KAAK,SAAUhD,GAAU,CACjC,IAAIgG,GAAYhG,GAAS5C,EAAO,EAAE,QAAQ,qBAC1C,GAAI,GAAC4I,IAAaC,GAAUjG,EAAQ,GACpC,KAAIkG,GAAOtI,GAAQoC,EAAQ,EACvBmG,GAAqBN,IAAKK,GAAK,KAAOF,IAAaH,IAAKK,GAAK,MAAQF,GACrEI,GAAmBN,IAAKI,GAAK,IAAMF,IAAaF,IAAKI,GAAK,OAASF,GAEvE,GAAIG,IAAsBC,GACxB,OAAOL,GAAM/F,GAEjB,CAAC,EACM+F,EACT,EACIM,GAAgB,SAAuB7G,GAAS,CAClD,SAAS8G,GAAK5F,GAAO6F,GAAM,CACzB,OAAO,SAAUC,GAAIC,GAAMvE,GAAQjC,GAAK,CACtC,IAAIyG,GAAYF,GAAG,QAAQ,MAAM,MAAQC,GAAK,QAAQ,MAAM,MAAQD,GAAG,QAAQ,MAAM,OAASC,GAAK,QAAQ,MAAM,KAEjH,GAAI/F,IAAS,OAAS6F,IAAQG,IAG5B,MAAO,GACF,GAAIhG,IAAS,MAAQA,KAAU,GACpC,MAAO,GACF,GAAI6F,IAAQ7F,KAAU,QAC3B,OAAOA,GACF,GAAI,OAAOA,IAAU,WAC1B,OAAO4F,GAAK5F,GAAM8F,GAAIC,GAAMvE,GAAQjC,EAAG,EAAGsG,EAAI,EAAEC,GAAIC,GAAMvE,GAAQjC,EAAG,EAErE,IAAI0G,IAAcJ,GAAOC,GAAKC,IAAM,QAAQ,MAAM,KAClD,OAAO/F,KAAU,IAAQ,OAAOA,IAAU,UAAYA,KAAUiG,IAAcjG,GAAM,MAAQA,GAAM,QAAQiG,EAAU,EAAI,EAE5H,CACF,CAEA,IAAIC,GAAQ,CAAC,EACTC,GAAgBrH,GAAQ,OAExB,CAACqH,IAAiBC,GAAQD,EAAa,GAAK,YAC9CA,GAAgB,CACd,KAAMA,EACR,GAGFD,GAAM,KAAOC,GAAc,KAC3BD,GAAM,UAAYN,GAAKO,GAAc,KAAM,EAAI,EAC/CD,GAAM,SAAWN,GAAKO,GAAc,GAAG,EACvCD,GAAM,YAAcC,GAAc,YAClCrH,GAAQ,MAAQoH,EAClB,EACInE,GAAsB,UAA+B,CACnD,CAAC6B,IAA2BlC,IAC9B1E,GAAI0E,GAAS,UAAW,MAAM,CAElC,EACIM,GAAwB,UAAiC,CACvD,CAAC4B,IAA2BlC,IAC9B1E,GAAI0E,GAAS,UAAW,EAAE,CAE9B,EAGI4B,IAAkB,CAACK,IACrB,SAAS,iBAAiB,QAAS,SAAUpE,GAAK,CAChD,GAAI8C,GACF,OAAA9C,GAAI,eAAe,EACnBA,GAAI,iBAAmBA,GAAI,gBAAgB,EAC3CA,GAAI,0BAA4BA,GAAI,yBAAyB,EAC7D8C,GAAkB,GACX,EAEX,EAAG,EAAI,EAGT,IAAIgE,GAAgC,SAAuC9G,GAAK,CAC9E,GAAIiC,GAAQ,CACVjC,GAAMA,GAAI,QAAUA,GAAI,QAAQ,CAAC,EAAIA,GAErC,IAAI+G,GAAUpB,GAA4B3F,GAAI,QAASA,GAAI,OAAO,EAElE,GAAI+G,GAAS,CAEX,IAAIC,GAAQ,CAAC,EAEb,QAASC,MAAKjH,GACRA,GAAI,eAAeiH,EAAC,IACtBD,GAAMC,EAAC,EAAIjH,GAAIiH,EAAC,GAIpBD,GAAM,OAASA,GAAM,OAASD,GAC9BC,GAAM,eAAiB,OACvBA,GAAM,gBAAkB,OAExBD,GAAQ5J,EAAO,EAAE,YAAY6J,EAAK,CACpC,CACF,CACF,EAEIE,GAAwB,SAA+BlH,GAAK,CAC1DiC,IACFA,GAAO,WAAW9E,EAAO,EAAE,iBAAiB6C,GAAI,MAAM,CAE1D,EAQA,SAAStC,GAASwC,GAAIX,GAAS,CAC7B,GAAI,EAAEW,IAAMA,GAAG,UAAYA,GAAG,WAAa,GACzC,KAAM,8CAA8C,OAAO,CAAC,EAAE,SAAS,KAAKA,EAAE,CAAC,EAGjF,KAAK,GAAKA,GAEV,KAAK,QAAUX,GAAUc,GAAS,CAAC,EAAGd,EAAO,EAE7CW,GAAG/C,EAAO,EAAI,KACd,IAAIsC,GAAW,CACb,MAAO,KACP,KAAM,GACN,SAAU,GACV,MAAO,KACP,OAAQ,KACR,UAAW,WAAW,KAAKS,GAAG,QAAQ,EAAI,MAAQ,KAClD,cAAe,EAEf,WAAY,GAEZ,sBAAuB,KAEvB,kBAAmB,GACnB,UAAW,UAAqB,CAC9B,OAAOoE,GAAiBpE,GAAI,KAAK,OAAO,CAC1C,EACA,WAAY,iBACZ,YAAa,kBACb,UAAW,gBACX,OAAQ,SACR,OAAQ,KACR,gBAAiB,GACjB,UAAW,EACX,OAAQ,KACR,QAAS,SAAiBiH,GAAclF,GAAQ,CAC9CkF,GAAa,QAAQ,OAAQlF,GAAO,WAAW,CACjD,EACA,WAAY,GACZ,eAAgB,GAChB,WAAY,UACZ,MAAO,EACP,iBAAkB,GAClB,qBAAsB,OAAO,SAAW,OAAS,QAAQ,SAAS,OAAO,iBAAkB,EAAE,GAAK,EAClG,cAAe,GACf,cAAe,oBACf,eAAgB,GAChB,kBAAmB,EACnB,eAAgB,CACd,EAAG,EACH,EAAG,CACL,EACA,eAAgBvE,GAAS,iBAAmB,IAAS,iBAAkB,QAAU,CAAC0J,GAClF,qBAAsB,CACxB,EACA1H,GAAc,kBAAkB,KAAMQ,GAAIT,EAAQ,EAElD,QAASc,MAAQd,GACf,EAAEc,MAAQhB,MAAaA,GAAQgB,EAAI,EAAId,GAASc,EAAI,GAGtD6F,GAAc7G,EAAO,EAGrB,QAAS8H,MAAM,KACTA,GAAG,OAAO,CAAC,IAAM,KAAO,OAAO,KAAKA,EAAE,GAAM,aAC9C,KAAKA,EAAE,EAAI,KAAKA,EAAE,EAAE,KAAK,IAAI,GAKjC,KAAK,gBAAkB9H,GAAQ,cAAgB,GAAQ4E,GAEnD,KAAK,kBAEP,KAAK,QAAQ,oBAAsB,GAIjC5E,GAAQ,eACV+H,GAAGpH,GAAI,cAAe,KAAK,WAAW,GAEtCoH,GAAGpH,GAAI,YAAa,KAAK,WAAW,EACpCoH,GAAGpH,GAAI,aAAc,KAAK,WAAW,GAGnC,KAAK,kBACPoH,GAAGpH,GAAI,WAAY,IAAI,EACvBoH,GAAGpH,GAAI,YAAa,IAAI,GAG1B6C,GAAU,KAAK,KAAK,EAAE,EAEtBxD,GAAQ,OAASA,GAAQ,MAAM,KAAO,KAAK,KAAKA,GAAQ,MAAM,IAAI,IAAI,GAAK,CAAC,CAAC,EAE7Ec,GAAS,KAAMjD,GAAsB,CAAC,CACxC,CAEAM,GAAS,UAET,CACE,YAAaA,GACb,iBAAkB,SAA0BO,GAAQ,CAC9C,CAAC,KAAK,GAAG,SAASA,EAAM,GAAKA,KAAW,KAAK,KAC/CqF,GAAa,KAEjB,EACA,cAAe,SAAuBtD,GAAK/B,GAAQ,CACjD,OAAO,OAAO,KAAK,QAAQ,WAAc,WAAa,KAAK,QAAQ,UAAU,KAAK,KAAM+B,GAAK/B,GAAQgE,EAAM,EAAI,KAAK,QAAQ,SAC9H,EACA,YAAa,SAEbjC,GAAK,CACH,GAAKA,GAAI,WAET,KAAI5B,GAAQ,KACR8B,GAAK,KAAK,GACVX,GAAU,KAAK,QACfgI,GAAkBhI,GAAQ,gBAC1BiI,GAAOxH,GAAI,KACXyH,GAAQzH,GAAI,SAAWA,GAAI,QAAQ,CAAC,GAAKA,GAAI,aAAeA,GAAI,cAAgB,SAAWA,GAC3F/B,IAAUwJ,IAASzH,IAAK,OACxB0H,GAAiB1H,GAAI,OAAO,aAAeA,GAAI,MAAQA,GAAI,KAAK,CAAC,GAAKA,GAAI,cAAgBA,GAAI,aAAa,EAAE,CAAC,IAAM/B,GACpH0J,GAASpI,GAAQ,OAKrB,GAHAqI,GAAuB1H,EAAE,EAGrB,CAAA+B,IAIA,0BAAwB,KAAKuF,EAAI,GAAKxH,GAAI,SAAW,GAAKT,GAAQ,WAKlE,CAAAmI,GAAe,mBAKf,GAAC,KAAK,iBAAmBN,IAAUnJ,IAAUA,GAAO,QAAQ,YAAY,IAAM,YAIlFA,GAAS4J,GAAQ5J,GAAQsB,GAAQ,UAAWW,GAAI,EAAK,EAEjD,EAAAjC,IAAUA,GAAO,WAIjBoE,KAAepE,IASnB,IAHAiD,GAAW4G,GAAM7J,EAAM,EACvBmD,GAAoB0G,GAAM7J,GAAQsB,GAAQ,SAAS,EAE/C,OAAOoI,IAAW,YACpB,GAAIA,GAAO,KAAK,KAAM3H,GAAK/B,GAAQ,IAAI,EAAG,CACxCyE,GAAe,CACb,SAAUtE,GACV,OAAQsJ,GACR,KAAM,SACN,SAAUzJ,GACV,KAAMiC,GACN,OAAQA,EACV,CAAC,EAED4B,GAAY,SAAU1D,GAAO,CAC3B,IAAK4B,EACP,CAAC,EACDuH,IAAmBvH,GAAI,YAAcA,GAAI,eAAe,EACxD,MACF,UACS2H,KACTA,GAASA,GAAO,MAAM,GAAG,EAAE,KAAK,SAAUI,GAAU,CAGlD,GAFAA,GAAWF,GAAQH,GAAgBK,GAAS,KAAK,EAAG7H,GAAI,EAAK,EAEzD6H,GACF,OAAArF,GAAe,CACb,SAAUtE,GACV,OAAQ2J,GACR,KAAM,SACN,SAAU9J,GACV,OAAQiC,GACR,KAAMA,EACR,CAAC,EAED4B,GAAY,SAAU1D,GAAO,CAC3B,IAAK4B,EACP,CAAC,EACM,EAEX,CAAC,EAEG2H,IAAQ,CACVJ,IAAmBvH,GAAI,YAAcA,GAAI,eAAe,EACxD,MACF,CAGET,GAAQ,QAAU,CAACsI,GAAQH,GAAgBnI,GAAQ,OAAQW,GAAI,EAAK,GAKxE,KAAK,kBAAkBF,GAAKyH,GAAOxJ,EAAM,GAC3C,EACA,kBAAmB,SAEnB+B,GAEAyH,GAEAxJ,GAAQ,CACN,IAAIG,GAAQ,KACR8B,GAAK9B,GAAM,GACXmB,GAAUnB,GAAM,QAChB4J,GAAgB9H,GAAG,cACnB+H,GAEJ,GAAIhK,IAAU,CAACgE,IAAUhE,GAAO,aAAeiC,GAAI,CACjD,IAAIgF,GAAWvH,GAAQM,EAAM,EAwE7B,GAvEA4C,GAASX,GACT+B,GAAShE,GACTiE,GAAWD,GAAO,WAClBG,GAASH,GAAO,YAChBI,GAAapE,GACb2E,GAAcrD,GAAQ,MACtB7B,GAAS,QAAUuE,GACnBe,GAAS,CACP,OAAQf,GACR,SAAUwF,IAASzH,IAAK,QACxB,SAAUyH,IAASzH,IAAK,OAC1B,EACAoD,GAAkBJ,GAAO,QAAUkC,GAAS,KAC5C7B,GAAiBL,GAAO,QAAUkC,GAAS,IAC3C,KAAK,QAAUuC,IAASzH,IAAK,QAC7B,KAAK,QAAUyH,IAASzH,IAAK,QAC7BiC,GAAO,MAAM,aAAa,EAAI,MAE9BgG,GAAc,UAAuB,CAKnC,GAJAnG,GAAY,aAAc1D,GAAO,CAC/B,IAAK4B,EACP,CAAC,EAEGtC,GAAS,cAAe,CAC1BU,GAAM,QAAQ,EAEd,MACF,CAIAA,GAAM,0BAA0B,EAE5B,CAAC8J,IAAW9J,GAAM,kBACpB6D,GAAO,UAAY,IAIrB7D,GAAM,kBAAkB4B,GAAKyH,EAAK,EAGlC/E,GAAe,CACb,SAAUtE,GACV,KAAM,SACN,cAAe4B,EACjB,CAAC,EAGDmI,GAAYlG,GAAQ1C,GAAQ,YAAa,EAAI,CAC/C,EAGAA,GAAQ,OAAO,MAAM,GAAG,EAAE,QAAQ,SAAUwI,GAAU,CACpDK,GAAKnG,GAAQ8F,GAAS,KAAK,EAAGM,EAAiB,CACjD,CAAC,EACDf,GAAGU,GAAe,WAAYlB,EAA6B,EAC3DQ,GAAGU,GAAe,YAAalB,EAA6B,EAC5DQ,GAAGU,GAAe,YAAalB,EAA6B,EAC5DQ,GAAGU,GAAe,UAAW5J,GAAM,OAAO,EAC1CkJ,GAAGU,GAAe,WAAY5J,GAAM,OAAO,EAC3CkJ,GAAGU,GAAe,cAAe5J,GAAM,OAAO,EAE1C8J,IAAW,KAAK,kBAClB,KAAK,QAAQ,oBAAsB,EACnCjG,GAAO,UAAY,IAGrBH,GAAY,aAAc,KAAM,CAC9B,IAAK9B,EACP,CAAC,EAEGT,GAAQ,QAAU,CAACA,GAAQ,kBAAoBkI,MAAW,CAAC,KAAK,iBAAmB,EAAE9F,IAAQD,KAAc,CAC7G,GAAIhE,GAAS,cAAe,CAC1B,KAAK,QAAQ,EAEb,MACF,CAKA4J,GAAGU,GAAe,UAAW5J,GAAM,mBAAmB,EACtDkJ,GAAGU,GAAe,WAAY5J,GAAM,mBAAmB,EACvDkJ,GAAGU,GAAe,cAAe5J,GAAM,mBAAmB,EAC1DkJ,GAAGU,GAAe,YAAa5J,GAAM,4BAA4B,EACjEkJ,GAAGU,GAAe,YAAa5J,GAAM,4BAA4B,EACjEmB,GAAQ,gBAAkB+H,GAAGU,GAAe,cAAe5J,GAAM,4BAA4B,EAC7FA,GAAM,gBAAkB,WAAW6J,GAAa1I,GAAQ,KAAK,CAC/D,MACE0I,GAAY,CAEhB,CACF,EACA,6BAA8B,SAE9BK,GAAG,CACD,IAAIb,GAAQa,GAAE,QAAUA,GAAE,QAAQ,CAAC,EAAIA,GAEnC,KAAK,IAAI,KAAK,IAAIb,GAAM,QAAU,KAAK,MAAM,EAAG,KAAK,IAAIA,GAAM,QAAU,KAAK,MAAM,CAAC,GAAK,KAAK,MAAM,KAAK,QAAQ,qBAAuB,KAAK,iBAAmB,OAAO,kBAAoB,EAAE,GAChM,KAAK,oBAAoB,CAE7B,EACA,oBAAqB,UAA+B,CAClDxF,IAAUoG,GAAkBpG,EAAM,EAClC,aAAa,KAAK,eAAe,EAEjC,KAAK,0BAA0B,CACjC,EACA,0BAA2B,UAAqC,CAC9D,IAAI+F,GAAgB,KAAK,GAAG,cAC5BO,GAAIP,GAAe,UAAW,KAAK,mBAAmB,EACtDO,GAAIP,GAAe,WAAY,KAAK,mBAAmB,EACvDO,GAAIP,GAAe,cAAe,KAAK,mBAAmB,EAC1DO,GAAIP,GAAe,YAAa,KAAK,4BAA4B,EACjEO,GAAIP,GAAe,YAAa,KAAK,4BAA4B,EACjEO,GAAIP,GAAe,cAAe,KAAK,4BAA4B,CACrE,EACA,kBAAmB,SAEnBhI,GAEAyH,GAAO,CACLA,GAAQA,IAASzH,GAAI,aAAe,SAAWA,GAE3C,CAAC,KAAK,iBAAmByH,GACvB,KAAK,QAAQ,eACfH,GAAG,SAAU,cAAe,KAAK,YAAY,EACpCG,GACTH,GAAG,SAAU,YAAa,KAAK,YAAY,EAE3CA,GAAG,SAAU,YAAa,KAAK,YAAY,GAG7CA,GAAGrF,GAAQ,UAAW,IAAI,EAC1BqF,GAAGzG,GAAQ,YAAa,KAAK,YAAY,GAG3C,GAAI,CACE,SAAS,UAEX2H,GAAU,UAAY,CACpB,SAAS,UAAU,MAAM,CAC3B,CAAC,EAED,OAAO,aAAa,EAAE,gBAAgB,CAE1C,MAAc,CAAC,CACjB,EACA,aAAc,SAAsBC,GAAUzI,GAAK,CAIjD,GAFA6C,GAAsB,GAElBhC,IAAUoB,GAAQ,CACpBH,GAAY,cAAe,KAAM,CAC/B,IAAK9B,EACP,CAAC,EAEG,KAAK,iBACPsH,GAAG,SAAU,WAAYJ,EAAqB,EAGhD,IAAI3H,GAAU,KAAK,QAEnB,CAACkJ,IAAYN,GAAYlG,GAAQ1C,GAAQ,UAAW,EAAK,EACzD4I,GAAYlG,GAAQ1C,GAAQ,WAAY,EAAI,EAC5C7B,GAAS,OAAS,KAClB+K,IAAY,KAAK,aAAa,EAE9B/F,GAAe,CACb,SAAU,KACV,KAAM,QACN,cAAe1C,EACjB,CAAC,CACH,MACE,KAAK,SAAS,CAElB,EACA,iBAAkB,UAA4B,CAC5C,GAAIiD,GAAU,CACZ,KAAK,OAASA,GAAS,QACvB,KAAK,OAASA,GAAS,QAEvBT,GAAoB,EAKpB,QAHIvE,GAAS,SAAS,iBAAiBgF,GAAS,QAASA,GAAS,OAAO,EACrEyF,GAASzK,GAENA,IAAUA,GAAO,aACtBA,GAASA,GAAO,WAAW,iBAAiBgF,GAAS,QAASA,GAAS,OAAO,EAC1EhF,KAAWyK,KACfA,GAASzK,GAKX,GAFAgE,GAAO,WAAW9E,EAAO,EAAE,iBAAiBc,EAAM,EAE9CyK,GACF,EAAG,CACD,GAAIA,GAAOvL,EAAO,EAAG,CACnB,IAAIwL,GAAW,OAQf,GAPAA,GAAWD,GAAOvL,EAAO,EAAE,YAAY,CACrC,QAAS8F,GAAS,QAClB,QAASA,GAAS,QAClB,OAAQhF,GACR,OAAQyK,EACV,CAAC,EAEGC,IAAY,CAAC,KAAK,QAAQ,eAC5B,KAEJ,CAEA1K,GAASyK,EACX,OAEOA,GAASA,GAAO,YAGzBjG,GAAsB,CACxB,CACF,EACA,aAAc,SAEdzC,GAAK,CACH,GAAIgD,GAAQ,CACV,IAAIzD,GAAU,KAAK,QACfqJ,GAAoBrJ,GAAQ,kBAC5BsJ,GAAiBtJ,GAAQ,eACzBkI,GAAQzH,GAAI,QAAUA,GAAI,QAAQ,CAAC,EAAIA,GACvC8I,GAAc3G,IAAWpE,GAAOoE,GAAS,EAAI,EAC7CjD,GAASiD,IAAW2G,IAAeA,GAAY,EAC/C3J,GAASgD,IAAW2G,IAAeA,GAAY,EAC/CC,GAAuB/E,IAA2BL,IAAuBqF,GAAwBrF,EAAmB,EACpHsF,IAAMxB,GAAM,QAAUzE,GAAO,QAAU6F,GAAe,IAAM3J,IAAU,IAAM6J,GAAuBA,GAAqB,CAAC,EAAInF,GAAiC,CAAC,EAAI,IAAM1E,IAAU,GACnLgK,IAAMzB,GAAM,QAAUzE,GAAO,QAAU6F,GAAe,IAAM1J,IAAU,IAAM4J,GAAuBA,GAAqB,CAAC,EAAInF,GAAiC,CAAC,EAAI,IAAMzE,IAAU,GAEvL,GAAI,CAACzB,GAAS,QAAU,CAACmF,GAAqB,CAC5C,GAAI+F,IAAqB,KAAK,IAAI,KAAK,IAAInB,GAAM,QAAU,KAAK,MAAM,EAAG,KAAK,IAAIA,GAAM,QAAU,KAAK,MAAM,CAAC,EAAImB,GAChH,OAGF,KAAK,aAAa5I,GAAK,EAAI,CAC7B,CAEA,GAAImC,GAAS,CACP2G,IACFA,GAAY,GAAKG,IAAM/F,IAAU,GACjC4F,GAAY,GAAKI,IAAM/F,IAAU,IAEjC2F,GAAc,CACZ,EAAG,EACH,EAAG,EACH,EAAG,EACH,EAAG,EACH,EAAGG,GACH,EAAGC,EACL,EAGF,IAAIC,GAAY,UAAU,OAAOL,GAAY,EAAG,GAAG,EAAE,OAAOA,GAAY,EAAG,GAAG,EAAE,OAAOA,GAAY,EAAG,GAAG,EAAE,OAAOA,GAAY,EAAG,GAAG,EAAE,OAAOA,GAAY,EAAG,GAAG,EAAE,OAAOA,GAAY,EAAG,GAAG,EAC1LrL,GAAI0E,GAAS,kBAAmBgH,EAAS,EACzC1L,GAAI0E,GAAS,eAAgBgH,EAAS,EACtC1L,GAAI0E,GAAS,cAAegH,EAAS,EACrC1L,GAAI0E,GAAS,YAAagH,EAAS,EACnCjG,GAAS+F,GACT9F,GAAS+F,GACTjG,GAAWwE,EACb,CAEAzH,GAAI,YAAcA,GAAI,eAAe,CACvC,CACF,EACA,aAAc,UAAwB,CAGpC,GAAI,CAACmC,GAAS,CACZ,IAAIiH,GAAY,KAAK,QAAQ,eAAiB,SAAS,KAAOvI,GAC1DoF,GAAOtI,GAAQsE,GAAQ,GAAM+B,GAAyB,GAAMoF,EAAS,EACrE7J,GAAU,KAAK,QAEnB,GAAIyE,GAAyB,CAI3B,IAFAL,GAAsByF,GAEf3L,GAAIkG,GAAqB,UAAU,IAAM,UAAYlG,GAAIkG,GAAqB,WAAW,IAAM,QAAUA,KAAwB,UACtIA,GAAsBA,GAAoB,WAGxCA,KAAwB,SAAS,MAAQA,KAAwB,SAAS,iBACxEA,KAAwB,WAAUA,GAAsB0F,GAA0B,GACtFpD,GAAK,KAAOtC,GAAoB,UAChCsC,GAAK,MAAQtC,GAAoB,YAEjCA,GAAsB0F,GAA0B,EAGlDzF,GAAmCoF,GAAwBrF,EAAmB,CAChF,CAEAxB,GAAUF,GAAO,UAAU,EAAI,EAC/BkG,GAAYhG,GAAS5C,GAAQ,WAAY,EAAK,EAC9C4I,GAAYhG,GAAS5C,GAAQ,cAAe,EAAI,EAChD4I,GAAYhG,GAAS5C,GAAQ,UAAW,EAAI,EAC5C9B,GAAI0E,GAAS,aAAc,EAAE,EAC7B1E,GAAI0E,GAAS,YAAa,EAAE,EAC5B1E,GAAI0E,GAAS,aAAc,YAAY,EACvC1E,GAAI0E,GAAS,SAAU,CAAC,EACxB1E,GAAI0E,GAAS,MAAO8D,GAAK,GAAG,EAC5BxI,GAAI0E,GAAS,OAAQ8D,GAAK,IAAI,EAC9BxI,GAAI0E,GAAS,QAAS8D,GAAK,KAAK,EAChCxI,GAAI0E,GAAS,SAAU8D,GAAK,MAAM,EAClCxI,GAAI0E,GAAS,UAAW,KAAK,EAC7B1E,GAAI0E,GAAS,WAAY6B,GAA0B,WAAa,OAAO,EACvEvG,GAAI0E,GAAS,SAAU,QAAQ,EAC/B1E,GAAI0E,GAAS,gBAAiB,MAAM,EACpCzE,GAAS,MAAQyE,GACjBiH,GAAU,YAAYjH,EAAO,EAE7B1E,GAAI0E,GAAS,mBAAoBiB,GAAkB,SAASjB,GAAQ,MAAM,KAAK,EAAI,IAAM,KAAOkB,GAAiB,SAASlB,GAAQ,MAAM,MAAM,EAAI,IAAM,GAAG,CAC7J,CACF,EACA,aAAc,SAEdnC,GAEAyI,GAAU,CACR,IAAIrK,GAAQ,KAER+I,GAAenH,GAAI,aACnBT,GAAUnB,GAAM,QAKpB,GAJA0D,GAAY,YAAa,KAAM,CAC7B,IAAK9B,EACP,CAAC,EAEGtC,GAAS,cAAe,CAC1B,KAAK,QAAQ,EAEb,MACF,CAEAoE,GAAY,aAAc,IAAI,EAEzBpE,GAAS,gBACZqD,GAAUuI,GAAMrH,EAAM,EACtBlB,GAAQ,gBAAgB,IAAI,EAC5BA,GAAQ,UAAY,GACpBA,GAAQ,MAAM,aAAa,EAAI,GAE/B,KAAK,WAAW,EAEhBoH,GAAYpH,GAAS,KAAK,QAAQ,YAAa,EAAK,EACpDrD,GAAS,MAAQqD,IAInB3C,GAAM,QAAUoK,GAAU,UAAY,CACpC1G,GAAY,QAAS1D,EAAK,EACtB,CAAAV,GAAS,gBAERU,GAAM,QAAQ,mBACjByC,GAAO,aAAaE,GAASkB,EAAM,EAGrC7D,GAAM,WAAW,EAEjBsE,GAAe,CACb,SAAUtE,GACV,KAAM,OACR,CAAC,EACH,CAAC,EACD,CAACqK,IAAYN,GAAYlG,GAAQ1C,GAAQ,UAAW,EAAI,EAEpDkJ,IACF3F,GAAkB,GAClB1E,GAAM,QAAU,YAAYA,GAAM,iBAAkB,EAAE,IAGtDmK,GAAI,SAAU,UAAWnK,GAAM,OAAO,EACtCmK,GAAI,SAAU,WAAYnK,GAAM,OAAO,EACvCmK,GAAI,SAAU,cAAenK,GAAM,OAAO,EAEtC+I,KACFA,GAAa,cAAgB,OAC7B5H,GAAQ,SAAWA,GAAQ,QAAQ,KAAKnB,GAAO+I,GAAclF,EAAM,GAGrEqF,GAAG,SAAU,OAAQlJ,EAAK,EAE1BX,GAAIwE,GAAQ,YAAa,eAAe,GAG1CY,GAAsB,GACtBzE,GAAM,aAAeoK,GAAUpK,GAAM,aAAa,KAAKA,GAAOqK,GAAUzI,EAAG,CAAC,EAC5EsH,GAAG,SAAU,cAAelJ,EAAK,EACjCmE,GAAQ,GAEJ6E,IACF3J,GAAI,SAAS,KAAM,cAAe,MAAM,CAE5C,EAEA,YAAa,SAEbuC,GAAK,CACH,IAAIE,GAAK,KAAK,GACVjC,GAAS+B,GAAI,OACbkF,GACAC,GACAoE,GACAhK,GAAU,KAAK,QACfoH,GAAQpH,GAAQ,MAChBiK,GAAiB9L,GAAS,OAC1B+L,GAAU7G,KAAgB+D,GAC1B+C,GAAUnK,GAAQ,KAClBoK,GAAepI,IAAeiI,GAC9BpE,GACAhH,GAAQ,KACRwL,GAAiB,GAErB,GAAI/F,GAAS,OAEb,SAASgG,GAActJ,GAAMuJ,GAAO,CAClChI,GAAYvB,GAAMnC,GAAOP,GAAe,CACtC,IAAKmC,GACL,QAASyJ,GACT,KAAMrE,GAAW,WAAa,aAC9B,OAAQmE,GACR,SAAUrE,GACV,WAAYC,GACZ,QAASuE,GACT,aAAcC,GACd,OAAQ1L,GACR,UAAW8L,GACX,OAAQ,SAAgB9L,GAAQ+L,GAAO,CACrC,OAAOC,GAAQpJ,GAAQX,GAAI+B,GAAQiD,GAAUjH,GAAQN,GAAQM,EAAM,EAAG+B,GAAKgK,EAAK,CAClF,EACA,QAASE,EACX,EAAGJ,EAAK,CAAC,CACX,CAGA,SAASK,IAAU,CACjBN,GAAc,0BAA0B,EAExCzL,GAAM,sBAAsB,EAExBA,KAAUuL,IACZA,GAAa,sBAAsB,CAEvC,CAGA,SAASI,GAAUK,GAAW,CAC5B,OAAAP,GAAc,oBAAqB,CACjC,UAAWO,EACb,CAAC,EAEGA,KAEEX,GACFD,GAAe,WAAW,EAE1BA,GAAe,WAAWpL,EAAK,EAG7BA,KAAUuL,KAEZxB,GAAYlG,GAAQV,GAAcA,GAAY,QAAQ,WAAaiI,GAAe,QAAQ,WAAY,EAAK,EAC3GrB,GAAYlG,GAAQ1C,GAAQ,WAAY,EAAI,GAG1CgC,KAAgBnD,IAASA,KAAUV,GAAS,OAC9C6D,GAAcnD,GACLA,KAAUV,GAAS,QAAU6D,KACtCA,GAAc,MAIZoI,KAAiBvL,KACnBA,GAAM,sBAAwBH,IAGhCG,GAAM,WAAW,UAAY,CAC3ByL,GAAc,2BAA2B,EACzCzL,GAAM,sBAAwB,IAChC,CAAC,EAEGA,KAAUuL,KACZA,GAAa,WAAW,EACxBA,GAAa,sBAAwB,QAKrC1L,KAAWgE,IAAU,CAACA,GAAO,UAAYhE,KAAWiC,IAAM,CAACjC,GAAO,YACpEqF,GAAa,MAIX,CAAC/D,GAAQ,gBAAkB,CAACS,GAAI,QAAU/B,KAAW,WACvDgE,GAAO,WAAW9E,EAAO,EAAE,iBAAiB6C,GAAI,MAAM,EAGtD,CAACoK,IAAatD,GAA8B9G,EAAG,GAGjD,CAACT,GAAQ,gBAAkBS,GAAI,iBAAmBA,GAAI,gBAAgB,EAC/D4J,GAAiB,EAC1B,CAGA,SAASM,IAAU,CACjB/I,GAAW2G,GAAM7F,EAAM,EACvBZ,GAAoByG,GAAM7F,GAAQ1C,GAAQ,SAAS,EAEnDmD,GAAe,CACb,SAAUtE,GACV,KAAM,SACN,KAAM8B,GACN,SAAUiB,GACV,kBAAmBE,GACnB,cAAerB,EACjB,CAAC,CACH,CAQA,GANIA,GAAI,iBAAmB,QACzBA,GAAI,YAAcA,GAAI,eAAe,EAGvC/B,GAAS4J,GAAQ5J,GAAQsB,GAAQ,UAAWW,GAAI,EAAI,EACpD2J,GAAc,UAAU,EACpBnM,GAAS,cAAe,OAAOkM,GAEnC,GAAI3H,GAAO,SAASjC,GAAI,MAAM,GAAK/B,GAAO,UAAYA,GAAO,YAAcA,GAAO,YAAcG,GAAM,wBAA0BH,GAC9H,OAAO8L,GAAU,EAAK,EAKxB,GAFAjH,GAAkB,GAEd0G,IAAkB,CAACjK,GAAQ,WAAakK,GAAUC,KAAYH,GAASrH,KAAarB,IACtFU,KAAgB,OAAS,KAAK,YAAcqB,GAAY,UAAU,KAAM4G,GAAgBvH,GAAQjC,EAAG,IAAM2G,GAAM,SAAS,KAAM6C,GAAgBvH,GAAQjC,EAAG,GAAI,CAI7J,GAHAoF,GAAW,KAAK,cAAcpF,GAAK/B,EAAM,IAAM,WAC/CiH,GAAWvH,GAAQsE,EAAM,EACzB4H,GAAc,eAAe,EACzBnM,GAAS,cAAe,OAAOkM,GAEnC,GAAIL,GACF,OAAArH,GAAWrB,GAEXsJ,GAAQ,EAER,KAAK,WAAW,EAEhBN,GAAc,QAAQ,EAEjBnM,GAAS,gBACR0E,GACFvB,GAAO,aAAaoB,GAAQG,EAAM,EAElCvB,GAAO,YAAYoB,EAAM,GAItB8H,GAAU,EAAI,EAGvB,IAAIM,GAAcrE,GAAU9F,GAAIX,GAAQ,SAAS,EAEjD,GAAI,CAAC8K,IAAeC,GAAatK,GAAKoF,GAAU,IAAI,GAAK,CAACiF,GAAY,SAAU,CAG9E,GAAIA,KAAgBpI,GAClB,OAAO8H,GAAU,EAAK,EAYxB,GARIM,IAAenK,KAAOF,GAAI,SAC5B/B,GAASoM,IAGPpM,KACFkH,GAAaxH,GAAQM,EAAM,GAGzBgM,GAAQpJ,GAAQX,GAAI+B,GAAQiD,GAAUjH,GAAQkH,GAAYnF,GAAK,CAAC,CAAC/B,EAAM,IAAM,GAC/E,OAAAkM,GAAQ,EAEJE,IAAeA,GAAY,YAE7BnK,GAAG,aAAa+B,GAAQoI,GAAY,WAAW,EAE/CnK,GAAG,YAAY+B,EAAM,EAGvBC,GAAWhC,GAEXgK,GAAQ,EACDH,GAAU,EAAI,CAEzB,SAAWM,IAAeE,GAAcvK,GAAKoF,GAAU,IAAI,EAAG,CAE5D,IAAIoF,GAAa9F,GAASxE,GAAI,EAAGX,GAAS,EAAI,EAE9C,GAAIiL,KAAevI,GACjB,OAAO8H,GAAU,EAAK,EAMxB,GAHA9L,GAASuM,GACTrF,GAAaxH,GAAQM,EAAM,EAEvBgM,GAAQpJ,GAAQX,GAAI+B,GAAQiD,GAAUjH,GAAQkH,GAAYnF,GAAK,EAAK,IAAM,GAC5E,OAAAmK,GAAQ,EACRjK,GAAG,aAAa+B,GAAQuI,EAAU,EAClCtI,GAAWhC,GAEXgK,GAAQ,EACDH,GAAU,EAAI,CAEzB,SAAW9L,GAAO,aAAeiC,GAAI,CACnCiF,GAAaxH,GAAQM,EAAM,EAC3B,IAAIwM,GAAY,EACZC,GACAC,GAAiB1I,GAAO,aAAe/B,GACvC0K,GAAkB,CAAC3F,GAAmBhD,GAAO,UAAYA,GAAO,QAAUiD,GAAUjH,GAAO,UAAYA,GAAO,QAAUkH,GAAYC,EAAQ,EAC5IyF,GAAQzF,GAAW,MAAQ,OAC3B0F,GAAkBC,GAAe9M,GAAQ,MAAO,KAAK,GAAK8M,GAAe9I,GAAQ,MAAO,KAAK,EAC7F+I,GAAeF,GAAkBA,GAAgB,UAAY,OAE7DxH,KAAerF,KACjByM,GAAwBvF,GAAW0F,EAAK,EACxCrH,GAAwB,GACxBC,GAAyB,CAACmH,IAAmBrL,GAAQ,YAAcoL,IAGrEF,GAAYQ,GAAkBjL,GAAK/B,GAAQkH,GAAYC,GAAUwF,GAAkB,EAAIrL,GAAQ,cAAeA,GAAQ,uBAAyB,KAAOA,GAAQ,cAAgBA,GAAQ,sBAAuBkE,GAAwBH,KAAerF,EAAM,EAC1P,IAAIiN,GAEJ,GAAIT,KAAc,EAAG,CAEnB,IAAIU,GAAYrD,GAAM7F,EAAM,EAE5B,GACEkJ,IAAaV,GACbS,GAAUhJ,GAAS,SAASiJ,EAAS,QAC9BD,KAAYzN,GAAIyN,GAAS,SAAS,IAAM,QAAUA,KAAY/I,IACzE,CAGA,GAAIsI,KAAc,GAAKS,KAAYjN,GACjC,OAAO8L,GAAU,EAAK,EAGxBzG,GAAarF,GACbsF,GAAgBkH,GAChB,IAAIW,GAAcnN,GAAO,mBACrB+L,GAAQ,GACZA,GAAQS,KAAc,EAEtB,IAAIY,GAAapB,GAAQpJ,GAAQX,GAAI+B,GAAQiD,GAAUjH,GAAQkH,GAAYnF,GAAKgK,EAAK,EAErF,GAAIqB,KAAe,GACjB,OAAIA,KAAe,GAAKA,KAAe,MACrCrB,GAAQqB,KAAe,GAGzBxH,GAAU,GACV,WAAWyH,GAAW,EAAE,EACxBnB,GAAQ,EAEJH,IAAS,CAACoB,GACZlL,GAAG,YAAY+B,EAAM,EAErBhE,GAAO,WAAW,aAAagE,GAAQ+H,GAAQoB,GAAcnN,EAAM,EAIjE6M,IACFS,GAAST,GAAiB,EAAGE,GAAeF,GAAgB,SAAS,EAGvE5I,GAAWD,GAAO,WAGdyI,KAA0B,QAAa,CAACjH,KAC1CC,GAAqB,KAAK,IAAIgH,GAAwB/M,GAAQM,EAAM,EAAE4M,EAAK,CAAC,GAG9EX,GAAQ,EACDH,GAAU,EAAI,CAEzB,CAEA,GAAI7J,GAAG,SAAS+B,EAAM,EACpB,OAAO8H,GAAU,EAAK,CAE1B,CAEA,MAAO,EACT,EACA,sBAAuB,KACvB,eAAgB,UAA0B,CACxCxB,GAAI,SAAU,YAAa,KAAK,YAAY,EAC5CA,GAAI,SAAU,YAAa,KAAK,YAAY,EAC5CA,GAAI,SAAU,cAAe,KAAK,YAAY,EAC9CA,GAAI,SAAU,WAAYzB,EAA6B,EACvDyB,GAAI,SAAU,YAAazB,EAA6B,EACxDyB,GAAI,SAAU,YAAazB,EAA6B,CAC1D,EACA,aAAc,UAAwB,CACpC,IAAIkB,GAAgB,KAAK,GAAG,cAC5BO,GAAIP,GAAe,UAAW,KAAK,OAAO,EAC1CO,GAAIP,GAAe,WAAY,KAAK,OAAO,EAC3CO,GAAIP,GAAe,YAAa,KAAK,OAAO,EAC5CO,GAAIP,GAAe,cAAe,KAAK,OAAO,EAC9CO,GAAI,SAAU,cAAe,IAAI,CACnC,EACA,QAAS,SAETvI,GAAK,CACH,IAAIE,GAAK,KAAK,GACVX,GAAU,KAAK,QAYnB,GAVA4B,GAAW2G,GAAM7F,EAAM,EACvBZ,GAAoByG,GAAM7F,GAAQ1C,GAAQ,SAAS,EACnDuC,GAAY,OAAQ,KAAM,CACxB,IAAK9B,EACP,CAAC,EACDkC,GAAWD,IAAUA,GAAO,WAE5Bd,GAAW2G,GAAM7F,EAAM,EACvBZ,GAAoByG,GAAM7F,GAAQ1C,GAAQ,SAAS,EAE/C7B,GAAS,cAAe,CAC1B,KAAK,SAAS,EAEd,MACF,CAEAmF,GAAsB,GACtBY,GAAyB,GACzBD,GAAwB,GACxB,cAAc,KAAK,OAAO,EAC1B,aAAa,KAAK,eAAe,EAEjCgI,GAAgB,KAAK,OAAO,EAE5BA,GAAgB,KAAK,YAAY,EAG7B,KAAK,kBACPjD,GAAI,SAAU,OAAQ,IAAI,EAC1BA,GAAIrI,GAAI,YAAa,KAAK,YAAY,GAGxC,KAAK,eAAe,EAEpB,KAAK,aAAa,EAEdkH,IACF3J,GAAI,SAAS,KAAM,cAAe,EAAE,EAGtCA,GAAIwE,GAAQ,YAAa,EAAE,EAEvBjC,KACEuC,KACFvC,GAAI,YAAcA,GAAI,eAAe,EACrC,CAACT,GAAQ,YAAcS,GAAI,gBAAgB,GAG7CmC,IAAWA,GAAQ,YAAcA,GAAQ,WAAW,YAAYA,EAAO,GAEnEtB,KAAWqB,IAAYX,IAAeA,GAAY,cAAgB,UAEpER,IAAWA,GAAQ,YAAcA,GAAQ,WAAW,YAAYA,EAAO,EAGrEkB,KACE,KAAK,iBACPsG,GAAItG,GAAQ,UAAW,IAAI,EAG7BoG,GAAkBpG,EAAM,EAExBA,GAAO,MAAM,aAAa,EAAI,GAG1BM,IAAS,CAACM,IACZsF,GAAYlG,GAAQV,GAAcA,GAAY,QAAQ,WAAa,KAAK,QAAQ,WAAY,EAAK,EAGnG4G,GAAYlG,GAAQ,KAAK,QAAQ,YAAa,EAAK,EAEnDS,GAAe,CACb,SAAU,KACV,KAAM,WACN,KAAMR,GACN,SAAU,KACV,kBAAmB,KACnB,cAAelC,EACjB,CAAC,EAEGa,KAAWqB,IACTf,IAAY,IAEduB,GAAe,CACb,OAAQR,GACR,KAAM,MACN,KAAMA,GACN,OAAQrB,GACR,cAAeb,EACjB,CAAC,EAGD0C,GAAe,CACb,SAAU,KACV,KAAM,SACN,KAAMR,GACN,cAAelC,EACjB,CAAC,EAGD0C,GAAe,CACb,OAAQR,GACR,KAAM,OACN,KAAMA,GACN,OAAQrB,GACR,cAAeb,EACjB,CAAC,EAED0C,GAAe,CACb,SAAU,KACV,KAAM,OACN,KAAMR,GACN,cAAelC,EACjB,CAAC,GAGHuB,IAAeA,GAAY,KAAK,GAE5BJ,KAAaD,IACXC,IAAY,IAEduB,GAAe,CACb,SAAU,KACV,KAAM,SACN,KAAMR,GACN,cAAelC,EACjB,CAAC,EAED0C,GAAe,CACb,SAAU,KACV,KAAM,OACN,KAAMR,GACN,cAAelC,EACjB,CAAC,GAKHtC,GAAS,UAEPyD,IAAY,MAAQA,KAAa,MACnCA,GAAWD,GACXG,GAAoBD,IAGtBsB,GAAe,CACb,SAAU,KACV,KAAM,MACN,KAAMR,GACN,cAAelC,EACjB,CAAC,EAGD,KAAK,KAAK,KAKhB,KAAK,SAAS,CAChB,EACA,SAAU,UAAoB,CAC5B8B,GAAY,UAAW,IAAI,EAC3BjB,GAASoB,GAASC,GAAWC,GAAUC,GAASrB,GAAUsB,GAAaC,GAAcU,GAASC,GAAWV,GAAQpB,GAAWE,GAAoBH,GAAWE,GAAoBkC,GAAaC,GAAgBhC,GAAcqB,GAAclF,GAAS,QAAUA,GAAS,MAAQA,GAAS,MAAQA,GAAS,OAAS,KAC/SoG,GAAkB,QAAQ,SAAU5D,GAAI,CACtCA,GAAG,QAAU,EACf,CAAC,EACD4D,GAAkB,OAASZ,GAASC,GAAS,CAC/C,EACA,YAAa,SAEbnD,GAAK,CACH,OAAQA,GAAI,KAAM,CAChB,IAAK,OACL,IAAK,UACH,KAAK,QAAQA,EAAG,EAEhB,MAEF,IAAK,YACL,IAAK,WACCiC,KACF,KAAK,YAAYjC,EAAG,EAEpByL,GAAgBzL,EAAG,GAGrB,MAEF,IAAK,cACHA,GAAI,eAAe,EACnB,KACJ,CACF,EAMA,QAAS,UAAmB,CAQ1B,QAPI0L,GAAQ,CAAC,EACTxL,GACA3C,GAAW,KAAK,GAAG,SACnB0J,GAAI,EACJ0E,GAAIpO,GAAS,OACbgC,GAAU,KAAK,QAEZ0H,GAAI0E,GAAG1E,KACZ/G,GAAK3C,GAAS0J,EAAC,EAEXY,GAAQ3H,GAAIX,GAAQ,UAAW,KAAK,GAAI,EAAK,GAC/CmM,GAAM,KAAKxL,GAAG,aAAaX,GAAQ,UAAU,GAAKqM,GAAY1L,EAAE,CAAC,EAIrE,OAAOwL,EACT,EAMA,KAAM,SAAcA,GAAOG,GAAc,CACvC,IAAIC,GAAQ,CAAC,EACTjL,GAAS,KAAK,GAClB,KAAK,QAAQ,EAAE,QAAQ,SAAUkL,GAAI9E,GAAG,CACtC,IAAI/G,GAAKW,GAAO,SAASoG,EAAC,EAEtBY,GAAQ3H,GAAI,KAAK,QAAQ,UAAWW,GAAQ,EAAK,IACnDiL,GAAMC,EAAE,EAAI7L,GAEhB,EAAG,IAAI,EACP2L,IAAgB,KAAK,sBAAsB,EAC3CH,GAAM,QAAQ,SAAUK,GAAI,CACtBD,GAAMC,EAAE,IACVlL,GAAO,YAAYiL,GAAMC,EAAE,CAAC,EAC5BlL,GAAO,YAAYiL,GAAMC,EAAE,CAAC,EAEhC,CAAC,EACDF,IAAgB,KAAK,WAAW,CAClC,EAKA,KAAM,UAAgB,CACpB,IAAIG,GAAQ,KAAK,QAAQ,MACzBA,IAASA,GAAM,KAAOA,GAAM,IAAI,IAAI,CACtC,EAQA,QAAS,SAAmB9L,GAAI+L,GAAU,CACxC,OAAOpE,GAAQ3H,GAAI+L,IAAY,KAAK,QAAQ,UAAW,KAAK,GAAI,EAAK,CACvE,EAQA,OAAQ,SAAgB1L,GAAME,GAAO,CACnC,IAAIlB,GAAU,KAAK,QAEnB,GAAIkB,KAAU,OACZ,OAAOlB,GAAQgB,EAAI,EAEnB,IAAIG,GAAgBhB,GAAc,aAAa,KAAMa,GAAME,EAAK,EAE5D,OAAOC,GAAkB,IAC3BnB,GAAQgB,EAAI,EAAIG,GAEhBnB,GAAQgB,EAAI,EAAIE,GAGdF,KAAS,SACX6F,GAAc7G,EAAO,CAG3B,EAKA,QAAS,UAAmB,CAC1BuC,GAAY,UAAW,IAAI,EAC3B,IAAI5B,GAAK,KAAK,GACdA,GAAG/C,EAAO,EAAI,KACdoL,GAAIrI,GAAI,YAAa,KAAK,WAAW,EACrCqI,GAAIrI,GAAI,aAAc,KAAK,WAAW,EACtCqI,GAAIrI,GAAI,cAAe,KAAK,WAAW,EAEnC,KAAK,kBACPqI,GAAIrI,GAAI,WAAY,IAAI,EACxBqI,GAAIrI,GAAI,YAAa,IAAI,GAI3B,MAAM,UAAU,QAAQ,KAAKA,GAAG,iBAAiB,aAAa,EAAG,SAAUA,GAAI,CAC7EA,GAAG,gBAAgB,WAAW,CAChC,CAAC,EAED,KAAK,QAAQ,EAEb,KAAK,0BAA0B,EAE/B6C,GAAU,OAAOA,GAAU,QAAQ,KAAK,EAAE,EAAG,CAAC,EAC9C,KAAK,GAAK7C,GAAK,IACjB,EACA,WAAY,UAAsB,CAChC,GAAI,CAACoC,GAAa,CAEhB,GADAR,GAAY,YAAa,IAAI,EACzBpE,GAAS,cAAe,OAC5BD,GAAIsD,GAAS,UAAW,MAAM,EAE1B,KAAK,QAAQ,mBAAqBA,GAAQ,YAC5CA,GAAQ,WAAW,YAAYA,EAAO,EAGxCuB,GAAc,EAChB,CACF,EACA,WAAY,SAAoBf,GAAa,CAC3C,GAAIA,GAAY,cAAgB,QAAS,CACvC,KAAK,WAAW,EAEhB,MACF,CAEA,GAAIe,GAAa,CAEf,GADAR,GAAY,YAAa,IAAI,EACzBpE,GAAS,cAAe,OAExBuE,GAAO,YAAcpB,IAAU,CAAC,KAAK,QAAQ,MAAM,YACrDA,GAAO,aAAaE,GAASkB,EAAM,EAC1BG,GACTvB,GAAO,aAAaE,GAASqB,EAAM,EAEnCvB,GAAO,YAAYE,EAAO,EAGxB,KAAK,QAAQ,MAAM,aACrB,KAAK,QAAQkB,GAAQlB,EAAO,EAG9BtD,GAAIsD,GAAS,UAAW,EAAE,EAC1BuB,GAAc,EAChB,CACF,CACF,EAEA,SAASmJ,GAETzL,GAAK,CACCA,GAAI,eACNA,GAAI,aAAa,WAAa,QAGhCA,GAAI,YAAcA,GAAI,eAAe,CACvC,CAEA,SAASiK,GAAQhJ,GAAQD,GAAMiB,GAAQiD,GAAUpE,GAAUqE,GAAY7D,GAAe4K,GAAiB,CACrG,IAAIlM,GACAD,GAAWkB,GAAO9D,EAAO,EACzBgP,GAAWpM,GAAS,QAAQ,OAC5BqM,GAEJ,OAAI,OAAO,aAAe,CAAC1K,IAAc,CAACC,GACxC3B,GAAM,IAAI,YAAY,OAAQ,CAC5B,QAAS,GACT,WAAY,EACd,CAAC,GAEDA,GAAM,SAAS,YAAY,OAAO,EAClCA,GAAI,UAAU,OAAQ,GAAM,EAAI,GAGlCA,GAAI,GAAKgB,GACThB,GAAI,KAAOiB,GACXjB,GAAI,QAAUiC,GACdjC,GAAI,YAAckF,GAClBlF,GAAI,QAAUc,IAAYE,GAC1BhB,GAAI,YAAcmF,IAAcxH,GAAQqD,EAAI,EAC5ChB,GAAI,gBAAkBkM,GACtBlM,GAAI,cAAgBsB,GACpBL,GAAO,cAAcjB,EAAG,EAEpBmM,KACFC,GAASD,GAAS,KAAKpM,GAAUC,GAAKsB,EAAa,GAG9C8K,EACT,CAEA,SAAS/D,GAAkBnI,GAAI,CAC7BA,GAAG,UAAY,EACjB,CAEA,SAASoL,IAAY,CACnBzH,GAAU,EACZ,CAEA,SAAS0G,GAAcvK,GAAKoF,GAAUrF,GAAU,CAC9C,IAAIkG,GAAOtI,GAAQ+G,GAAS3E,GAAS,GAAI,EAAGA,GAAS,QAAS,EAAI,CAAC,EAC/DsM,GAAS,GACb,OAAOjH,GAAWpF,GAAI,QAAUiG,GAAK,KAAOoG,IAAUrM,GAAI,QAAUiG,GAAK,KAAOjG,GAAI,QAAUiG,GAAK,MAAQjG,GAAI,QAAUiG,GAAK,IAAMoG,IAAUrM,GAAI,QAAUiG,GAAK,QAAUjG,GAAI,QAAUiG,GAAK,IAChM,CAEA,SAASqE,GAAatK,GAAKoF,GAAUrF,GAAU,CAC7C,IAAIkG,GAAOtI,GAAQqI,GAAUjG,GAAS,GAAIA,GAAS,QAAQ,SAAS,CAAC,EACjEsM,GAAS,GACb,OAAOjH,GAAWpF,GAAI,QAAUiG,GAAK,MAAQoG,IAAUrM,GAAI,SAAWiG,GAAK,OAASjG,GAAI,QAAUiG,GAAK,QAAUjG,GAAI,SAAWiG,GAAK,KAAOjG,GAAI,QAAUiG,GAAK,OAASjG,GAAI,QAAUiG,GAAK,KAAOjG,GAAI,SAAWiG,GAAK,OAASjG,GAAI,QAAUiG,GAAK,OAASoG,EAC7P,CAEA,SAASpB,GAAkBjL,GAAK/B,GAAQkH,GAAYC,GAAUkH,GAAeC,GAAuBC,GAAYC,GAAc,CAC5H,IAAIC,GAActH,GAAWpF,GAAI,QAAUA,GAAI,QAC3C2M,GAAevH,GAAWD,GAAW,OAASA,GAAW,MACzDyH,GAAWxH,GAAWD,GAAW,IAAMA,GAAW,KAClD0H,GAAWzH,GAAWD,GAAW,OAASA,GAAW,MACrD2H,GAAS,GAEb,GAAI,CAACN,IAEH,GAAIC,IAAgB/I,GAAqBiJ,GAAeL,IAQtD,GALI,CAAC9I,KAA0BD,KAAkB,EAAImJ,GAAcE,GAAWD,GAAeJ,GAAwB,EAAIG,GAAcG,GAAWF,GAAeJ,GAAwB,KAEvL/I,GAAwB,IAGrBA,GAOHsJ,GAAS,WALLvJ,KAAkB,EAAImJ,GAAcE,GAAWlJ,GACjDgJ,GAAcG,GAAWnJ,GACzB,MAAO,CAACH,WAORmJ,GAAcE,GAAWD,IAAgB,EAAIL,IAAiB,GAAKI,GAAcG,GAAWF,IAAgB,EAAIL,IAAiB,EACnI,OAAOS,GAAoB9O,EAAM,EAOvC,OAFA6O,GAASA,IAAUN,GAEfM,KAEEJ,GAAcE,GAAWD,GAAeJ,GAAwB,GAAKG,GAAcG,GAAWF,GAAeJ,GAAwB,GAChIG,GAAcE,GAAWD,GAAe,EAAI,EAAI,GAIpD,CACT,CASA,SAASI,GAAoB9O,GAAQ,CACnC,OAAI6J,GAAM7F,EAAM,EAAI6F,GAAM7J,EAAM,EACvB,EAEA,EAEX,CASA,SAAS2N,GAAY1L,GAAI,CAKvB,QAJI8M,GAAM9M,GAAG,QAAUA,GAAG,UAAYA,GAAG,IAAMA,GAAG,KAAOA,GAAG,YACxD+G,GAAI+F,GAAI,OACRC,GAAM,EAEHhG,MACLgG,IAAOD,GAAI,WAAW/F,EAAC,EAGzB,OAAOgG,GAAI,SAAS,EAAE,CACxB,CAEA,SAASrF,GAAuBsF,GAAM,CACpCpJ,GAAkB,OAAS,EAI3B,QAHIqJ,GAASD,GAAK,qBAAqB,OAAO,EAC1CE,GAAMD,GAAO,OAEVC,MAAO,CACZ,IAAIlN,GAAKiN,GAAOC,EAAG,EACnBlN,GAAG,SAAW4D,GAAkB,KAAK5D,EAAE,CACzC,CACF,CAEA,SAASsI,GAAUnB,GAAI,CACrB,OAAO,WAAWA,GAAI,CAAC,CACzB,CAEA,SAASmE,GAAgBO,GAAI,CAC3B,OAAO,aAAaA,EAAE,CACxB,CAGIhI,IACFuD,GAAG,SAAU,YAAa,SAAUtH,GAAK,EAClCtC,GAAS,QAAUmF,KAAwB7C,GAAI,YAClDA,GAAI,eAAe,CAEvB,CAAC,EAIHtC,GAAS,MAAQ,CACf,GAAI4J,GACJ,IAAKiB,GACL,IAAK9K,GACL,KAAM2K,GACN,GAAI,SAAYlI,GAAI+L,GAAU,CAC5B,MAAO,CAAC,CAACpE,GAAQ3H,GAAI+L,GAAU/L,GAAI,EAAK,CAC1C,EACA,OAAQmN,GACR,SAAUC,GACV,QAASzF,GACT,YAAaM,GACb,MAAOmB,GACP,MAAOxB,GACP,SAAUU,GACV,eAAgBgD,GAChB,gBAAiBlH,GACjB,SAAUI,EACZ,EAOAhH,GAAS,IAAM,SAAU6P,GAAS,CAChC,OAAOA,GAAQpQ,EAAO,CACxB,EAOAO,GAAS,MAAQ,UAAY,CAC3B,QAAS8P,GAAO,UAAU,OAAQhO,GAAU,IAAI,MAAMgO,EAAI,EAAGC,GAAO,EAAGA,GAAOD,GAAMC,KAClFjO,GAAQiO,EAAI,EAAI,UAAUA,EAAI,EAG5BjO,GAAQ,CAAC,EAAE,cAAgB,QAAOA,GAAUA,GAAQ,CAAC,GACzDA,GAAQ,QAAQ,SAAUG,GAAQ,CAChC,GAAI,CAACA,GAAO,WAAa,CAACA,GAAO,UAAU,YACzC,KAAM,gEAAgE,OAAO,CAAC,EAAE,SAAS,KAAKA,EAAM,CAAC,EAGnGA,GAAO,QAAOjC,GAAS,MAAQG,GAAeA,GAAe,CAAC,EAAGH,GAAS,KAAK,EAAGiC,GAAO,KAAK,GAClGD,GAAc,MAAMC,EAAM,CAC5B,CAAC,CACH,EAQAjC,GAAS,OAAS,SAAUwC,GAAIX,GAAS,CACvC,OAAO,IAAI7B,GAASwC,GAAIX,EAAO,CACjC,EAGA7B,GAAS,QAAUgQ,GAEnB,IAAIC,GAAc,CAAC,EACfC,GACAC,GACAC,GAAY,GACZC,GACAC,GACAC,GACAC,GAEJ,SAASC,IAAmB,CAC1B,SAASC,IAAa,CACpB,KAAK,SAAW,CACd,OAAQ,GACR,wBAAyB,GACzB,kBAAmB,GACnB,YAAa,GACb,aAAc,EAChB,EAEA,QAAS/G,MAAM,KACTA,GAAG,OAAO,CAAC,IAAM,KAAO,OAAO,KAAKA,EAAE,GAAM,aAC9C,KAAKA,EAAE,EAAI,KAAKA,EAAE,EAAE,KAAK,IAAI,EAGnC,CAEA,OAAA+G,GAAW,UAAY,CACrB,YAAa,SAAqBxN,GAAM,CACtC,IAAIU,GAAgBV,GAAK,cAErB,KAAK,SAAS,gBAChB0G,GAAG,SAAU,WAAY,KAAK,iBAAiB,EAE3C,KAAK,QAAQ,eACfA,GAAG,SAAU,cAAe,KAAK,yBAAyB,EACjDhG,GAAc,QACvBgG,GAAG,SAAU,YAAa,KAAK,yBAAyB,EAExDA,GAAG,SAAU,YAAa,KAAK,yBAAyB,CAG9D,EACA,kBAAmB,SAA2B+G,GAAO,CACnD,IAAI/M,GAAgB+M,GAAM,cAGtB,CAAC,KAAK,QAAQ,gBAAkB,CAAC/M,GAAc,QACjD,KAAK,kBAAkBA,EAAa,CAExC,EACA,KAAM,UAAgB,CAChB,KAAK,SAAS,gBAChBiH,GAAI,SAAU,WAAY,KAAK,iBAAiB,GAEhDA,GAAI,SAAU,cAAe,KAAK,yBAAyB,EAC3DA,GAAI,SAAU,YAAa,KAAK,yBAAyB,EACzDA,GAAI,SAAU,YAAa,KAAK,yBAAyB,GAG3D+F,GAAgC,EAChCC,GAAiB,EACjBC,GAAe,CACjB,EACA,QAAS,UAAmB,CAC1BP,GAAaJ,GAAeD,GAAWE,GAAYI,GAA6BH,GAAkBC,GAAkB,KACpHL,GAAY,OAAS,CACvB,EACA,0BAA2B,SAAmC3N,GAAK,CACjE,KAAK,kBAAkBA,GAAK,EAAI,CAClC,EACA,kBAAmB,SAA2BA,GAAKyI,GAAU,CAC3D,IAAIrK,GAAQ,KAERwH,IAAK5F,GAAI,QAAUA,GAAI,QAAQ,CAAC,EAAIA,IAAK,QACzC6F,IAAK7F,GAAI,QAAUA,GAAI,QAAQ,CAAC,EAAIA,IAAK,QACzCyO,GAAO,SAAS,iBAAiB7I,GAAGC,EAAC,EAMzC,GALAoI,GAAajO,GAKTyI,IAAY,KAAK,QAAQ,yBAA2B9G,IAAQD,IAAc0F,GAAQ,CACpFsH,GAAW1O,GAAK,KAAK,QAASyO,GAAMhG,EAAQ,EAE5C,IAAIkG,GAAiBC,GAA2BH,GAAM,EAAI,EAEtDX,KAAc,CAACI,IAA8BtI,KAAMmI,IAAmBlI,KAAMmI,MAC9EE,IAA8BI,GAAgC,EAE9DJ,GAA6B,YAAY,UAAY,CACnD,IAAIW,GAAUD,GAA2B,SAAS,iBAAiBhJ,GAAGC,EAAC,EAAG,EAAI,EAE1EgJ,KAAYF,KACdA,GAAiBE,GACjBN,GAAiB,GAGnBG,GAAW1O,GAAK5B,GAAM,QAASyQ,GAASpG,EAAQ,CAClD,EAAG,EAAE,EACLsF,GAAkBnI,GAClBoI,GAAkBnI,GAEtB,KAAO,CAEL,GAAI,CAAC,KAAK,QAAQ,cAAgB+I,GAA2BH,GAAM,EAAI,IAAMpF,GAA0B,EAAG,CACxGkF,GAAiB,EACjB,MACF,CAEAG,GAAW1O,GAAK,KAAK,QAAS4O,GAA2BH,GAAM,EAAK,EAAG,EAAK,CAC9E,CACF,CACF,EACOpO,GAAS+N,GAAY,CAC1B,WAAY,SACZ,oBAAqB,EACvB,CAAC,CACH,CAEA,SAASG,IAAmB,CAC1BZ,GAAY,QAAQ,SAAUe,GAAY,CACxC,cAAcA,GAAW,GAAG,CAC9B,CAAC,EACDf,GAAc,CAAC,CACjB,CAEA,SAASW,IAAkC,CACzC,cAAcJ,EAA0B,CAC1C,CAEA,IAAIQ,GAAapB,GAAS,SAAUtN,GAAKT,GAASsB,GAAQiO,GAAY,CAEpE,GAAKvP,GAAQ,OACb,KAAIqG,IAAK5F,GAAI,QAAUA,GAAI,QAAQ,CAAC,EAAIA,IAAK,QACzC6F,IAAK7F,GAAI,QAAUA,GAAI,QAAQ,CAAC,EAAIA,IAAK,QACzC+O,GAAOxP,GAAQ,kBACfyP,GAAQzP,GAAQ,YAChB0P,GAAc5F,GAA0B,EACxC6F,GAAqB,GACrBC,GAEAtB,KAAiBhN,KACnBgN,GAAehN,GACf0N,GAAiB,EACjBX,GAAWrO,GAAQ,OACnB4P,GAAiB5P,GAAQ,SAErBqO,KAAa,KACfA,GAAWgB,GAA2B/N,GAAQ,EAAI,IAItD,IAAIuO,GAAY,EACZC,GAAgBzB,GAEpB,EAAG,CACD,IAAI1N,GAAKmP,GACLpJ,GAAOtI,GAAQuC,EAAE,EACjBoP,GAAMrJ,GAAK,IACXsJ,GAAStJ,GAAK,OACduJ,GAAOvJ,GAAK,KACZwJ,GAAQxJ,GAAK,MACbyJ,GAAQzJ,GAAK,MACb0J,GAAS1J,GAAK,OACd2J,GAAa,OACbC,GAAa,OACbC,GAAc5P,GAAG,YACjB6P,GAAe7P,GAAG,aAClBqE,GAAQ9G,GAAIyC,EAAE,EACd8P,GAAa9P,GAAG,WAChB+P,GAAa/P,GAAG,UAEhBA,KAAO+O,IACTW,GAAaF,GAAQI,KAAgBvL,GAAM,YAAc,QAAUA,GAAM,YAAc,UAAYA,GAAM,YAAc,WACvHsL,GAAaF,GAASI,KAAiBxL,GAAM,YAAc,QAAUA,GAAM,YAAc,UAAYA,GAAM,YAAc,aAEzHqL,GAAaF,GAAQI,KAAgBvL,GAAM,YAAc,QAAUA,GAAM,YAAc,UACvFsL,GAAaF,GAASI,KAAiBxL,GAAM,YAAc,QAAUA,GAAM,YAAc,WAG3F,IAAI2L,GAAKN,KAAe,KAAK,IAAIH,GAAQ7J,EAAC,GAAKmJ,IAAQiB,GAAaN,GAAQI,KAAgB,KAAK,IAAIN,GAAO5J,EAAC,GAAKmJ,IAAQ,CAAC,CAACiB,IACxHG,GAAKN,KAAe,KAAK,IAAIN,GAAS1J,EAAC,GAAKkJ,IAAQkB,GAAaN,GAASI,KAAiB,KAAK,IAAIT,GAAMzJ,EAAC,GAAKkJ,IAAQ,CAAC,CAACkB,IAE9H,GAAI,CAACtC,GAAYyB,EAAS,EACxB,QAASnI,GAAI,EAAGA,IAAKmI,GAAWnI,KACzB0G,GAAY1G,EAAC,IAChB0G,GAAY1G,EAAC,EAAI,CAAC,IAKpB0G,GAAYyB,EAAS,EAAE,IAAMc,IAAMvC,GAAYyB,EAAS,EAAE,IAAMe,IAAMxC,GAAYyB,EAAS,EAAE,KAAOlP,MACtGyN,GAAYyB,EAAS,EAAE,GAAKlP,GAC5ByN,GAAYyB,EAAS,EAAE,GAAKc,GAC5BvC,GAAYyB,EAAS,EAAE,GAAKe,GAC5B,cAAcxC,GAAYyB,EAAS,EAAE,GAAG,GAEpCc,IAAM,GAAKC,IAAM,KACnBjB,GAAqB,GAGrBvB,GAAYyB,EAAS,EAAE,IAAM,YAAY,UAAY,CAE/CN,IAAc,KAAK,QAAU,GAC/BpR,GAAS,OAAO,aAAauQ,EAAU,EAIzC,IAAImC,GAAgBzC,GAAY,KAAK,KAAK,EAAE,GAAKA,GAAY,KAAK,KAAK,EAAE,GAAKqB,GAAQ,EAClFqB,GAAgB1C,GAAY,KAAK,KAAK,EAAE,GAAKA,GAAY,KAAK,KAAK,EAAE,GAAKqB,GAAQ,EAElF,OAAOG,IAAmB,YACxBA,GAAe,KAAKzR,GAAS,QAAQ,WAAWP,EAAO,EAAGkT,GAAeD,GAAepQ,GAAKiO,GAAYN,GAAY,KAAK,KAAK,EAAE,EAAE,IAAM,YAK/IpC,GAASoC,GAAY,KAAK,KAAK,EAAE,GAAI0C,GAAeD,EAAa,CACnE,EAAE,KAAK,CACL,MAAOhB,EACT,CAAC,EAAG,EAAE,IAIVA,IACF,OAAS7P,GAAQ,cAAgB8P,KAAkBJ,KAAgBI,GAAgBT,GAA2BS,GAAe,EAAK,IAElIvB,GAAYoB,GACd,EAAG,EAAE,EAEDoB,GAAO,SAAc1P,GAAM,CAC7B,IAAIU,GAAgBV,GAAK,cACrBW,GAAcX,GAAK,YACnBqB,GAASrB,GAAK,OACd4I,GAAiB5I,GAAK,eACtB2P,GAAwB3P,GAAK,sBAC7B4P,GAAqB5P,GAAK,mBAC1B6P,GAAuB7P,GAAK,qBAChC,GAAKU,GACL,KAAIoP,GAAanP,IAAeiI,GAChCgH,GAAmB,EACnB,IAAI/I,GAAQnG,GAAc,gBAAkBA,GAAc,eAAe,OAASA,GAAc,eAAe,CAAC,EAAIA,GAChHrD,GAAS,SAAS,iBAAiBwJ,GAAM,QAASA,GAAM,OAAO,EACnEgJ,GAAqB,EAEjBC,IAAc,CAACA,GAAW,GAAG,SAASzS,EAAM,IAC9CsS,GAAsB,OAAO,EAC7B,KAAK,QAAQ,CACX,OAAQtO,GACR,YAAaV,EACf,CAAC,GAEL,EAEA,SAASoP,IAAS,CAAC,CAEnBA,GAAO,UAAY,CACjB,WAAY,KACZ,UAAW,SAAmBtC,GAAO,CACnC,IAAIjN,GAAoBiN,GAAM,kBAC9B,KAAK,WAAajN,EACpB,EACA,QAAS,SAAiBwP,GAAO,CAC/B,IAAI3O,GAAS2O,GAAM,OACfrP,GAAcqP,GAAM,YACxB,KAAK,SAAS,sBAAsB,EAEhCrP,IACFA,GAAY,sBAAsB,EAGpC,IAAI6J,GAAc1G,GAAS,KAAK,SAAS,GAAI,KAAK,WAAY,KAAK,OAAO,EAEtE0G,GACF,KAAK,SAAS,GAAG,aAAanJ,GAAQmJ,EAAW,EAEjD,KAAK,SAAS,GAAG,YAAYnJ,EAAM,EAGrC,KAAK,SAAS,WAAW,EAErBV,IACFA,GAAY,WAAW,CAE3B,EACA,KAAM+O,EACR,EAEAjQ,GAASsQ,GAAQ,CACf,WAAY,eACd,CAAC,EAED,SAASE,IAAS,CAAC,CAEnBA,GAAO,UAAY,CACjB,QAAS,SAAiBC,GAAO,CAC/B,IAAI7O,GAAS6O,GAAM,OACfvP,GAAcuP,GAAM,YACpBC,GAAiBxP,IAAe,KAAK,SACzCwP,GAAe,sBAAsB,EACrC9O,GAAO,YAAcA,GAAO,WAAW,YAAYA,EAAM,EACzD8O,GAAe,WAAW,CAC5B,EACA,KAAMT,EACR,EAEAjQ,GAASwQ,GAAQ,CACf,WAAY,eACd,CAAC,EA2sBDG,GAAS,MAAM,IAAIC,EAAkB,EACrCD,GAAS,MAAME,GAAQC,EAAM,EAE7B,IAAOC,GAAQJ,GDnsHA,SAARK,IAAoB,CACzB,IAAMC,GAAaC,IAAY,CAE7B,QADIC,GAAYD,GAAQ,iBAAiB,WAAW,EAC3CE,GAAI,EAAGA,GAAID,GAAU,OAAQC,KAAK,CACzC,IAAIC,GAAWF,GAAUC,EAAC,EAC1B,IAAIE,GAASD,GAAU,CACrB,OAAQ,mBACR,UAAW,IACX,cAAe,EACjB,CAAC,CACH,CACF,EAEA,GAAAE,QAAK,OAAON,EAAS,CACvB,CEbA,IAAAO,GAAiB,SAEF,SAARC,IAAoB,CACzB,IAAIC,GAAU,SAAUC,GAAK,CACRA,GAAI,cAAc,QAAQ,yBAAyB,EACvC,cAC7B,iCACF,EACY,UAAU,OAAO,MAAM,CACrC,EAEIC,GAAY,UAAY,CAC1B,SACG,iBAAiB,gCAAgC,EACjD,QAASC,IAAgBA,GAAY,iBAAiB,QAASH,EAAO,CAAC,CAC5E,EAEAE,GAAU,EAEV,GAAAE,QAAK,OAAO,SAAUC,GAAI,CACxBH,GAAU,CACZ,CAAC,CACH,CClBA,IAAAI,GAAiB,SAEF,SAARC,IAAoB,CACzB,IAAIC,GAAU,SAAUC,GAAK,CACTA,GAAI,cAAc,QAAQ,eAAe,EACjC,cAAc,gBAAgB,EAChD,UAAU,OAAO,WAAW,CACtC,EAEIC,GAAY,UAAY,CAC1B,SACG,iBAAiB,uBAAuB,EACxC,QAASC,IAAYA,GAAQ,iBAAiB,QAASH,EAAO,CAAC,CACpE,EAEAE,GAAU,EAEV,GAAAE,QAAK,OAAO,SAAUC,GAAI,CACxBH,GAAU,CACZ,CAAC,CACH,CC5BA,IAAAI,GAAiB,SAEF,SAARC,IAAoB,CAOzB,GAAAC,QAAK,OAAO,SAAUC,GAAI,CACxB,IAAIC,GAAQD,GAAG,cAAc,0BAA0B,EAEvDC,IAAM,MAAM,CACd,CAAC,CACH,CCdA,IAAAC,GAAiB,SCAF,SAARC,GAAkBC,GAAO,CAC9B,IAAIC,GAAS,SAAS,cAAc,SAAS,EAE7C,GAAI,CAACA,GAAQ,OASb,IAAIC,GAAqB,SAAS,cAChC,+BACF,EAEA,GAAI,CAACA,GAAoB,OAEzB,IAAIC,GAAQD,GAAmB,QAAQ,UAAU,EAAI,EAGrDC,GAAM,cAAc,cAAc,EAAE,iBAAiB,QAAS,UAAY,CACxEF,GAAO,UAAY,EACrB,CAAC,EAEDE,GAAM,cAAc,MAAM,EAAE,YAAcH,GAE1CC,GAAO,UAAY,GACnBA,GAAO,YAAYE,EAAK,CAC1B,CD1Be,SAARC,IAAoB,CACzB,GAAAC,QAAK,OAAO,SAAUC,GAAQ,CAC5BA,GACG,iBAAiB,kCAAkC,EACnD,QAASC,IAAU,CAClBA,GAAM,iBAAiB,SAAWC,IAAQ,CACxC,IAAMC,GAAQ,MAAM,KAAKF,GAAM,KAAK,EACpC,GAAI,CAACE,GAAM,OAAQ,OAEnB,IAAMC,GAAOD,GAAM,CAAC,EAChBE,GAAOJ,GAAM,QAAQ,MAAM,EAC3BK,GAAS,SAAS,cAAcD,GAAK,QAAQ,MAAM,EACnDE,GAAU,KAAK,MAAMF,GAAK,QAAQ,OAAO,EACvCG,GAAU,SAASP,GAAM,QAAQ,OAAO,EACxCQ,GAAeR,GAAM,QAAQ,aAEnC,GAAI,CAAC,MAAMO,EAAO,GAAKA,GAAU,GAAKP,GAAM,MAAM,CAAC,EAAE,KAAOO,GAAS,CACnEN,GAAI,eAAe,EACnBA,GAAI,gBAAgB,EACpBQ,GAAWD,EAAY,EACvBE,GAAeN,EAAI,EACnB,MACF,CAGAE,GAAQ,wBAAwB,EAAI,OAEpCA,GAAQ,mBAAmB,EAAI,mBAAmBH,GAAK,IAAI,EAC3DG,GAAQ,cAAc,EAAIH,GAAK,KAE/B,IAAIQ,GAAM,IAAI,eAedA,GAAI,OAAO,iBACT,WACCC,IAAM,CACAA,GAAE,kBACPC,GAAYT,GAAM,KAAK,MAAOQ,GAAE,OAASA,GAAE,MAAS,GAAG,CAAC,CAC1D,EACA,EACF,EAEAD,GAAI,iBAAiB,mBAAqBC,IAAM,CAC1CD,GAAI,aAAe,IAEvBD,GAAeN,EAAI,EAGfO,GAAI,QAAU,KAAOA,GAAI,QAAU,KACrCN,GAAO,UAAYM,GAAI,aACvB,GAAAb,QAAK,QAAQO,EAAM,GAGZM,GAAI,QAAU,IACrBF,GAAWT,GAAM,QAAQ,qBAAqB,EAGvCW,GAAI,QAAU,IACrBF,GAAWT,GAAM,QAAQ,uBAAuB,EAIhDS,GAAWT,GAAM,QAAQ,mBAAmB,EAEhD,CAAC,EAGDc,GAAeV,EAAI,EAGnBO,GAAI,KAAKP,GAAK,OAAQA,GAAK,MAAM,EACjC,QAASW,MAAOT,GACdK,GAAI,iBAAiBI,GAAKT,GAAQS,EAAG,CAAC,EAExCJ,GAAI,KAAKR,EAAI,CACf,CAAC,CACH,CAAC,CACL,CAAC,CACH,CAEA,SAASW,GAAeV,GAAM,CAC5BS,GAAYT,GAAM,CAAC,EACnBA,GAAK,iBAAiB,OAAO,EAAE,QAASY,IAAO,CAC7CA,GAAG,SAAW,EAChB,CAAC,EACDZ,GAAK,cAAc,oBAAoB,EAAE,UAAU,IAAI,QAAQ,EAC/DA,GAAK,cAAc,mBAAmB,EAAE,UAAU,OAAO,QAAQ,CACnE,CAEA,SAASM,GAAeN,GAAM,CAC5BS,GAAYT,GAAM,CAAC,EACnBA,GAAK,iBAAiB,OAAO,EAAE,QAASY,IAAO,CAC7CA,GAAG,SAAW,GAEdA,GAAG,MAAQ,EACb,CAAC,EACDZ,GAAK,cAAc,oBAAoB,EAAE,UAAU,OAAO,QAAQ,EAClEA,GAAK,cAAc,mBAAmB,EAAE,UAAU,IAAI,QAAQ,CAChE,CAEA,SAASS,GAAYT,GAAMa,GAAK,CAC9B,IAAIC,GAAKd,GAAK,cAAc,eAAe,EAC3Cc,GAAG,aAAa,QAAS,UAAYD,GAAM,GAAG,EAC9CC,GAAG,aAAa,gBAAiBD,EAAG,EACpC,IAAIE,GAAKf,GAAK,cAAc,uBAAuB,EACnDe,GAAG,UAAYF,EACjB,CEzHA,IAAAG,GAAiB,SCAV,IACIC,GAA2B,UAAA,SAAAC,GAAAC,GAAAD,GAAA,EAAAA,IAAA,MAAAA,GAAAC,GAAA,UAAAD,GAAAC,GAAA,QAAA,QAAAC,GAAA,EAAAC,GAAA,IAAA,MAAAH,EAAA,EAAAE,GAAAF,GAAAE,KAAAC,GAAAD,EAAA,EAAAD,GAAAC,EAAA,EAAA,OAAAC,EAAA,CAAA,SAAAD,GAAAD,GAAA,CAAA,OAAA,SAAAA,GAAA,CAAA,GAAA,MAAA,QAAAA,EAAA,EAAA,OAAAD,GAAAC,EAAA,CAAA,EAAAA,EAAA,GAAA,SAAAA,GAAA,CAAA,GAAA,OAAA,OAAA,KAAAA,GAAA,OAAA,QAAA,GAAA,MAAAA,GAAA,YAAA,GAAA,KAAA,OAAA,MAAA,KAAAA,EAAA,CAAA,EAAAA,EAAA,GAAA,SAAAA,GAAAC,GAAA,CAAA,GAAAD,GAAA,IAAA,OAAAA,IAAA,SAAA,OAAAD,GAAAC,GAAAC,EAAA,EAAA,IAAAC,GAAA,OAAA,UAAA,SAAA,KAAAF,EAAA,EAAA,MAAA,EAAA,EAAA,EAAA,GAAAE,KAAA,UAAAF,GAAA,cAAAE,GAAAF,GAAA,YAAA,MAAAE,KAAA,OAAAA,KAAA,MAAA,OAAA,MAAA,KAAAA,EAAA,EAAA,GAAAA,KAAA,aAAA,2CAAA,KAAAA,EAAA,EAAA,OAAAH,GAAAC,GAAAC,EAAA,EAAA,EAAAD,EAAA,GAAA,UAAA,CAAA,MAAA,IAAA,UAAA,uIAAA,CAAA,EAAA,CAAA,CCC/B,IAAMG,GAAS,CAClBC,UAAAA,UAAAA,CAAqBC,IAAAA,GAAP,OAAOA,GAAAA,OAAOC,gBAAY,MAAnBD,KAAOC,QAAPD,EAA2B,EAChDE,IAAAA,UAAI,CAAA,QAAAC,GAAAC,UAAAC,OAAGC,GAAH,IAAAC,MAAAJ,EAAAK,EAAAA,GAAA,EAAAA,GAAAL,GAAAK,KAAGF,GAAHE,EAAAA,EAAAJ,UAAAI,EAA8BC,EAAAA,IAAAA,GAApBC,KAAKX,UAAAA,IAAeU,GAAAA,SAAQP,IAARO,MAAAA,GAAAA,CAAY,WAAA,EAAZA,OAAyBE,GAAGL,EAAAA,CAAAA,CAAAA,CAAM,EACpEM,KAAAA,UAAAA,CAAK,QAAAT,GAAAC,UAAAC,OAAGC,GAAH,IAAAC,MAAAJ,EAAAA,EAAAK,GAAA,EAAAA,GAAAL,GAAAK,KAAGF,GAAHE,EAAAJ,EAAAA,UAAAI,EAAAA,EAA+BC,IAAAA,GAApBC,KAAKX,UAAeU,IAAAA,GAAAA,SAAQG,KAARH,MAAAA,GAAAA,CAAa,WAAA,EAAbA,OAA0BE,GAAGL,EAAAA,CAAAA,CAAAA,CAAM,CAAA,EAS9DO,GAAU,SAACC,GAAIC,GAAIC,GAAeC,GAAAA,CAU3C,OARAH,GAAK,GAAGA,GACRC,GAAK,GAAGA,GAEJE,KACAH,GAAKA,GAAGG,KAAAA,EACRF,GAAKA,GAAGE,KAAAA,GAGLD,GACDF,IAAMC,GACND,GAAGI,YAAiBH,GAAAA,GAAGG,YAAAA,CACjC,EAIaC,GAAuB,SAACC,GAAYC,GAAAA,CAAkBD,OAAAA,IAAcb,MAAMe,QAAQF,EAAeA,GAAAA,GAAWG,IAAIC,SAAAA,GAAAA,CAAKC,OAAAA,GAAKD,GAAGH,EAAAA,CAAAA,CAAe,CAAA,EAElJ,SAASI,GAAKC,GAAKC,GAAAA,CACtB,IAAiBC,GAAbC,GAAS,CAAID,EACjB,IAAKA,MAAKF,GACFC,GAAMG,QAAQF,EAAAA,EAAK,IACnBC,GAAOD,EAAAA,EAAKF,GAAIE,EACxB,GAAA,OAAOC,EACX,CAEO,SAASE,GAAQC,GACpB,CAAA,IAAIC,GAAKC,SAASC,cAAc,KAAA,EAChC,OAAOH,GAAEI,QAAQ,mBAAoB,SAASC,GAAAA,CAE1C,OADAJ,GAAGK,UAAYD,GACRJ,GAAGM,SACd,CACJ,CAAA,CAQO,SAASC,GAAWR,GAAAA,CAIvB,OAHa,IAAIS,YACGC,gBAAgBV,GAAEf,KAAAA,EAAQ,WAAA,EAElC0B,KAAKC,iBACrB,CAwBO,SAASC,GAAkBC,GAAKC,GAEnC,CAAA,IADAA,GAASA,IAAU,WACXD,GAAMA,GAAIC,GAAS,SAAA,GAAA,GACnBD,GAAIE,UAAY,EAChB,OAAOF,EACnB,CAMO,SAASG,GAAYjB,GAAAA,CACxB,OAAmB,OAALA,IAAK,SAAWA,GACzBI,QAAQ,KAAM,OACdA,EAAAA,QAAQ,KAAM,MACdA,EAAAA,QAAQ,KAAM,MACdA,EAAAA,QAAQ,KAAM,QACdA,EAAAA,QAAQ,OAAQ,QACfJ,EAAAA,EACV,CAKO,SAASkB,GAASxB,GAAAA,CACrB,IAAIyB,GAAOC,OAAOC,UAAUC,SAASC,KAAK7B,EAAK8B,EAAAA,MAAM,GAAA,EAAK,CAAGC,EAAAA,MAAM,EAAA,EACnE,EAAA,OAAO/B,KAAQ0B,OAAO1B,EAAAA,GAAQyB,IAAQ,SAAWA,IAAQ,YAAcA,IAAQ,UAAYA,IAAQ,oBACvG,CAMO,SAASO,GAAQC,GAAGC,GAAIC,GAAAA,CAAAA,IAAAA,GAAAA,GAO3B,SAASC,GAAKC,GAAEC,GAAAA,CAEZ,QAASC,MAAOD,GACZ,GAAIA,GAAEE,eAAeD,EAAM,EAAA,CACvB,GAAIf,GAASc,GAAEC,EAAAA,CAAAA,EAAO,CACbf,GAASa,GAAEE,EAGZH,CAAAA,EAAAA,GAAKC,GAAEE,EAAMD,EAAAA,GAAEC,EAAAA,CAAAA,EAFfF,GAAEE,EAAAA,EAAOb,OAAOe,OAAO,CAAA,EAAIH,GAAEC,EAAAA,CAAAA,EAIjC,QACJ,CAEA,GAAI1D,MAAMe,QAAQ0C,GAAEC,EAAAA,CAAAA,EAAO,CACvBF,GAAEE,EAAAA,EAAOb,OAAOe,OAAO,CAAA,EAAIH,GAAEC,EAAAA,CAAAA,EAC7B,QACJ,CAEAF,GAAEE,EAAAA,EAAOD,GAAEC,EAAAA,CACf,CACR,CAEA,OAAApE,GA5BM8D,KAAAA,GAAaP,SAAbO,MAAaP,OAAAA,OAAAA,KAAAA,GAAAA,OAAAA,WAAAA,EAAAA,GAAAA,OAAAA,WAAAA,EAAAA,EAAAA,EAAAA,cAAAA,MAAUO,GAAI,CAAA,GAEjCG,GAAKH,GAAGC,EAAAA,EACJC,IACAC,GAAKH,GAAGE,EAwBLF,EAAAA,EACX,CAMO,SAASS,IAAAA,CACZ,IAAMC,GAAS,CAAA,EACXC,GAAc,CAAA,EAEbC,GAAAA,GAAAC,GAAAA,GAAAC,GAAAC,OAAAA,GAAAA,CAAL,QAAKC,GAAAC,GAAWxE,UAAXyE,OAAAC,QAAAP,EAAAA,EAAAA,EAAAA,IAAAI,GAAAC,GAAAA,KAAAA,GAAAA,MAAAL,GAAuB,GAAA,CAAvB,IAAIQ,GAAJJ,GAAAK,MACIC,GAAAA,GAAAC,GAAA,GAAAC,GAAAA,OAAAT,GAAAA,CAAL,QAAKU,GAAAC,GAAYN,GAAZF,OAAAC,QAAAA,EAAAA,EAAAA,EAAAG,IAAAG,GAAAC,GAAAA,KAAAA,GAAAA,MAAAJ,GAAAA,GAAkB,CAAlB,IAAIK,GAAJF,GAAAJ,MAEG9B,GAASoC,EAAAA,EACJhB,GAAYgB,GAAKN,KAAAA,IAClBX,GAAOkB,KAAKD,EAAAA,EACZhB,GAAYgB,GAAKN,KAAAA,EAAS,GAKxBX,GAAOmB,SAASF,EAAAA,GACtBjB,GAAOkB,KAAKD,EAAAA,CACpB,CAAA,OAAA3F,GAZKuF,CAAAA,GAAAA,GAAAC,GAAAM,EAAAA,QAAAA,CAAAA,GAAAA,CAAAR,IAAAI,GAAAK,QAAA,MAAAL,GAAAK,OAAAA,CAAAA,QAAAA,CAAA,GAAAR,GAAA,MAAAC,EAAAA,CAAAA,CAaT,CAAA,OAAAxF,GAAA,CAdK6E,GAAAA,GAAAC,GAAAgB,EAAAA,QAAAA,CAAAA,GAAAA,CAAAlB,IAAAK,GAAAc,QAAA,MAAAd,GAAAc,OAAAA,CAAAA,QAAAA,CAAA,GAAAlB,GAAA,MAAAC,EAAAA,CAAAA,CAgBL,OAAOJ,EACX,CAMO,SAASsB,GAAU3D,GAAAA,CAItB,OAAK4D,OAAOvC,UAAUwC,UAGX7D,OAAAA,IAAO,SACPA,GAAE6D,UAAU,KAAA,EAAOzD,QAAQ,mBAAoB,EAAA,EAAA,OAH/CJ,EAIf,CAgBO,IAAI8D,GAAyB,UAAA,CAAA,MAAM,6BAA6BC,KAAKC,UAAUC,SAAU,CAAA,EAEzF,SAASC,IACZ,CAAA,OAAQ,0BAAsB,OAAM9D,QAAQ,SAAU+D,SAAAA,GAAAA,CAClD,OAACA,GAAIC,OAAOC,gBAAgB,IAAIC,WAAW,CAAI,CAAA,EAAA,CAAA,EAAK,IAAMH,GAAI,GAAG7C,SAAS,EAAA,CAAA,CAAA,CAElF,CAEO,SAASiD,GAAUC,GAAAA,CACtB,OAAOA,IAAQA,GAAKC,WAAaD,GAAKC,UAAUC,SAAShG,KAAKiG,SAASC,WAAWC,GAAAA,CACtF,CAEO,SAASC,GAAgBN,GAAAA,CAC5B,OAAOA,IAAQA,GAAKO,QAAQrG,KAAKiG,SAASC,WAAWI,WAAAA,CACzD,CAqCO,SAASC,GAAcC,GAASC,GACnC,CAAA,IAAIC,GAAYpH,OAAOqH,aAAAA,EAWvB,OAVAF,GAAQA,IAASC,GAAUE,WAAW,CAAA,EAEhB,OAAXJ,IAAW,WAClBA,GAAUhF,SAASqF,eAAeL,EAAAA,GAElCC,KACAA,GAAMK,eAAAA,EACNL,GAAMM,WAAWP,EAAAA,GAGdA,EACX,CAOO,SAASQ,GAAcC,GAAQC,GAAMC,GAAAA,CACxC,OAAKF,IAKDC,KACAD,GAAOG,gBAAkBD,GACnBD,GACAlE,GAAO,CAAA,EAAIiE,GAAOG,iBAAmB,CAAIF,EAAAA,EAAAA,GAE5CD,GAAOG,kBATVhI,GAAOc,KAAK,4BAA4B,CAAC+G,OAAAA,GAAQC,KAAAA,EAC1CA,CAAAA,EAAAA,GASf,CAEO,SAASG,GAAqBvB,GAAAA,CACjC,GAAKA,IAASA,GAAKwB,WAAnB,CAEA,IAAIC,GAAczB,GACd0B,GAAMlI,OAAOqH,aAAAA,EACbF,GAAQe,GAAIZ,WAAW,CAEvBY,EAAAA,GAAIC,aACJhB,GAAMiB,cAAcH,EAAAA,EACpBd,GAAMkB,SAAAA,EAAS,EAEfH,GAAII,gBAAAA,EACJJ,GAAIK,SAASpB,EAAAA,EAXe,CAapC,CAQO,SAASqB,GAAoBC,GAAMC,GAAAA,CACtCD,GAAKE,QAAQ9B,SAAAA,GAAAA,CACT,GAAIa,GAAcb,GAAI+B,eAAqB/B,GAAAA,CAAAA,GAAI+B,gBAAkB,CAC7D,IAAIC,GAAW3G,SAASqF,eD3TP,QAAA,EC4TjBV,GAAIiC,OAAOD,EAAAA,EACXH,IAAmBX,GAAoBc,EAAAA,CAC3C,CACJ,CAAA,CACJ,CChUA,IAAeE,GAAA,CACXC,WAAsB,IACtBC,QAAsB,KACtBC,YAAsB,QACtBC,QAAsBC,IACtBC,UAAsB,CAAC,EACvBC,aAAAA,GACAC,SAAsB,CAAC,OAAQ,MAAO,OAAA,EACtCC,kBAAsB,GACtBC,WAAAA,GACAC,UAAsB,CAAA,EACtBC,UAAsB,CAAA,EACtBC,iBAAAA,GACAC,UAAAA,GACAC,UAAsB,GACtBC,gBAAAA,GACAC,kBAAAA,GACAC,oBAAsB,aACtBC,oBAAsB,CAAC,KAAM,IAAA,EAC7BC,UAAsB,GACtBC,YAAAA,GACAC,YAAAA,GAEAC,SAAsB,CAClBC,OAAc,EACdC,YAAAA,EAAc,EAElBC,aAAsB,UAAA,CAAK,EAC3BxJ,KAAsB,GACtByJ,KAAM,CACFC,cAAAA,EAAe,EAGnBC,QAAS,CACLC,eAAkB,MAGtBC,EAAAA,aAAc,CACVC,QAAS,GACTC,SAAAA,GACAC,OAAAA,EAAQ,EAGZrE,WAAY,CACRsE,UAAqB,SACrBN,QAAqB,cACrBO,WAAqB,iBACrBC,MAAqB,gBACrBC,MAAqB,gBACrBC,eAAqB,iBACrBC,WAAqB,kBACrBC,cAAqB,qBACrBC,aAAqB,kBACrBC,WAAqB,qBACrBC,UAAqB,iBACrBC,MAAqB,gBACrBC,aAAqB,yBACrBC,SAAqB,mBACrBC,gBAAqB,4BACrBC,eAAqB,2BACrBC,eAAqB,2BACrBC,aAAqB,yBACrBC,mBAAqB,iCACrBC,mBAAqB,iCACrBC,eAAqB,4BACrBxF,IAAqB,cACrByF,QAAqB,mBACrBC,KAAqB,yBACrBC,WAAqB,uBACrBC,WAAqB,wBACrBC,SAAqB,qBACrBC,QAAqB,mBAIzBb,EAAAA,SAAU,CACNc,UAAqB,GACrB7B,QAAqB,EACrB8B,SAAqB,GACrBC,WAAqB,CAAC,QAAS,UAC/BC,EAAAA,YAAAA,GACA/L,cAAqB,GACrBgM,eAAAA,GACAC,oBAAAA,GACAhK,WAAqB,GACrBiK,eAAAA,GACAC,cAAAA,GACAC,cAAqB,GACrBC,SAAqB,MACrBC,aAAqB,IAAA,EAGzBC,MAAO,CACHC,gBAAiB,UAAMC,CAAAA,OAAAA,QAAQC,QAAAA,CAAAA,EAC/BC,YAAa,UAAMF,CAAAA,OAAAA,QAAQC,QAAAA,CAAAA,EAC3BE,gBAAiB,UAAMH,CAAAA,OAAAA,QAAQC,QAAAA,CAAAA,EAC/BG,cAAe,UAAMJ,CAAAA,OAAAA,QAAQC,QAAAA,CAAAA,CAAAA,CAAAA,EAAAA,SAAAA,GAAAA,GAAAA,GAAAA,GAAAA,CAAAA,OAAAA,MAAAA,GAAAA,OAAAA,eAAAA,GAAAA,GAAAA,CAAAA,MAAAA,GAAAA,WAAAA,GAAAA,aAAAA,GAAAA,SAAAA,EAAAA,CAAAA,EAAAA,GAAAA,EAAAA,EAAAA,GAAAA,EAAAA,CAAAA,SAAAA,GAAAA,GAAAA,CAAAA,QAAAA,GAAAA,EAAAA,GAAAA,UAAAA,OAAAA,KAAAA,CAAAA,IAAAA,GAAAA,UAAAA,EAAAA,GAAAA,KAAAA,UAAAA,EAAAA,EAAAA,CAAAA,EAAAA,GAAAA,OAAAA,KAAAA,EAAAA,EAAAA,OAAAA,OAAAA,uBAAAA,aAAAA,GAAAA,GAAAA,OAAAA,OAAAA,sBAAAA,EAAAA,EAAAA,OAAAA,SAAAA,GAAAA,CAAAA,OAAAA,OAAAA,yBAAAA,GAAAA,EAAAA,EAAAA,UAAAA,CAAAA,CAAAA,GAAAA,GAAAA,QAAAA,SAAAA,GAAAA,CAAAA,GAAAA,GAAAA,GAAAA,GAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,OAAAA,EAAAA,CAAAA,SAAAA,GAAAA,GAAAA,GAAAA,CAAAA,OAAAA,GAAAA,IAAAA,CAAAA,EAAAA,OAAAA,0BAAAA,OAAAA,iBAAAA,GAAAA,OAAAA,0BAAAA,EAAAA,CAAAA,EAAAA,SAAAA,GAAAA,GAAAA,CAAAA,IAAAA,GAAAA,OAAAA,KAAAA,EAAAA,EAAAA,GAAAA,OAAAA,sBAAAA,CAAAA,IAAAA,GAAAA,OAAAA,sBAAAA,EAAAA,EAAAA,KAAAA,GAAAA,GAAAA,OAAAA,SAAAA,GAAAA,CAAAA,OAAAA,OAAAA,yBAAAA,GAAAA,EAAAA,EAAAA,UAAAA,CAAAA,GAAAA,GAAAA,KAAAA,MAAAA,GAAAA,EAAAA,CAAAA,CAAAA,OAAAA,EAAAA,EAAAA,OAAAA,EAAAA,CAAAA,EAAAA,QAAAA,SAAAA,GAAAA,CAAAA,OAAAA,eAAAA,GAAAA,GAAAA,OAAAA,yBAAAA,GAAAA,EAAAA,CAAAA,CAAAA,CAAAA,EAAAA,EAAAA,CAAAA,SAAAA,GAAAA,GAAAA,GAAAA,EAAAA,IAAAA,MAAAA,GAAAA,GAAAA,UAAAA,GAAAA,GAAAA,QAAAA,QAAAA,GAAAA,EAAAA,GAAAA,IAAAA,MAAAA,EAAAA,EAAAA,GAAAA,GAAAA,KAAAA,GAAAA,EAAAA,EAAAA,GAAAA,EAAAA,EAAAA,OAAAA,EAAAA,CAAAA,SAAAA,GAAAA,GAAAA,GAAAA,GAAAA,CAAAA,OAAAA,MAAAA,GAAAA,OAAAA,eAAAA,GAAAA,GAAAA,CAAAA,MAAAA,GAAAA,WAAAA,GAAAA,aAAAA,GAAAA,SAAAA,EAAAA,CAAAA,EAAAA,GAAAA,EAAAA,EAAAA,GAAAA,EAAAA,CAAAA,SAAAA,GAAAA,GAAAA,CAAAA,OAAAA,SAAAA,GAAAA,CAAAA,GAAAA,MAAAA,QAAAA,EAAAA,EAAAA,OAAAA,GAAAA,EAAAA,CAAAA,EAAAA,EAAAA,GAAAA,SAAAA,GAAAA,CAAAA,GAAAA,OAAAA,OAAAA,KAAAA,GAAAA,OAAAA,QAAAA,GAAAA,MAAAA,GAAAA,YAAAA,GAAAA,KAAAA,OAAAA,MAAAA,KAAAA,EAAAA,CAAAA,EAAAA,EAAAA,GAAAA,SAAAA,GAAAA,GAAAA,CAAAA,GAAAA,GAAAA,IAAAA,OAAAA,IAAAA,SAAAA,OAAAA,GAAAA,GAAAA,EAAAA,EAAAA,IAAAA,GAAAA,OAAAA,UAAAA,SAAAA,KAAAA,EAAAA,EAAAA,MAAAA,EAAAA,EAAAA,EAAAA,GAAAA,KAAAA,UAAAA,GAAAA,cAAAA,GAAAA,GAAAA,YAAAA,MAAAA,KAAAA,OAAAA,KAAAA,MAAAA,OAAAA,MAAAA,KAAAA,EAAAA,EAAAA,GAAAA,KAAAA,aAAAA,2CAAAA,KAAAA,EAAAA,EAAAA,OAAAA,GAAAA,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,GAAAA,UAAAA,CAAAA,MAAAA,IAAAA,UAAAA,uIAAAA,CAAAA,EAAAA,CAAAA,CC7F9B,SAASI,IAAAA,CAIZ,QAASlM,MAHTlB,KAAKoL,SAAW,CAAA,EAGFpL,KAAKqN,UACfrN,KAAKoL,SAASlK,EAAAA,EAAYlB,OAAAA,KAAKqN,UAAUnM,EACnClB,GAD0C,WAC1CA,KAAKqN,UAAUnM,EAAGoM,EAAAA,KAAKtN,IAAAA,EACvBA,KAAKqN,UAAUnM,EAAAA,EAEzBlB,KAAKoL,SAASmC,KAAAA,EACdvN,KAAKwN,IAAIpC,SAASqC,SAAWzN,IACjC,CAEA,IAAA0N,GAAAC,GCbIC,GDaWC,IAAAA,GAAAA,SAAAA,GAAAA,CAAAA,QAAAA,GAAAA,EAAAA,GAAAA,UAAAA,OAAAA,KAAAA,CAAAA,IAAAA,GAAAA,UAAAA,EAAAA,GAAAA,KAAAA,UAAAA,EAAAA,EAAAA,CAAAA,EAAAA,GAAAA,OAAAA,KAAAA,EAAAA,EAAAA,OAAAA,OAAAA,uBAAAA,aAAAA,GAAAA,GAAAA,OAAAA,OAAAA,sBAAAA,EAAAA,EAAAA,OAAAA,SAAAA,GAAAA,CAAAA,OAAAA,OAAAA,yBAAAA,GAAAA,EAAAA,EAAAA,UAAAA,CAAAA,CAAAA,GAAAA,GAAAA,QAAAA,SAAAA,GAAAA,CAAAA,GAAAA,GAAAA,GAAAA,GAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,OAAAA,EAAAA,EACRC,CAAAA,EEVQ,CACXC,OAAS,CAMLC,QAAAA,UAAAA,CAASC,IAAAA,GAAAA,EAAAA,UAAatO,OAAA,GAAAD,UAAA,CAAAA,IAAA,SAAAA,UAAA,CAAA,EAEdwO,GAAMlO,KAAKoL,SAAS2C,OAAOpF,UAE3BwF,GAAQnO,KAAKoO,UAAUhD,SAAWpL,KAAKoO,UAAUhD,UAAY,CACzDuB,SAAoB3M,KAAKoL,SAASuB,SAASW,KAAKtN,KAAM,IAAA,EACtDqO,UAAoBH,GAAIG,UAAUf,KAAKtN,IACvCsO,EAAAA,YAAoBJ,GAAII,YAAYhB,KAAKtN,IAAAA,EACzCuO,aAAoBL,GAAIK,aAAajB,KAAKtN,IAAAA,EAC1CwO,QAAoBN,GAAIM,QAAQlB,KAAKtN,IACrCyO,EAAAA,SAAoBP,GAAIO,SAASnB,KAAKtN,IAAAA,CAAAA,EAE1CqC,GAAS4L,GAAa,mBAAqB,sBAE3CjO,KAAKiG,SAASmF,SAASuB,UAAY,WACnCnL,SAASa,EAAAA,EAAQ,SAAU8L,GAAKxB,SAAAA,EAAU,EAC1CrN,OAAO+C,EAAAA,EAAQ,SAAU8L,GAAKxB,QAAAA,EAC9BrN,OAAO+C,EAAQ,EAAA,UAAW8L,GAAKE,SAGnCrO,GAAAA,KAAKwN,IAAIpC,SAAS/I,EAAAA,EAAQ,YAAa8L,GAAKG,WAAAA,EAC5CtO,KAAKwN,IAAIpC,SAAS/I,EAAAA,EAAQ,aAAc8L,GAAKI,YAAAA,EAC7CvO,KAAKwN,IAAIpC,SAAS/I,EAAQ,EAAA,YAAa8L,GAAKK,OAC5CxO,EAAAA,KAAKwN,IAAIpC,SAAS5E,QAAQnE,EAAQ,EAAA,SAAU8L,GAAKM,QACrD,CAAA,EAEA9F,UAAY,CACR0F,UAAAA,SAAUrP,GAAAA,CAAAA,IAAAA,GAAAA,KAEN,GAAKgB,KAAK0O,MAAMC,UAAAA,CAAY3O,KAAK0O,MAAME,UAAvC,CAIA,IAAIC,GAAK7O,KAAKiG,SACV6I,GAAc9O,KAAKwN,IAAIpC,SAAS2D,cAAcF,GAAG3I,WAAW8I,0BAAAA,EAC5DC,GAAkBjP,KAAKoL,SAAS8D,wBAAwBJ,EAAAA,EACxDK,GAAYN,GAAGO,MAAQ,MACvBC,GAAeR,GAAGO,MAAQ,SAE9BP,GAAGhC,MAAMM,cAAcnO,GAAG,CAACsQ,OAAOtP,IAAAA,CAAAA,EAC7BuP,KAAKC,SAAAA,GAAAA,CACF,OAAQxQ,GAAEuE,IAAAA,CACN,IAAK,YACL,IAAK,UACL,IAAK,OACL,IAAK,KACDvE,GAAEyQ,eAAAA,EACF,IAAIC,GAAgBC,GAAKvE,SAASwE,sBAAAA,EAC9BC,GAAW7Q,GAAEuE,KAAO,WAAavE,GAAEuE,KAAO,KAE1CuL,KACAA,GAAca,GAAKvE,SAAS0E,oBAAoBhB,GAAAA,CAAce,EAI7Df,GAAAA,IAAgBA,GAAYiB,QAAQlB,GAAG3I,WAAW8J,oBACnDlB,IAAAA,GAAcY,GAAcG,GAAWH,GAAc/P,OAAS,EAAI,CAAA,GAGtEgQ,GAAKvE,SAAS6E,gBAAgBnB,GAAAA,EAE9B,EAAA,MAEJ,IAAK,SACL,IAAK,MACDa,GAAKvE,SAAS8E,KAAAA,EACd,MAEJ,IAAK,aAGD,GAAIP,GAAKjB,MAAMyB,QAAQC,WAAavB,GAAGzE,aAAaE,SAChD,OACR,IAAK,MACD,IAAI+F,GAA2BxB,CAAAA,GAAGzE,aAAaE,UAAauE,CAAAA,GAAGzE,aAAaG,OAG5E,GAAA,CAAK4E,IAAAA,CAAcE,IAAgBP,IAAeuB,IAAAA,CAA4BV,GAAKjB,MAAM4B,SAAWrB,GAAiB,CACjHjQ,GAAEyQ,eACF,EAAA,IAAInL,GAAQqL,GAAKvE,SAASmF,eAAetB,EAGzC,EAAA,OADAU,GAAKjF,MAAM8F,aAAaC,IAAI5N,KAAWyB,GAAAA,EAAAA,EAAAA,EAE3C,CACA,MAAA,GAEJ,IAAK,QACDtF,GAAEyQ,eAAAA,EAEFZ,GAAGhC,MAAMK,gBAAgBlO,GAAG,CAACsQ,OAAMK,GAAOe,QAAQzB,GAAiB0B,cAAc7B,EAC5ES,CAAAA,EAAAA,KAAK,UAAA,CACF,GAAIT,GAKA,OAJAa,GAAKvE,SAASwF,aAAa9B,EAE3BA,EAAAA,GAAca,GAAKvE,SAAS0E,oBAAoBhB,GAAAA,CAAce,EAC9DF,EAAAA,KAAAA,GAAKvE,SAAS6E,gBAAgBnB,EAAAA,EAI9Ba,GAAKvE,SAAS8E,KAAAA,EAEbf,IACDQ,GAAKkB,QAAQlB,GAAKjB,MAAMoC,UAAUvQ,KAAAA,EAAAA,EAAQ,CAAA,CAAA,EAEjDwQ,MAAMhM,SAAAA,GAAAA,CAAO3F,OAAAA,GAAOc,KAAK6E,EAAAA,CAAAA,CAE9B,EAAA,MAEJ,IAAK,YACD,GAAIoK,IAAaQ,GAAKjB,MAAM4B,QAAQU,MAAQ,OAE5C,IAAM1M,GAAQqL,GAAKjF,MAAMuG,IAAIpO,KAAI8M,EAAAA,EAE7BrL,IAAS,IAAMA,GAAM4M,WAAW,CAAA,GAAM,OAClCrC,GAAGpF,YADyB,GAE5BkG,GAAKwB,WAAAA,EACAtC,GAAGpF,WAAa,QACrB2H,WAAWzB,GAAK0B,QAAQ/D,KAAYqC,EAAA,EAAA,CAAA,EAAA,CAIxD,CAAA,CA3FA,CA4FR,EAEArB,YAAAA,SAAYtP,GAAAA,CACR,IAAIsS,GAAStS,GAAEuS,OAAOlL,QAAQrG,KAAKiG,SAASC,WAAW8J,oBAAAA,EAEvDhQ,KAAKoL,SAAS6E,gBAAgBqB,EAAAA,CAClC,EAEA/C,aAAAA,SAAavP,GAETgB,CAAAA,KAAKoL,SAAS6E,gBAClB,CAAA,EAEAzB,QAAAA,SAAQxP,GAAAA,CAAAA,IAAAA,GAAAA,KACJ,GAAIA,GAAEwS,QAAU,GAAKxS,GAAEuS,QAAUvR,KAAKwN,IAAIpC,UAAYpM,GAAEuS,QAAUvR,KAAKwN,IAAIpC,SAAS5E,QAApF,CAEA,IAAIsI,GAAc9P,GAAEuS,OAAOlL,QAAQrG,KAAKiG,SAASC,WAAW8J,oBAAAA,EACxDf,GAAkBjP,KAAKoL,SAAS8D,wBAAwBJ,EAAAA,EAG5D9O,KAAK0O,MAAMyB,QAAQS,aAAAA,GACnBQ,WAAW,UAAA,CAAK,OAAAzB,GAAKjB,MAAMyB,QAAQS,aAAAA,EAAsB,EAAA,EAAA,EAEzD5Q,KAAKiG,SAAS4G,MAAMK,gBAAgBlO,GAAG,CAACsQ,OAAOtP,KAAM0Q,QAAQzB,GAAiB0B,cAAc7B,EAAAA,CAAAA,EACvFS,KAAK,UACET,CAAAA,GACAa,GAAKvE,SAASwF,aAAa9B,GAAa9P,EAExC2Q,EAAAA,GAAKvE,SAAS8E,KAAAA,CAAAA,CAAAA,EAErBa,MAAMhM,SAAAA,GAAAA,CAAO3F,OAAAA,GAAOc,KAAK6E,EAAAA,CAAAA,CAhBgE,CAAA,CAiBlG,EAEA0J,SAAAA,SAASzP,GAAAA,CACL,IAAIoD,GAAMpD,GAAEuS,OACRE,GAAMrP,GAAIsP,WAAatP,GAAIuP,aAAevP,GAAIkF,WAAWsK,cAAgB,IAE7E5R,KAAK6R,QAAQ,kBAAmB,CAACC,WAAWC,KAAKC,MAAMP,EAAAA,CAAAA,CAAAA,CAC3D,CAQRQ,CAAAA,EAAAA,SAAAA,SAAU3N,GACNA,CAAAA,GAAQA,IAAStE,KAAK0O,MAAMtD,SAAS8G,OAAS,GAC9ClS,KAAKmS,mBAAqBnS,KAAKoL,SAASgH,gBAAgB9N,EAAAA,EAExDtE,KAAKoL,SAASiH,KAAAA,EAETrS,KAAKmS,mBAAmBxS,QACzBK,KAAKoL,SAAS8E,KAAAA,EAElBlQ,KAAK6R,QAAQ,mBAAoB7R,KAAKwN,IAAIpC,QAAAA,CAC9C,EAOA8D,wBAAAA,SAAyBjI,GAAAA,CAGrB,QAFIrC,GAAMN,GAAQ2C,IAAUA,GAAOqL,aAAa,OAAA,EAExCpT,GAAIc,KAAKmS,mBAAmBxS,OAAQT,MAAO,CAE/C,GAAIsD,GADJoC,GAAO5E,KAAKmS,mBAAmBjT,EAAAA,CAAAA,GACT0F,GAAKN,OAASA,GAAQ,OAAOM,GAE9C,GAAIA,IAAQN,GAAQ,MAAO,CAACA,MAAOM,EAAAA,CAC5C,CACJ,EAEAkL,oBAAAA,SAAoByC,GAAUC,CAAAA,IAAAA,GAAAA,EAAAA,UAAO7S,OAAA,GAAAD,UAAA,CAAA,IAAA,SAAAA,UAAA,CAAA,EAC7BgQ,GAAgB1P,KAAKoL,SAASwE,sBAAAA,EAC9B6C,GAAc/C,GAAcgD,UAAU9N,SAAAA,GAAAA,CAAAA,OAAQA,KAAS2N,EAAAA,CAAAA,EAE3D,OAAOC,GAAO9C,GAAc+C,GAAc,CAAA,EAAK/C,GAAc+C,GAAc,CAAA,CAC/E,EAOAxC,gBAAAA,SAAiB7N,GAAKuQ,GAClB,CAAA,IACIC,GADAC,GAAY7S,KAAKiG,SAASC,WAAWuF,mBAYzC,GALIzL,KAAK0O,MAAMoE,YACX9S,KAAK0O,MAAMoE,UAAU/M,UAAUgN,OAAOF,EAAAA,EACtC7S,KAAK0O,MAAMoE,UAAUE,gBAAgB,eAAA,GAAA,CAGpC5Q,GAID,OAHApC,KAAK0O,MAAMuE,WAAa,KACxBjT,KAAK0O,MAAMoE,UAAY,KAAA,KACvB9S,KAAK0K,MAAM8F,aAAa0C,QAAQrQ,KAAK7C,IAAAA,EAIzC4S,GAAW5S,KAAKoL,SAAS8D,wBAAwB9M,EAAAA,EACjDpC,KAAK0O,MAAMuE,WAAaL,GACxB5S,KAAK0O,MAAMoE,UAAY1Q,GAGvBA,GAAI2D,UAAUoN,IAAIN,EAAAA,EAClBzQ,GAAIgR,aAAa,gBAAA,EAAiB,EAE9BT,KACAvQ,GAAIkF,WAAWoK,UAAYtP,GAAIwP,aAAexP,GAAIiR,UAAYjR,GAAIkF,WAAWsK,cAG7E5R,KAAKiG,SAASmE,eACdpK,KAAK0K,MAAM8F,aAAa0C,QAAQrQ,KAAK7C,KAAM4S,EAAAA,EAC3C5S,KAAKoL,SAASuB,SAAAA,EAEtB,EAOAiE,aAAAA,SAAcxO,GAAKkR,GAAAA,CAAAA,IAAAA,GAAAA,KACXzE,GAAK7O,KAAKiG,SACuB4I,GAAAA,GAAGzD,SAAnCsB,GAAgCmC,GAAhCnC,cAAeD,GAAiBoC,GAAjBpC,cAEpB,GAAA,CAAKrK,GAGD,OAFApC,KAAK6Q,QAAQ7Q,KAAK0O,MAAMoC,UAAW,EAAA,EAAA,KACnCrE,IAAiBzM,KAAKoL,SAAS8E,KAAAA,GAInCoD,GAAQA,IAAS,CAAA,EAKjB,IAAIhP,GAAQlC,GAAIkQ,aAAa,OAAA,EACzBiB,GAAYjP,IAAS,UACrB6K,GAAYN,GAAGO,MAAQ,MACvBsB,GAAU1Q,KAAKmS,mBAAmBqB,KAAK5O,SAAAA,GAASA,CAAAA,IAAAA,GAAAA,QAAAA,GAAAA,GAAKN,SAALM,MAAAA,KAAKN,OAALM,GAAcA,KAASN,EAAI,CAAA,EAK/E,GAFAtE,KAAK6R,QAAQ,kBAAmB,CAAC3K,KAAKwJ,GAAStO,IAAAA,GAAKkR,MAAAA,EAE/ChP,CAAAA,EAAAA,KAAUoM,IAAY6C,IAA3B,CAKA,GAAIvT,KAAK0O,MAAM4B,QAAU,CACrB,IAAImD,GAAoBzT,KAAK0T,cAAc,CAAChD,EAAU,CAAA,EAAA,CAAA,EACtDA,GAAW7B,GAAG9E,aAAalH,KAAK7C,KAAMyT,EAAAA,GAAsBA,GAG5DzT,KAAK2T,cAAc,KAAM3Q,GAAO,CAAC4Q,UAAAA,EAAkBlD,EAAAA,EAAAA,CAAAA,CAAAA,MAInD1Q,KAAKmP,GAAY,aAAe,SAAW,EAAA,CAACuB,IAAW1Q,KAAK0K,MAAMuG,IAAIpO,KAAK7C,IAAAA,CAAAA,EAAQ0M,EAAAA,GAGlFyC,IAAcnP,KAAKwN,IAAI9C,MAAMpD,cAGlC8J,WAAW,UACPzB,CAAAA,GAAKnC,IAAI9C,MAAMC,MAAAA,EACfgF,GAAKkE,iBAAiB,EAAA,CAC1B,CAAA,EAEApH,IAAiB2E,WAAWpR,KAAKoL,SAAS8E,KAAK5C,KAAKtN,IAGpDoC,CAAAA,EAAAA,GAAI0R,iBAAiB,gBAAiB,UAAA,CAClCnE,GAAKvE,SAAS2I,iBAAAA,EACd3C,WAAW,UACPhP,CAAAA,GAAI2Q,OAAAA,EACJpD,GAAKvE,SAAS6G,SAAAA,CACf,EAAA,GAAA,CAAA,EACJ,CAAC+B,KAAAA,EAAM,CAAA,EAGV5R,GAAI2D,UAAUoN,IAAInT,KAAKiG,SAASC,WAAWwF,kBAlC3C,EAAA,MAFIe,IAAiB2E,WAAWpR,KAAKoL,SAAS8E,KAAK5C,KAAKtN,IAAAA,CAAAA,CAqC5D,EAIAiU,UAAAA,SAAWC,GAGPlU,CAAAA,KAAKmS,mBAAmBxS,OAAS,EACjCK,KAAKoL,SAAS8E,KAAAA,EAEdlQ,KAAKoL,SAASgH,gBAAgB,EAAA,EAE9B,IAAI+B,GAAYnU,KAAKoL,SAASgH,gBAAgB,EAAA,EAQ9C,OANK8B,KACDC,GAAYnU,KAAK0O,MAAMtD,SAASgJ,aAIpCpU,KAAK6Q,QAAQsD,GAAW,EAAA,EACjBnU,IACX,EAQAoS,gBAAAA,SAAiB9N,GAAO+P,GAAAA,CAAAA,IAAAA,GAShBC,GACAC,GACAC,GACAC,GACAC,GAAAA,GAAAA,UAAAA,CA0BA,IAAAzV,GAAA0V,GAAIC,GAAAA,OAAiBC,GAAAA,OAAAA,GAEL7L,GAAU9J,EAAAA,EAA1BoV,KAAAA,GAAwC5R,SAAxC4R,MAAwC5R,OAAAA,OAAAA,KAAAA,GAAAA,OAAAA,WAAAA,EAAAA,GAAAA,OAAAA,WAAAA,EAAAA,EAAAA,EAAAA,cAAAA,IAASsG,GAAU9J,EAAAA,EAAK,CAAEoF,MAAM0E,GAAU9J,EAAAA,CAAAA,EAElF,IATkBoC,GAUdwT,GADyBpS,OAAOqS,KAAKT,EAAAA,EAAeU,KAAKC,SAAAA,GAAAA,CAAK7I,OAAAA,GAAWtH,SAASmQ,EAClFH,CAAAA,CAAAA,EAAkD1I,GAAZ,CAAC,OAAWA,EAElD8I,GAAI7I,aAAgBgI,CAAAA,GAAQc,OAC5BX,GAAWM,GAAYM,OAAO,SAACC,GAAQJ,GAAAA,CAAMI,OAAAA,GAAS,KAAOf,GAAcW,EAAAA,GAAI,GAAA,EAAK,EAAA,EAAIzU,YAAAA,EAAcD,KAElG2U,EAAAA,GAAI5I,iBACJkI,GAAWvP,GAASuP,EAAAA,EACpBE,GAASzP,GAASyP,EAAAA,GAGtBE,GAAkBJ,GAASpT,QAAQsT,EAAAA,GAAW,EAC9CG,GAAaL,KAAaE,GArBZpT,GAsBoBkT,GAAlCD,GAA4CG,GArBnClU,YAAcsC,EAAAA,MAAM,GAAA,EAAKwS,MAAMC,SAAAA,GAAAA,CAAAA,OAAKjU,GAAEwD,SAASyQ,GAAE/U,YAAAA,CAAAA,CAAAA,CAAAA,IAyB1DoU,GAAkB,GAClBL,GAAqBO,GAAYE,KAAKC,SAAAA,GAClC,CAAA,IAAInU,GAAI,IAAMwT,GAAcW,EAAAA,GAAM,IAYlC,OAVIC,GAAI5I,iBACJxL,GAAImE,GAASnE,EACb4T,EAAAA,GAASzP,GAASyP,EAGjBQ,GAAAA,GAAI5U,gBACLQ,GAAIA,GAAEN,YAAAA,GAEVqU,GAAa/T,KAAM4T,GAEZL,GAAQc,MACTrU,KAAM4T,GACN5T,GAAEM,QAAQsT,EAAAA,GAAW,CAC/B,CAAA,GAGJD,GAAeS,CAAAA,GAAI3I,qBAAuBoD,GAAK6F,eAAgBhT,GAAS8R,EAAiBA,EAAAA,GAAchQ,MAAQgQ,EAG3GC,EAAAA,IAAAA,CAAuBE,KACnBI,IAAcD,GACda,GAAiB5Q,KAAKyP,EAAAA,EACjBY,GAAIQ,QAAU,cAAgBd,GACnCe,GAAKC,QAAQtB,EAAAA,EAEbqB,GAAK9Q,KAAKyP,EAAAA,EACtB,EAAAuB,GAAA,KAzFIhH,GAAK7O,KAAKiG,SACViP,GAAMrG,GAAGzD,SAETuK,IADAtB,GAAUA,IAAW,CACrBsB,EAAO,CAAA,GACPF,GAAmB,CAAA,EACnBzM,GAAY6F,GAAG7F,UACf8M,GAAmBZ,GAAI/I,UAAY,EAAI+I,GAAI/I,SAAWzD,IACtD0D,GAAa8I,GAAI9I,WAMjBlN,GAAI,EAMR,GAAA,EAJAoF,GAASuK,GAAGO,MAAQ,UAAYpP,KAAKsE,MAAM3E,QAAUK,KAAKsE,MAAM,CAAGuK,EAAAA,GAAGrG,WAAAA,GAAgBlE,GAChF,GACAA,KAAAA,CAES8H,GAAWzM,OAMtB,OALAgW,GAAOT,GAAI3I,qBAAuBsC,GAAGO,MAAQ,SACvCpG,GACAA,GAAU+M,OAAOnR,SAAAA,GAAAA,CAAQ,MAAA,CAACoR,GAAKR,eAAgBhT,GAASoC,EAAQA,EAAAA,GAAKN,MAAQM,EAAAA,CAAAA,CAAAA,EAEnF5E,KAAK0O,MAAMtD,SAASgJ,YAAcuB,GAC3BA,GAAK5S,MAAM,EAAG+S,EAAAA,EAYzB,IATApB,GAASQ,GAAI5U,cACP,GAAGgE,IACF,GAAGA,IAAO9D,YAAAA,EAOVtB,GAAI8J,GAAUrJ,OAAQT,KAAAA,GAAAA,KAAAA,GAAAA,EAyD7B,OAHAc,KAAK0O,MAAMtD,SAASgJ,YAAcqB,GAAiBQ,OAAON,EAAAA,EAG9B,OAAdT,GAAIQ,QAAU,WACtBR,GAAIQ,OAAOD,GAAiBQ,OAAON,EAAOjB,EAAAA,EAAAA,EAC1Ce,GAAiBQ,OAAON,EAAAA,EAAM5S,MAAM,EAAG+S,EAAAA,CACjD,EAOAvF,eAAAA,SAAeG,GAAAA,CACX,IAAIwF,GAAalW,KAAKiG,SAASmF,SAAS8K,WAKxC,OAJaA,GACkB,OAAdA,IAAc,WAAaA,GAAWxF,EAAAA,EAAYA,GAAQwF,EAAAA,GAAexF,GAAQpM,MACxFoM,GAAQpM,KAGtB,EAOA6R,eAAAA,SAAgBC,GAAAA,CAAAA,IAAAA,GAAAA,KACZ,OAAOpT,GAAO,CAAIoT,EAAAA,EAAAA,EAAiBvV,IAAI,SAACwV,GAAYC,GAAAA,CACrCD,OAAAA,IAAc,UAAiC,OAAdA,IAAc,WACtDA,GAAa,CAAC/R,MAAM+R,EAAAA,GAExB,IAAIE,GAAc5G,GAAKvE,SAASmF,eAAe8F,EAAAA,EAM/C,OAJAE,GAAqC,OAAfA,IAAe,UAAY5G,GAAK1J,SAASmF,SAAS7I,WAClEA,GAAWgU,EAAAA,EACXA,GAEC5G,GAAK1J,SAASuQ,UAAUhL,aAAaiL,MAAY9G,GAAA,CAAC9B,GAAIwI,GAAAA,CAAAA,EAAAA,EAAAA,EAAAA,CAAYE,YAAAA,EAAAA,CAAAA,EAAAA,EAAAA,CAAAA,CAC7E,CAAA,EAAGG,KAAK,EAAA,CACZ,CAAA,CAAA,EAAA/I,IAAAA,GFtdGG,CAEHP,KAAAA,UAAAA,CACIvN,KAAKwN,IAAIpC,SAAWpL,KAAK2W,cAAc,WAAY,CAAC3W,KAAKiG,QAAAA,CAAAA,EACzDjG,KAAKwN,IAAIpC,SAAS5E,QAAUxG,KAAKwN,IAAIpC,SAAS2D,cAAc,8CAAA,CAChE,EAEA6H,aAAAA,UAAAA,CACI,OAAO5W,KAAKwN,IAAIpC,SAAS2D,cAAc,6CAAA,CAC3C,EAEA8H,aAAAA,UAAAA,CACI,OAAO7W,KAAKwN,IAAIpC,SAAS2D,cAAc,6CAAA,CAC3C,EAEAa,sBAAAA,UAAAA,CACI,OAAQ3P,GAAGD,KAAKwN,IAAIpC,SAAS5E,QAAQsQ,iBAAiB9W,KAAKiG,SAASC,WAAW8J,oBAAAA,CAAAA,CACnF,EAMA+G,KAAAA,SAAMzS,GAAAA,CAAAA,IAEE0S,GACAC,GAGAC,GAAAA,GAAAA,KALArI,GAAK7O,KAAKiG,SAGVkR,GAAetI,GAAGO,MAAQ,OAAUP,CAAAA,GAAG3F,iBACvCkO,GAAgBvI,CAAAA,GAAG7F,WAAAA,CAAc6F,GAAG7F,UAAUrJ,OAE9C0X,GAAWxI,GAAGzD,SAASuB,UAAY,SASvC,GANArI,GAAQA,KAAUN,OAAYhE,KAAK0O,MAAMoC,UAAYxM,GAMhD8S,EAAAA,IAAAA,CAAgBD,IAAAA,CAAiBtI,GAAG2H,UAAUc,qBAC5CzI,GAAGzD,SAASmM,SADgCD,IAE5CtX,KAAK0O,MAAM8I,WACXxX,KAAKiG,SAASwR,UAHrB,CAsBA,GAhBAC,aAAa1X,KAAK2X,+BAAAA,EAIlB3X,KAAKmS,mBAAqBnS,KAAKoL,SAASgH,gBAAgB9N,EAAAA,EAGpDA,IAAUtE,CAAAA,KAAKmS,mBAAmBxS,SAClCK,KAAK6R,QAAQ,mBAAoBvN,EAAAA,EAE7BuK,GAAG2H,UAAUc,sBACbJ,GAAkBrI,GAAG2H,UAAUc,oBAAoBzU,KAAK7C,KAAM,CAACsE,MAAAA,EAAAA,CAAAA,IAAAA,CAKlE4S,GAAiB,CAGlB,GAAIlX,KAAKmS,mBAAmBxS,OACpB2E,IAAa6S,IAAqBnX,CAAAA,KAAK0O,MAAM4B,QAAQU,OAAAA,CAAY7Q,GAAQH,KAAKmS,mBAAmB,CAAA,EAAG7N,MAAOA,EAAAA,GAC3GtE,KAAKmS,mBAAmByD,QAAQ,CAACtR,MAAAA,EAAAA,CAAAA,MAErC,CACA,GAAIA,CAAAA,IAAAA,CAAa6S,IAAmBnX,KAAK0O,MAAM4B,QAAQU,MAOnD,OAFAhR,KAAK0K,MAAM8F,aAAa0C,QAAQrQ,KAAK7C,IAAAA,EAAAA,KACrCA,KAAKoL,SAAS8E,KAAAA,EALdlQ,KAAKmS,mBAAqB,CAAC,CAAC7N,MAAAA,EAAAA,CAAAA,CAQpC,CAGA2S,GAAqB,IAAIzU,GADzBwU,GAAiBhX,KAAKmS,mBAAmB,CACU6E,CAAAA,EAAAA,GAAc1S,MAAQ0S,IAErEnI,GAAGzE,cAAgB6M,IAEfA,GAAmB7V,QAAQkD,EAAAA,GAAU,GACrCtE,KAAK0K,MAAM8F,aAAa0C,QAAQrQ,KAAK7C,KAAMgX,EAAAA,CAEvD,CAEAhX,KAAKoL,SAASiH,KAAK6E,EAAAA,EAEfrI,GAAGzD,SAASoB,gBACZxM,KAAKoL,SAAS6E,gBAAgBjQ,KAAKwN,IAAIpC,SAAS5E,QAAQuI,cAAcF,GAAG3I,WAAW8J,oBAMnFhQ,CAAAA,EAAAA,KAAK0O,MAAMtD,SAASwM,SAGrBxG,WAAWpR,KAAKoL,SAAS2C,OAAOC,QAAQV,KAAKtN,IAAAA,CAAAA,EAIjDA,KAAK0O,MAAMtD,SAASwM,QAAUtT,IAAAA,GAC9BtE,KAAK0O,MAAMtD,SAAS8G,MAAQ5N,GAE5BtE,KAAK6X,kBAGAR,EAAAA,IAGDjG,WAAW,UACPzB,CAAAA,GAAKvE,SAASuB,SACdgD,EAAAA,GAAKvE,SAAS0M,OAClB,CAAA,CAAA,EAKJ1G,WAAW,UACPzB,CAAAA,GAAKkC,QAAQ,gBAAiBlC,GAAKnC,IAAIpC,QAC3C,CAAA,CAAA,CAlFI,CAmFR,EAMA8E,KAAAA,SAAM6H,GAAAA,CAAAA,IAAAA,GAAAA,KACsBC,GAAAhY,KAAKwN,IAAxBwD,GAAmBgH,GAAnBhH,MAAO5F,GAAY4M,GAAZ5M,SACRiM,GAAWrX,KAAKiG,SAASmF,SAASuB,UAAY,UAAaoL,CAAAA,GAG/D,GAAK3M,IAAa5J,SAASS,KAAK+D,SAASoF,EAAAA,GAAAA,CAAaiM,GAkCtD,OAhCA/X,OAAO2Y,oBAAoB,SAAUjY,KAAKoL,SAASuB,QACnD3M,EAAAA,KAAKoL,SAAS2C,OAAOC,QAAQnL,KAAK7C,KAAM,EAAA,EASxCgR,GAAMoC,aAAa,gBAAA,EAAiB,EACpChI,GAAS9D,WAAW4Q,YAAY9M,EAIhCgG,EAAAA,WAAW,UAAA,CACPzB,GAAKjB,MAAMtD,SAASwM,QAAU,EAC/B,EAAA,GAEH5X,EAAAA,KAAK0O,MAAMtD,SAAS8G,MACpBlS,KAAK0O,MAAMuE,WACXjT,KAAK0O,MAAMoE,UACX9S,KAAK0O,MAAMhI,UAAY,KAInB1G,KAAK0O,MAAMvI,KAAOnG,KAAK0O,MAAMvI,IAAI7B,MAAM3E,SACvCK,KAAK0O,MAAMyJ,YAAYnY,KAAK0O,MAAMvI,IAAIiS,UAAcpY,EAAAA,KAAK0O,MAAMvI,KAGnEnG,KAAK6R,QAAQ,gBAAiBzG,EAAAA,EAEvBpL,IACX,EAMAqY,OAAAA,SAAOtB,GACH/W,CAAAA,KAAKoL,SAASpL,KAAK0O,MAAMtD,SAASwM,SAAYb,CAAAA,GAAO,OAAS,MAClE,EAAA,CAAA,EAEAuB,gBAAAA,UACI,CAAA,IAAIpD,GAAMlV,KAAKiG,SAASmF,SACxB,OAAmC,OAArB8J,GAAItI,cAAiB,WAAasI,GAAItI,aAAAA,EAAiBsI,GAAItI,YAC7E,EAEAkL,OAAAA,UAAAA,CAAAA,IFR2BhS,GACvByS,GAAQC,GAAAA,GAAAA,KEUJC,IFXmB3S,GEWM9F,KAAKwN,IAAIpC,UFV9BoN,GAAQ1S,GAAK4S,UAAU,EAAA,GAC7BC,MAAMC,QAAU,yCACtBpX,SAASS,KAAK4W,YAAYL,EAAAA,EAC1BD,GAASC,GAAM5G,aACf4G,GAAMlR,WAAW4Q,YAAYM,EACtBD,EAAAA,IEMC1J,GAAK7O,KAAKiG,SACVoE,GAAiBwE,OAAAA,GAAGzD,SAASf,SAAW,UAAYwE,GAAGzD,SAASf,SAAW,EAC3EuC,GAAe5M,KAAKoL,SAASkN,gBAAAA,EAEjC,OAAKjO,IAELrK,KAAKwN,IAAIwD,MAAMoC,aAAa,gBAAiB,EAAA,EAIxC5R,SAASS,KAAK+D,SAAShG,KAAKwN,IAAIpC,QAAAA,IACjCpL,KAAKwN,IAAIpC,SAASrF,UAAUoN,IAAKtE,GAAG3I,WAAWyF,cAC/C3L,EAAAA,KAAKoL,SAASuB,SAAS8L,EAAAA,EACvB7L,GAAaiM,YAAY7Y,KAAKwN,IAAIpC,QAElCgG,EAAAA,WAAW,UAAA,CAAA,OACPzB,GAAKnC,IAAIpC,SAASrF,UAAUgN,OAAQlE,GAAG3I,WAAWyF,cAAAA,CAAAA,CAInD3L,GAAAA,MAhBeA,IAiB1B,EAMAqS,KAAAA,SAAMyG,GACFA,CAAAA,GAAoC,OAAfA,IAAe,SAC9BA,GACA9Y,KAAKoL,SAAS+K,eAAe2C,IAAe9Y,KAAKmS,kBAAAA,EAEvD,IF9KgB7Q,GE8KZyX,GAAkB/Y,KAAKiG,SAASuQ,UAAUuC,gBAAgBlW,KAAK7C,KAAM8Y,EAAAA,EAEzE9Y,KAAKwN,IAAIpC,SAAS5E,QAAQ5E,WFhLVN,GEgL6ByX,IF/KtCzX,GACNI,QAAQ,gBAAiB,IAAA,EACzBoB,MAAM,OAAS4T,EAAAA,KAAK,IAAA,EAAMnW,KACzB,EAAA,EE6KN,EAQAwT,iBAAAA,UAAAA,CACI,IAAIK,GAAcpU,KAAKoL,SAASgH,gBAAgBpS,KAAK0O,MAAMtD,SAAS8G,KAAAA,EAChE8G,GAAgBhZ,KAAK2W,cAAc,iBAAkB,CAACvC,EAAAA,CAAAA,EACtD6E,GAAgBjZ,KAAK2W,cAAc,iBAAkB,CAACvC,EAAAA,CAAAA,EACtD8E,GAAYlZ,KAAKoL,SAASwL,aAAAA,EAC1BuC,GAAYnZ,KAAKoL,SAASyL,aAE9BmC,EAAAA,IAAiBE,IAAW5R,WAAW8R,aAAaJ,GAAeE,EAAAA,EACnED,IAAiBE,IAAW7R,WAAW8R,aAAaH,GAAeE,EAAAA,CACvE,EAMAxM,SAAAA,SAAU8L,GACN,CAAA,IAAIvD,GAAMlV,KAAKiG,SAASmF,SACpBwB,GAAe5M,KAAKoL,SAASkN,gBAEjC,EAAA,GAAIpD,GAAIvI,UAAY,UAAaC,GAAjC,CAEA,IAAIyM,GAAMC,GAAKC,GAAQC,GAAMC,GAAOC,GAChCC,GACAC,GAAQC,GACRC,GAAQ9Z,KAAKwN,IAAIpC,SACjB2O,GAAQ7E,GAAI8E,IACZC,GAAwBrN,KAAiBpL,SAASS,KAClDiY,GAAiBtN,KAAiB5M,KAAKwN,IAAIwD,MAC3CmJ,GAAwBF,GAAwB3a,OAAO8a,YAAcxN,GAAa8E,UAClF2I,GAAO7Y,SAAS8Y,mBAAqB9Y,SAAS+Y,yBAA2B/Y,SAASgZ,gBAClFC,GAAiBJ,GAAKzI,aAEtB8I,GADgB3I,KAAK4I,IAAIN,GAAKO,aAAe,EAAGtb,OAAOub,YAAc,CACxC,EAAA,IAAM3F,GAAIvI,SAAW,MAClDmO,GAAW9a,KAAKwN,IAAIkN,IAAc,QAAU,QAAU,OAAA,EA+B1D,GA7BAjC,GAAWA,IAAYqB,GAAMlI,aA6BxB5R,KAAK0O,MAAMtD,SAASwM,QAAzB,CAoBA,GAlBI8C,IAAc,QAEdnB,IADAF,GF3FL,UACJ,CAAA,IAAM7R,GAAMhG,SAASmF,aAAAA,EAErB,GAAIa,GAAIC,WAAY,CAChB,IAGI4R,GAAO0B,GAHLC,GAAIxT,GAAIZ,WAAW,CACnBd,EAAAA,GAAOkV,GAAEC,eACTC,GAASF,GAAEG,YAGjB,GAAID,GAAS,EAKT,OAJAH,GAAKvZ,SAAS4Z,YAAAA,GACXC,SAASvV,GAAMoV,GAAS,CAAA,EAC3BH,GAAGO,OAAOxV,GAAMoV,EAET,EAAA,CAAC1B,MADRH,GAAO0B,GAAGQ,sBAAAA,GACQC,MAAOlC,IAAID,GAAKC,IAAKC,OAAOF,GAAKE,MAGvD,EAAA,GAAIzT,GAAKyV,sBACL,OAAOzV,GAAKyV,sBACpB,CAAA,CAEA,MAAO,CAAC/B,KAAAA,MAAYF,IAAK,KAAA,CAC5B,EEsE0BC,GAAAA,OACdD,GAASD,GAAKC,IACdE,GAASH,GAAKG,KACdC,GAAS,SAITC,GAtCJ,SAA6BxY,GACzB,CAAA,IAAIoY,GAAM,EAAGE,GAAO,EAKpB,IAHAtY,GAAIA,GAAEoG,WAGApG,IAAKA,IAAKmZ,IACZf,IAAOpY,GAAEmS,WAAa,EACtBmG,IAAQtY,GAAEua,YAAc,EACxBva,GAAIA,GAAEoG,WAGV,MAAO,CAACgS,IAAAA,GAAKE,KAAAA,EAAAA,CACjB,EAyB2C5M,EAAAA,EACvCyM,GAASyB,GAASS,sBAAAA,EAClBjC,GAASY,GAAAA,GAAsBb,GAAKC,IAAMI,GAAiBJ,IAC3DC,IAAUW,GAAiBb,GAAKd,OAASc,GAAKE,OAASG,GAAiBJ,KAAO,EAC/EE,GAASU,GAAAA,GAAsBb,GAAKG,KAAOE,GAAiBF,KAC5DC,GAASJ,GAAKI,MAAQ,MAAA,CAIrBQ,GAAwB,CACzB,IAAIyB,GAjCR,UAAA,CAII,QAHIhK,GAAY,EACZxQ,GAAIgU,GAAItI,aAAatF,WAEnBpG,IACFwQ,IAAaxQ,GAAEwQ,WAAa,EAC5BxQ,GAAIA,GAAEoG,WAGV,OAAOoK,EACX,EAwBI4H,EAAAA,IAAOoC,GACPnC,IAAUmC,EACd,CAKgBxG,IAAAA,GAHhBoE,GAAMvH,KAAK4J,MAAMrC,EAAAA,EACjBC,GAASxH,KAAK6J,KAAKrC,EAKnBK,EAAAA,KAHAD,IAAgBzE,GAAAA,GAAI2G,cAAU,MAAd3G,KAAI2G,OAAJ3G,GAAkBuF,GAAiBpB,GAAKE,OAASd,IAGvCa,GAAMC,IAAUY,GAG1CN,GAAU,SAAuE5D,OAA7DuD,IAAQO,IAASV,GAAKI,OAAc,GAAKna,OAAOwc,YAAa,KAGjFhC,EAAAA,GAAMnB,MAAMC,QAAU,GAAoBgB,OAAjBC,GAAQ,SAAA,EAAiCJ,OAAxBG,GAAO,iBAAA,EAAsCH,OAArBA,GAAM,eAAA,EAAqBxD,OAANwD,EAEvFK,EAAAA,GAAM1G,aAAa,YAAauG,GAAgB,MAAQ,QACxDG,EAAAA,GAAM1G,aAAa,WAAYsH,EAAAA,CAzCI,CA7CY,CAuFnD,CAAA,IEkIA,KFlIA/M,GAAA,CAAA,EAAA,OAAA,0BAAA,OAAA,iBAAAD,GAAA,OAAA,0BAAAC,EAAA,CAAA,EAAA,SAAA1O,GAAAD,GAAA,CAAA,IAAAE,GAAA,OAAA,KAAAD,EAAA,EAAA,GAAA,OAAA,sBAAA,CAAA,IAAAE,GAAA,OAAA,sBAAAF,EAAA,EAAAD,KAAAG,GAAAA,GAAA,OAAA,SAAAH,GAAA,CAAA,OAAA,OAAA,yBAAAC,GAAAD,EAAA,EAAA,UAAA,CAAA,GAAAE,GAAA,KAAA,MAAAA,GAAAC,EAAA,CAAA,CAAA,OAAAD,EAAA,EAAA,OAAAyO,EAAA,CAAA,EAAA,QAAA,SAAA1O,GAAA,CAAA,OAAA,eAAAyO,GAAAzO,GAAA,OAAA,yBAAA0O,GAAA1O,EAAA,CAAA,CAAA,CAAA,EAAAyO,IGpWEqO,GAAY,kBCDHC,GAAA,CACX9Q,MAAa,QACb+Q,OAAa,0BACb1T,QAAa,mBACb2T,UAAa,iBACbC,WAAa,aCHF3F,EAAAA,GAAA,CAMX4F,QAAAA,SAAQ1R,GAAOmE,GACX,CAAA,MAAO,gBAA2CA,OAA3BA,GAAG3I,WAAWsE,UAAU,GAAA,EAA0DE,OAAvDmE,GAAGO,KAAQ,GAAkC6G,OAAhCpH,GAAG3I,WAAW2I,GAAGO,KAAO,MAAA,CAAA,EAAY,GAAG,GAAA,EACxFP,OAD2FnE,GAAMmI,UAAU;qBAAA,EAE3GhE,OADAA,GAAG4I,SAAW,WAAa,GAAG;qBAAA,EAE9B5I,OADAA,GAAGwN,SAAW,WAAa,GAAG;qBAAA,EAE9BxN,OADAA,GAAGyN,SAAW,WAAa,GAAG;qBAAA,EAG9BrG,OAFApH,GAAGO,OAAS,SAAW,qBAAuB,GAAG;;qBAGrDrQ,EAAAA,OADIiB,KAAKiG,SAASuQ,UAAU9L,MAAM7H,KAAK7C,IAAAA,EAAM;iBAAA,EACrBiW,OAAxBlX,GAAwB;gBAAA,CAEtC,EAEA2L,MAAAA,UAAAA,CACI,IAAImE,GAAK7O,KAAKiG,SACVsW,GAAc1N,GAAG0N,aAAexd,GAEpC,MAAO,SAAiGwd,OAAAA,CAAvF1N,GAAG4I,UAAY5I,GAAG1F,UAAY,kBAAoB,GAAG,kCAAA,EAAoE0F,OAAlC0N,GAAY,sBAAA,EAC/F1N,OADqHA,GAAG0N,aAAe,GAAG;4BAAA,EAIjI1N,OAHTA,GAAG3I,WAAWwE,MAAM;;;qCAGeuL,EAAAA,OAA1BpH,GAAGO,MAAM,MAAiB,WAAA,CAC5D,EAEAjJ,IAAAA,SAAIuK,GAAS8L,GAAAA,CAACvW,IAAU4I,GAAX2N,GAACvW,SACV,MAAO,eAGiB4I,OAHD6B,GAAQ+L,OAAS/L,GAAQpM,MAAO;;;+BAAA,EAIlCuK,OADGA,GAAG7E,KAAKC,cAAgB,EAAK,GAAE;4BACbyG,EAAAA,OAArB7B,GAAG3I,WAAWC,IAAI,GAAA,EACzB8P,OAD4BvF,GAAQgM,OAAS,GAAG;qBAAA,EAElC7N,OADd7O,KAAK2c,cAAcjM,EAAAA,EAAS;mCAC4B7B,EAAAA,OAA1CA,GAAG7E,KAAKC,cAAgB,EAAA,GAAO,WAAA,EAE3C4E,OAFsDA,GAAG3I,WAAW2F,KAAK;;uBAEMgD,EAAAA,OAA/EA,GAAGO,OAAS,UAAYP,GAAG1F,UAAY,yBAA2B,GAAG,UAAoCuH,EAAAA,OAA1B7B,GAAG3I,WAAW0F,QAAQ,IAAA,EAA6CqK,OAAzCvF,GAAQ7B,GAAGrG,WAAgBkI,GAAAA,GAAQpM,MAAM;;eAGtK,CAAA,EAEA8G,SAAAA,SAASnF,GAAAA,CACL,IAAIiP,GAAMjP,GAASmF,SACfiM,GAAWnC,GAAIvI,UAAY,SAE/B,MAAO,eAAgEuI,OAAjDmC,GAAW,GAAKpR,GAASC,WAAWkF,SAAU,GAAoE8J,EAAAA,OAAjEA,GAAIhJ,UAAU,mDAAA,EAChBjG,OADmEiP,GAAI8E,IAAM,MAAQ,GAAG;4EAAA,EACpD/D,OAApChQ,GAASC,WAAWmF,gBAAgB;uBAE7G,CAAA,EAEA0N,gBAAAA,SAAgBD,GAAAA,CACZ,IAAI8D,GAAK5c,KAAKiG,SAASuQ,UACnBpC,GAAcpU,KAAK0O,MAAMtD,SAASgJ,YAEtC,MAAQ;cAEF0E,OADA8D,GAAGtR,eAAezI,KAAK7C,KAAMoU,EAAAA,EAAa;aAAA,EAE1CwI,OADA9D,GAAY;aAAA,EAC8B7C,OAA1C2G,GAAGrR,eAAe1I,KAAK7C,KAAMoU,EAAAA,EAAa;SAEpD,CAAA,EAEA5I,aAAAA,SAAa5G,GAAAA,CACT,MAAO,QACcqR,OADNjW,KAAK2c,cAAc/X,EAAAA,EAAM;4BAAA,EACsBA,OAAzC5E,KAAKiG,SAASC,WAAWsF,aAAa,GAAA,EAE/B5G,OAFkCA,GAAK8X,OAAS,GAAG;;mCAAA,EAEpBzG,OAA/BrR,GAAK2R,aAAe3R,GAAKN,MAAM,QAAA,CAC/D,EAKAgH,eAAAA,SAAe8I,GAAAA,CACX,MAAQ,4DAAmG6B,OAAxCjW,KAAKiG,SAASC,WAAWoF,eAAe,aAAA,CAC/G,EAEAC,eAAAA,SAAe6I,GAAAA,CACX,IAAIyI,GAAUzI,GAAYzU,OAASK,KAAKiG,SAASmF,SAASe,SAE1D,OAAO0Q,GAAU,EACV,4DACGA,OADwD7c,KAAKiG,SAASC,WAAWqF,eAAe;iBAAA,EACxF0K,OAAR4G,GAAQ;sBAAA,EAEZ,EACV,EAEAvF,oBAAqB,IAAA,EAAA,SAAAwF,GAAA7d,GAAAD,GAAA,EAAAA,IAAA,MAAAA,GAAAC,GAAA,UAAAD,GAAAC,GAAA,QAAA,QAAAC,GAAA,EAAAC,GAAA,IAAA,MAAAH,EAAA,EAAAE,GAAAF,GAAAE,KAAAC,GAAAD,EAAA,EAAAD,GAAAC,EAAA,EAAA,OAAAC,EAAA,CAAA,SAAA4d,GAAA9d,GAAAD,GAAA,CAAA,OAAAA,IAAA,MAAA,OAAA,OAAA,KAAAA,GAAA,OAAA,WAAA,EAAA,CAAA,CAAAA,GAAA,OAAA,WAAA,EAAAC,EAAA,EAAAA,cAAAD,EAAA,CAAA,SAAAge,GAAA/d,GAAAD,GAAA,CAAA,OAAA,SAAAC,GAAA,CAAA,GAAA,MAAA,QAAAA,EAAA,EAAA,OAAAA,EAAA,EAAAA,EAAA,GAAA,SAAAA,GAAAD,GAAA,CAAA,IAAAE,GAAAD,IAAA,KAAA,KAAA,OAAA,OAAA,KAAAA,GAAA,OAAA,QAAA,GAAAA,GAAA,YAAA,EAAA,GAAAC,IAAA,KAAA,CAAA,IAAAC,GAAAmC,GAAA+B,GAAA,CAAA,EAAAJ,GAAA,GAAA+X,GAAA,GAAA,GAAA,CAAA,IAAA9b,GAAAA,GAAA,KAAAD,EAAA,EAAA,EAAAgE,IAAA9D,GAAAD,GAAA,KAAA,GAAA,QAAAmE,GAAA,KAAAlE,GAAA,KAAA,EAAA,CAAAH,IAAAqE,GAAA,SAAArE,IAAAiE,GAAA,GAAA,CAAA,OAAAhE,GAAA,CAAA+b,GAAA,GAAA1Z,GAAArC,EAAA,QAAA,CAAA,GAAA,CAAAgE,IAAA/D,GAAA,QAAA,MAAAA,GAAA,OAAA,CAAA,QAAA,CAAA,GAAA8b,GAAA,MAAA1Z,EAAA,CAAA,CAAA,OAAA+B,EAAA,CAAA,EAAApE,GAAAD,EAAA,GAAA,SAAAC,GAAAD,GAAA,CAAA,GAAAC,GAAA,IAAA,OAAAA,IAAA,SAAA,OAAA6d,GAAA7d,GAAAD,EAAA,EAAA,IAAAE,GAAA,OAAA,UAAA,SAAA,KAAAD,EAAA,EAAA,MAAA,EAAA,EAAA,EAAA,GAAAC,KAAA,UAAAD,GAAA,cAAAC,GAAAD,GAAA,YAAA,MAAAC,KAAA,OAAAA,KAAA,MAAA,OAAA,MAAA,KAAAA,EAAA,EAAA,GAAAA,KAAA,aAAA,2CAAA,KAAAA,EAAA,EAAA,OAAA4d,GAAA7d,GAAAD,EAAA,EAAA,EAAAC,GAAAD,EAAA,GAAA,UAAA,CAAA,MAAA,IAAA,UAAA,4IAAA,CAAA,EAAA,CAAA,CAAA,SAAAie,GAAAhe,GAAAD,GAAA,EAAAA,IAAA,MAAAA,GAAAC,GAAA,UAAAD,GAAAC,GAAA,QAAA,QAAAC,GAAA,EAAAC,GAAA,IAAA,MAAAH,EAAA,EAAAE,GAAAF,GAAAE,KAAAC,GAAAD,EAAA,EAAAD,GAAAC,EAAA,EAAA,OAAAC,EAAA,CAAA,SAAA+d,GAAAje,GAAAD,GAAAE,GAAA,CAAA,OAAAF,MAAAC,GAAA,OAAA,eAAAA,GAAAD,GAAA,CAAA,MAAAE,GAAA,WAAA,GAAA,aAAA,GAAA,SAAA,EAAA,CAAA,EAAAD,GAAAD,EAAA,EAAAE,GAAAD,EAAA,CAAA,SAAAke,GAAAle,GAAAD,GAAA,CAAA,OAAAA,IAAA,MAAA,OAAA,OAAA,KAAAA,GAAA,OAAA,WAAA,EAAA,CAAA,CAAAA,GAAA,OAAA,WAAA,EAAAC,EAAA,EAAAA,cAAAD,EAAA,CAAA,SAAAoe,GAAAne,GAAAD,GAAA,CAAA,OAAAA,GAAAA,IAAA,CAAA,EAAA,OAAA,0BAAA,OAAA,iBAAAC,GAAA,OAAA,0BAAAD,EAAA,CAAA,EAAA,SAAAC,GAAAD,GAAA,CAAA,IAAAE,GAAA,OAAA,KAAAD,EAAA,EAAA,GAAA,OAAA,sBAAA,CAAA,IAAAE,GAAA,OAAA,sBAAAF,EAAA,EAAAD,KAAAG,GAAAA,GAAA,OAAA,SAAAH,GAAA,CAAA,OAAA,OAAA,yBAAAC,GAAAD,EAAA,EAAA,UAAA,CAAA,GAAAE,GAAA,KAAA,MAAAA,GAAAC,EAAA,CAAA,CAAA,OAAAD,EAAA,EAAA,OAAAF,EAAA,CAAA,EAAA,QAAA,SAAAE,GAAA,CAAA,OAAA,eAAAD,GAAAC,GAAA,OAAA,yBAAAF,GAAAE,EAAA,CAAA,CAAA,CAAA,EAAAD,EAAA,CAAA,SAAAsW,GAAAtW,GAAA,CAAA,OAAA,SAAAA,GAAA,CAAA,GAAA,MAAA,QAAAA,EAAA,EAAA,OAAAge,GAAAhe,EAAA,CAAA,EAAAA,EAAA,GAAA,SAAAA,GAAA,CAAA,GAAA,OAAA,OAAA,KAAAA,GAAA,OAAA,QAAA,GAAA,MAAAA,GAAA,YAAA,GAAA,KAAA,OAAA,MAAA,KAAAA,EAAA,CAAA,EAAAA,EAAA,GAAA,SAAAA,GAAAD,GAAA,CAAA,GAAAC,GAAA,IAAA,OAAAA,IAAA,SAAA,OAAAge,GAAAhe,GAAAD,EAAA,EAAA,IAAAE,GAAA,OAAA,UAAA,SAAA,KAAAD,EAAA,EAAA,MAAA,EAAA,EAAA,EAAA,GAAAC,KAAA,UAAAD,GAAA,cAAAC,GAAAD,GAAA,YAAA,MAAAC,KAAA,OAAAA,KAAA,MAAA,OAAA,MAAA,KAAAA,EAAA,EAAA,GAAAA,KAAA,aAAA,2CAAA,KAAAA,EAAA,EAAA,OAAA+d,GAAAhe,GAAAD,EAAA,EAAA,EAAAC,EAAA,GAAA,UAAA,CAAA,MAAA,IAAA,UAAA,uIAAA,CAAA,EAAA,CAAA,CJ1DzB,IAAe8O,GAAA,CAEXsP,cAAAA,UAAAA,CAAAA,IAAAA,GAAAA,KACIrd,KAAKsd,iBAAiBrV,QAAQsV,SAAAA,GAAAA,CAC1B5N,GAAK6N,GAAGD,GAAM5N,GAAK1J,SAAS0C,UAAU4U,EAAAA,CAAAA,CAC1C,CACJ,CAAA,EAEAvP,QAAAA,UAASC,CAAAA,IAGDE,GAHCF,GAAAA,EAAAA,UAAatO,OAAA,GAAAD,UAAA,CAAAA,IAAA,SAAAA,UAAA,CAAA,EACdmP,GAAK7O,KAAKiG,SACViI,GAAMlO,KAAK+N,OAAOpF,UAElBtG,GAAS4L,GAAa,mBAAqB,sBAG/C,GAAA,CAAIjO,KAAK0O,MAAM+O,YAAAA,CAAcxP,GAA7B,CA6BA,QAASyP,MAzBT1d,KAAK0O,MAAM+O,WAAaxP,GAGpBA,IAAejO,CAAAA,KAAKoO,UAAUuP,OAC9B3d,KAAK+N,OAAO6P,WAAW/a,KAAK7C,IAAAA,EAExBA,KAAKiG,SAAS4X,gBACdC,OAAO9d,KAAKwN,IAAIuQ,aAAeP,EAAAA,GAAG,uBAAwBxd,KAAKge,cAAc1Q,KAAKtN,IAQ1FmO,CAAAA,GAAAA,GAAQnO,KAAKoO,UAAUuP,KAAO3d,KAAKoO,UAAUuP,MAAQ,CACjDM,QAAmB,CAAC,QAAS/P,GAAIgQ,UAAU5Q,KAAKtN,IAChDme,CAAAA,EAAAA,MAAmB,CAAC,QAASjQ,GAAIkQ,aAAa9Q,KAAKtN,IAAAA,CAAAA,EACnDqe,SAAmBxP,GAAGO,MAAQ,UAAY,CAAC,QAASlB,GAAIoQ,mBAAmBhR,KAAKtN,IAAAA,CAAAA,EAChFue,MAAmB,CAAC,QAASrQ,GAAIsQ,QAAQlR,KAAKtN,IAC9Cye,CAAAA,EAAAA,KAAmB,CAAC,QAASvQ,GAAIwQ,OAAOpR,KAAKtN,IAAAA,CAAAA,EAC7C2e,iBAAmB,CAAC,QAASzQ,GAAI0Q,mBAAmBtR,KAAKtN,IACzD6e,CAAAA,EAAAA,eAAmB,CAAC,QAAS3Q,GAAI4Q,iBAAiBxR,KAAKtN,IAAAA,CAAAA,CAAAA,EAIvDmO,GAAKuP,EAAc1d,GAAAA,KAAKwN,IAAIW,GAAKuP,EAAAA,EAAW,CAAA,CAAA,EAAIrb,EAAQqb,EAAAA,GAAWvP,GAAKuP,EAAW,EAAA,CAAA,CAAA,EAIvF,IAAIqB,GAAwB/e,KAAKoO,UAAUuP,KAAKoB,uBAAyB,IAAIC,iBAAiB9Q,GAAI+Q,iBAAiB3R,KAAKtN,IAAAA,CAAAA,EAGxH+e,GAAsBG,WAGP,EAAXrQ,GAAGO,MAAQ,OACX2P,GAAsBI,QAAQnf,KAAKwN,IAAI9C,MAAO,CAAC0U,UAAAA,EAAU,CAAA,EAG7Dpf,KAAK+N,OAAOsR,yBAAyBxc,KAAK7C,IAAAA,CA3CtC,CA4CR,EAEAqf,yBAAAA,SAAyBC,GACrB,CAAA,IAAMC,IAASD,IAAO,GAAK,IAEvBtf,KAAKoO,UAAUuP,OAGnB6B,cAAcxf,KAAKoO,UAAUuP,KAAK8B,kCAAAA,EAClCzf,KAAKoO,UAAUuP,KAAK8B,mCAAqCC,YAAY1f,KAAK+N,OAAOpF,UAAUgX,0BAA0BrS,KAAKtN,IAAOuf,EAAAA,EAAAA,EACrI,EAEA3B,WAAAA,SAAYgC,GAAAA,CACR,IAEI5gB,GAFAkP,GAAMlO,KAAK+N,OAAOpF,UAClBtG,GAASud,GAAS,sBAAwB,mBAG9C,GAAK5f,KAAKoO,YAAewR,IAAAA,CAAW5f,KAAKoO,UAAUyR,QAAnD,CAGA7f,KAAKoO,UAAUyR,OAAS7f,KAAKoO,UAAUyR,QAAU,CAC7C,CACIpd,KAAMzC,KAAK8f,KAAO,UAAY,QAC9BvO,OAAQvR,KAAKwN,IAAI9C,MACjBqV,GAAI7R,GAAIlO,KAAK8f,KAAO,YAAc,SAAA,EAAWxS,KAAKtN,IAEtD,CAAA,EAAA,CACIyC,KAAM,UACN8O,OAAQjS,OACRygB,GAAI7R,GAAI8R,gBAAgB1S,KAAKtN,IAAAA,CAAAA,EAEjC,CACIyC,KAAM,UACN8O,OAAQvR,KAAKwN,IAAIwD,MACjB+O,GAAI7R,GAAI+R,YAAY3S,KAAKtN,IAAAA,CAAAA,EAE7B,CACIyC,KAAM,WACN8O,OAAQvR,KAAKwN,IAAIwD,MACjB+O,GAAI7R,GAAI+R,YAAY3S,KAAKtN,IAAAA,CAAAA,EAE7B,CACIyC,KAAM,QACN8O,OAAQ/P,SACRue,GAAI7R,GAAIgS,gBAAgB5S,KAAKtN,IAAAA,EAC7BmgB,WAAY,EAAA,CAAA,EAIfnhB,IAAAA,GAAAA,GAAAA,GAAAA,GAAAA,GAAAA,OAAAA,GAAL,CAAA,QAAKA,GAAAA,GAAKgB,KAAKoO,UAAUyR,OAApB7gB,OAAAA,QAAAA,EAAAA,EAAAA,EAAAA,IAAAA,GAAAA,GAAAA,KAAAA,GAAAA,MAAAA,GAAAA,IAAAA,GAAAA,GAAAA,OACCuS,OAAOlP,EAAQrD,EAAAA,GAAEyD,KAAMzD,GAAE+gB,GAAAA,CAAAA,CAAM/gB,GAAEmhB,UAAAA,CAAAA,OAAAA,GADlCnhB,CAAAA,GAAAA,GAAAA,GAAAA,EAAAA,QAAAA,CAAAA,GAAAA,CAAAA,IAAAA,GAAAA,QAAAA,MAAAA,GAAAA,OAAAA,CAAAA,QAAAA,CAAAA,GAAAA,GAAAA,MAAAA,EAAAA,CAAAA,CAAAA,CAET,EAEAohB,aAAAA,UAAAA,CACIpgB,KAAK+N,OAAO6P,WAAW/a,KAAK7C,KAAM,EAAA,CACtC,EAKA2I,UAAY,CACRsX,YAAAA,SAAYjhB,GAAAA,CAAAA,IAsBkBqhB,GAAAC,GApBtBC,GAAUna,GAAgBvD,KAAK7C,KAAMhB,GAAEuS,MAAAA,EACvCiP,GAAkB3a,GAAUhD,KAAK7C,KAAMhB,GAAEuS,MAAAA,EACzCkP,GAAYzhB,GAAEyD,MAAQ,UACtBie,GAAY1hB,GAAEyD,MAAQ,WAMtB8d,IAAWE,IAAAA,CAAeD,IAC1BxgB,KAAK6T,iBAAiB7T,KAAK0O,MAAMC,SAAAA,CAAY,IAAIgS,IAAAA,EAQrD,IAAI9R,GAAK7O,KAAKiG,SACV2a,GAAO5hB,GAAEuS,OAASvR,KAAKO,KAAKP,KAAKwN,IAAI9C,MAAMmW,WAAAA,EAAe,GAC1DC,IAAsBR,GAAAtgB,KAAKsE,SAA3Bwc,MAAsBR,KAAKhc,SAAL+b,GAAAC,GAAa,CAAA,KAAb,MAAAD,KAAa,OAAbA,OAAAA,GAAkBxR,GAAGrG,WAAAA,EAC3CuY,GAAYlS,GAAGzD,SAASf,SAAW,EACnC2W,GAAY,CAACC,cAAcjiB,GAAEiiB,aAC7BC,EAAAA,GAAuBlhB,KAAK0O,MAAMyB,QAAQS,eAAiBmQ,IAAclS,CAAAA,GAAGzD,SAASqB,eACrF0U,GAAoBnhB,KAAK0O,MAAMyB,QAAQiR,QAAUL,GAGrD,GAAIL,GAAW,CACX,GAAI1hB,GAAEiiB,gBAAkBjhB,KAAKwN,IAAIwD,MAG7B,OAFAhR,KAAKoL,SAAS8E,KAAAA,EAAAA,KACdlQ,KAAKwN,IAAI9C,MAAMC,MAAAA,EAInB3K,KAAKqhB,WAAAA,EACLxS,GAAG/F,mBAAqB9I,KAAKshB,mBAAAA,CACjC,CAEA,GAAA,CAAIJ,IAAAA,CAAwBC,GAY5B,GARIV,IAAaF,IACbvgB,KAAK0O,MAAMC,SAAY,CAAA,IAAIgS,KAC3B3gB,KAAK6T,iBAAiB7T,KAAK0O,MAAMC,QAAAA,GAGjC3O,KAAK0O,MAAMC,SAAAA,GAGXE,GAAGO,MAAQ,MAAf,CAiBA,GAAIqR,GAAW,CACX,GAAA,CAAK5R,GAAGzF,UAAY,OAEpB,IAAImY,GAAqB1S,GAAGzD,SAASf,UAAY,GAAZA,CAAkBrK,KAAK0O,MAAMtD,SAASwM,QAS3E,OAPA5X,KAAK6T,iBAAAA,EACL7T,EAAAA,KAAK6R,QAAQ,QAASmP,EAAAA,EAAAA,KAAAA,CAElBO,IAAwBf,IAAmB3R,GAAGO,OAAS,UACvDpP,KAAKoL,SAAS2L,KAAK/W,KAAKsE,MAAM3E,OAAS,GAAA,MAAKqE,EAIpD,CAEK,GAAI0c,GAAW,CAMhB,GALA1gB,KAAK6R,QAAQ,OAAQmP,EAAAA,EACrBhhB,KAAKwhB,QAAAA,EAAQ,EAIT3S,GAAGO,MAAQ,SAAW,CACtB,GAAIpP,KAAKsE,MAAM3E,OAAS,CACpB,IAAI8hB,GAAezhB,KAAK0hB,WAAa,EAAA,CAAA,EACrCd,GAAO5gB,KAAKO,KAAKkhB,GAAaZ,WAClC,CAAA,CAGIC,KAAwBF,KACxBA,GAAO,GACf,CAEgBA,IAAAA,CAAS5gB,KAAK0O,MAAMyB,QAAQS,cAAgB/B,GAAGjG,cAAgBiG,GAAGhG,SAAS/D,SAAS,MAAA,GAGnF9E,KAAK6Q,QAAQ+P,GAAAA,EAClC,CAAA,CAGML,KACFvgB,KAAKwN,IAAI9C,MAAMsI,gBAAgB,OAAA,EAC/BhT,KAAKoL,SAAS8E,KAAAA,EA3ClB,MAdQuQ,GACAzgB,KAAK6R,QAAQ,QAASmP,EAAAA,EAGjBN,KACL1gB,KAAK6R,QAAQ,OAAQmP,EACrBhhB,EAAAA,KAAKwhB,QAAAA,EACLxhB,EAAAA,KAAKoL,SAAS8E,KAEdlQ,EAAAA,KAAK0O,MAAMtD,SAASwM,QAAAA,OACpB5X,KAAK6X,kBAAAA,EAiDjB,EAEA+G,mBAAAA,SAAmB5f,GAAAA,CACfgB,KAAK0O,MAAME,UAAAA,EACf,EAEAkQ,iBAAAA,SAAiB9f,GAAAA,CACbgB,KAAK0O,MAAME,UAAAA,EACf,EAEAoR,gBAAAA,SAAgBhhB,GACZ,CAAA,IAKI2iB,GALA9S,GAAK7O,KAAKiG,SACV2b,GAAapgB,SAASqgB,cAEtBC,GADY1b,GAAgBvD,KAAK7C,KAAM4hB,EAAAA,GACf5hB,KAAKwN,IAAIwD,MAAMhL,SAASxE,SAASqgB,aAAAA,EACzDE,GAAiBD,IAAYF,GAAWI,aAAa,UAGzD,EAAA,GAAKhiB,KAAK0O,MAAMC,UAAcmT,IAAAA,CAAYC,GAA1C,CAEAJ,GAAUC,GAAWK,mBAErB,IAAIC,GAAoBljB,GAAEuS,OAAOxL,UAAUC,SAAS6I,GAAG3I,WAAW2F,IAAAA,EAElE,OAAQ7M,GAAEuE,IAAAA,CAEN,IAAK,YACIsL,GAAG4I,UAAazX,KAAK0O,MAAM4B,UAC5BtQ,KAAKmR,WAAWyQ,EAAAA,GACfD,IAAoB3hB,KAAKwN,IAAI9C,OAAOC,MAAAA,GAGzC,MAGJ,IAAK,QACD,GAAIuX,GAEA,OAAA,KADAliB,KAAKmR,WAAYnS,GAAEuS,OAAOjK,UAI1BuH,EAAAA,GAAG7E,KAAKC,eAAiBpE,GAAUhD,KAAK7C,KAAM4hB,EAAAA,GAC9CxQ,WAAWpR,KAAKqR,QAAQ/D,KAAKtN,IAAO,EAAA,EAAG4hB,EAAAA,EAE3C,MAGJ,IAAK,YAEI5hB,KAAK0O,MAAMtD,SAASwM,SAAW/I,GAAGO,MAAQ,OAC3CpP,KAAKoL,SAAS2L,KAhCkC,CAAA,CAAA,CAoChE,EAEAmH,UAAAA,SAAUlf,GAAAA,CAAAA,IAAAA,GAAAA,KACF6P,GAAK7O,KAAKiG,SAGd,GAAIjG,CAAAA,KAAK0O,MAAME,WAAcC,GAAG1F,UAAhC,CAGI0F,GAAGO,MAAQ,UAAYP,GAAG3F,kBAAoBlJ,KAAKsE,MAAM3E,QAAUX,GAAEuE,KAAO,OAC5EvE,GAAEyQ,eAAAA,EAGN,IAAInO,GAAItB,KAAKO,KAAKvB,GAAEuS,OAAOsP,WAAAA,EAE3B7gB,KAAK6R,QAAQ,UAAW,CAACyB,MAAMtU,EAAAA,CAAAA,EAE/B6P,GAAGhC,MAAMM,cAAcnO,GAAG,CAACsQ,OAAOtP,IAC7BuP,CAAAA,EAAAA,KAAKC,SAAAA,GAIF,CAAA,GAAIX,GAAGO,MAAQ,MAAO,CAClB,OAAQpQ,GAAEuE,IAAAA,CACN,IAAK,OACL,IAAK,YAGDoM,GAAKjB,MAAMyB,QAAQC,UAAAA,GACnB,MAGJ,IAAK,SACL,IAAK,YACD,GAAIT,GAAKjB,MAAM4B,QAAU,OAEzB,IAAI9I,GAAMhG,SAASmF,aAAAA,EACfwb,GAAuBnjB,GAAEuE,KAAO,UAAYiE,GAAI4a,eAAiB5a,GAAI6a,WAAW1iB,QAAU,GAC1F2iB,GAAoB9a,GAAI6a,WAAWna,gBACnCqa,GAAkB/a,GAAI6a,WAAW/f,UAAY,GAAZA,CAAkBkF,GAAI4a,cAAgBE,IAAqBA,GAAkBhgB,UAAY,GAAKkF,GAAI6a,WAAWna,gBAC7H7G,GAAOsO,GAAKnC,IAAI9C,MAAM9I,SAAAA,EACvC4gB,IAGAC,GACAC,GACAC,GALAH,GAAe7S,GAAK+R,WAAAA,EACpBkB,GAAQpb,GAAI6a,WAAW1iB,SAAW,GAAK6H,GAAI6a,WAAWQ,WAAa3d,SAMvE,GAAI2J,GAAGpF,WAAa,QAAU8Y,GAI1B,OAHAE,GAAiBjb,GAAI6a,WAAW/f,UAAY,EAAI,KAAOkF,GAAI6a,WAAWS,uBACtE1R,WAAWzB,GAAK0B,QAAQ/D,KAAYqC,EAAA,EAAA,EAAG8S,EAAAA,EAAAA,KACvCzjB,GAAEyQ,eAAAA,EAIN,GAAIrK,GAA2C2d,GAAAA,GAAfR,GAA2BS,OAevD,EAAA,OAdAL,GAAyBxgB,GAAiBogB,EAAAA,EAErCA,GAAgBP,aAAa,UAAA,GAC9BO,GAAgBxP,OAIpBpD,EAAAA,GAAKnC,IAAI9C,MAAMC,MAAAA,EAAAA,KACfyG,WAAW,UACP/J,CAAAA,GAAoBsb,EAAAA,EACpBhT,GAAKnC,IAAI9C,MAAMyT,MAEnB,CAAA,CAAA,EAKJ,GAAI3W,GAAI6a,WAAWY,UAAY,KAC3B,OA8BJ,IA5BKd,IAAwBI,KAAoB/a,GAAI6a,WAAW/f,UAAY,EAEpEogB,GADAlb,GAAI4a,cAAgB,EACAD,GACdK,GAAa,CACb,EAAA,KAEcA,GAAazQ,KAAKmR,IAAIV,GAAa7iB,OAAQ6H,GAAI4a,YAAAA,EAAgB,CAGlFD,EAAAA,GACLO,GAAoBlb,GAAI6a,WAAWJ,mBAE9BM,GAAAA,GAA2BS,OAAAA,IAChCN,GAAoBH,IAGpB/a,GAAI6a,WAAW/f,UAAY,GAAZA,CACdkF,GAAI6a,WAAWQ,WAChBrb,GAAI6a,WAAWS,wBACf9jB,GAAEyQ,eAAAA,GAID8S,IAAmBJ,KAA0BtT,CAAAA,GAAGpF,WAKjDjC,GAAI/E,MAAQ,SAAY+E,CAAAA,GAAI4a,cAAgB5a,GAAI6a,YAAc1S,GAAKnC,IAAI9C,OAAS1L,GAAEuE,KAAO,SAEzF,OAAA,KADAvE,GAAEyQ,eAAAA,EAIN,GAAIjI,GAAI/E,MAAQ,SAAWigB,IAAqBA,GAAkBV,aAAa,UAK3E,EAAA,OAAA,KADA3a,GAAqBlF,GAAiBugB,EAAAA,CAAAA,EAIrC1jB,GAAEuE,KAAO,UAAYqf,IAAS5b,GAAcQ,GAAI6a,WAAW9a,WAC5DoI,GAAAA,GAAKwB,WAAW3J,GAAI6a,WAAW9a,WAAAA,EAiBnCmQ,aAAa9J,EAAAA,EAGbA,GAAyBwD,WAAW,UAAA,CAChC,IAAI5J,GAAMhG,SAASmF,aAAAA,EACAtF,GAAOsO,GAAKnC,IAAI9C,MAAM9I,SAAAA,EAAAA,CAC1BugB,IAAwB3a,GAAI6a,WAAWna,gBA0BtDyH,GAAKrL,MAAQ,CAAA,EAAGzD,IAAIgC,KAAK2f,GAAc,SAAC1c,GAAMqd,GAAAA,CAC1C,IAAIzS,GAAU1J,GAAclB,EAG5B,EAAA,GAAIA,GAAKwB,YAAcoJ,GAAQ+G,SAC3B,OAAO/G,GAEPf,GAAKkC,QAAQ,SAAU,CAAE1L,IAAIL,GAAMsd,MAAMD,GAASjc,KAAKwJ,EAAAA,CAAAA,CAAAA,CAE1DqF,EAAAA,OAAO5W,SAAAA,GAAGA,CAAAA,OAAAA,EAAAA,CACnB,CAAA,EAAG,EAAA,CAAA,CAQX,MAAO,EACX,CAEA,IAAIkkB,GAAmBxU,GAAGzD,SAASuB,UAAY,SAE/C,OAAQ3N,GAAEuE,IAAAA,CACN,IAAK,YACGsL,GAAGO,MAAQ,UAAYP,GAAG3F,kBAAoByG,GAAKrL,MAAM3E,OACzDgQ,GAAKwB,WAAAA,EAECxB,GAAKjB,MAAMtD,SAASwM,SAAW/I,GAAGzD,SAASuB,UAAY,UACzD3N,GAAEuS,OAAOsP,aAAe,IAAMvf,GAAE4P,WAAW,CACtB,GAD4B,OAC7CrC,GAAGpF,YAAc,GACjBkG,GAAKwB,WAAAA,EACAtC,GAAGpF,WAAa,QACrB2H,WAAWzB,GAAK0B,QAAQ/D,KAAYqC,EAAAA,EAAA,CAAA,GAGhD,MAEJ,IAAK,MACL,IAAK,SACD,GAAIA,GAAKjB,MAAMtD,SAASwM,QAAU,OAClC5Y,GAAEuS,OAAO+R,KAAAA,EACT,MAEJ,IAAK,OACL,IAAK,YAEI3T,GAAKjB,MAAMtD,SAASwM,SACrBjI,GAAKvE,SAAS2L,KAAAA,EAClB,MAEJ,IAAK,aACD,IAAIrG,GAAUf,GAAKjB,MAAM6U,iBAAmB5T,GAAKjB,MAAMuE,WACvD,GAAIvC,IAAW7B,GAAGzE,aAAaE,SAE3B,OADAqF,KAAAA,GAAKkB,QAAQ,CAACH,EAAAA,EAAAA,EAAU,EAG5B,MAEJ,IAAK,MACD,IAAIjG,GAAaoE,GAAGO,MAAQ,SAC5B,GAAA,CAAG9N,IAAMmJ,GACJ,MAAA,GADgBzL,GAAEyQ,eAAAA,EAI3B,IAAK,QAED,GAAIE,GAAKjB,MAAMtD,SAASwM,SAAYyL,CAAAA,GAAmB,OACvDrkB,GAAEyQ,eAAAA,EAKF2B,WAAW,UACDzB,CAAAA,GAAKjB,MAAMtD,SAASwM,SAAAA,CAAWyL,IAAsB1T,GAAKjB,MAAMyB,QAAQS,cAAgB/B,CAAAA,GAAGhG,SAAS/D,SAAS9F,GAAEuE,IAAI/C,YACrHmP,CAAAA,GAAAA,GAAKkB,QAAQvP,GAAG,EAAA,CACxB,CAAA,CAAA,CAAA,CAGXyP,EAAAA,MAAMhM,SAAAA,GAAOA,CAAAA,OAAAA,EAAAA,CA/Od,CAAA,CAgPR,EAEAye,QAAAA,SAAQxkB,GAAAA,CACJgB,KAAKqhB,WAAAA,EAEL,IAAIxS,GAAK7O,KAAKiG,SAEd,GAAI4I,GAAGO,MAAQ,MACX,OAAOpP,KAAK+N,OAAOpF,UAAU8a,eAAe5gB,KAAK7C,KAAMhB,EAAAA,EAE3D,IAAIsF,GAAQtE,KAAK0K,MAAMvF,UAAUtC,KAAK7C,KAAMgE,OAAW,CAACzD,KAAM,EAAA,CAAA,EAC1DmjB,GAAkBpf,GAAM3E,QAAUkP,GAAGzD,SAASf,QAC9C2W,GAAY,CAAC1c,MAAAA,GAAOqf,SAAS3jB,KAAKwN,IAAI9C,KACtCkZ,EAAAA,GAAa5jB,KAAK6jB,YAAY,CAACvf,MAAAA,EAEpB,CAAA,EAAXuK,GAAGO,MAAQ,UACXpP,KAAK8jB,sBAAsBF,EAG/B5C,EAAAA,GAAU+C,QAAUH,GAIhB5jB,KAAK0O,MAAMoC,WAAaxM,KAG5BtE,KAAK0K,MAAM+F,IAAI5N,KAAK7C,KAAMsE,GAAAA,EAAO,EAI7BA,GAAM0f,OAAOnV,GAAGvG,UAAAA,GAJa,GAKzBtI,KAAK6Q,QAASvM,EAAAA,GACdtE,KAAK0K,MAAM+F,IAAI5N,KAAK7C,IAInB6O,EAAAA,GAAGzD,SAASf,SAAW,GAC5BrK,KAAKoL,SAASsY,GAAkB,OAAS,MAAQpf,EAAAA,EAAAA,EAGrDtE,KAAK6R,QAAQ,QAASmP,EAAAA,EAC1B,EAEAyC,eAAAA,SAAgBzkB,GAAAA,CAAAA,IACRilB,GAAWC,GAAOC,GAAqBhe,GAAKud,GAAiBhd,GAG7D0d,GACAC,GAAAA,GAAAA,KAHAxV,GAAK7O,KAAKiG,SACVqe,GAAgBtkB,KAAKsE,MAAM3E,OAG3B4kB,GAAYvkB,KAAK0hB,WACjB8C,EAAAA,GAAWhjB,SAASijB,uBACpBhe,EAAAA,GAAQnH,OAAOqH,aAAeC,EAAAA,WAAW,CAAA,EACzC8d,GAAsB,CAAA,EAAG7jB,IAAIgC,KAAK0hB,GAAWze,SAAAA,GAAQkB,CAAAA,OAAAA,GAAclB,EAAMxB,EAAAA,KAAAA,CAAAA,EA2B7E,GAvBItF,GAAE2lB,WAAa,yBAA2Bvf,GAAAA,GAC1CpF,KAAK+N,OAAOpF,UAAUuV,UAAUrb,KAAK7C,KAAM,CACvCuR,OAAQvS,GAAEuS,OACVhO,IAAK,WAAA,CAAA,EAMbuE,GAAoB9H,KAAK0hB,WAAAA,CAAAA,EAGzB1hB,KAAKsE,MAAMvB,MAAAA,EAAQkF,QAAQrD,SAAAA,GAAAA,CACnBA,GAAK6S,UAAaiN,CAAAA,GAAoB5f,SAASF,GAAKN,KAAAA,GACpDkgB,GAAS3L,YAAalJ,GAAKiV,cAAchgB,EACjD,CAAA,CAAA,CAAA,EAEI4f,GAASK,WAAWllB,SACpB8G,GAAMM,WAAWyd,EAAAA,EACjBxkB,KAAK8kB,mBAAmB,GAAON,GAASO,SAIxCR,GAAAA,GAAU5kB,QAAU2kB,GAGpB,OAFAtkB,KAAKsE,MAAQ,CAAA,EAAGzD,IAAIgC,KAAK7C,KAAK0hB,WAAAA,EAAc5b,SAAAA,GAAAA,CAAAA,OAAQkB,GAAclB,EAAAA,CAAAA,CAAAA,EAAAA,KAClE9F,KAAKglB,OAAO,CAAEC,mBAAmB,EAAA,CAAA,EAIrC,GAAIjlB,KAAKgL,WAAAA,EACL,MAAA,GAEJ,GAAI1L,OAAOqH,eACPD,GAAYpH,OAAOqH,aAGLc,GAAAA,WAAa,GAAKf,GAAU2b,WAAW/f,UAAY,EAAG,CAehE,IAdAmE,GAAQC,GAAUE,WAAW,CAAGse,EAAAA,WAAAA,GAC1Bvd,SAAAA,EACNlB,EAAAA,GAAM4U,SAAS3U,GAAUye,UAAW,CAAA,EAIpChB,IAFAF,GAAYxd,GAAM7D,SAAWG,EAAAA,MAAM,EAAG0D,GAAM2e,SAAAA,GAEZtiB,MAAM+L,GAAGtG,OAAAA,EAAS5I,OAAS,GAE3DukB,GAAQD,GAAUC,MAAOrV,GAAGtG,OAAAA,KAIxBpC,GAAM8d,GAAUlhB,MAAOkhB,GAAUoB,YAAYnB,GAAMA,GAAMvkB,OAAO,CAAA,CAAA,CAAA,GAEhEwG,GAAK,CAUL,GATAnG,KAAK0O,MAAMyB,QAAQC,UAAY,GAC/BpQ,KAAK0O,MAAMvI,IAAM,CACbmf,OAASnf,GAAI+d,MAAMrV,GAAGtG,OAAAA,EAAS,CAAA,EAC/BjE,MAAS6B,GAAIzE,QAAQmN,GAAGtG,QAAS,EAAA,CAAA,EAErCvI,KAAK0O,MAAMvI,IAAIiS,WAAa1R,GAAU0R,WAAapY,KAAK0O,MAAMvI,IAAI7B,MAAM3E,OAExE0kB,GAAkBrkB,KAAK0O,MAAMvI,IAAI7B,MAAM4f,MAAMrV,GAAGvG,UAO5C,EAAA,OAJAtI,KAAK0O,MAAMvI,IAAI7B,MAAQtE,KAAK0O,MAAMvI,IAAI7B,MAAM5C,QAAQmN,GAAGvG,WAAY,EAAA,EACnEtI,KAAK0O,MAAMvI,IAAImC,WAAa+b,GAAgB,CAAA,EAC5CrkB,KAAK6Q,QAAQ7Q,KAAK0O,MAAMvI,IAAI7B,MAAOuK,GAAGzD,SAASsB,aAAAA,EAAAA,KAC/C1M,KAAKoL,SAAS8E,KAAAA,EAIlBwT,GAAkB1jB,KAAK0O,MAAMvI,IAAI7B,MAAM3E,QAAUkP,GAAGzD,SAASf,QAU7D,GAAA,CAEI+Z,IADAA,GAAkBpkB,KAAK0O,MAAMyJ,YAAYnY,KAAK0O,MAAMvI,IAAIiS,UAAAA,GACtBkN,QAAYtlB,KAAK0O,MAAMvI,IAAImf,QAC3ClB,GAAgB9f,MAAM,CAAA,GAAMtE,KAAK0O,MAAMvI,IAAI7B,MAAM,CAG/DtE,EAAAA,KAAK0O,MAAMyJ,YAAYnY,KAAK0O,MAAMvI,IAAIiS,UAAAA,GAAAA,CAAgBpY,KAAK0O,MAAMvI,IAAI7B,OAAAA,OAC9DtE,KAAK0O,MAAMyJ,YAAYnY,KAAK0O,MAAMvI,IAAIiS,UAAAA,CAAAA,MAE/CrT,CAAK,EAKPqf,IAAmBD,GAAsBnkB,KAAK0O,MAAMxE,QAAQia,uBAC5DT,GAAkB,GAAA,MAItB1jB,KAAK0O,MAAMyJ,YAAc,CAAA,EAG7BnY,KAAK0O,MAAMxE,QAAQia,oBAAsBA,EAC7C,CAOJ/S,WAAW,UACPzB,CAAAA,GAAKqV,OAAO,CAACC,mBAAAA,EAAmB,CAAA,EAChCtV,GAAKkC,QAAQ,QAAS7O,GAAO,CAAA,EAAI2M,GAAKjB,MAAMvI,IAAK,CAAC0a,YAAYlR,GAAKnC,IAAI9C,MAAMmW,WAAAA,CAAAA,CAAAA,EAEzElR,GAAKjB,MAAMvI,KACXwJ,GAAKvE,SAASsY,GAAkB,OAAS,MAAA,EAAQ/T,GAAKjB,MAAMvI,IAAI7B,KAAAA,CACrE,EAAA,EAAA,CACP,EAEAihB,UAAAA,SAAUvmB,GAAAA,CACN,IAAI2Q,GAAQ3P,KAEZoR,WAAW,UAAA,CACPzB,GAAM5B,OAAOpF,UAAU6a,QAAQ3gB,KAAK8M,GAAO3Q,EAAAA,CAC/C,CACJ,CAAA,EAEA2gB,0BAAAA,UAGS3f,CAAAA,KAAKwN,IAAIuQ,cAAczW,YAAatH,KAAKwlB,QAG1CxlB,EAAAA,KAAKwN,IAAIuQ,cAAczZ,OAAStE,KAAKwN,IAAIuQ,cAAc0H,aACvDzlB,KAAK0lB,mBAAAA,CACb,EAEAxF,gBAAAA,SAAgBlhB,GAAAA,CACRA,GAAEuS,QAAUvR,KAAKwN,IAAIwD,OAAUhR,KAAKwN,IAAIwD,MAAMhL,SAAShH,GAAEuS,MAAAA,IACzDvR,KAAK6T,iBAAiB,EAAA,EACtB7T,KAAK0O,MAAMC,SAAAA,GAGP3P,GAAEuS,OAAOlL,QAAQ,mBAAwBrH,GAAAA,GAAEuS,OAAOlL,QAAQ,mBAAA,EAAqBoH,UAAYzN,MAC3FA,KAAKoL,SAAS8E,KAE1B,EAAA,EAEAkO,aAAAA,SAAapf,GAAAA,CACT,IAAI6P,GAAK7O,KAAKiG,SACVgB,GAASjI,GAAEuS,OAAOlL,QAAQ,IAAMwI,GAAG3I,WAAWC,GAAAA,EAC9Cwf,GAAU3mB,GAAEuS,SAAWvR,KAAKwN,IAAIwD,MAChC4U,GAAAA,CAAiB,IAAIjF,KAAS3gB,KAAK0O,MAAMC,SAE7C,GAAIgX,IAAW9W,GAAGO,MAAQ,SAElBpP,KAAKwN,IAAI9C,MAAMC,MAAAA,MAFvB,CAMK,GAAI3L,CAAAA,GAAEuS,OAAOxL,UAAUC,SAAS6I,GAAG3I,WAAW2F,IAAAA,EAK9C,OAAI5E,IAAWjH,CAAAA,KAAK0O,MAAM4B,SAC3BtQ,KAAK6R,QAAQ,QAAS,CAAE1L,IAAIc,GAAQmc,MAAMpjB,KAAK6lB,aAAa5e,EAAAA,EAASC,KAAKF,GAAcC,EAAAA,EAASqM,MAAMtU,EAEnF,CAAA,EAAA,KAAhB6P,GAAGjF,WAAa,GAAKiF,GAAGjF,SAASC,SAAW,GAAKgF,GAAGO,MAAQ,UAC5DpP,KAAK+N,OAAOpF,UAAU2V,mBAAmBzb,KAAK7C,KAAMhB,EAAAA,IAAAA,KAMnDA,GAAEuS,QAAUvR,KAAKwN,IAAI9C,QACtBmE,GAAGO,MAAQ,OAGXpP,KAAK8lB,yBAGLF,EAAAA,GAAgB,KAAA,CAAQ/W,GAAGzF,WACvBpJ,KAAK0O,MAAMtD,SAASwM,QACpB5X,KAAKoL,SAAS8E,KAAAA,EACTrB,GAAGzD,SAASf,UAAY,GAAKwE,GAAGO,MAAQ,OAC7CpP,KAAKoL,SAAS2L,KAAK/W,KAAKsE,MAAM3E,OAAS,GAAA,MAAKqE,EAKpD6K,GAAGO,MAAQ,UAAYP,GAAGzD,SAASf,UAAY,GAAMrK,KAAK0O,MAAMtD,SAASwM,UACzE5X,KAAK+N,OAAOpF,UAAU2V,mBAAmBzb,KAAK7C,KAAM6N,GAAAA,SAAAA,GAAAA,CAAAA,QAAAA,GAAAA,EAAAA,GAAAA,UAAAA,OAAAA,KAAAA,CAAAA,IAAAA,GAAAA,UAAAA,EAAAA,GAAAA,KAAAA,UAAAA,EAAAA,EAAAA,CAAAA,EAAAA,GAAAA,OAAAA,KAAAA,EAAAA,EAAAA,OAAAA,OAAAA,uBAAAA,aAAAA,GAAAA,GAAAA,OAAAA,OAAAA,sBAAAA,EAAAA,EAAAA,OAAAA,SAAAA,GAAAA,CAAAA,OAAAA,OAAAA,yBAAAA,GAAAA,EAAAA,EAAAA,UAAAA,CAAAA,CAAAA,GAAAA,GAAAA,QAAAA,SAAAA,GAAAA,CAAAA,GAAAA,GAAAA,GAAAA,GAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,OAAAA,EAAAA,EAAI7O,CAAAA,EAAAA,EAAAA,EAAAA,CAAGuS,OAAQvR,KAAK0hB,WAAAA,EAAa,CAAA,CAAA,CAAA,CAAA,EAAA,CAEpF7S,GAAG1F,WAAanJ,KAAKoL,SAAS2L,KAAAA,IAjC/B/W,KAAKmR,WAAYnS,GAAEuS,OAAOjK,UA4B9B,CAAA,CAOJ,EAGAkX,QAAAA,SAAQxf,GAAAA,CAAAA,IAAAA,GAAAA,KACJA,GAAEyQ,eAAAA,EAEF,IAAI8U,GAQAwB,GAAeC,GAPfnX,GAAK7O,KAAKiG,SAGd,GAF4B4I,GAAGO,MAAQ,UAAYP,GAAG3F,kBAAAA,CAEvB2F,GAAG1F,UAC9B,MAAA,GAKA0F,GAAG4I,WAGPsO,GAAgB/mB,GAAE+mB,eAAiBzmB,OAAOymB,cAC1CC,GAAaD,GAAcE,QAAQ,MAAA,EAEnCpX,GAAGhC,MAAMI,YAAYjO,GAAG,CAACsQ,OAAOtP,KAAMgmB,WAAAA,GAAYD,cAAAA,EAAAA,CAAAA,EAC7CxW,KAAKC,SAAAA,GAAAA,CACEA,KADFA,SAEEA,GAASwW,IAETxW,KACAG,GAAKpJ,cAAciJ,GAAQlQ,OAAOqH,aAAAA,EAAeC,WAAW,CAAA,CAAA,EAExD+I,GAAK1J,SAASmJ,MAAQ,MACtBO,GAAK5B,OAAOpF,UAAU8a,eAAe5gB,KAAW7D,GAAAA,EAG3C2Q,EAAAA,GAAK1J,SAAS0D,YACnB4a,GAAY5U,GAAKkB,QAAQlB,GAAKjB,MAAMoC,UAAYtB,GAAAA,EAAQ,GAIxDG,GAAKjB,MAAMoC,UAAYtB,GACvBG,GAAKvE,SAAS2L,KAAKvH,EAAAA,IAI3BG,GAAKkC,QAAQ,QAAS,CAACyB,MAAOtU,GAAGgnB,WAAAA,GAAYD,cAAAA,GAAexB,UAAAA,EAAAA,CAAAA,CAAAA,CAAAA,EAE/DxT,MAAMhM,SAAAA,GAAAA,CAAOA,OAAAA,EAAAA,CAAAA,EACtB,EAEA2Z,OAAAA,SAAO1f,GACHA,CAAAA,GAAEyQ,eAAAA,CACN,EAEAyW,eAAAA,SAAgBC,GAAannB,GAAAA,CAKA,IAAAonB,GAJrBnf,GAASkf,GAAY9f,QAAQ,IAAMrG,KAAKiG,SAASC,WAAWC,GAAAA,EAC5DkgB,GAAYrmB,KAAK6lB,aAAa5e,EAC9ByJ,EAAAA,GAAU1J,GAAcC,EACxBqf,EAAAA,GAAYtmB,KAAK0K,MAAMvF,UAAUtC,KAAK7C,KAAMmmB,EAAAA,EAC5CI,IAAsBC,GAADJ,GAAA,CAAA,EAAEpmB,KAAKiG,SAASuC,YAAc8d,EAAAA,EAAWG,GAAzCL,GAAyCK,UAAS/V,GAAQ+V,OAA1DL,EAAAA,IACrBrC,GAAU/jB,KAAK6jB,YAAY0C,EAAAA,EACdvmB,KAAK0mB,sBAAsB1jB,GAAO0N,GAAS6V,EAAAA,CAAAA,GAGzCJ,GAAYQ,kBAH6BJ,KAIxDxC,GAAAA,IAEJ9c,GAAOlB,UAAUsS,OAAOrY,KAAKiG,SAASC,WAAW2E,WAAYkZ,KAAZlZ,EACjD6F,EAAAA,GAAQkD,UAAYmQ,GAEpB9c,GAAOwV,MAAQsH,KAARtH,GACD/L,GAAQ+L,OAAS/L,GAAQpM,MACzByf,GAGFuC,GAAU3mB,QAAUK,KAAKiG,SAASmF,SAASf,UAGvCrK,KAAK0O,MAAM4B,UACXtQ,KAAK0O,MAAM4B,QAAQhM,MAAQgiB,IAC/BtmB,KAAKoL,SAAS2L,KAAKuP,EAGvBtmB,GAAAA,KAAK6R,QAAQ,aAAc,CACvB1L,IAAOc,GACPmc,MAAOiD,GACPnf,KAAOlE,GAAO,CAAI,EAAAhD,KAAKsE,MAAM+hB,EAAY,EAAA,CAACO,SAASN,EACnDhT,CAAAA,EAAAA,MAAOtU,EAAAA,CAAAA,CAEf,EAEA6nB,eAAAA,SAAgB5f,GAAQjI,GAAAA,CAEpB,IACIgnB,IADgBhnB,GAAE+mB,eAAiBzmB,OAAOymB,eACfE,QAAQ,MAEvCjnB,EAAAA,GAAEyQ,eAAAA,EAEF,IAAIqX,GAAUvgB,GAAcyf,EAC5BhmB,EAAAA,KAAK8kB,mBAAAA,GAA0BgC,EAAAA,CACnC,EAEAC,eAAAA,SAAgB9f,GAAQjI,GACpBgB,CAAAA,KAAK+N,OAAOpF,UAAUyV,aAAavb,KAAK7C,KAAMhB,EAAAA,CAClD,EAEAgoB,eAAAA,SAAgB/f,GAAAA,CACZjH,KAAK0O,MAAM4B,QAAU,CACjBU,MAAO/J,GACPyD,MAAOzD,GAAO8H,cAAc,mBAEpC,CAAA,CAAA,EAEAkY,cAAAA,SAAed,GAAannB,GAAAA,CAExB,IAAIkoB,GAAyBrhB,GAAUhD,KAAK7C,KAAMhB,GAAEiiB,aAIpD,EAAA,GAAIjhB,KAAKiG,SAASmJ,MAAQ,UAAY8X,IAA0BloB,GAAEiiB,cAAcjb,SAAShH,GAAEuS,MAAAA,EACvFvR,KAAKoL,SAAS8E,KAAAA,UAMblQ,KAAK0O,MAAM4B,UAGXtQ,KAAK0O,MAAMC,UACZ3O,KAAK6T,iBAAAA,EAKJ7T,KAAKwN,IAAIwD,MAAMhL,SAASmgB,EAAAA,GAA7B,CAMyB,IAAAC,GAIrBpb,GACAmc,GATAtY,GAAe7O,KAAKiG,SACpBgB,GAAekf,GAAY9f,QAAQ,IAAMwI,GAAG3I,WAAWC,GAAAA,EACvDuK,GAAe1J,GAAcC,EAAAA,EAC7Bqf,GAAetmB,KAAK0K,MAAMvF,UAAUtC,KAAK7C,KAAMmmB,EAAAA,EAC/CI,IAAsBC,GAADJ,GAAC,CAAA,EAACvX,GAAGrG,YAAc8d,EAAAA,EAAWG,GAA9BL,GAA8BK,UAAS/V,GAAQ+V,OAA/CL,EAAAA,IACrBgB,GAAe1W,GAAQ2W,eACvBC,GAAetnB,KAAK0mB,sBAAsB1jB,GAAO0N,GAAS6V,EAAAA,CAAAA,EAC1DxC,GAAe/jB,KAAK6jB,YAAY0C,EAAAA,EAIpC,GAAKD,GAML,GAAKgB,GAAL,CAaI,IAAAC,GAgBJ,GArBAvc,GAAahL,KAAKgL,WAAAA,EAElBmc,GAAankB,GACT,CAAA,EACAokB,IAEIZ,GADJe,GACI,CAAA,EAAC1Y,GAAGrG,YAAcxI,KAAKO,KAAK+lB,EAC5B1S,CAAAA,EAAAA,GAFJ2T,GAEI3T,YAAWmQ,EAAAA,EAFfwD,GAAAA,EAOJ1Y,GAAG9E,aAAalH,KAAK7C,KAAMmnB,GAAYC,EAAAA,GAOvCrD,IAAAA,CAAY/Y,IAAcoc,GAAaxT,YAA3B5I,KAAkDhL,KAAK6jB,YAAYsD,EAAAA,KAPxCC,GASjB,CAIlB,GAHApnB,KAAK6R,QAAQ,UAAW,CAAE3K,KAAKigB,GAAYhhB,IAAIc,GAAQugB,QAAQzD,EAG3DlV,CAAAA,EAAAA,GAAGjF,SAASE,YAAc,OAE1B+E,GAAGxF,gBACH8d,GAAWvT,UAAYmQ,GAGvBoD,GAAaC,EAAAA,MAGZvY,GAAGxF,kBAAAA,OAED8d,GAAW1K,MAAAA,OACX0K,GAAW,cACXA,EAAAA,OAAAA,GAAWzK,OAKtB1c,KAAK2T,cAAc1M,GAAQkgB,EAhD3B,CAAA,MAFInnB,KAAK2T,cAAc1M,GAAQmgB,EAAAA,OAN3BpnB,KAAK2T,cAAc1M,EAAAA,CAdqB,CAuEhD,EAEAwgB,iBAAAA,SAAiBzoB,GAAGiI,GAAAA,CAEhB,GAAIjH,CAAAA,KAAK0O,MAAME,UAKf,OAFA5O,KAAK6R,QAAQ,eAAgB,CAACyB,MAAMtU,EAAAA,CAAAA,EAE5BA,GAAEuE,IACN,CAAA,IAAK,MACL,IAAK,SACDvD,KAAK0O,MAAM4B,QAAAA,GACgBrJ,GAAOG,gBAAgBigB,eAAe/iB,MAK7D2C,GAAOK,WAAW8R,aAAanS,GAAOG,gBAAgBsgB,eAAgBzgB,EAAAA,EAEtEA,GAAO8L,OAEX,EAAA,MAEJ,IAAK,QACL,IAAK,MACD/T,GAAEyQ,eAAAA,EAOF2B,WAAW,UAAA,CAAA,OAAMpS,GAAEuS,OAAO+R,KAAAA,CAAQqE,EALN,CAQxC,CAAA,CAAA,EAEArJ,mBAAAA,SAAmBtf,GAAAA,CACf,IAGI4oB,GACA7F,GAJA9a,GAASjI,GAAEuS,OAAOlL,QAAQ,IAAMrG,KAAKiG,SAASC,WAAWC,GAAAA,EACzDuK,GAAU1J,GAAcC,EAAAA,EACxB4H,GAAK7O,KAAKiG,SAITgB,IAAUyJ,GAAQmX,WAAlB5gB,KAEL2gB,GAAe3gB,GAAOlB,UAAUC,SAAShG,KAAKiG,SAASC,WAAW6F,UAAAA,EAClEgW,GAAiB9a,GAAO+a,aAAa,UAAA,EAEhCnT,GAAG4I,UAAamQ,IAAiB7F,IAAkB/hB,CAAAA,KAAKiG,SAAS2D,UAAYiF,CAAAA,GAAG1F,YACjFnJ,KAAK+N,OAAOpF,UAAUqe,eAAenkB,KAAK7C,KAAMiH,EAChDjH,EAAAA,KAAKqR,QAAQpK,EAGjBjH,GAAAA,KAAK6T,iBAAAA,EAEU,EAAXhF,GAAGO,MAAQ,UACXpP,KAAK6R,QAAQ,WAAY,CAAE1L,IAAIc,GAAQmc,MAAMpjB,KAAK6lB,aAAa5e,EAAAA,EAASC,KAAKF,GAAcC,EAAAA,CAAAA,CAAAA,EACnG,EAMAgY,iBAAAA,SAAiB6I,GAAAA,CAAAA,IAAAA,GAAAA,KAEbA,GAAE7f,QAAQ8f,SAAAA,GAENA,CAAAA,GAAOC,WAAW/f,QAAQggB,SAAAA,GAAAA,CAEtB,GAAIA,GAAUC,WAAa,kBACvBD,GAAUE,YAAY3mB,SAASC,cAAc,IAAA,CAAA,UAIxCwmB,GAAU3lB,UAAY,GAAK2lB,GAAUlZ,cAAcY,GAAK1J,SAASC,WAAWI,WAAc,EAAA,CAAA,IAQ/F2hB,GAPIG,GAAc5mB,SAASqF,eAAe,EAAA,EAEtCohB,GAAUpD,WAAW,CAAA,EAAGviB,UAAY,GAAK2lB,GAAU/f,gBAAgB+a,UAAY,OAC/EmF,GAAe5mB,SAASqF,eAAe;CAAA,IAI3CohB,GAAAA,IAAUE,YAAVF,MAAAA,GAAsBhoB,GAAG,CAACmoB,EAAAA,EAADnS,OAAchW,GAAIA,GAAGgoB,GAAUpD,UAAY9hB,EAAAA,MAAM,EAAA,EAC1EsE,CAAAA,CAAAA,CAAAA,CAAAA,EAAAA,GAAoB+gB,EAAAA,CACxB,SAGSviB,GAAUhD,KAAI8M,GAAOsY,EAAAA,EAAY,CAClCA,IAAAA,GAIJ,KAJIA,GAAAA,GAAU/f,mBAAV+f,MAAAA,KAAU/f,OAAV+f,OAAAA,GAA2B3lB,WAAY,GAAM2lB,GAAU/f,gBAAgB2Y,aACvEoH,GAAU/f,gBAAgB6K,OAAAA,EAG1BkV,GAAU/f,iBAAmB+f,GAAU/f,gBAAgB+a,UAAY,KAAM,CAEzEgF,GAAU/f,gBAAgBigB,YAAY;OAItC,EAAA,QAFIE,GAAWJ,GAAU1gB,YAAa+gB,GAAoB,GAEnDD,IACHC,IAAqBD,GAASxH,YAC9BwH,GAAWA,GAAS9gB,YAIxB+gB,GAAkB/nB,KAAAA,GAAU8G,GAAoB4gB,GAAU/f,eAAAA,CAAAA,MAKpD+f,GAAU/f,iBAAAA,CAAmBlB,GAAcihB,GAAU/f,eAAAA,GAC3D+f,GAAU7f,OJ7mCT,QAAA,CI+mCT,CACJ,CAEA2f,EAAAA,GAAOQ,aAAatgB,QAAQugB,SAAAA,GAAAA,CAEpBA,IAAeA,GAAYvF,UAAY,MAAQpd,GAAUhD,KAAAA,GAAW4lB,EAAAA,IACpE9Y,GAAKwB,WAAWsX,EAAAA,EAChB9Y,GAAKmW,yBAEb,EAAA,CAAA,CACJ,CAAA,EAOA,IAAI2C,GAAiBzoB,KAAKwN,IAAI9C,MAAMqa,UAEhC0D,IAAkBA,GAAe5F,WAAa,IAC9C4F,GAAe1V,OAAAA,EAGd0V,IAAkBA,GAAexF,UAAY,MAC9CjjB,KAAKwN,IAAI9C,MAAMmO,YAAYrX,SAASC,cAAc,IAAA,CAAA,CAE1D,CAAA,CAAA,EAAA,SAAAinB,GAAAzpB,GAAAD,GAAA,EAAAA,IAAA,MAAAA,GAAAC,GAAA,UAAAD,GAAAC,GAAA,QAAA,QAAAC,GAAA,EAAAC,GAAA,IAAA,MAAAH,EAAA,EAAAE,GAAAF,GAAAE,KAAAC,GAAAD,EAAA,EAAAD,GAAAC,EAAA,EAAA,OAAAC,EAAA,CAAA,SAAAwpB,GAAA1pB,GAAAD,GAAAE,GAAA,CAAA,OAAAF,MAAAC,GAAA,OAAA,eAAAA,GAAAD,GAAA,CAAA,MAAAE,GAAA,WAAA,GAAA,aAAA,GAAA,SAAA,EAAA,CAAA,EAAAD,GAAAD,EAAA,EAAAE,GAAAD,EAAA,CAAA,SAAA2pB,GAAA3pB,GAAAD,GAAA,CAAA,OAAAA,IAAA,MAAA,OAAA,OAAA,KAAAA,GAAA,OAAA,WAAA,EAAA,CAAA,CAAAA,GAAA,OAAA,WAAA,EAAAC,EAAA,EAAAA,cAAAD,EAAA,CAAA,SAAA6pB,GAAA5pB,GAAA,CAAA,QAAAD,GAAA,EAAAA,GAAA,UAAA,OAAAA,KAAA,CAAA,IAAAE,GAAA,UAAAF,EAAA,GAAA,KAAA,UAAAA,EAAA,EAAA,CAAA,EAAAG,GAAA,OAAA,KAAAD,EAAA,EAAA,OAAA,OAAA,uBAAA,aAAAC,GAAAA,GAAA,OAAA,OAAA,sBAAAD,EAAA,EAAA,OAAA,SAAAD,GAAA,CAAA,OAAA,OAAA,yBAAAC,GAAAD,EAAA,EAAA,UAAA,CAAA,CAAA,GAAAE,GAAA,QAAA,SAAAH,GAAA,CAAA2pB,GAAA1pB,GAAAD,GAAAE,GAAAF,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA,OAAAC,EAAA,CAAA,SAAA6pB,GAAA7pB,GAAA,CAAA,OAAA,SAAAA,GAAA,CAAA,GAAA,MAAA,QAAAA,EAAA,EAAA,OAAAypB,GAAAzpB,EAAA,CAAA,EAAAA,EAAA,GAAA,SAAAA,GAAA,CAAA,GAAA,OAAA,OAAA,KAAAA,GAAA,OAAA,QAAA,GAAA,MAAAA,GAAA,YAAA,GAAA,KAAA,OAAA,MAAA,KAAAA,EAAA,CAAA,EAAAA,EAAA,GAAA,SAAAA,GAAAD,GAAA,CAAA,GAAAC,GAAA,IAAA,OAAAA,IAAA,SAAA,OAAAypB,GAAAzpB,GAAAD,EAAA,EAAA,IAAAE,GAAA,OAAA,UAAA,SAAA,KAAAD,EAAA,EAAA,MAAA,EAAA,EAAA,EAAA,GAAAC,KAAA,UAAAD,GAAA,cAAAC,GAAAD,GAAA,YAAA,MAAAC,KAAA,OAAAA,KAAA,MAAA,OAAA,MAAA,KAAAA,EAAA,EAAA,GAAAA,KAAA,aAAA,2CAAA,KAAAA,EAAA,EAAA,OAAAwpB,GAAAzpB,GAAAD,EAAA,EAAA,EAAAC,EAAA,GAAA,UAAA,CAAA,MAAA,IAAA,UAAA,uIAAA,CAAA,EAAA,CAAA,CK3nCR,SAAS8pB,GAAQre,GAAOzE,GAAAA,CACpB,GAAA,CAAKyE,GAAO,CACRtL,GAAOc,KAAK,0BAA2BwK,EAAAA,EAGvC,IAAMse,GAAe,IAAIC,MAAMjpB,KAAM,CAAEkpB,IAAAA,UAAAA,CAAO,OAAO,UAAMF,CAAAA,OAAAA,EAAAA,CAAa,CAAA,CAAA,EACxE,OAAOA,EACX,CAEA,GAAIte,GAAM+C,SAEN,OADArO,GAAOc,KAAK,iEAAkEwK,EACvEA,EAAAA,GAAM+C,SHtBW0b,IAAAA,GGyB5BnmB,GAAOhD,KC1BI,SAA0BopB,GAAAA,CAErC,IAAI7X,GAAS/P,SAASqF,eAAe,EAAA,EAEjCwiB,GAAmB,CAAA,EAEvB,SAASC,GAAUC,GAAIxb,GAAQgS,GACvBA,CAAAA,IACAhS,GAAOjL,MAAM,MAAA,EAAQmF,QAAQuhB,SAAAA,GAAAA,CAAMjY,OAAAA,GAAOgY,GAAK,eAAA,EAAiB1mB,KAAK0O,GAAQiY,GAAIzJ,EAAAA,CAAAA,CAAAA,CACzF,CAGA,MAAO,CAEH0J,yBAAAA,UACI/mB,CAAAA,OAAOgnB,QAAQL,EAAkBphB,EAAAA,QAAQ,SAAAuU,GAAAA,CAAAA,IAAAA,GAAAA,GAAAA,GAAAA,CAAAA,EAAEgN,GAAIG,GAAAA,CAAAA,EAAAA,GAAAA,CAAAA,EACrC1hB,QAAQ8X,SAAAA,GAAAA,CAAMuJ,OAAAA,GAAU,SAAUE,GAAIzJ,EAAAA,CAAAA,CAAAA,CAChD,CAAA,EAEAsJ,GAAmB,CAAA,CACvB,EAEAO,IAAAA,SAAI7b,GAAQgS,GAAAA,CAYR,OAXIhS,KACIgS,GACAuJ,GAAU,SAAUvb,GAAQgS,EAAAA,EAG5BhS,GAAOjL,MAAM,MAAA,EAAQmF,QAAQuhB,SAAAA,GAAAA,CACzBH,IAAAA,IAAAA,GAAAA,GAAiBG,EAAAA,KAAG,MAApBH,KAAiBG,QAAjBH,GAAsBphB,QAAQ8X,SAAAA,GAAAA,CAAMuJ,OAAAA,GAAU,SAAUE,GAAIzJ,EAAAA,CAAAA,CAAAA,EAAAA,OACrDsJ,GAAiBG,EAAAA,CAC5B,CAAA,GAGDxpB,IACX,EAEAwd,GAAAA,SAAGzP,GAAQgS,GAAAA,CAaP,OAZGA,IAAmB,OAANA,IAAM,aAElBhS,GAAOjL,MAAM,MAAQmF,EAAAA,QAAQuhB,SAAAA,GACrB3pB,CAAAA,MAAMe,QAAQyoB,GAAiBG,EAAAA,CAAAA,EAC/BH,GAAiBG,EAAI3kB,EAAAA,KAAKkb,EAAAA,EAE1BsJ,GAAiBG,EAAAA,EAAM,CAACzJ,EAChC,CAAA,CAAA,EAEAuJ,GAAU,MAAOvb,GAAQgS,EAAAA,GAGtB/f,IACX,EAEA6R,QAAAA,SAAQ6L,GAAWxW,GAAM2iB,GAAAA,CACrB,IAAI7qB,GAMJ,GAJA6qB,GAAOA,IAAQ,CACXC,UAAAA,EAGCpM,EAAAA,GAEL,GAAI0L,GAASnjB,SAAS4X,eACdH,IAAa,WAAWA,GAAY,aACxCI,OAAOsL,GAAS5b,IAAIuQ,aAAAA,EAAegM,eAAerM,GAAW,CAACxW,EAAAA,CAAAA,MAE9D,CACA,GAAA,CACI,IAAI8Z,GAA4B,OAAT9Z,IAAS,SAC1BA,GACA,CAAC5C,MAAM4C,EASb,EAAA,IAPA8Z,GAAY6I,GAAKC,UAAY9mB,GAAO,CAAA,EAAIge,EAAAA,EAAaA,IAC3C1R,OAAStP,KAEfkH,GAAKoM,QACL0N,GAAU1N,MAAQtT,KAAKgqB,WAAW9iB,GAAKoM,KAAAA,GAGnCyP,GAAJ7b,GAAgBxE,MAAAA,EAChB,QAASunB,MAAQ/iB,GACA6b,GAAV7b,GAAK+iB,EAAAA,EAAiBC,WACrBlJ,IAAAA,GAAUiJ,EAAAA,EAAQ/iB,GAAK+iB,EAAAA,GAEnCjrB,GAAI,IAAImrB,YAAYzM,GAAW,CAAC0M,OAASpJ,EAAAA,CAAAA,CAC7C,OACMjc,GAAAA,CAAM3F,GAAOc,KAAK6E,EAAAA,CAAK,CAE7BwM,GAAO8Y,cAAcrrB,EACzB,CAAA,CACJ,CAAA,CAER,EDlEiCgB,IAAAA,CAAAA,EAC7BA,KAAKsqB,UAAY,iBAAmBjlB,KAAKC,UAAUC,SAAAA,GAAAA,CAAe,aAAeF,KAAKC,UAAUC,SAChGvF,EAAAA,KAAK8f,KAAOxgB,OAAOkC,SAAS+oB,aAE5BtkB,GAAWA,IAAY,CAAA,EACvBjG,KAAKwqB,kBH9BuBrB,GG8BaljB,GAASkjB,GH9BhB5lB,SAAAA,GAAAA,CAElC,IACIknB,GADAC,GAAY,IAAInnB,GAIpB,GAFmBonB,aAAaC,QAAQ7O,GAAYoN,GAAK,KAP7C,CAAA,GAAA,EAUR,GAAKsB,CAAAA,GAAgBI,KAAKC,MAAMH,aAAa5O,GAAYoN,GAAKuB,EAAAA,CAAAA,CAAAA,MACxD3lB,CAAK,CAGf,OAAO0lB,EACX,GGmBIzqB,KAAK+qB,iBHjBuB5B,SAAAA,GAC5B,CAAA,OAAKA,IAGLwB,aAAaK,QAAQjP,GAAYoN,GAAK,KArB1B,CAAA,EAuBL,SAACjiB,GAAM3D,GAAAA,CACV,IAAImnB,GAAY,IAAInnB,GAChBknB,GAAgBI,KAAKI,UAAU/jB,EAAAA,EAE/BA,IAAQ3D,KACRonB,aAAaK,QAAQjP,GAAYoN,GAAKuB,GAAWD,EACjDJ,EAAAA,cAAe,IAAIa,MAAM,SAAA,CAAA,EAEjC,GAbiB,UAAA,CAAA,CAcrB,EGE6CjlB,GAASkjB,EAAAA,EAClDnpB,KAAKmrB,mBHDyBhC,SAAAA,GAAAA,CAAAA,OAAM5lB,SAAAA,GACpC,CAAA,IAAM6nB,GAAOrP,GAAY,IAAMoN,GAAK,IAGpC,GAAI5lB,GACAonB,aAAaU,WAAWD,GAAO7nB,EAI/B,MAAA,SAAQ0R,MAAK0V,aACL1V,GAAEnQ,SAASsmB,EAAAA,GACXT,aAAaU,WAAWpW,EAAAA,CAExC,CAAC,EGZgDhP,GAASkjB,EACtDnpB,EAAAA,KAAKsrB,cAAc5gB,GAAOzE,EAAAA,EAE1BjG,KAAK0O,MAAQ,CACToC,UAAW,GACXR,QAAAA,GACA1B,UAAW,GACXuB,QAAU,CAAC,EACXjG,QAAU,CAAC,EACXkB,SAAU,CAAC,EACX+M,YAAa,CAAA,CAAA,EAGjBnY,KAAKsE,MAAQ,CAAA,EAGbtE,KAAKoO,UAAY,CAAA,EAEjBpO,KAAKwN,IAAM,CAAA,EAEXxN,KAAKurB,MAAM7gB,EACX0C,EAAAA,GAAavK,KAAK7C,IAElBA,EAAAA,KAAKwrB,WAAAA,EACLxrB,KAAK0lB,mBAAAA,EAEL1lB,KAAK+N,OAAOsP,cAAcxa,KAAK7C,IAC/BA,EAAAA,KAAK+N,OAAOC,QAAQnL,KAAK7C,IAAAA,EACzB0K,GAAM+gB,WAAazrB,KAAKwN,IAAI9C,MAAMC,MAAAA,EAClCD,GAAM+C,SAAWzN,IACrB,CAEA+oB,GAAOpmB,UAAY,CACf0K,UAAAA,GACAhG,oBAAAA,GACAL,cAAAA,GACA0kB,QAAS,CAACvrB,QAAAA,GAASM,qBAAAA,GAAsBM,KAAAA,GAAMyB,SAAAA,GAAUV,UAAAA,GAAWS,WAAAA,GAAYS,OAAAA,GAAQU,kBAAAA,GAAmB8B,OAAAA,GAAQK,UAAAA,EAAAA,EAEnHyX,iBAAmB,CAAC,SAAU,MAAO,SAAU,UAAW,QAAS,QAAS,QAAS,UAAW,QAAS,OAAQ,aAAc,oBAAqB,eAAgB,aAAc,eAAgB,gBAAiB,gBAAiB,kBAAmB,mBAAoB,mBAAoB,iBAC/RqO,EAAAA,UAAW,CAAC,YAAa,YAAa,iBAAkB,iBAAkB,SAAA,EAE1EprB,KAAAA,SAAKqgB,GAAAA,CACD,OAAO5gB,KAAKiG,SAAS1F,MAAQqgB,IAAuB,OAARA,IAAQ,SAAWA,GAAKrgB,KAAAA,EAASqgB,EACjF,EAGA9e,UAAAA,GAEA0U,UAAAA,GAEAG,cAAAA,SAAciV,GAAU1kB,GAAAA,CAEpB,OAAOpF,IADP8pB,GAAW5rB,KAAKiG,SAASuQ,UAAUoV,EAAaA,GAAAA,IACrBnV,MAAMzW,KAAMkH,EAAAA,CAAAA,CAC3C,EAEA,IAAI8B,UAAW3E,GAAAA,CACX,IAAMzD,GAAUyD,IAAOxE,MAAMe,QAAQyD,EAAAA,EACrCrE,KAAKiG,SAAS+C,UAAYpI,GAAUyD,GAAM,CAAA,EAC1CrE,KAAK+qB,iBAAiBnqB,GAAUyD,GAAM,CAAA,EAAI,WAAA,CAC9C,EAEA,IAAA,WAAI2E,CACA,OAAOhJ,KAAKiG,SAAS+C,SACzB,EAEA,IAAA,UAAe0F,GAAAA,CACX1O,KAAKiG,SAASkD,UAAAA,CAAAA,CAAcuF,GAC5B1O,KAAK6rB,mBAAAA,CAAAA,CAAqBnd,EAAAA,CAC9B,EAEA,IAAA,WAAIvF,CACA,OAAOnJ,KAAKiG,SAASkD,SACzB,EAEA2iB,uBAAAA,SAAuB5lB,GAAAA,CAAAA,IAAAA,GAAAA,SAAAA,GAAAA,CAEf,IAAI6lB,GAAcxO,GAClB7a,OAAOspB,eAAe9lB,GAAY6lB,GAAc,WAAa,CACzD7C,IAAAA,UAAAA,CAAO,MAAO,IAAMlpB,KAAK+rB,EAAAA,EAAajpB,MAAM,GAAA,EAAK,CAAA,CAAG,CAE5D,CAAA,CAAA,EALA,QAASya,MAAQrX,GAAAA,GAAAA,EAAAA,CAMrB,EAEAolB,cAAAA,SAAe5gB,GAAOzE,GAAAA,CAAAA,IAqEWA,GAIFA,GAxE3BoC,GAASmO,UAAYxW,KAAKwW,UAE1B,IAMIyV,GAAiBjpB,GAAO,CAAA,EAAIqF,GAAWpC,GAASmJ,MAAQ,MANtC,CAClBhE,SAAU,CACNuB,SAAU,MAIoE,CAAA,EAAA,CAAA,CAAA,EAClFkC,GAAK7O,KAAKiG,SAAWjD,GAAO,CAAA,EAAIipB,GAAgBhmB,EAAAA,EA0CpD,GAxCA4I,GAAGwN,SAAW3R,GAAMsX,aAAa,UAAA,EACjCnT,GAAG4I,SAAW5I,GAAG4I,UAAY/M,GAAMsX,aAAa,UAAA,EAChDnT,GAAG0N,YAAcha,GAAWmI,GAAM4H,aAAa,aAAA,GAAkBzD,GAAG0N,aAAe,EAAA,EACnF1N,GAAGyN,SAAW5R,GAAMsX,aAAa,UAAA,EAEjChiB,KAAK8rB,uBAAuBjd,GAAG3I,UAAAA,EAE1B2I,GAAGzD,SAASmB,sBAFcrG,SAG3B2I,GAAGzD,SAASmB,oBAAsBsC,GAAG9F,YAErC/I,KAAK8f,OACLjR,GAAGzE,aAAe,IAEtB,CAAC,YAAa,WAAA,EAAanC,QAAQsV,SAAAA,GAAAA,CAC/B,IAAI2O,GAAUxhB,GAAM4H,aAAa,QAAUiL,EAAAA,EACvC2O,IAEIA,GADJA,GAAUA,GAAQppB,MAAM+L,GAAGvG,UAAAA,EACJzI,KACnBgP,IAAAA,GAAG0O,EAAAA,EAAQ2O,GAEvB,CAAA,EAGI,iBAAkBjmB,IAAazD,CAAAA,GAASyD,GAASmE,YACjDyE,IAAAA,GAAGzE,aAAe/B,GAAS+B,aAC3ByE,GAAGzE,aAAaC,QAAUpE,GAASmE,cAGnCyE,GAAGO,MAAQ,QACXP,GAAGtG,QAAUsG,GAAGtG,SAAW,IAC3BsG,GAAGzE,aAAaE,SAAAA,GAChBuE,GAAGvG,WAAarC,GAASqC,YAAc,KAKnCuG,GAAGrG,aAAAA,CAAgBqG,GAAGzD,SAASgB,WAAWtH,SAAS+J,GAAGrG,WAAAA,GACtDqG,GAAGzD,SAASgB,WAAWvH,KAAKgK,GAAGrG,WAAAA,GAGnCkC,GAAMnC,QACN,GAAA,CAAMsG,GAAGtG,QAAU,IAAI4jB,OAAOzhB,GAAMnC,OAAAA,CAAAA,MAC9BvJ,CAAG,CAGb,GAAI6P,GAAGvG,WAAY,CACfuG,GAAGud,YAAcvd,GAAGvG,WACpB,GAAA,CAAMuG,GAAGvG,WAAa,IAAI6jB,OAAOnsB,KAAKiG,SAASqC,WAAY,GAAA,CAAA,MACrDtJ,CAAG,CACb,CAEI6P,GAAGwN,WACHxN,GAAG1F,UAAAA,IAEPnJ,KAAKgc,MAAQqQ,GAAA,CAAA,EAAIrQ,GAAWnN,GAAGyd,OAAS,CAAA,CAGxB,GAAZzd,GAAIO,MAAQ,UAA8B,GAAjBnJ,GAAAA,GAASmF,YAAQ,MAAjBnF,KAASmF,SAATnF,GAAmBoE,UAAawE,GAAG1F,YAC5D0F,GAAGzD,SAASf,QAAU,GAG1BwE,GAAGzD,SAASwB,eAAe3G,GAAAA,GAASmF,YAAQ,MAAjBnF,KAASmF,OAATnF,OAAAA,GAAmB2G,eAAgBpL,SAASS,KAIvE,IAAIsqB,GAAqBvsB,KAAKwqB,iBAAiB,WAAA,EAE3C3qB,MAAMe,QAAQ2rB,EAAAA,IACdvsB,KAAKgJ,UAAYnJ,MAAMe,QAAQiO,GAAG7F,SAAAA,EAC5BtF,GAAkBmL,GAAG7F,UAAWujB,EAAAA,EAChCA,GACd,EAMA5P,cAAAA,SAAezV,GAAAA,CACX,IAAoD+N,GAAhDuX,GAAQxsB,KAAKysB,oBAAoBvlB,EAAAA,EAAO5F,GAAI,GAEhD,IAAK2T,MAAKuX,GACNlrB,IAAK,IAAM2T,IAAK/N,GAAK+N,EAAoB,IAAbjR,OAAa,KAAaiS,OAATuW,GAAMvX,EAAAA,EAAG,GAAA,EAAK,IAE/D,OAAO3T,EACX,EAKAmrB,oBAAAA,SAAqBvlB,GAEjB,CAAA,GAAA,CAAK1E,GAAS0E,EACV,EAAA,MAAO,GAEX,IAAiBwlB,GAAbC,GAAS,CAAID,EAEjB,IAAKA,MAAYxlB,GACTwlB,GAAS3pB,MAAM,EAAE,CAA0B,GAApB,MAAQ2pB,IAAY,SAAWxlB,GAAK1D,eAAekpB,EAAAA,GAAaxlB,GAAKwlB,EAAAA,IAAlBA,SAC1EC,GAAOD,EAAAA,EAAYnqB,GAAW2E,GAAKwlB,EAAAA,CAAAA,GAE3C,OAAOC,EACX,EAEA9U,kBAAAA,UACI,CAAA,IAAInR,GAAYpH,OAAOqH,aAAAA,EAGnBa,GAAM,CACN4a,aAAc1b,GAAU0b,aACxBC,WAAc3b,GAAU2b,WACxB5b,MAAcC,GAAUE,YAAcF,GAAUe,YAAcf,GAAUE,WAAW,CAAA,CAAA,EAIvF,OADA5G,KAAK0O,MAAMhI,UAAYc,GAChBA,EACX,EAMAgkB,WAAAA,UAAAA,CACI,IAawBhP,GAAElY,GAXViZ,GAFZqP,GAAYC,iBAAiB7sB,KAAKwN,IAAIwD,MAAO,IAYjDhR,EAAAA,KAAK8sB,QAAU,CACXC,mBAAoBvQ,GATxB,SAA8BnZ,GAAAA,CAC1B,GAAA,CAAKA,GAAI,MAAO,CAAA,EAEhB,IAAI2pB,IADJ3pB,GAAIA,GAAE9C,KAAAA,EAAOuC,MAAM,GAAA,EAAK,CAAA,GACVA,MAAM,MAAA,EAAQiT,OAAO5W,SAAAA,GAAAA,CAAGA,OAAAA,EAAAA,CAAAA,EAAG8tB,IAAAA,EAAM1sB,KAE/C,EAAA,MAAO,CAAC+D,MADKjB,CAAAA,GAAEP,MAAMkqB,EAAMjX,EAAAA,OAAO5W,SAAAA,GAAGA,CAAAA,OAAAA,EAAAA,CAAG,EAAA,CAAA,EAAGoB,KAAAA,EAC5BysB,KAAAA,EAAAA,CACnB,GARgBzP,GAW0F,sBAXlFqP,GAAUM,iBAAiB,KAAK3P,EAW9BjZ,EAAAA,EAAAA,GAAAA,GAAAA,MAAO0oB,GAAAA,MAAgB,IAAc,IAAR1oB,GAAeA,GAE1E,CAAA,EAMAinB,MAAAA,SAAO7gB,GAAAA,CACH,IAAI8C,GAAOxN,KAAKwN,IACZ2f,GAAeziB,GAAMrE,QAAQ,OAE7BrG,EAAAA,KAAKiG,SAASiE,QAAQkjB,YACtB5f,GAAIuQ,cAAgB,KACpBvQ,GAAIwD,MAAQtG,GACZ8C,GAAI9C,MAAQA,KAIZ8C,GAAIuQ,cAAgBrT,GACpB8C,GAAI6f,uBAAyB3iB,GAAM4iB,SACnC9f,GAAIwD,MAAQhR,KAAK2W,cAAc,UAAW,CAACjM,GAAO1K,KAAKiG,QAAAA,CAAAA,EACvDuH,GAAI9C,MAAQ8C,GAAIwD,MAAMjC,cAAc/O,KAAKiG,SAASC,WAAWqnB,aAAAA,EAC7D7iB,GAAMpD,WAAWkmB,aAAahgB,GAAIwD,MAAOtG,EAAAA,EACzCA,GAAM4iB,SAAAA,IAINH,IACAA,GAAa/Z,aAAa,MAAO,EAAA,CACzC,EAKAoS,QAAAA,UAAAA,CACIxlB,KAAK+N,OAAOqS,aAAavd,KAAK7C,IAC9BA,EAAAA,KAAKwN,IAAIwD,MAAM1J,WAAW4Q,YAAYlY,KAAKwN,IAAIwD,KAAAA,EAC/ChR,KAAKwN,IAAIuQ,cAAcuP,SAAWttB,KAAKwN,IAAI6f,uBACpCrtB,OAAAA,KAAKwN,IAAIuQ,cAActQ,SAC9BzN,KAAKoL,SAAS8E,KAAAA,EAAK,EACnBlQ,KAAKypB,yBAAAA,EACL/R,aAAa1X,KAAK2X,+BAAAA,EAClB6H,cAAcxf,KAAKoO,UAAUuP,KAAK8B,kCACtC,CAAA,EAKAiG,mBAAAA,SAAoBphB,GAAAA,CAChB,IAAIygB,GACAlW,GAAK7O,KAAKiG,SAMd,GAFAjG,KAAK0O,MAAM+e,iBAAAA,GAEPnpB,KAF0B,OAEL,CACrB,IAAMopB,GAAyB1tB,KAAKwqB,iBAAiB,OAAA,EAKjDlmB,GADAopB,IAA2B1tB,CAAAA,KAAKwN,IAAIuQ,cAAczZ,MAC1CopB,GAEA7e,GAAG3E,QAAQkjB,WAAaptB,KAAKwN,IAAI9C,MAAMmW,YAAc7gB,KAAKwN,IAAIuQ,cAAczZ,KAC5F,CAIA,GAFAtE,KAAKge,cAAAA,EAED1Z,GACA,GAAIuK,GAAGO,MAAQ,MACXpP,KAAK2tB,aAAarpB,EAAAA,GAElBygB,GAAY/kB,KAAKwN,IAAI9C,MAAMqa,YAGTA,GAAU6I,SAAW,MACnC5tB,KAAKwN,IAAI9C,MAAMmjB,mBAAmB,YAAa,MAGnD,MAAA,CACA,GAAA,CACyB9K,GAAjB8H,KAAKC,MAAMxmB,EAAkBzE,EAAAA,KAAAA,IAC7ByE,GAAQumB,KAAKC,MAAMxmB,EAAAA,EAAAA,MAErBS,CAAK,CACX/E,KAAK6Q,QAAQvM,GAAO,EAAA,EAAM2D,QAAQ9B,SAAAA,GAAAA,CAAAA,OAAOA,IAAOA,GAAIJ,UAAUoN,IAAItE,GAAG3I,WAAW0E,cAAAA,CAAAA,CAAAA,CACpF,MAIA5K,KAAKqhB,WAAAA,EAETrhB,KAAK0O,MAAMof,0BAA4Bjf,GAAG3E,QAAQkjB,WAAa,GAAKptB,KAAKwN,IAAIuQ,cAAczZ,KAC/F,EAEA0lB,WAAAA,SAAWhrB,GAAAA,CACP,IAAI+uB,GAAc,CAAA,EAClB,QAASjtB,MAAK9B,GACN8B,IAAK,SACLitB,GAAYjtB,EAAAA,EAAK9B,GAAE8B,EAC3B,GAAA,OAAOitB,EACX,EAOAvM,QAAAA,SAAShK,GAIL,CAAA,OAHAxX,KAAK0O,MAAM8I,UAAYA,GAEvBxX,KAAKwN,IAAIwD,MAAMjL,UAAUyR,GAAY,MAAQ,QAAUxX,EAAAA,KAAKiG,SAASC,WAAW6E,YAAAA,EACzE/K,IACX,EAMA8L,WAAAA,SAAY7E,GAAQuQ,GAAAA,CAIhB,OAHIvQ,IAEAA,GAAOlB,UAAUyR,GAAY,MAAQ,QAAA,EAAUxX,KAAKiG,SAASC,WAAW4F,UACrE9L,EAAAA,IACX,EAOAguB,YAAAA,SAAanb,GAAWob,GACI,CAAA,OAAbpb,IAAa,UACpB7S,KAAKwN,IAAIwD,MAAMjL,UAAUsS,OAAOxF,GAAWob,EACnD,CAAA,EAEAnK,sBAAAA,SAAuBF,GAAAA,CACnB,IAAIG,GAAUH,KAAe,IAAQA,KAAvBA,OAAuBA,CAEhC5jB,KAAKiG,SAASqW,UAAYsH,IAAcA,KAAe5jB,KAAKgc,MAAM9Q,QACnE6Y,GAAAA,IAEJ/jB,KAAKguB,YAAYhuB,KAAKiG,SAASC,WAAW2E,WAAAA,CAAakZ,EACvD/jB,EAAAA,KAAKwN,IAAIwD,MAAMyL,MAAQsH,GAAU,GAAKH,EAC1C,EAEA/P,iBAAAA,SAAkBoa,GAAAA,CACdjuB,KAAKguB,YAAYhuB,KAAKiG,SAASC,WAAWyE,MAAAA,CAAAA,CAASsjB,EACvD,CAAA,EAMAC,eAAAA,SAAeC,GAAAA,CAAAA,IAAAA,GAAAA,KACX,CAAC,OAAQ,MAAA,EAAQlmB,QAAQ/G,SAAAA,GAAAA,CAAAA,OAAKyO,GAAKnC,IAAI9C,MAAM0I,aAAa,GAAK6C,OAAF/U,GAAE,cAAA,EAAeitB,EAAAA,CAAAA,CAClF,CAAA,EAEA7M,mBLpaG,UACH,CAAA,GAAA,CAAIthB,KAAKiG,SAASiE,QAAQkjB,WAA1B,CAEA,IAAIzJ,GAAW3jB,KAAKwN,IAAIuQ,cACpBqQ,GAAUpuB,KAAK0O,MAAMof,4BAA8BnK,GAASrf,MAC5DgP,GAAQ,IAAI6W,YAAY,SAAU,CAACkE,QAAAA,EAElCD,CAAAA,EAAAA,KAGLpuB,KAAK0O,MAAMof,0BAA4BnK,GAASrf,MAGhDgP,GAAMgb,UAAAA,GACF3K,GAAS4K,eACT5K,GAAS4K,cAAcC,SAASzc,KAAK0c,OAAAA,CAAAA,EAEzC9K,GAAS0G,cAAc/W,EAAAA,EAGvBtT,KAAK6R,QAAQ,SAAU7R,KAAK0O,MAAMof,yBAAAA,EAGlCnK,GAASrf,MAAQtE,KAAK0O,MAAMof,0BAtBW,CAuB3C,EK8YI/f,OAAAA,GAEA+X,yBAAAA,UASA,CAAA,EAMAhB,mBAAAA,SAAoB4J,GAAO5oB,GAAAA,CACvB,GAAKA,GAAL,CAEA4oB,GAAwB,OAATA,IAAS,SAAWA,GAAUA,CAAAA,CAAAA,GAC7C5oB,GAAOA,GAAKif,WAAajf,GACzB,IAAI0B,GAAMhG,SAASmF,aAGnB,EAAA,GAAIa,GAAAA,GAAI2d,UAAqBnC,OAAAA,GAAAA,CAAYhjB,KAAKwN,IAAI9C,MAAM1E,SAASwB,GAAI2d,SAAAA,EACjE,MAAO,GAGX,GAAA,CACQ3d,GAAIC,YAAc,GAClB,CAAC,QAAS,KAAA,EAAOQ,QAAQwJ,SAAAA,GAAAA,CAAAA,OACrBjK,GAAIZ,WAAW,CAAG,EAAA,MAAQ6K,EAAAA,EAAK3L,GAAM4oB,IAAgB5oB,GAAKnG,MAAAA,CAAAA,CAAAA,CAGtE,OAAQoF,GAAAA,CACJhF,QAAQG,KAAK6E,EAAAA,CACjB,CAnBY,CAoBhB,EAEAoF,eAAAA,SAAgBlD,GAAQ6f,GAAAA,CAGpB,GAFAA,GAAUA,IAAW9mB,KAAKiG,SAASiE,QAAQC,eAEtClD,IAAWA,GAAOK,YAAewf,GAOtC,OALAA,GAA4B,OAAXA,IAAW,SACtBtlB,SAASqF,eAAeigB,EAAAA,EACxBA,GAEN7f,GAAOK,WAAWkmB,aAAa1G,GAAS7f,GAAOM,WACxCuf,EAAAA,EACX,EAIAJ,sBAAAA,SAAsBhW,GAAAA,CAClB,IAAI0W,GAAe1W,GAAQ2W,eAE3B,QAAS4C,MAAQ7C,GACb,GAAA,CAAKpnB,KAAK2rB,UAAU7mB,SAASmlB,EAASvZ,GAAAA,GAAQuZ,EAAAA,GAAS7C,GAAa6C,EAAAA,EAChE,MAAA,GAER,MAAA,EACJ,EAGA0E,eAAAA,SAAe1nB,GACX,CAAA,OAAOA,GAAO8H,cAAc/O,KAAKiG,SAASC,WAAW0oB,eAAAA,CACzD,EAGAC,eAAAA,SAAe5nB,GAAQ6nB,GACnB9uB,CAAAA,KAAK2uB,eAAe1nB,EAAQrF,EAAAA,UAAYW,GAAWusB,EACvD,CAAA,EAMAzd,QAAAA,SAASpK,GAAQ4iB,GAAAA,CAAAA,IAAAA,GAAAA,KACb5iB,GAASA,IAAUjH,KAAK+uB,WACxBlF,EAAAA,GAAOA,IAAQ,CAAA,EAEf,IAAIhb,GAAK7O,KAAKiG,SACVkgB,GAAcnmB,KAAK2uB,eAAe1nB,EAClC+nB,EAAAA,GAAShvB,KAAK6lB,aAAa5e,EAAAA,EAC3ByJ,GAAU1J,GAAcC,EAAAA,EACxBiH,GAAMlO,KAAK+N,OAAOpF,UAClBob,GAAU,GACV1U,GAAeR,GAAGO,MAAQ,SAM9B,GAFCC,CAAAA,IAAgBrP,KAAKoL,SAAS8E,KAAAA,EAE1BiW,IAKL,GAAWpD,CAAAA,GAAPrS,GAAmBhO,MAAU,GAAA,EAAA,aAAcgO,KAAYA,GAAQmX,SAmCnE,OA/BAnX,GAAU1J,GAAcC,GAAQ,CAC5BogB,eAAgBrkB,GAAO,CAAI0N,EAAAA,EAAAA,EAC3BgX,eAAgBzgB,GAAOyR,UAAAA,EAG3B1R,CAAAA,CAAAA,EAAAA,GAAc0J,GAAQgX,eAAgBhX,GAAQ2W,cAAAA,EAE9ClB,GAAY/S,aAAa,kBAAA,EACzBnM,EAAAA,GAAOlB,UAAUoN,IAAKtE,GAAG3I,WAAW6F,UAEpCoa,EAAAA,GAAYrS,iBAAiB,QAAqB5F,GAAI6Y,eAAezZ,KAAKtN,KAAMiH,EAChFkf,CAAAA,EAAAA,GAAYrS,iBAAiB,OAAqB5F,GAAI+Y,cAAc3Z,KAAKtN,KAAMA,KAAK2uB,eAAe1nB,EAAAA,CAAAA,CAAAA,EACnGkf,GAAYrS,iBAAiB,QAAqB5F,GAAIgY,eAAe5Y,KAAKtN,KAAMmmB,EAChFA,CAAAA,EAAAA,GAAYrS,iBAAiB,QAAqB5F,GAAI2Y,eAAevZ,KAAKtN,KAAMmmB,EAAAA,CAAAA,EAChFA,GAAYrS,iBAAiB,UAAqB9U,SAAAA,GAAAA,CAAKkP,OAAAA,GAAIuZ,iBAAiB5kB,KAAI8M,GAAO3Q,GAAGiI,EAAAA,CAAAA,CAC1Fkf,EAAAA,GAAYrS,iBAAiB,mBAAqB5F,GAAI0Q,mBAAmBtR,KAAKtN,IAAAA,CAAAA,EAC9EmmB,GAAYrS,iBAAiB,iBAAqB5F,GAAI4Q,iBAAiBxR,KAAKtN,IAAAA,CAAAA,EAEvE6pB,GAAKoF,iBACNlL,GAAU/jB,KAAKkvB,sBAAsBjoB,EAAAA,GAEzCkf,GAAYQ,gBAAkB5C,GAE9B/jB,KAAK6R,QAAQ,aAAc,CAAE1L,IAAIc,GAAQmc,MAAM4L,GAAQ9nB,KAAKwJ,GAASqT,QAAAA,EAAAA,CAAAA,EAErEoC,GAAYxb,MAAAA,EAAAA,CACX0E,IAAgBrP,KAAK8kB,mBAAAA,GAA0BqB,EAExB,EAAxBtX,GAAGzD,SAASf,UAAY,GAAZA,CAAkBgF,IAAgBrP,KAAKoL,SAAS2L,KAAAA,EAC5D/W,KAAK0O,MAAMC,SAAAA,GAEJ3O,UAvCHZ,GAAOc,KAAK,yCAA0C2O,GAAG3I,WAAW0oB,eAAAA,CAwC5E,EAQAM,sBAAAA,SAAuBjoB,GAAQyJ,GAC3B,CAAA,IACIqT,GAEJ,GAHIrT,GAAUA,IAAW1J,GAAcC,EAAAA,EAqBvC,OAbA8c,GAAY,EAAA,cAAerT,KAAYA,GAAQkD,YAApBlD,KAGvB1Q,KAAKmvB,oBAAoBloB,EAAAA,EAG7BjH,KAAKglB,OAAAA,EAIL/d,GAAOlB,UAAUsS,OAAOrY,KAAKiG,SAASC,WAAW4E,cAAAA,CAAgBiZ,EACjErT,EAAAA,GAAQkD,UAAYmQ,GAEbrT,GAAQkD,UAjBXxU,GAAOc,KAAK,oBAAqB+G,GAAQyJ,EAAAA,CAkBjD,EAEAiD,cAAAA,SAAc1M,GAAQyJ,GAClBzJ,CAAAA,GAASA,IAAUjH,KAAK0O,MAAM4B,QAAQU,MACtCN,GAAUA,IAAW,CAAA,EAErB,IAyBiBlI,GALTA,GApBJwY,GAAY,CACZ7a,IAAcc,GACdmc,MAAcpjB,KAAK6lB,aAAa5e,EAChCmoB,EAAAA,aAAcpoB,GAAcC,EAC5BC,EAAAA,KAAcwJ,EAAAA,EAGd7B,GAAK7O,KAAKiG,SAEdjG,KAAK6R,QAAQ,oBAAqBmP,GAAW,CAAC8I,UAAAA,EAE9C9pB,CAAAA,EAAAA,KAAK0O,MAAM4B,QAAU,GAAA,OAEdI,GAAQ2W,eACR3W,OAAAA,GAAQgX,eAkBXzgB,MAZIuB,GAAckI,GAAQ7B,GAAGrG,WAAAA,KAGTxE,OAES,GAAhBwE,IADTA,IAAe,IACMjI,QAAI,MAAhBiI,KAAYjI,SAAZiI,GAAAA,KAAAA,EAAAA,EAGPqG,EAAAA,GAAGrG,eAAekI,KACXA,GAAQpM,QAIrB2C,GAASjH,KAAKqvB,WAAWpoB,GAAQyJ,EACjC1Q,EAAAA,KAAKkvB,sBAAsBjoB,GAAQyJ,EAAAA,EAE/B7B,GAAG7E,KAAKC,cACRhD,GAAO0D,MACS,EAAXkE,GAAGO,MAAQ,UAEhB/H,GAAoBJ,EAAAA,GAGpBA,IACJjH,KAAKmR,WAAWlK,EAEpBjH,EAAAA,KAAK6R,QAAQ,eAAgBmP,EAAAA,EAC7BhhB,KAAKoL,SAAS8E,KAAAA,EAGVlQ,KAAKiG,SAASoD,iBACdrJ,KAAKsvB,mBACb,CAAA,EAOAD,WAAAA,SAAWpoB,GAAQyJ,GAAAA,CACVA,IAAWA,GAAQpM,QAAU,IAAMoM,GAAQpM,QAAUN,SACtD0M,GAAUzJ,GAAOG,iBAGjBsJ,GAAQkD,WAAalD,GAAQkD,WAAa,GAC1C5Q,GAAQ0N,GAAS1Q,KAAKuvB,mBAAmB7e,GAASA,GAAQkD,SAE9D,CAAA,EAAA,IAAI4b,GAAYxvB,KAAK4kB,cAAclU,EAAAA,EAKnC,OAFAzJ,GAAOK,WAAW8R,aAAaoW,GAAWvoB,EAAAA,EAC1CjH,KAAKyvB,qBAAAA,EACED,EACX,EAKAC,qBAAAA,UAAAA,CAAAA,IAAAA,GAAAA,KACIzvB,KAAKsE,MAAM3E,OAAS,EAEpB,CAAA,EAAGsI,QAAQpF,KAAK7C,KAAK0hB,WAAAA,EAAc5b,SAAAA,GAAAA,CAC3BA,GAAKC,UAAUC,SAAS2J,GAAK1J,SAASC,WAAW4E,cAAchI,MAAM,GAAA,EAAK,CAAA,CAAA,GAC9E6M,GAAKrL,MAAMO,KAAMmC,GAAclB,EAAAA,CAAAA,CACnC,CAAA,EAEA9F,KAAKglB,OAAAA,CACT,EAOAze,cAAAA,SAAempB,GAAcjpB,GACR,CAAA,IAAAkpB,GAEjB,GAFAlpB,EAAAA,GAAQA,MAASkpB,GAAA3vB,KAAK0O,MAAMhI,aAAS,MAApBipB,KAAWjpB,OAAX,OAAAipB,GAAsBlpB,SAEzBipB,GAEV,OADA1vB,KAAK4vB,cAAcF,EAAAA,EACZ1vB,KAGX,IAAI8F,GAAOS,GAAcmpB,GAAcjpB,EAAAA,EAMvC,OALAzG,KAAK8kB,mBAAAA,GAA0Bhf,EAAAA,EAE/B9F,KAAKyvB,qBACLzvB,EAAAA,KAAKglB,OAAAA,EAEEhlB,IACX,EAMA0K,MAAQ,CACJ+F,IAAAA,UAAAA,CAAAA,IAAKnM,GAAAA,UAAAA,OAAAA,GAAAA,UAAAA,CAAAA,IAAAA,OAAAA,UAAAA,CAAQ,EAAA,GAAIurB,GAAAA,EAAAA,UAAYlwB,OAAA,GAAAD,UAAA,CAAA,IAAA,SAAAA,UAAA,CAAA,EACrBmP,GAAK7O,KAAKiG,SACV6pB,GAAejhB,GAAGzD,SAASqB,cAE/BzM,KAAK0O,MAAMoC,UAAYxM,GAEnBurB,KACA7vB,KAAKwN,IAAI9C,MAAM9I,UAAYW,GAAW,GAAG+B,EAAAA,EACzCA,IAAStE,KAAKguB,YAAYnf,GAAG3I,WAAWgF,MAAAA,CAAQlL,KAAKwN,IAAI9C,MAAM9I,SAG9D0C,GAAAA,CAAAA,IAASwrB,IACV9vB,KAAKoL,SAAS8E,KAAK5C,KAAKtN,IAAAA,EAE5BA,KAAK0K,MAAM8F,aAAa0C,QAAQrQ,KAAK7C,IAAAA,EACrCA,KAAK0K,MAAMqlB,SAASltB,KAAK7C,IAE7B,CAAA,EAEAiR,IAAAA,UACI,CAAA,OAAOjR,KAAKwN,IAAI9C,MAAMmW,WAC1B,EAKAkP,SAAAA,UAAAA,CACI,IAAIhM,GAAAA,CAAW/jB,KAAK0O,MAAMoC,WAAa9Q,KAAK6jB,YAAY,CAACvf,MAAMtE,KAAK0O,MAAMoC,SAI1E,CAAA,IAJ0BA,GAI1B,OAFA9Q,KAAKwN,IAAI9C,MAAM3E,UAAUsS,OAAOrY,KAAKiG,SAASC,WAAWiF,aAAAA,CAAe4Y,EAAAA,EAEjEA,EACX,EAGA5e,UAAAA,SAAWW,GAAMuO,GAAAA,CACb,IAAImE,GAAQ1S,IAAQ9F,KAAKwN,IAAI9C,MACzB5J,GAAI,CAAA,EAIR0X,GAAMqM,WAAW5c,QAAQ9I,SAAAA,GAAKA,CAAAA,OAAAA,GAAEmD,UAAU,GAAKxB,GAAE+D,KAAK1F,GAAE0jB,SAAAA,CAAAA,CACxD/hB,EAAAA,GAAIA,GAAE4V,KAAK;CAAA,EAEX,GAAA,CAEI5V,GAAIA,GAAEY,QAAQ,kBAAmB1B,KAAKiG,SAASqC,WAAW0nB,OAAOC,OAAO,CAAA,CAAA,CAAA,MAEjE,CAAA,CAIX,OAFAnvB,GAAIA,GAAEY,QAAQ,MAAO,GAAA,EAEd2S,IAAS9T,KAAOP,KAAKO,KAAKO,EAAAA,EAAKA,EAC1C,EAMA0P,aAAe,CACX0C,QAAAA,SAAShM,GACL,CAAA,GAAKlH,KAAKiG,SAASmE,aAAaC,QAAhC,CAGoB,OADpBnD,GAAOA,IAAQ,CAAC5C,MAAM,EACQ4C,IAAV,WAAUA,GAAO,CAAE5C,MAAO4C,EAAAA,GAE9C,IAAIgpB,GAAgBlwB,KAAKoL,SAASmF,eAAerJ,EAAAA,EAEjD,GAAWgpB,OAAAA,IAAkB,SAA7B,CAEA,IAAIpf,GAAY9Q,KAAK0O,MAAMoC,UAAUtQ,YAAAA,EACjC2vB,GAAkBD,GAAcE,OAAO,EAAGpwB,KAAK0O,MAAMoC,UAAUnR,MAAAA,EAAQa,YAAAA,EACvE6vB,GAAoBH,GAAcI,UAAUtwB,KAAK0O,MAAMoC,UAAUnR,MAEhEuwB,EAAAA,IAAkBlwB,KAAK0O,MAAMoC,WAAaqf,IAAmBrf,IAK9D9Q,KAAKwN,IAAI9C,MAAM0I,aAAa,eAAgBid,EAC5CrwB,EAAAA,KAAK0O,MAAM6U,gBAAkBrc,KAL7BlH,KAAKwN,IAAI9C,MAAMsI,gBAAgB,cACxBhT,EAAAA,OAAAA,KAAK0O,MAAM6U,gBARkB,CAPE,CAqB9C,EAMA9S,IAAAA,SAAKnP,GACD,CAAA,IAAIivB,GAAcvwB,KAAKwN,IAAI9C,MAAM4H,aAAa,cAAA,EAC1C+D,GAAa/U,KAAMivB,GAAcvwB,KAAK0O,MAAMoC,UAAYyf,GAAc,MAE1E,MAAA,CAAA,CAAIla,KACIrW,KAAKiG,SAASmJ,MAAQ,MACtBpP,KAAKwwB,oBAAqBhvB,SAASqF,eAAe7G,KAAK0O,MAAMvI,IAAImf,OAASjP,EAG1ErW,CAAAA,GAAAA,KAAK0K,MAAM+F,IAAI5N,KAAK7C,KAAMqW,EAC1BrW,EAAAA,KAAK8kB,mBAAAA,GAA0B9kB,KAAKwN,IAAI9C,KAG5C1K,GAAAA,KAAK0K,MAAM8F,aAAa0C,QAAQrQ,KAAK7C,IACrCA,EAAAA,KAAKoL,SAAS8E,KAEP,EAAA,GAIf,CAAA,CAAA,EASRugB,UAAAA,SAAW/f,GAAAA,CACP,OAAO1Q,KAAKsE,MAAMoO,UAAU9N,SAAAA,GAAAA,CAAAA,OAAQA,GAAK6hB,UAAY/V,IAAS,CAAA,GAAI+V,OAAAA,CAAAA,CACtE,EAEAZ,aAAAA,SAAc/f,GAAAA,CACV,IAAIsd,GAAQ,EAEZ,GAAItd,GACA,KAAQA,GAAOA,GAAKgd,wBAChBM,KAER,OAAOA,EACX,EAEA1B,WAAAA,UAAAA,CAAY,QAAAjiB,GAAAC,UAAAC,OAAG+wB,GAAH,IAAA7wB,MAAAJ,EAAAA,EAAAK,GAAA,EAAAA,GAAAL,GAAAK,KAAG4wB,GAAH5wB,EAAAJ,EAAAA,UAAAI,EAAAA,EACR,IAAIoM,GAAY,IAAOjM,GAAGD,KAAKiG,SAASC,WAAWC,IAAIrD,MAAM,GAAA,CAAA,EAAA,OAAM7C,GAAGywB,EAAUha,CAAAA,EAAAA,KAAK,GAAA,EACrF,MAAO,CAAA,EAAG3T,MAAMF,KAAK7C,KAAKwN,IAAIwD,MAAM8F,iBAAiB5K,EAAAA,CAAAA,CACzD,EAKA6iB,WAAAA,UAAAA,CACI,IAAI4B,GAAM3wB,KAAKiG,SAASC,WACpB0qB,GAAW5wB,KAAKwN,IAAIwD,MAAM8F,iBAAiB,GAA2B6Z,OAAxBA,GAAIrqB,YAAY,QAAoB2P,EAAAA,OAAZ0a,GAAI1kB,QAAQ,mBAAA,CAAA,EACtF,OAAO2kB,GAASA,GAASjxB,OAAS,CACtC,CAAA,EAQA6V,eAAAA,SAAgBlR,GAAOhE,GAAeuwB,GAClC,CAAA,IAAIC,GAAY,EAIhB,GAHS9wB,KAAKiG,SAGPmJ,MAAQ,SACX,MAAO,GAEN,IAAAvL,GAAA,GAAAC,GAAAA,GAAAC,GAAAA,OAAAC,GAAL,CAAA,QAAKC,GAAAC,GAAYlE,KAAKsE,MAAAA,OAAAA,QAAAA,EAAAA,EAAAA,EAAjBT,IAAAI,GAAAC,GAAAsO,KAAAue,GAAAA,MAAAltB,GAAAA,GAAyB,CAAzB,IAAIe,GAAJX,GAAAK,MACenE,GAASH,KAAKO,KAAK,GAAG+D,EAAAA,EAAQM,GAAKN,MAAOhE,EAAAA,GACzCuwB,IAASjsB,GAAK6hB,SAC3BqK,IACR,CAAA,OAAA7xB,GAJK6E,CAAAA,GAAAA,GAAAC,GAAAgB,EAAAA,QAAAA,CAAAA,GAAAA,CAAAlB,IAAAK,GAAAc,QAAA,MAAAd,GAAAc,OAAAA,CAAAA,QAAAA,CAAA,GAAAlB,GAAA,MAAAC,EAAAA,CAAAA,CAML,OAAO+sB,EACX,EAEAE,mBAAAA,SAAoB1sB,GAAAA,CAAAA,IAAAA,GAAAA,KACZ2sB,GAAU,CAAA,EACVC,GAAkBlxB,KAAKiG,SAASmF,SAAS9K,cAO7C,OALAN,KAAK0hB,WAAAA,EAAazZ,QAAQ,SAAChB,GAAQ/H,GAAAA,CAC1B+H,GAAOG,iBAAmBjH,GAASwP,GAAKpP,KAAK0G,GAAOG,gBAAgB9C,KAAAA,EAAQA,GAAO4sB,EACpFD,GAAAA,GAAQpsB,KAAK3F,EACrB,CAAA,CAAA,EAEO+xB,EACX,EAEAE,iBAAAA,SAAkB7sB,GACd,CAAA,IAAI0qB,GAAShvB,KAAKgxB,mBAAmB1sB,EAAAA,EAAO,CAC5C,EAAA,OAAOtE,KAAK0hB,WAAasN,EAAAA,EAAAA,CAC7B,EAMAoC,SAAAA,SAAUnqB,GAAAA,CAAAA,IAAAA,GAAAA,KACFA,KACAA,GAAOlB,UAAUoN,IAAInT,KAAKiG,SAASC,WAAW8F,QAAAA,EAC9CoF,WAAW,UAAQnK,CAAAA,GAAOlB,UAAUgN,OAAOpD,GAAK1J,SAASC,WAAW8F,QAAAA,CAAa,EAAA,GAEzF,EAAA,EAKAqlB,iBAAAA,SAAkBvwB,GAAAA,CAEd,OADAA,GAAId,KAAKO,KAAKO,GAAEN,YAAAA,CAAAA,EACTR,KAAKiG,SAASgD,UAAU8M,OAAOub,SAAAA,GAAAA,CAAK,OAAC,GAAGA,IAAG9wB,YAAAA,GAAiBM,EAAAA,CAAAA,EAAGnB,MAC1E,EAKA4xB,iBAAAA,SAAkBzwB,GACd,CAAA,MAAA,CAAA,CAASd,KAAKwxB,iBAAiB1wB,EAAAA,CAQnC,EAMA0wB,iBAAAA,SAAkBltB,GAAO2lB,GAAMjhB,GAAAA,CAEvBihB,GAAOA,IAAQ,QADnB,IAAIza,GAEAX,GAAK7O,KAAKiG,SAqBd,OApBI+C,GAAYA,IAAa6F,GAAG7F,WAEtBgM,KAAKyc,SAAAA,GAAAA,CAEX,IAAIC,GAAqB,OAAPD,IAAO,SAAYA,GAAIxH,EAAAA,GAASwH,GAAIntB,MAASmtB,GAG/D,GAFgBtxB,GAAQuxB,GAAMptB,GAAOuK,GAAGzD,SAAS9K,cAAeuO,GAAGtO,IAAAA,EAI/D,OADAiP,GAAuB,OAAPiiB,IAAO,SAAWA,GAAM,CAACntB,MAAMmtB,EAAAA,EAAAA,EAGvD,CAIKjiB,EAAAA,IAAUya,IAAQ,SAAWpb,GAAGrG,aAAe,UAEhDgH,GAASxP,KAAKwxB,iBAAiBltB,GAAOuK,GAAGrG,YAAaQ,EAAAA,GAGnDwG,EACX,EAQAqU,YAAAA,SAAanT,GACT,CAAA,IAAI7B,GAAK7O,KAAKiG,SAEVgkB,GAAO,UAAWvZ,GAAU,QAAU7B,GAAGrG,YACzC1H,GAAId,KAAKO,KAAKmQ,GAAQuZ,EAAQ,EAAA,EAAA,EAGlC,OAAMvZ,GAAQuZ,EAAAA,EAAM,IAAI1pB,KAIT,EAAXsO,GAAGO,MAAQ,OAASP,GAAGtG,SAAqBwa,GAAVlU,GAAGtG,QAAmB4jB,MAAYtd,GAAAA,CAAAA,GAAGtG,QAAQlD,KAAKvE,EAAAA,EAC7Ed,KAAKgc,MAAMzT,QAAAA,CAGjBsG,GAAG9F,YAAc/I,KAAKwV,eAAe1U,GAAG+N,GAAGzD,SAAS9K,cAAeoQ,GAAQ+V,OAAAA,EACrEzmB,KAAKgc,MAAME,UAElBlc,KAAKqxB,iBAAiBvwB,EAAAA,GAAO+N,GAAG3F,kBAAAA,CAAqBlJ,KAAKuxB,iBAAiBzwB,EAAAA,EACpEd,KAAKgc,MAAMG,WAAAA,CAElBtN,GAAGkhB,UACIlhB,GAAGkhB,SAASrf,EAdZ1Q,EAAAA,KAAKgc,MAAM9Q,KAiB1B,EAEAqkB,mBAAAA,SAAmB7e,GAASkT,GAAAA,CACxB,MAAO,CACH,eAAA,GACAlH,MAAS,GAA0BzG,OAAvBvF,GAAQgM,OAAS,GAAG,GAAA,EAA0CzG,OAAvCjW,KAAKiG,SAASC,WAAW4E,aAAgBvK,EAAAA,KAAAA,EAC5Ekc,MAASmH,EAEjB,CAAA,EAEA5Y,WAAAA,UACI,CAAA,OAAOhL,KAAKsE,MAAM3E,QAAUK,KAAKiG,SAASwC,SACpCzI,KAAKgc,MAAMC,MAErB,EAEA0V,YAAAA,SAAatZ,GAAQuZ,GACjB,CAAA,IAAI/iB,GAAK7O,KAAKiG,SAEdjG,KAAKwN,IAAIwD,MAAMhL,SAASxE,SAASqgB,aAAAA,GAAkBrgB,SAASqgB,cAAcyB,KAAAA,EAC1EzU,GAAG+iB,IAAc,UAAA,EAAcvZ,GAC/BrY,KAAKwN,IAAIwD,OAAOqH,GAAS,MAAQ,UAAY,WAAauZ,EAAAA,IAAc,WAAA,EAExE5xB,EAAAA,KAAKiG,SAASkD,UAAY,GAC1BnJ,KAAK6rB,mBAAoBxT,CAAAA,EAAAA,CAC7B,EAEAwT,mBAAAA,SAAmBnd,GAAAA,CACf1O,KAAKwN,IAAI9C,MAAMmnB,gBAAkBnjB,GACjC1O,KAAKwN,IAAI9C,MAAM4iB,SAAa5e,GAAQ,EAAA,EACxC,EAEAojB,YAAAA,SAAaC,GACT/xB,CAAAA,KAAK2xB,YAAYI,GAAY,UAAA,CACjC,EAOAre,cAAAA,SAAese,GAAAA,CAAAA,IAAAA,GAAAA,KACsCC,GAAAjyB,KAAKiG,SAAjD+C,GAA4CipB,GAA5CjpB,UAAWV,GAAiC2pB,GAAjC3pB,WAAY8G,GAAqB6iB,GAArB7iB,KAAM5G,GAAeypB,GAAfzpB,YAC9B0pB,GAAmB,CAAA,EACnBC,GAAAA,CAAAA,CAAqBnpB,IAAwB+Z,GAAZ/Z,GAAU,CAActG,EAAAA,MAAAA,EAEzD9B,GAAUf,MAAMe,QAAQoxB,EAAAA,EACxBI,GAAexxB,IAAWoxB,GAAU,CAAG1tB,EAAAA,MACvC+tB,GAAwB/wB,SAAAA,GAAAA,CAAAA,OAAMA,GAAE,IAAIwB,MAAMwF,EAAY8M,EAAAA,OAAO,SAACkd,GAAKxxB,GAAAA,CAC/D,IACoBslB,GADdmM,GAAU5iB,GAAKpP,KAAKO,EAAAA,EAE1B,OADAyxB,IAAWD,GAAIztB,MAAO2hB,GAAFJ,GAAE,CAAA,EAAC5d,GAAa+pB,EAAAA,EAASjuB,GAAzB8hB,GAAyB9hB,QAAMiuB,EAA/BnM,EAAAA,GAAAA,EACbkM,EACX,EAAG,CAAA,CAAA,CAAA,EAMP,GAJwB,OAAbN,IAAa,WACpBA,GAAYA,GAAUpvB,SAAAA,GAGfovB,OAAAA,IAAa,SAAU,CAC9B,GAAKA,CAAAA,GAAUzxB,KAAAA,EAAS,MAAO,CAAA,EAG/ByxB,GAAYK,GAAsBL,EAAAA,CACtC,MAGSpxB,KAELoxB,GAAYA,GAAU5c,OAAO,SAACkd,GAAK1tB,GAC/B,CAAA,GAAIpC,GAASoC,EAAQ,EAAA,CACjB,IAAI4tB,GAAWxvB,GAAO,CAAI4B,EAAAA,EAAAA,EAGrB4D,MAAegqB,KAChBhqB,GAAc,SAElBgqB,GAAShqB,EAAAA,EAAemH,GAAKpP,KAAKiyB,GAAShqB,EAAAA,CAAAA,EAGvCgqB,GAAShqB,EAAAA,GACT8pB,GAAIztB,KAAK2tB,EAAAA,CACjB,SAEQ5tB,GAAM,CACV0tB,IAAAA,IAAAA,GAAAA,IAAIztB,KAAJytB,MAAAA,GAAUryB,GAAGoyB,GAAsBztB,EACvC,CAAA,CAAA,CAAA,CAEA,OAAO0tB,EACX,EAAG,CAAA,CAAA,GAsCP,OAhCIH,IAAAA,CAAuBC,KACvBJ,GAAU/pB,QAAQrD,SAAAA,GACd,CAAA,IAAI6tB,GAAyBP,GAAiBrxB,IAAIwC,SAAAA,GAAGA,CAAAA,OAAAA,GAAEiB,KAAAA,CAAAA,EAInDouB,GAAe/iB,GAAKvE,SAASgH,gBAAgBvP,KAAW+B,GAAAA,GAAK4D,EAAc,EAAA,CAAE2M,MAAAA,EAE5ExF,CAAAA,EAAAA,GAAK1J,SAAS8C,aAEf2pB,GAAeA,GAAa3c,OAAO4c,SAAAA,GAAAA,CAAgB,MAACF,CAAAA,GAAuB3tB,SAAS6tB,GAAaruB,KAAAA,CAAAA,CAAAA,GAIrG,IAAIsuB,GAAWF,GAAa/yB,OAAS,EAC/BgQ,GAAK6hB,iBAAiB5sB,GAAK4D,EAAAA,EAAcA,GAAakqB,EAAAA,EACtDA,GAAa,CAEfE,EAAAA,IAAoB7P,GAAR6P,GAAoBlwB,MAAAA,EAChCwvB,GAAiBrtB,KAAM+tB,EAAAA,EAElBxjB,IAAQ,QACTxK,GAAKN,OAASN,OACdY,GAAKN,MAAQM,GAAK4D,EAAAA,GACtB0pB,GAAiBrtB,KAAKD,EAAAA,EAE9B,CAAA,EAEIstB,GAAiBvyB,SACjBqyB,GAAYE,KAGbF,EACX,EAOArE,aAAAA,SAAcrsB,GAAAA,CAAAA,IAAAA,GAAAA,KACoF2wB,GAAAjyB,KAAKiG,SAA9FuD,GAAyFyoB,GAAzFzoB,oBAAqBT,GAAoEkpB,GAApElpB,WAAYgB,GAAwDkoB,GAAxDloB,aAAcb,GAA0C+oB,GAA1C/oB,iBAAkBT,GAAwBwpB,GAAxBxpB,QAASD,GAAeypB,GAAfzpB,YAC3EqqB,GAAc,CAAA,EAElBvxB,GAAIA,GAAEwB,MAAM0G,GAAoB,CAAI3I,CAAAA,EAAAA,IAAI,SAACT,GAAIlB,GAAAA,CACzC,IAGI4zB,GACApiB,GACAzJ,GALA5G,GAAKD,GAAG0C,MAAM0G,GAAoB,CAAA,CAAA,EAClCupB,GAAkB1yB,GAAG,CAAA,EACrB2yB,GAAiBH,GAAYlzB,QAAU8I,GAK3C,GAEI,CAAA,GAAIsqB,IAAAA,CAAoBA,GACpB,MAAME,MACVviB,GAAUma,KAAKC,MAAMiI,EACzB,CAAA,MACIriB,CAAAA,GAAUf,GAAK+D,cAAcqf,EAAAA,EAAiB,CAAA,GAAM,CAACzuB,MAAMyuB,EAAAA,CAC/D,CAIA,GAFAhpB,GAAalH,KAAW6N,GAAAA,EAAAA,EAEnBsiB,IACD3yB,EAAAA,GAAGV,OAAS,IACVuJ,IAAAA,CAAoByG,GAAK4hB,iBAAiB7gB,GAAQpM,KAAAA,GAAAA,CACjDyE,IAAc4G,GAAK6F,eAAe9E,GAAQpM,KAAAA,GAa5C,GAAGlE,GACJ,OAAOlB,GAAIsK,GAAoB,CAAA,EAAKpJ,GAAKA,QAVzCsQ,GADAoiB,GAAWpiB,GAAQlI,EAAAA,EAAeA,GAAc,OAAA,EAC5BmH,GAAKpP,KAAKmQ,GAAQoiB,EAAAA,CAAAA,EAEtC7rB,GAAS0I,GAAKiV,cAAclU,EAC5BmiB,EAAAA,GAAYhuB,KAAM6L,EAClBzJ,EAAAA,GAAOlB,UAAUoN,IAAIxD,GAAK1J,SAASC,WAAW0E,cAAAA,EAE9CvK,GAAG,CAAK4G,EAAAA,GAAOihB,UACfvY,GAAKrL,MAAMO,KAAK6L,EAKpB,EAAA,OAAOrQ,GAAGqW,KAAK,EAAA,CACnB,CAAA,EAAGA,KAAK,EAAA,EAER1W,KAAKwN,IAAI9C,MAAM9I,UAAYN,GAC3BtB,KAAKwN,IAAI9C,MAAMmO,YAAYrX,SAASqF,eAAe,EAAA,CAAA,EACnD7G,KAAKwN,IAAI9C,MAAMvF,UAAAA,EAEf,IAAIyrB,GAAW5wB,KAAK0hB,WAMpB,EAAA,OAJAkP,GAAS3oB,QAAQ,SAAC7F,GAAKkU,GAAAA,CAAAA,OAAQtP,GAAc5E,GAAMywB,GAAYvc,EAAAA,CAAAA,CAAAA,CAC/DtW,EAAAA,KAAKglB,OAAO,CAACC,mBAAAA,EAAmB,CAAA,EAEhCnd,GAAoB8oB,GAAU5wB,KAAK0O,MAAMC,QAAAA,EAClCrN,EACX,EAMAkvB,oBAAAA,SAAqB0C,GAAgBC,GAAAA,CACjC,GAAKnzB,KAAK0O,MAAMvI,KAAQgtB,GAAxB,CAEAA,GAAeA,IAAgBnzB,KAAK0O,MAAMvI,IAAImf,OAAStlB,KAAK0O,MAAMvI,IAAI7B,MACtE,IAAIgS,GAAK8c,GACL1sB,GAAY1G,KAAK0O,MAAMhI,WAAapH,OAAOqH,aAAAA,EAC3C0sB,GAAc3sB,GAAU2b,WACxBiR,GAAmBtzB,KAAK0O,MAAMvI,IAAImC,WAAatI,KAAK0O,MAAMvI,IAAImC,WAAW3I,OAAS,EActF,OARA0zB,GAAYE,UAAU7sB,GAAU0b,aAAekR,EAAAA,GAM/Chd,GAAM+c,GAAYxQ,UAAUwC,YAAY8N,EAAAA,IANOG,KAU/CF,GAAgBC,GAAYE,UAAUjd,EAKtC4c,EAAAA,IAAkBG,GAAY/rB,WAAW8R,aAAa8Z,GAAgBE,EAM/D,GAAA,EAjCgC,CAkC3C,EAQAI,kBAAAA,SAAkB9iB,GAAS2D,GAAAA,CACvBA,GAAUA,IAAW,CAAA,EAErB,IACIxF,GAAK7O,KAAKiG,SACVwtB,GAAyB,CAAA,EACzBC,GAAe,CAAA,EACftM,GAAe1kB,OAAOe,OAAO,CAAA,EAAIiN,GAAS,CAACpM,MAAMoM,GAAQpM,MAAM,EAAA,CAAA,EAQnE,GALAoM,GAAUhO,OAAOe,OAAO,CAAI2jB,EAAAA,EAAAA,EAC5BvY,GAAG9E,aAAalH,KAAK7C,KAAM0Q,EAAAA,EAE3BA,GAAQkD,UAAY5T,KAAKgL,WAAAA,GAAgBhL,KAAK6jB,YAAYnT,EAAAA,EAEtDA,GAAQkD,YAF8ClD,GAE1B,CAC5B,GAAI2D,GAAQ3K,YACR,OAUJ,GANA1G,GAAO0wB,GAAc1zB,KAAKuvB,mBAAmB7e,GAASA,GAAQkD,SAAY,EAAA,CAAC+f,iBAAiBvM,EAExF1W,CAAAA,EAAAA,GAAQkD,WAAa5T,KAAKgc,MAAME,WAEhClc,KAAKoxB,SAAUpxB,KAAKmxB,iBAAiBzgB,GAAQpM,KAAAA,CAAAA,EAAAA,CAE5CuK,GAAGvF,kBAEJ,OAAA,KADAmqB,GAAuB5uB,KAAK6L,GAAQpM,KAG5C,CAAA,CAaA,MAXI,aAAcoM,KACVA,GAAQ+G,SACRic,GAAa,eAAA,EAAA,GAGNhjB,OAAAA,GAAQ+G,UAMhB,CAACxQ,OAFCjH,KAAK4kB,cAAclU,GAASgjB,EAAAA,EAErBhjB,QAAAA,GAAS+iB,uBAAAA,EAC7B,CAAA,EAOAG,sBAAAA,SAAsB3sB,GAAQyJ,GAAAA,CAAAA,IAAAA,GAAAA,KACtB7B,GAAK7O,KAAKiG,SACV8d,GAAUrT,GAAQkD,UAElBmQ,IAAWA,KAAY,IAEvB/jB,KAAKsE,MAAMO,KAAK6L,EAIhBU,EAAAA,WAAW,UAAA,CACPzB,GAAKkC,QAAQ,MAAO,CAAC1L,IAAIc,GAAQmc,MAAMzT,GAAKrL,MAAM3E,OAAS,EAAGuH,KAAKwJ,EACvE,CAAA,CAAA,CAAA,IAGA1Q,KAAK6R,QAAQ,UAAW,CAAC3K,KAAKwJ,GAAS0S,MAAMpjB,KAAKsE,MAAM3E,OAAQwG,IAAIc,GAAQugB,QAAQzD,EAC/ElV,CAAAA,EAAAA,GAAGxF,iBAEJ+H,WAAW,UAAA,CAAA,OAAMzB,GAAKwB,WAAWlK,GAAAA,EAAe,CAAA,EAAA,GAAA,GAGxDjH,KAAKoL,SAASuB,SAAAA,CAClB,EAOAknB,UAAAA,SAAW5sB,GAAQyJ,GAAAA,CAAAA,IAAAA,GAAAA,KAGf,GAAA,CAFS1Q,KAAKiG,SAEPiD,kBAAqBlJ,KAAKuxB,iBAAiB7gB,GAAQpM,KAA1D,EAAA,CAMItE,KAAK0O,MAAMyB,QAAQS,cACnBQ,WAAW,UAAA,CAAM,OAAAzB,GAAKmV,mBAAAA,GAA0BnV,GAAKnC,IAAI9C,KAAAA,CAAAA,CAE7D,EAAA,IAAIopB,GAAa9zB,KAAK+uB,WAAAA,EActB,OAZI+E,GACA9zB,KAAKqvB,WAAWyE,GAAYpjB,EAAAA,EAE5B1Q,KAAK+zB,UAAU9sB,EAAAA,EAKnBjH,KAAKsE,MAAM,CAAA,EAAKoM,GAChB1Q,KAAKglB,OAAAA,EACLhlB,KAAK6R,QAAQ,MAAO,CAAE1L,IAAIc,GAAQC,KAAKwJ,EAEhC,CAAA,EAAA,CAACzJ,EAAAA,CAtBJ,CAuBR,EAKA+sB,YAAAA,SAAaC,GAAAA,CACT,IAAIvjB,GAAU1N,GAAO,CAAEsB,MAAM,EAAA,EAAM2vB,IAAe,CAAA,CAAA,EAC9ChtB,GAASjH,KAAK4kB,cAAclU,EAAAA,EAEhC1J,GAAcC,GAAQyJ,EAAAA,EAGtB1Q,KAAK+zB,UAAU9sB,EAAAA,EACfjH,KAAKqR,QAAQpK,GAAQ,CAACgoB,eAAAA,EAAe,CAAA,EACrCjvB,KAAK6T,iBAAAA,EAAiB,CAC1B,EASAhD,QAAAA,SAASmhB,GAAWkC,GAAYxqB,GAAAA,CAAAA,IAAAA,GAAAA,KACxByqB,GAAW,CAAA,EACXtlB,GAAK7O,KAAKiG,SACVwtB,GAAyB,CACzBW,EAAAA,GAAO5yB,SAASijB,uBAEpB,EAAA,GAAA,CAAKuN,IAAaA,GAAUryB,QAAU,EAClC,OAAOw0B,GAMX,OAFAnC,GAAYhyB,KAAK0T,cAAcse,EAEvBnjB,EAAAA,GAAGO,KAAAA,CACP,IAAK,MAAO,OAAOpP,KAAKq0B,WAAWrC,EAAAA,EACnC,IAAK,SACDkC,GAAAA,GACAl0B,KAAKge,cAAAA,CAAAA,CAuCb,OAnCAhe,KAAKwN,IAAI9C,MAAMsI,gBAAgB,OAAA,EAE/Bgf,GAAU/pB,QAAQyI,SAAAA,GACd,CAAA,IAAM4jB,GAAa3kB,GAAK6jB,kBAAkB9iB,GAAS,CAAChH,YAAaA,IAAemF,GAAGnF,WAAAA,CAAAA,EAEnF,GAAK4qB,GAAL,CAEA,IAAMrtB,GAASqtB,GAAWrtB,OAQ1B,GANAyJ,GAAU4jB,GAAW5jB,QACrB+iB,GAAyBa,GAAWb,uBAEpCU,GAAStvB,KAAKoC,EAGC,EAAX4H,GAAGO,MAAQ,SACX,OAAOO,GAAKkkB,UAAU5sB,GAAQyJ,EAAAA,EAKlC0jB,GAAKvb,YAAY5R,EAAAA,EAEjB0I,GAAKikB,sBAAsB3sB,GAAQyJ,EAlBlB,CAAA,CAmBrB,CAAA,EAEA1Q,KAAK+zB,UAAUK,EAAAA,EACfp0B,KAAKglB,OAAAA,EAEDgN,GAAUryB,QAAUu0B,KACpBl0B,KAAK0K,MAAM+F,IAAI5N,KAAK7C,KAAM6O,GAAGvF,kBAAoB,GAAKmqB,GAAuB/c,KAAK7H,GAAGud,WAAAA,CAAAA,EACrFpsB,KAAK8kB,mBAAmB,GAAO9kB,KAAKwN,IAAI9C,KAAAA,GAG5CmE,GAAGzD,SAASf,SAAWrK,KAAKoL,SAAS6G,SAAAA,EAC9BkiB,EACX,EAMAE,WAAAA,SAAYE,GAAAA,CAAAA,IAAAA,GAAAA,KAIR,IAHAA,GAAWv0B,KAAK0T,cAAc6gB,EAAAA,GAGjB,CAAGjP,EAAAA,QAAUtlB,KAAK0O,MAAMvI,IACjC,OAAOnG,KAAKw0B,kBAAkBD,GAAS,CAG3C,CAAA,EAAA,IAAIH,GAAO5yB,SAASijB,uBAAAA,EAWpB,OATA8P,GAAStsB,QAAQyI,SAAAA,GACb,CAAA,IAAM4jB,GAAa3kB,GAAK6jB,kBAAkB9iB,EAAAA,EAC1C0jB,GAAKvb,YAAYyb,GAAWrtB,MAC5B0I,EAAAA,GAAKxF,eAAemqB,GAAWrtB,MAAAA,EAC/B0I,GAAKikB,sBAAsBU,GAAWrtB,OAAQqtB,GAAW5jB,OAAAA,CAC7D,CAAA,EAEA1Q,KAAK4vB,cAAcwE,EAAAA,EAEZA,GAAKK,QAChB,EAEA7E,cAAAA,SAAe9pB,GAAAA,CACX,IAAIY,GAAAA,CAAAA,CAAc1G,KAAK0O,MAAMhI,UAIzBA,GACA1G,KAAKuG,cAAcT,EAAAA,GAInB9F,KAAKwN,IAAI9C,MAAMC,MACfjE,GAAAA,GAAY1G,KAAK6X,kBACPpR,GAAAA,MAAM4U,SAASrb,KAAKwN,IAAI9C,MAAOhE,GAAUD,MAAM2e,SAAAA,EACzD1e,GAAUD,MAAM6U,OAAOtb,KAAKwN,IAAI9C,MAAOhE,GAAUD,MAAM2e,SAAAA,EACvDplB,KAAKwN,IAAI9C,MAAMmO,YAAY/S,EAAAA,EAE3B9F,KAAKyvB,qBACLzvB,EAAAA,KAAKglB,OAAAA,EAEb,EAMAwP,kBAAAA,SAAmB9jB,GAAAA,CAAAA,IAIagkB,GAFxBztB,GACA0tB,GAAAA,GAAAA,KAFA9lB,GAAK7O,KAAKiG,SAGV2uB,IAAwBF,GAAA10B,KAAK0O,MAAMvI,OAAX,MAAAuuB,KAAA,OAAAA,OAAAA,GAAgBpsB,WAkB5C,GAhBAoI,GAAQ4U,OAAS5U,GAAQ4U,QAAUtlB,KAAK0O,MAAMvI,IAAMnG,KAAK0O,MAAMvI,IAAImf,QAAUzW,GAAGtG,QAAQynB,QAAQnhB,GAAGtG,SAAS,CAAA,EAE5GosB,GAAS30B,KAAKwzB,kBAAkB9iB,EAChCzJ,EAAAA,GAAS0tB,GAAO1tB,OAIXjH,KAAKwwB,oBAAoBvpB,EAC1BjH,GAAAA,KAAKwN,IAAI9C,MAAMmO,YAAY5R,EAAAA,EAG/BmK,WAAW,UAAA,CAAA,OAAKnK,GAAOlB,UAAUoN,IAAIxD,GAAK1J,SAASC,WAAW0E,cAAiB,CAAA,EAAA,GAAA,EAE/E5K,KAAKsE,MAAMO,KAAK8vB,GAAOjkB,OAAAA,EACvB1Q,KAAKglB,OAEA4P,EAAAA,CAAAA,GAAwB,CACzB,IAAIxyB,GAAMpC,KAAKmK,eAAelD,EAAAA,GAAWA,GAIzCmK,WAAW/J,GAAqB,EAAGjF,EACvC,CAAA,CAMA,OAJApC,KAAK0O,MAAMvI,IAAM,KAEjBnG,KAAK4zB,sBAAsB3sB,GAAQ0tB,GAAOjkB,OAAAA,EAEnCzJ,EACX,EAKA8sB,UAAAA,SAAU9sB,GAAAA,CACN,IAAIuG,GAAMxN,KAAKwN,IACXqnB,GAAmBrnB,GAAI9C,MAGvB8C,GAAIwD,MAAMwc,aAAavmB,GAAQ4tB,EAAAA,CAGvC,EAQAjQ,cAAAA,SAAelU,GAASokB,GACpBpkB,CAAAA,GAAQ+V,QAAUjhB,GAElB,EAAA,IAAIyB,GACA8tB,GAAe/xB,GAAO,CAAA,EAAI0N,GAAS2b,GAAA,CAAE/nB,MAAM/B,GAAWmO,GAAQpM,MAAM,EAAA,CAAA,EAAQwwB,EAchF,CAAA,EAAA,ORt8CD,SAA+B1yB,GAKlC,CAAA,QAHI4yB,GADAC,GAAOzzB,SAAS0zB,mBAAmB9yB,GAAK+yB,WAAWC,UAAW,KAAA,EAAM,EAIjEJ,GAAWC,GAAK5M,SAAAA,GACd2M,GAASnU,YAAYtgB,KAAAA,GACtBy0B,GAAS1tB,WAAW4Q,YAAY8c,EAE5C,CAAA,EQo7CQ/tB,GAASjH,KAAK2W,cAAc,MAAO,CAACoe,GAAc/0B,IAQlDgH,CAAAA,CAAAA,EAAAA,GAAcC,GAAQyJ,EACfzJ,EAAAA,EACX,EAMAqoB,mBAAAA,UAAAA,CAAAA,IAAAA,GAAAA,KACQzgB,GAAK7O,KAAKiG,SAEdjG,KAAK0hB,WAAW7S,GAAG3I,WAAW4E,aAAe7C,EAAAA,QAAQ,SAAChB,GAAQ/H,GAAAA,CAC1D,IAAIwR,GAAU1J,GAAcC,EAAAA,EACxB+D,GAAa2E,GAAK3E,WAAAA,EAClBqqB,GAAgB1lB,GAAKkU,YAAYnT,EACjCqT,EAAAA,GAAUsR,KAAVtR,IAAqC/Y,CAAAA,GAMzC,GAJI6D,GAAGO,MAAQ,UACXO,GAAKmU,sBAAsBuR,EAAAA,EAG3BtR,GAKA,OAJArT,GAAUA,GAAQijB,iBACZjjB,GAAQijB,iBACR,CAAErvB,MAAMoM,GAAQpM,KAAAA,EAEfqL,GAAK0f,WAAWpoB,GAAQyJ,EAAAA,EAInCzJ,GAAOwV,MAAQzR,IAAcqqB,EACjC,CAAA,CACJ,EASAlkB,WAAAA,SAAYmkB,GAASC,GAAQC,GAAAA,CAAAA,IACrBC,GAAAA,GAAAA,KACA5mB,GAAK7O,KAAKiG,SA+Cd,GA7CAqvB,GAAUA,IAAkBvS,GAAPuS,GAAmBpL,WAAAA,EAClC,CAACoL,EAAAA,EACDA,GAAAA,GAAmBz1B,KAAAA,EACfy1B,GACAA,GACI,CAACA,EAAAA,EACD,CAACt1B,KAAK+uB,WAAAA,CAAAA,EAAchZ,OAAO5W,SAAAA,GAAAA,CAAKA,OAAAA,EAAAA,CAAAA,EAO9Cs2B,GAAeH,GAAQlgB,OAAO,SAACsgB,GAAMzuB,GAAAA,CAC7BA,IAA2B,OAAVA,IAAU,WAC3BA,GAAS0I,GAAKwhB,iBAAiBlqB,EAEnC,GAAA,IAAIyJ,GAAU1J,GAAcC,EAAAA,EAW5B,OATIA,IAAUyJ,IAAAA,CAAYA,GAAQ+G,UAG9Bie,GAAK7wB,KAAK,CACNiB,KAAMmB,GACNqP,IAAK3G,GAAK8gB,UAAU/f,EACpBxJ,EAAAA,KAAMF,GAAcC,GAAQ,CAAC0uB,UAAAA,EAG9BD,CAAAA,CAAAA,CAAAA,EAAAA,EACX,EAAG,CAEHF,CAAAA,EAAAA,GAAsC,OAAhBA,IAAgB,SAAWA,GAAex1B,KAAK8sB,QAAQC,kBAEzEle,GAAGO,MAAQ,WACXomB,GAAe,EACfx1B,KAAK0K,MAAM+F,IAAI5N,KAAK7C,IAAAA,GAKpBy1B,GAAa91B,QAAU,GAAKkP,GAAGO,MAAQ,UACnCqmB,GAAa,CAAA,EAAG3vB,KAAKC,UAAUC,SAAS6I,GAAG3I,WAAW4E,aAAAA,IACtDyqB,GAAAA,IAGHE,GAAa91B,OAGlB,OAAOkP,GAAGhC,MAAMC,gBAAgB2oB,GAAc,CAACnmB,OAAOtP,IAAAA,CAAAA,EACjDuP,KAAK,UAAA,CAAA,IACOqmB,GAAT,SAAqBzvB,GAAAA,CACZA,GAAIL,KAAKwB,aAEdnB,GAAIL,KAAKwB,WAAW4Q,YAAY/R,GAAIL,IAAAA,EAE/ByvB,GAeI1mB,GAAGxF,iBACRrJ,KAAK6R,QAAQ,SAAU,CAAE1L,IAAIA,GAAIL,KAAMsd,MAAMjd,GAAImQ,GAAAA,CAAAA,GAdjDtW,KAAK6R,QAAQ,SAAU,CAAE1L,IAAIA,GAAIL,KAAMsd,MAAMjd,GAAImQ,IAAKpP,KAAKf,GAAIe,IAC/DlH,CAAAA,EAAAA,KAAKoL,SAAS6G,SACdjS,EAAAA,KAAKoL,SAASuB,SACd3M,EAAAA,KAAKwN,IAAI9C,MAAMvF,UAAAA,EAGX0J,GAAGxF,iBACHrJ,KAAKsvB,mBAAAA,GAQjB,EAWIkG,IAAgBA,GAAe,IAAMC,GAAa91B,QAAU,EAThE,SAAoBwG,GAAAA,CAChBA,GAAIL,KAAK6S,MAAMc,MAAQoc,WAAWv2B,OAAOutB,iBAAiB1mB,GAAIL,IAAAA,EAAM2T,KAAS,EAAA,KAC7EjY,SAASS,KAAK6zB,UACd3vB,GAAIL,KAAKC,UAAUoN,IAAItE,GAAG3I,WAAW+F,OAAAA,EAGrCmF,WAAWwkB,GAAWtoB,KAAKtN,IAAOw1B,EAAAA,GAAcrvB,EAAAA,CACpD,EAGctD,KAAI8M,GAAO8lB,GAAa,CAAA,CAAA,EAElCA,GAAaxtB,QAAQ2tB,GAAWtoB,KAAIqC,EAGnC4lB,CAAAA,EAAAA,KACD5lB,GAAKwf,oBAAoBsG,GAAa50B,IAAIsF,SAAAA,GAAAA,CAAOA,OAAAA,GAAIL,IAAAA,CAAAA,CAAAA,EACrD6J,GAAKqV,OAAAA,EAEDnW,GAAGO,MAAQ,UAAYP,GAAG1F,WAC1BwG,GAAKkc,mBAAAA,EAGhB9a,EAAAA,CAAAA,EAAAA,MAAMglB,SAAAA,GAAAA,CAAW,CAAA,CAC1B,EAEAC,kBAAAA,UAAAA,CACIh2B,KAAK0hB,WAAAA,EAAazZ,QAAQnC,SAAAA,GAAAA,CAAQA,OAAAA,GAAKiN,OAAAA,CAAAA,CAAAA,CAC3C,EAKAoc,oBAAAA,SAAqBpnB,GAAAA,CAAAA,IAAAA,GAAAA,MACjBA,GAAOlI,MAAMe,QAAQmH,EAAAA,EAAQA,GAAO,CAACA,EAAAA,GAEhCE,QAAQ9B,SAAAA,GAAAA,CACT,IAAIuK,GAAU1J,GAAcb,EAAAA,EACxB6oB,GAASrf,GAAK8gB,UAAU/f,EAIxBse,EAAAA,GAAAA,IACArf,GAAKrL,MAAM2xB,OAAOjH,GAAQ,CAAA,CAClC,CAAA,CACJ,EAEAhR,cAAAA,SAAe6L,GAAAA,CAAAA,IAAAA,GAAAA,KACXA,GAAOA,IAAQ,CAAA,EACf7pB,KAAKsE,MAAQ,CAAA,EAETtE,KAAKiG,SAASmJ,MAAQ,MACtBpP,KAAKwN,IAAI9C,MAAM9I,UAAY,GAE3B5B,KAAKg2B,kBAETh2B,EAAAA,KAAKoL,SAAS6G,SACdjS,EAAAA,KAAKoL,SAASuB,SAEV3M,EAAAA,KAAK0O,MAAMtD,SAASwM,SACpBxG,WAAW,UACPzB,CAAAA,GAAKnC,IAAI9C,MAAMC,MAAAA,CACnB,CAAA,EAEA3K,KAAKiG,SAASmJ,MAAQ,WACtBpP,KAAK0K,MAAM+F,IAAI5N,KAAK7C,IAAAA,EACpBA,KAAKiG,SAASkD,WAAanJ,KAAK6rB,mBAAAA,EAAmB,GAKvD7rB,KAAKglB,OAAO6E,EAAAA,CAChB,EAEAxI,WAAAA,UAAAA,CACIrhB,KAAK0O,MAAM+e,iBAAAA,GAEX,IAc+BpN,GAAAC,GAd3BzR,GAAK7O,KAAKiG,SACVC,GAAa2I,GAAG3I,WAChBgwB,GAAWrnB,GAAGO,MAAQ,MAChBP,GAAG3E,QAAQkjB,WACPptB,KAAKwN,IAAI9C,MAAMmW,YACf7gB,KAAKwN,IAAIuQ,cAAczZ,MAAM/D,KAAAA,EACjCP,KAAKsE,MAAM3E,OAASK,KAAK0K,MAAMuG,IAAIpO,KAAK7C,IAAML,EAAAA,OAExDK,KAAKguB,YAAY9nB,GAAW8E,WAAYhL,KAAKsE,MAAM3E,QAAUkP,GAAGpG,OAAAA,EAChEzI,KAAKguB,YAAY9nB,GAAW+E,UAAAA,CAAYjL,KAAKsE,MAAM3E,MAAAA,EACnDK,KAAKguB,YAAY9nB,GAAWgF,MAAQgrB,CAAAA,EAAAA,EAGhCrnB,GAAGO,MAAQ,UACXpP,KAAK8jB,uBAAsBxD,GAAAtgB,KAAKsE,SAAK,MAAVgc,KAAKhc,SAAL+b,GAAAC,GAAa,CAAA,KAAb,MAAAD,KAAa,OAAb,OAAAA,GAAiBzM,SAEpD,CAAA,EAEAuiB,sBAAAA,SAAuBr1B,GAAAA,CACnB,IAAI6iB,GAAW3jB,KAAKwN,IAAIuQ,cAEnB/d,KAAKiG,SAASiE,QAAQkjB,aACvBzJ,GAASrf,MAAQxD,GACjB6iB,GAAS8B,YAAc9B,GAASrf,MAChCtE,KAAK+qB,iBAAiBjqB,GAAG,OAEjC,EAAA,EAMAkkB,OAAAA,SAAQplB,GAAAA,CAEJ8X,aAAa1X,KAAKo2B,sBAAAA,EAClBp2B,KAAKo2B,uBAAyBhlB,WAG9B,UAAA,CACI,IAAIilB,GAAar2B,KAAKs2B,cAEtBt2B,EAAAA,KAAKm2B,sBAAsBE,EAErBr2B,EAAAA,KAAKiG,SAAS6C,oBAAuBlJ,IAAM,CAAA,GAAIqlB,oBAAwBjlB,KAAK0O,MAAM+e,kBACpFztB,KAAKshB,mBAETthB,EAAAA,KAAKqhB,WAAAA,CACT,EAZsD/T,KAAKtN,IAAAA,EAFtC,GAGrBA,EAAAA,KAAK+N,OAAOsR,yBAAyBxc,KAAK7C,KAHrB,GAezB,CAAA,EAEAs2B,cAAAA,UACI,CAAA,IAAIhyB,GAAQtE,KAAKu2B,cAAAA,EAEjB,OAAOv2B,KAAKiG,SAASmJ,MAAQ,MACvBpP,KAAKw2B,qBAAqBlyB,EAC1BA,EAAAA,GAAM3E,OACFK,KAAKiG,SAASwwB,yBACVz2B,KAAKiG,SAASwwB,yBAAyBnyB,EACvCumB,EAAAA,KAAKI,UAAU3mB,EACnB,EAAA,EACd,EAKAiyB,cAAAA,SAAcz1B,GAAAA,CACV,OAAOL,GAAqBK,IAAKd,KAAKsE,MAAOtE,KAAK2rB,SACtD,CAAA,EAEA6K,qBAAAA,UACI,CAAA,IAAIhnB,GAAS,GACTknB,GAAO12B,KACP6O,GAAK7O,KAAKiG,SACVwwB,GAA2B5nB,GAAG4nB,0BAA4B5L,KAAKI,UAC/D0L,GAAgB9nB,GAAGrF,oBAkCvB,OAhCA,SAASotB,GAAgBC,GAAAA,CACrBA,GAAShS,WAAW5c,QAAQ,SAACnC,GAAAA,CACzB,GAAIA,GAAKxD,UAAY,EAAG,CACpB,IAAMoO,GAAU1J,GAAclB,EAAAA,EAM9B,GAJIA,GAAK8nB,SAAW,OAChBpe,IAAU;GAGVkB,IAAW7K,GAAUhD,KAAK6zB,GAAM5wB,EAAO,EAAA,CACvC,GAAI4K,GAAQilB,UACR,OAEAnmB,IAAUmnB,GAAc,CAAA,EAAKF,GAA0B11B,GAAK2P,GAASgmB,GAAK/K,SAAAA,CAAAA,EAAegL,GAAc,CAC/G,CAAA,MACS7wB,GAAKwM,aAAa,OAAA,GAAY,CAAC,IAAK,IAAK,GAAA,EAAKxN,SAASgB,GAAK8nB,OAAAA,EACjEpe,IAAU1J,GAAK+a,YAEV/a,GAAK8nB,SAAW,OAAS9nB,GAAK8nB,SAAW,MAC9Cpe,IAAU;EAGVonB,GAAgB9wB,EAAAA,EAAAA,MAIpB0J,IAAU1J,GAAK+a,WACvB,CAAA,CACJ,EAEgB7gB,KAAKwN,IAAI9C,KAAAA,EAElB8E,EACX,CAIJuZ,EAAAA,GAAOpmB,UAAUm0B,UAAY/N,GAAOpmB,UAAUwO,WVh0D/B,SAAR4lB,IAAoB,CAgBzB,IAAMC,GAAiB,SAAUC,GAASC,GAAMC,GAAQ,CACtDF,GAAQ,UAAY,GACpB,QAASG,GAAI,EAAGA,GAAID,GAAO,OAAQC,KAAK,CACtC,IAAMC,GAAQ,SAAS,cAAc,OAAO,EAC5CA,GAAM,KAAO,SACbA,GAAM,KAAO,GAAGH,EAAI,IAAIE,EAAC,IACzBC,GAAM,MAAQF,GAAOC,EAAC,EACtBH,GAAQ,YAAYI,EAAK,CAC3B,CACF,EAEA,GAAAC,QAAK,OAAQC,IAAW,CACtBA,GAAO,iBAAiB,OAAO,EAAE,QAASC,IAAS,CACjD,IAAMC,GAAaD,GAAK,cAAc,mBAAmB,EACnDE,GAAeF,GAAK,cAAc,qBAAqB,EACvD,CAAE,UAAAG,EAAU,EAAID,GAAa,QAGnC,CACE,IAAIE,GAAMF,GAAa,MACvB,GAAI,CACFE,GAAM,KAAK,MAAMA,EAAG,EAChB,MAAM,QAAQA,EAAG,GACnBZ,GAAeS,GAAYE,GAAWC,EAAG,CAE7C,MAAc,CAAC,CACjB,CAGA,IAAMC,GAAS,IAAIC,GAAOJ,GAAc,CACtC,WAAY;AAAA,KACZ,WAAY,GACZ,YAAa,GAGb,SAAU,CACR,QAAS,GACT,cAAe,EACjB,CACF,CAAC,EAEDG,GAAO,GAAG,SAAU,SAAUE,GAAK,CACjCf,GACES,GACAE,GACAI,GAAI,OAAO,OAAO,MAAM,IAAI,SAAUC,GAAG,CACvC,OAAOA,GAAE,KACX,CAAC,CACH,CACF,CAAC,EAGD,GAAM,CAAE,cAAAC,GAAe,MAAAZ,EAAM,EAAIQ,GAAO,IACxC,GAAII,IAAiBA,GAAc,IAAMZ,GAAO,CAC9C,IAAMa,GAAQ,SAAS,cACrB,cAAcD,GAAc,EAAE,IAChC,EACIC,IACFA,GAAM,iBAAiB,QAAS,IAAM,CAEpC,OAAO,WAAW,IAAMb,GAAM,MAAM,EAAG,CAAC,CAC1C,CAAC,CAEL,CACF,CAAC,CACH,CAAC,CACH,CYrFe,SAARc,IAAoB,CACzB,SAAS,iBAAiB,uBAAuB,EAAE,QAASC,IAAa,CACvE,IAAMC,GAAQD,GAAS,aAAa,qBAAqB,EACnDE,GAAOF,GAAS,cAAc,MAAM,EAE1C,GAAIE,GAAM,CACR,IAAIC,GAAa,KAEjBH,GAAS,iBAAiB,mBAAoB,SAAUI,GAAK,CAC3DD,GAAaE,GAAgBH,GAAMD,EAAK,CAC1C,CAAC,EAEDD,GAAS,iBAAiB,qBAAsB,SAAUI,GAAK,CAC7D,IAAME,GAAeD,GAAgBH,GAAMD,EAAK,EAE5CE,KAAe,MAAQA,KAAeG,IACxCJ,GAAK,OAAO,CAEhB,CAAC,CACH,MACE,QAAQ,IAAI,0CAA0CD,EAAK,IAAI,CAEnE,CAAC,CACH,CAEA,SAASI,GAAgBH,GAAMD,GAAO,CAGpC,OAFgB,MAAM,KAAK,IAAI,SAASC,EAAI,EAAE,QAAQ,CAAC,EAGpD,OAAO,CAAC,CAACK,EAAG,IAAMA,KAAQ,KAAKN,EAAK,GAAG,EACvC,IAAI,CAAC,CAACO,GAAGC,EAAK,IAAMA,EAAK,EACzB,KAAK,GAAG,CACb,CpGVA,GAAAC,QAAK,OAAO,mBAAqB,GAGjC,GAAAA,QAAK,OAAOC,EAAY,EAGxB,OAAO,KAAO,GAAAD,QACd,KAGA,SAAS,iBAAiB,mBAAoB,UAAY,CACxDE,GAAK,EACLC,GAAS,EACTC,GAAQ,EACRC,GAAO,EACPC,GAAS,EACTC,GAAa,EACbC,GAAa,EACbC,GAAW,EACXC,GAAU,EACVC,GAAM,EACNC,GAAS,EACTC,GAAmB,EACnBC,GAAa,EACbC,GAAc,EACdC,GAAW,EACXC,GAAK,EACLC,GAAe,CACjB,CAAC,EAED,GAAAlB,QAAK,OAAO,SAAUmB,GAAI,CACxBC,GAAUD,EAAE,CACd,CAAC",
  "names": ["require_htmx_min", "__commonJSMin", "e", "t", "r", "n", "i", "a", "o", "s", "l", "u", "f", "c", "h", "v", "M", "D", "X", "F", "d", "g", "m", "p", "x", "U", "y", "b", "w", "B", "S", "V", "E", "j", "C", "T", "_", "z", "R", "O", "W", "q", "H", "$", "G", "L", "A", "J", "N", "Z", "I", "P", "k", "K", "require_remove_me", "__commonJSMin", "maybeRemoveMe", "elt", "timing", "name", "evt", "children", "i", "import_htmx", "me", "ge", "Ee", "ye", "we", "Ae", "P", "$", "_", "tt", "st", "rt", "it", "lt", "pt", "ft", "mt", "St", "Nt", "kt", "Ct", "zt", "Vt", "Ce", "Re", "Qe", "qe", "Ge", "Ze", "Rt", "Qt", "C", "F", "qt", "A", "Gt", "S", "z", "t", "x", "gn", "M", "jt", "e", "n", "o", "s", "Jt", "Kt", "r", "Xt", "Yt", "Mn", "kn", "Dn", "Ln", "On", "In", "v", "i", "u", "E", "O", "Bn", "N", "W", "R", "d", "k", "Zt", "Q", "g", "ee", "ne", "Un", "a", "l", "Rn", "V", "w", "oe", "Qn", "p", "c", "f", "y", "q", "Gn", "Jn", "Kn", "Xn", "Yn", "I", "se", "m", "Zn", "h", "_n", "T", "ce", "no", "B", "H", "b", "ae", "so", "ie", "ao", "lo", "Eo", "bo", "yo", "le", "wo", "de", "Mo", "No", "ko", "fadeClass", "showClass", "dataBsDismiss", "alertString", "alertComponent", "Ti", "Version", "version", "BaseComponent", "target", "config", "element", "querySelector", "isString", "prevInstance", "Data", "ObjectKeys", "normalizeOptions", "prop", "alertSelector", "alertDismissSelector", "getAlertInstance", "getInstance", "alertInitCallback", "Alert", "closeAlertEvent", "createCustomEvent", "closedAlertEvent", "alertTransitionEnd", "that", "toggleAlertHandler", "dispatchEvent", "add", "action", "addListener", "removeListener", "dismiss", "close", "mouseclickEvent", "__publicField", "hasClass", "removeClass", "emulateTransitionEnd", "activeClass", "dataBsToggle", "buttonString", "buttonComponent", "buttonSelector", "getButtonInstance", "buttonInitCallback", "Button", "toggleButtonHandler", "self", "isActive", "getAttribute", "addClass", "setAttribute", "ariaPressed", "dataBsTarget", "carouselString", "carouselComponent", "dataBsParent", "dataBsContainer", "getTargetElement", "targetAttr", "doc", "getDocument", "att", "attValue", "closest", "carouselSelector", "carouselItem", "dataBsSlideTo", "dataBsSlide", "pausedClass", "carouselDefaults", "getCarouselInstance", "carouselInitCallback", "Carousel", "startX", "currentX", "endX", "carouselSlideEvent", "carouselSlidEvent", "carouselTransitionEndHandler", "index", "direction", "slides", "options", "activeItem", "getActiveIndex", "orientation", "directionClass", "Timer", "carouselPauseHandler", "carouselResumeHandler", "carouselIndicatorHandler", "newIndex", "carouselControlsHandler", "carouselKeyHandler", "code", "querySelectorAll", "isElementInScrollRange", "RTL", "isRTL", "keyArrowRight", "keyArrowLeft", "carouselDragHandler", "carouselPointerDownHandler", "controls", "indicators", "el", "toggleCarouselTouchHandlers", "carouselPointerMoveHandler", "carouselPointerUpHandler", "_a", "activateCarouselIndicator", "pointermoveEvent", "passiveHandler", "pointerupEvent", "toggleCarouselHandlers", "touch", "pause", "interval", "keyboard", "mouseenterEvent", "mouseleaveEvent", "pointerdownEvent", "touchstartEvent", "dragstartEvent", "arrow", "indicator", "keydownEvent", "isHTMLElement", "getElementsByClassName", "activeIndex", "transitionItem", "matches", "ar", "isPaused", "idx", "next", "eventProperties", "ObjectAssign", "getElementTransitionDuration", "reflow", "isAnimating", "clone", "collapsingClass", "collapseString", "collapseComponent", "collapseSelector", "collapseToggleSelector", "collapseDefaults", "getCollapseInstance", "collapseInitCallback", "Collapse", "showCollapseEvent", "shownCollapseEvent", "hideCollapseEvent", "hiddenCollapseEvent", "expandCollapse", "parent", "triggers", "noop", "setElementStyle", "btn", "ariaExpanded", "collapseContent", "toggleCollapseHandler", "collapseClickHandler", "trigger", "activeCollapse", "activeCollapseInstance", "dropdownMenuClasses", "dropdownComponent", "dropdownMenuClass", "isEmptyAnchor", "parentAnchor", "hasAttribute", "dropdownString", "dropupString", "dropstartString", "dropendString", "dropdownClasses", "dropdownSelector", "getDropdownInstance", "dropdownInitCallback", "Dropdown", "dropdownMenuEndClass", "verticalClass", "horizontalClass", "menuFocusTags", "dropdownDefaults", "showDropdownEvent", "shownDropdownEvent", "hideDropdownEvent", "hiddenDropdownEvent", "updatedDropdownEvent", "styleDropdown", "menu", "parentElement", "offset", "getElementStyle", "menuEnd", "style", "positionClass", "dropdownMargin", "dropdownPosition", "menuWidth", "menuHeight", "clientWidth", "clientHeight", "getDocumentElement", "targetLeft", "targetTop", "targetWidth", "targetHeight", "getBoundingClientRect", "leftFullExceed", "rightFullExceed", "bottomExceed", "bottomFullExceed", "topExceed", "leftExceed", "rightExceed", "posAjust", "margins", "getMenuItems", "firstElementChild", "toggleDropdownDismiss", "dropdownDismissHandler", "focusEvent", "dropdownPreventScroll", "keyupEvent", "dropdownKeyHandler", "scrollEvent", "resizeEvent", "ev", "getWindow", "dropdownLayoutHandler", "toggleDropdownHandler", "dropdownClickHandler", "getCurrentOpenDropdown", "currentParent", "type", "isForm", "mousedownEvent", "keyArrowDown", "keyArrowUp", "activeElement", "open", "menuItems", "focus", "keyEscape", "currentElement", "currentInstance", "modalString", "modalComponent", "offcanvasComponent", "fixedTopClass", "fixedBottomClass", "stickyTopClass", "positionStickyClass", "getFixedItems", "resetScrollbar", "bd", "getDocumentBody", "fixedItems", "fixed", "measureScrollbar", "innerWidth", "setScrollbar", "overflow", "bodyPad", "sbWidth", "itemPadValue", "itemMValue", "offcanvasString", "popupContainer", "createElement", "appendPopup", "customContainer", "containerIsBody", "isNode", "lookup", "BODY", "removePopup", "hasPopup", "backdropString", "modalBackdropClass", "offcanvasBackdropClass", "modalActiveSelector", "offcanvasActiveSelector", "overlay", "getCurrentOpen", "toggleOverlayType", "isModal", "targetClass", "appendOverlay", "hasFade", "showOverlay", "hideOverlay", "removeOverlay", "isVisible", "modalSelector", "modalToggleSelector", "modalDismissSelector", "modalStaticClass", "modalDefaults", "getModalInstance", "modalInitCallback", "Modal", "showModalEvent", "shownModalEvent", "hideModalEvent", "hiddenModalEvent", "setModalScrollbar", "scrollbarWidth", "scrollHeight", "modalHeight", "modalScrollHeight", "modalOverflow", "pad", "padStyle", "toggleModalDismiss", "update", "modalDismissHandler", "modalKeyHandler", "toggleModalHandler", "modalClickHandler", "afterModalHide", "relatedTarget", "focusElement", "afterModalShow", "beforeModalShow", "removeAttribute", "ariaHidden", "ariaModal", "beforeModalHide", "_b", "isStatic", "modalDialog", "backdrop", "selectedText", "targetInsideDialog", "staticTransitionEnd", "duration", "overlayDelay", "currentOpen", "callback", "offcanvasSelector", "offcanvasToggleSelector", "offcanvasDismissSelector", "offcanvasTogglingClass", "offcanvasDefaults", "getOffcanvasInstance", "offcanvasInitCallback", "Offcanvas", "showOffcanvasEvent", "shownOffcanvasEvent", "hideOffcanvasEvent", "hiddenOffcanvasEvent", "setOffCanvasScrollbar", "toggleOffcanvasEvents", "offcanvasTriggerHandler", "toggleOffCanvasDismiss", "offcanvasKeyDismissHandler", "offcanvasDismissHandler", "beforeOffcanvasShow", "showOffcanvasComplete", "beforeOffcanvasHide", "hideOffcanvasComplete", "offCanvasDismiss", "selection", "visibleTrigger", "delay", "popoverString", "popoverComponent", "tooltipString", "getTipTemplate", "tipType", "isTooltip", "bodyClass", "header", "body", "tipClassPositions", "styleTip", "tipClasses", "tooltip", "container", "tipPositions", "isPopover", "tipWidth", "tipHeight", "htmlcw", "htmlch", "htmlow", "placement", "parentCWidth", "parentOWidth", "fixedParent", "leftBoundry", "rightBoundry", "elemWidth", "elemHeight", "elemRectLeft", "elemRectRight", "elemRectTop", "topPosition", "bottomPosition", "leftPosition", "rightPosition", "arrowTop", "arrowLeft", "arrowRight", "arrowWidth", "arrowHeight", "arrowAdjust", "horizontals", "verticals", "updatedTooltipEvent", "toLowerCase", "tooltipDefaults", "dataOriginalTitle", "tooltipComponent", "setHtml", "content", "sanitizeFn", "dirty", "isFunction", "tempDocument", "isNodeList", "isArray", "createTip", "id", "title", "template", "animation", "customClass", "dismissible", "btnClose", "tipString", "titleParts", "contentParts", "placementClass", "tooltipTemplate", "htmlMarkup", "tooltipHeader", "tooltipBody", "tempTitle", "tempContent", "tempBtn", "getElementContainer", "majorBlockTags", "containers", "parentNode", "getParentNode", "isShadowRoot", "isTableElement", "tooltipSelector", "titleAttr", "getTooltipInstance", "tooltipInitCallback", "Tooltip", "removeTooltip", "offsetParent", "ariaDescribedBy", "hasTip", "disposeTooltipComplete", "toggleTooltipHandlers", "toggleTooltipTitle", "toggleTooltipAction", "tooltipShownAction", "shownTooltipEvent", "tooltipHiddenAction", "hiddenTooltipEvent", "tr", "mousehoverEvent", "focusinEvent", "focusoutEvent", "isApple", "toggleTooltipOpenHandlers", "offsetHeight", "parentModal", "parentOffcanvas", "win", "scrollTarget", "titleAtt", "tipComponent", "elem", "getUID", "position", "outTimer", "tipContainer", "showTooltipEvent", "hideTooltipEvent", "enabled", "popoverSelector", "popoverDefaults", "getPopoverInstance", "popoverInitCallback", "Popover", "scrollspyString", "scrollspyComponent", "scrollspySelector", "scrollspyDefaults", "getScrollSpyInstance", "scrollspyInitCallback", "ScrollSpy", "activateScrollSpy", "updateSpyTargets", "itemsLength", "isWin", "isWindow", "links", "getElementsByTagName", "scrollHEIGHT", "getScrollHeight", "href", "targetItem", "rect", "getOffsetHeight", "link", "clear", "item", "activate", "parents", "parentItem", "menuItem", "parentLink", "toggleSpyHandlers", "scrollTop", "maxScroll", "items", "newActiveItem", "offsets", "tabString", "tabComponent", "tabSelector", "getTabInstance", "tabInitCallback", "Tab", "showTabEvent", "shownTabEvent", "hideTabEvent", "hiddenTabEvent", "tabPrivate", "triggerTabEnd", "tabContent", "nav", "triggerTabShow", "nextContent", "tab", "currentHeight", "nextHeight", "triggerTabHide", "getActiveTab", "activeTabs", "getParentDropdown", "dropdown", "toggleTabHandler", "tabClickHandler", "firstTab", "firstTabContent", "ariaSelected", "activeDropdown", "toggleTab", "toastString", "toastComponent", "toastSelector", "toastDismissSelector", "toastToggleSelector", "showingClass", "hideClass", "toastDefaults", "getToastInstance", "toastInitCallback", "Toast", "showToastEvent", "shownToastEvent", "hideToastEvent", "hiddenToastEvent", "showToastComplete", "hideToastComplete", "hideToast", "showToast", "toggleToastHandlers", "hide", "interactiveToastHandler", "toastClickHandler", "completeDisposeToast", "isShown", "componentsList", "initComponentDataAPI", "collection", "initCallback", "context", "lookUp", "elemCollection", "getElementsByTagName", "componentsList", "cs", "init", "selector", "initComponentDataAPI", "item", "matches", "initCallback", "addListener", "csrf_default", "evt", "checkbox_default", "label_select_all", "label_deselect_all", "formSwitchCheck", "evt", "btn", "chks", "isSelectAll", "el", "i", "clipboard_default", "rootEl", "btn", "icon", "text", "origBtnClass", "origIconClass", "origTextClass", "origText", "import_htmx", "popover_default", "addEvents", "rootEl", "el", "container", "content", "heading", "title", "Kt", "htmx", "header_default", "Header", "el", "savedState", "HEADER_STATE_STORAGE_KEY", "headerState", "collapser", "event", "collapsibleHeaders", "collapsibleHeader", "import_htmx", "multiple_default", "reTmpl", "setValueIndex", "formValue", "valueIndex", "el", "attrs", "i", "m", "addEvents", "rootEl", "deleteFormValue", "e", "formField", "length", "addFormValue", "formValues", "lastValue", "newValue", "item", "lastBtn", "classList", "htmx", "form_change_submit_default", "el", "evt", "spinner", "import_htmx", "autocomplete_default", "addEvents", "rootEl", "ac", "evt", "hit", "target", "v", "htmx", "el", "import_htmx", "modal_close_default", "modalClose", "evt", "modal", "backdrop", "htmx", "el", "btn", "import_htmx", "radio_card_default", "toggleSelected", "evt", "card", "addEvents", "rootEl", "htmx", "import_htmx", "toast_default", "addEvents", "rootEl", "btn", "htmx", "import_htmx", "ownKeys", "object", "enumerableOnly", "keys", "symbols", "sym", "_objectSpread2", "target", "i", "source", "key", "_defineProperty", "_typeof", "obj", "value", "_extends", "_objectWithoutPropertiesLoose", "excluded", "sourceKeys", "_objectWithoutProperties", "sourceSymbolKeys", "version", "userAgent", "pattern", "IE11OrLess", "Edge", "FireFox", "Safari", "IOS", "ChromeForAndroid", "captureMode", "on", "el", "event", "fn", "off", "matches", "selector", "getParentOrHost", "closest", "ctx", "includeCTX", "R_SPACE", "toggleClass", "name", "state", "className", "css", "prop", "val", "style", "matrix", "selfOnly", "appliedTransforms", "transform", "matrixFn", "find", "tagName", "iterator", "list", "i", "n", "getWindowScrollingElement", "scrollingElement", "getRect", "relativeToContainingBlock", "relativeToNonStaticParent", "undoScale", "container", "elRect", "top", "left", "bottom", "right", "height", "width", "containerRect", "elMatrix", "scaleX", "scaleY", "isScrolledPast", "elSide", "parentSide", "parent", "getParentAutoScrollElement", "elSideVal", "parentSideVal", "visible", "getChild", "childNum", "options", "includeDragEl", "currentChild", "children", "Sortable", "lastChild", "last", "index", "getRelativeScrollOffset", "offsetLeft", "offsetTop", "winScroller", "indexOfObject", "arr", "obj", "key", "includeSelf", "elem", "gotSelf", "elemCSS", "extend", "dst", "src", "isRectEqual", "rect1", "rect2", "_throttleTimeout", "throttle", "callback", "ms", "args", "_this", "cancelThrottle", "scrollBy", "x", "y", "clone", "Polymer", "$", "expando", "AnimationStateManager", "animationStates", "animationCallbackId", "children", "child", "css", "Sortable", "getRect", "fromRect", "_objectSpread2", "childMatrix", "matrix", "state", "target", "indexOfObject", "callback", "_this", "animating", "animationTime", "time", "toRect", "prevFromRect", "prevToRect", "animatingRect", "targetMatrix", "isRectEqual", "calculateRealTime", "currentRect", "duration", "elMatrix", "scaleX", "scaleY", "translateX", "translateY", "repaint", "options", "plugins", "defaults", "PluginManager", "plugin", "option", "p", "eventName", "sortable", "evt", "eventNameGlobal", "el", "pluginName", "initialized", "_extends", "modified", "name", "eventProperties", "value", "modifiedValue", "dispatchEvent", "_ref", "rootEl", "targetEl", "cloneEl", "toEl", "fromEl", "oldIndex", "newIndex", "oldDraggableIndex", "newDraggableIndex", "originalEvent", "putSortable", "extraEventProperties", "onName", "IE11OrLess", "Edge", "allEventProperties", "_excluded", "pluginEvent", "data", "_objectWithoutProperties", "dragEl", "parentEl", "ghostEl", "nextEl", "lastDownEl", "cloneHidden", "moved", "_hideGhostForTarget", "_unhideGhostForTarget", "_dispatchEvent", "info", "activeGroup", "awaitingDragStarted", "ignoreNextClick", "sortables", "tapEvt", "touchEvt", "lastDx", "lastDy", "tapDistanceLeft", "tapDistanceTop", "lastTarget", "lastDirection", "pastFirstInvertThresh", "isCircumstantialInvert", "targetMoveDistance", "ghostRelativeParent", "ghostRelativeParentInitialScroll", "_silent", "savedInputChecked", "documentExists", "PositionGhostAbsolutely", "IOS", "CSSFloatProperty", "supportDraggable", "ChromeForAndroid", "supportCssPointerEvents", "_detectDirection", "elCSS", "elWidth", "child1", "getChild", "child2", "firstChildCSS", "secondChildCSS", "firstChildWidth", "secondChildWidth", "touchingSideChild2", "_dragElInRowColumn", "dragRect", "targetRect", "vertical", "dragElS1Opp", "dragElS2Opp", "dragElOppLength", "targetS1Opp", "targetS2Opp", "targetOppLength", "_detectNearestEmptySortable", "x", "y", "ret", "threshold", "lastChild", "rect", "insideHorizontally", "insideVertically", "_prepareGroup", "toFn", "pull", "to", "from", "sameGroup", "otherGroup", "group", "originalGroup", "_typeof", "nearestEmptyInsertDetectEvent", "nearest", "event", "i", "_checkOutsideTargetEl", "dataTransfer", "Safari", "fn", "on", "preventOnFilter", "type", "touch", "originalTarget", "filter", "_saveInputCheckedState", "closest", "index", "criteria", "ownerDocument", "dragStartFn", "FireFox", "toggleClass", "find", "_disableDraggable", "e", "off", "_nextTick", "fallback", "parent", "inserted", "fallbackTolerance", "fallbackOffset", "ghostMatrix", "relativeScrollOffset", "getRelativeScrollOffset", "dx", "dy", "cssMatrix", "container", "getWindowScrollingElement", "clone", "revert", "activeSortable", "isOwner", "canSort", "fromSortable", "completedFired", "dragOverEvent", "extra", "completed", "after", "_onMove", "changed", "capture", "insertion", "elLastChild", "_ghostIsLast", "_ghostIsFirst", "firstChild", "direction", "targetBeforeFirstSwap", "differentLevel", "differentRowCol", "side1", "scrolledPastTop", "isScrolledPast", "scrollBefore", "_getSwapDirection", "sibling", "dragIndex", "nextSibling", "moveVector", "_unsilent", "scrollBy", "_cancelNextTick", "_globalDragOver", "order", "n", "_generateId", "useAnimation", "items", "id", "store", "selector", "willInsertAfter", "onMoveFn", "retVal", "spacer", "swapThreshold", "invertedSwapThreshold", "invertSwap", "isLastTarget", "mouseOnAxis", "targetLength", "targetS1", "targetS2", "invert", "_getInsertDirection", "str", "sum", "root", "inputs", "idx", "extend", "throttle", "element", "_len", "_key", "version", "autoScrolls", "scrollEl", "scrollRootEl", "scrolling", "lastAutoScrollX", "lastAutoScrollY", "touchEvt$1", "pointerElemChangedInterval", "AutoScrollPlugin", "AutoScroll", "_ref2", "clearPointerElemChangedInterval", "clearAutoScrolls", "cancelThrottle", "elem", "autoScroll", "ogElemScroller", "getParentAutoScrollElement", "newElem", "isFallback", "sens", "speed", "winScroller", "scrollThisInstance", "scrollCustomFn", "layersOut", "currentParent", "top", "bottom", "left", "right", "width", "height", "canScrollX", "canScrollY", "scrollWidth", "scrollHeight", "scrollPosX", "scrollPosY", "vx", "vy", "scrollOffsetY", "scrollOffsetX", "drop", "dispatchSortableEvent", "hideGhostForTarget", "unhideGhostForTarget", "toSortable", "Revert", "_ref3", "Remove", "_ref4", "parentSortable", "Sortable", "AutoScrollPlugin", "Remove", "Revert", "sortable_esm_default", "sortable_default", "addEvents", "content", "sortables", "i", "sortable", "sortable_esm_default", "htmx", "import_htmx", "collapsible_card_default", "toggler", "evt", "addEvents", "cardContent", "htmx", "el", "import_htmx", "collapsible_sub_sidebar_default", "toggler", "evt", "addEvents", "sidebar", "htmx", "el", "import_htmx", "form_auto_focus_default", "htmx", "el", "input", "import_htmx", "modal_error_default", "error", "modals", "templateModalError", "modal", "file_upload_default", "htmx", "rootEl", "input", "evt", "files", "file", "form", "target", "headers", "maxSize", "maxSizeError", "modal_error_default", "hideFormUpload", "req", "e", "setProgress", "showFormUpload", "key", "el", "pct", "pb", "pi", "import_htmx", "ZERO_WIDTH_UNICODE_CHAR", "e", "t", "i", "n", "logger", "isEnabled", "window", "TAGIFY_DEBUG", "log", "_len", "arguments", "length", "args", "Array", "_key", "console", "this", "_to_consumable_array", "warn", "sameStr", "s1", "s2", "caseSensitive", "trim", "toLowerCase", "removeCollectionProp", "collection", "unwantedProps", "isArray", "map", "v", "omit", "obj", "props", "p", "newObj", "indexOf", "decode", "s", "el", "document", "createElement", "replace", "enc", "innerHTML", "innerText", "parseHTML", "DOMParser", "parseFromString", "body", "firstElementChild", "getfirstTextNode", "elm", "action", "nodeType", "escapeHTML", "isObject", "type", "Object", "prototype", "toString", "call", "split", "slice", "extend", "o", "o1", "o2", "copy", "a", "b", "key", "hasOwnProperty", "assign", "concatWithoutDups", "newArr", "existingObj", "_iteratorNormalCompletion", "_didIteratorError", "_iteratorError", "undefined", "_step", "_iterator", "Symbol", "iterator", "arr", "value", "_iteratorNormalCompletion1", "_didIteratorError1", "_iteratorError1", "_step1", "_iterator1", "item", "push", "includes", "err", "return", "unaccent", "String", "normalize", "isChromeAndroidBrowser", "test", "navigator", "userAgent", "getUID", "c", "crypto", "getRandomValues", "Uint8Array", "isNodeTag", "node", "classList", "contains", "settings", "classNames", "tag", "isWithinNodeTag", "closest", "tagSelector", "injectAtCaret", "content", "range", "selection", "getSelection", "getRangeAt", "createTextNode", "deleteContents", "insertNode", "getSetTagData", "tagElm", "data", "override", "__tagifyTagData", "placeCaretAfterNode", "parentNode", "nextSibling", "sel", "rangeCount", "setStartAfter", "collapse", "removeAllRanges", "addRange", "fixCaretBetweenTags", "tags", "TagifyHasFocuse", "forEach", "previousSibling", "textNode", "before", "DEFAULTS", "delimiters", "pattern", "tagTextProp", "maxTags", "Infinity", "callbacks", "addTagOnBlur", "addTagOn", "onChangeAfterBlur", "duplicates", "whitelist", "blacklist", "enforceWhitelist", "userInput", "focusable", "keepInvalidTags", "createInvalidTags", "mixTagsAllowedAfter", "mixTagsInterpolator", "backspace", "skipInvalid", "pasteAsTags", "editTags", "clicks", "keepInvalid", "transformTag", "a11y", "focusableTags", "mixMode", "insertAfterTag", "autoComplete", "enabled", "rightKey", "tabKey", "namespace", "selectMode", "input", "focus", "tagNoAnimation", "tagInvalid", "tagNotAllowed", "scopeLoading", "hasMaxTags", "hasNoTags", "empty", "inputInvalid", "dropdown", "dropdownWrapper", "dropdownHeader", "dropdownFooter", "dropdownItem", "dropdownItemActive", "dropdownItemHidden", "dropdownInital", "tagText", "tagX", "tagLoading", "tagEditing", "tagFlash", "tagHide", "classname", "maxItems", "searchKeys", "fuzzySearch", "accentedSearch", "includeSelectedTags", "highlightFirst", "closeOnSelect", "clearOnSelect", "position", "appendTarget", "hooks", "beforeRemoveTag", "Promise", "resolve", "beforePaste", "suggestionClick", "beforeKeyDown", "initDropdown", "_dropdown", "bind", "refs", "DOM", "__tagify", "A", "C", "deleteBackspaceTimeout", "_object_spread_props", "suggestionsMethods", "events", "binding", "bindUnbind", "_CB", "_CBR", "listeners", "onKeyDown", "onMouseOver", "onMouseLeave", "onClick", "onScroll", "state", "hasFocus", "composing", "_s", "selectedElm", "querySelector", "dropdownItemActiveSelector", "selectedElmData", "getSuggestionDataByNode", "isMixMode", "mode", "isSelectMode", "tagify", "then", "result", "preventDefault", "dropdownItems", "_this", "getAllSuggestionsRefs", "actionUp", "getNextOrPrevOption", "matches", "dropdownItemSelector", "highlightOption", "hide", "actions", "ArrowLeft", "shouldAutocompleteOnKey", "editing", "getMappedValue", "autocomplete", "set", "tagData", "suggestionElm", "selectOption", "addTags", "inputText", "catch", "scope", "raw", "charCodeAt", "removeTags", "setTimeout", "editTag", "ddItem", "target", "button", "pos", "scrollTop", "scrollHeight", "clientHeight", "trigger", "percentage", "Math", "round", "refilter", "query", "suggestedListItems", "filterListItems", "fill", "getAttribute", "selected", "next", "selectedIdx", "findIndex", "adjustScroll", "itemData", "className", "ddItemElm", "remove", "removeAttribute", "ddItemData", "suggest", "add", "setAttribute", "offsetTop", "event", "isNoMatch", "find", "normalizedTagData", "normalizeTags", "onEditTagDone", "__isValid", "toggleFocusClass", "addEventListener", "fillHeaderFooter", "once", "selectAll", "onlyRendered", "tagsToAdd", "suggestions", "options", "whitelistItem", "valueIsInWhitelist", "searchBy", "isDuplicate", "niddle", "l", "startsWithMatch", "exactMatch", "_searchKeys", "keys", "some", "k", "_sd", "exact", "reduce", "values", "every", "q", "isTagDuplicate", "exactMatchesList", "sortby", "list", "unshift", "d", "suggestionsCount", "filter", "_this1", "concat", "mapValueTo", "createListHTML", "sugegstionsList", "suggestion", "idx", "mappedValue", "templates", "apply", "join", "parseTemplate", "getHeaderRef", "getFooterRef", "querySelectorAll", "show", "firstListItem", "firstListItemValue", "noMatchListItem", "allowNewTags", "noWhitelist", "isManual", "dropdownItemNoMatch", "enable", "isLoading", "readonly", "clearTimeout", "dropdownHide__bindEventsTimeout", "visible", "setStateSelection", "render", "overrideManual", "_this_DOM", "removeEventListener", "removeChild", "flaggedTags", "baseOffset", "toggle", "getAppendTarget", "height", "clone", "ddHeight", "cloneNode", "style", "cssText", "appendChild", "HTMLContent", "dropdownContent", "newHeaderElem", "newFooterElem", "headerRef", "footerRef", "replaceChild", "rect", "top", "bottom", "left", "width", "ancestorsOffsets", "isPlacedAbove", "cssTop", "cssLeft", "ddElm", "isRTL", "RTL", "isDefaultAppendTarget", "isSelfAppended", "appendTargetScrollTop", "pageYOffset", "root", "fullscreenElement", "webkitFullscreenElement", "documentElement", "viewportHeight", "positionTo", "max", "clientWidth", "innerWidth", "ddTarget", "r2", "r", "startContainer", "offset", "startOffset", "createRange", "setStart", "setEnd", "getBoundingClientRect", "right", "offsetLeft", "accumulatedAncestorsScrollTop", "floor", "ceil", "placeAbove", "pageXOffset", "STORE_KEY", "TEXTS", "exceed", "duplicate", "notAllowed", "wrapper", "disabled", "required", "placeholder", "param", "title", "class", "getAttributes", "_t", "hasMore", "F", "R", "H", "B", "W", "K", "U", "customBinding", "customEventsList", "name", "on", "mainEvents", "eventName", "main", "bindGlobal", "isJQueryPlugin", "jQuery", "originalInput", "removeAllTags", "keydown", "onKeydown", "click", "onClickScope", "dblclick", "onDoubleClickScope", "paste", "onPaste", "drop", "onDrop", "compositionstart", "onCompositionStart", "compositionend", "onCompositionEnd", "inputMutationObserver", "MutationObserver", "onInputDOMChange", "disconnect", "observe", "childList", "bindOriginaInputListener", "delay", "DELAY", "clearInterval", "originalInputValueObserverInterval", "setInterval", "observeOriginalInputValue", "unbind", "global", "isIE", "cb", "onWindowKeyDown", "onFocusBlur", "onClickAnywhere", "useCapture", "unbindGlobal", "_this_value_", "_this_value", "nodeTag", "targetIsTagNode", "isFocused", "lostFocus", "Date", "text", "textContent", "currentDisplayValue", "ddEnabled", "eventData", "relatedTarget", "isTargetSelectOption", "isTargetAddNewBtn", "addNew", "postUpdate", "triggerChangeEvent", "dropdownCanBeShown", "loading", "firstTagNode", "getTagElms", "nextTag", "focusedElm", "activeElement", "isBelong", "isReadyOnlyTag", "hasAttribute", "nextElementSibling", "targetIsRemoveBtn", "deleteKeyTagDetected", "anchorOffset", "anchorNode", "prevAnchorSibling", "isCaretAfterTag", "lastTagElems", "tagBeforeCaret", "tagElmToBeDeleted", "firstTextNodeBeforeTag", "isZWS", "nodeValue", "previousElementSibling", "_instanceof", "Element", "nodeName", "min", "nodeIdx", "index", "isManualDropdown", "blur", "inputSuggestion", "onInput", "onMixTagsInput", "showSuggestions", "inputElm", "validation", "validateTag", "toggleScopeValidation", "isValid", "search", "rangeText", "match", "matchedPatternCount", "matchFlaggedTag", "matchDelimiters", "lastTagsCount", "tagsElems", "fragment", "createDocumentFragment", "remainingTagsValues", "inputType", "createTagElem", "childNodes", "setRangeAtStartEnd", "lastChild", "update", "withoutChangeEvent", "cloneRange", "focusNode", "endOffset", "lastIndexOf", "prefix", "onInputIE", "destroy", "tagifyValue", "loadOriginalValues", "isScope", "timeDiffFocus", "getNodeIndex", "fixFirefoxLastTagNoCaret", "clipboardData", "pastedText", "getData", "onEditTagInput", "editableElm", "_obj", "tagElmIdx", "textValue", "dataForChangedProp", "_define_property", "__tagId", "editTagChangeDetected", "originalIsValid", "newValue", "onEditTagPaste", "newNode", "onEditTagClick", "onEditTagFocus", "onEditTagBlur", "isRelatedTargetNodeTag", "newTagData", "originalData", "__originalData", "hasChanged", "_obj1", "message", "onEditTagkeydown", "__originalHTML", "EDITED_TAG_BLUR_DELAY", "isEditingTag", "editable", "m", "record", "addedNodes", "addedNode", "outerHTML", "replaceWith", "newlineText", "nextNode", "anythingAfterNode", "removedNodes", "removedNode", "lastInputChild", "X", "J", "G", "$", "Q", "Tagify", "mockInstance", "Proxy", "get", "id", "instance", "callbacksPerType", "addRemove", "op", "ev", "removeAllCustomListeners", "entries", "cbArr", "off", "opts", "cloneData", "triggerHandler", "cloneEvent", "prop", "HTMLElement", "CustomEvent", "detail", "dispatchEvent", "isFirefox", "documentMode", "getPersistedData", "persistedData", "customKey", "localStorage", "getItem", "JSON", "parse", "setPersistedData", "setItem", "stringify", "Event", "clearPersistedData", "base", "removeItem", "applySettings", "build", "getCSSVars", "autofocus", "helpers", "dataProps", "template", "setContentEditable", "generateClassSelectors", "currentName", "defineProperty", "mergedDefaults", "attrVal", "RegExp", "_delimiters", "_object_spread", "texts", "persistedWhitelist", "attrs", "getCustomAttributes", "propName", "output", "compStyle", "getComputedStyle", "CSSVars", "tagHideTransition", "unit", "pop", "getPropertyValue", "labelWrapper", "integrated", "originalInput_tabIndex", "tabIndex", "inputSelector", "insertBefore", "blockChangeEvent", "persistedOriginalValue", "parseMixTags", "tagName", "insertAdjacentHTML", "lastOriginalValueReported", "clonedEvent", "toggleClass", "force", "setPlaceholder", "str", "changed", "bubbles", "simulated", "_valueTracker", "setValue", "random", "start", "getTagTextNode", "tagTextSelector", "setTagTextNode", "HTML", "getLastTag", "tagIdx", "skipValidation", "editTagToggleValidity", "removeTagsFromValue", "previousData", "replaceTag", "reCheckInvalidTags", "getInvalidTagAttrs", "newTagElm", "updateValueByDOMTags", "injectedNode", "_this_state_selection", "appendMixTags", "updateDOM", "hideDropdown", "validate", "source", "charAt", "suggestedText", "suggestionStart", "substr", "suggestionTrimmed", "substring", "dataSuggest", "replaceTextWithNode", "getTagIdx", "classess", "_sc", "tagNodes", "tagId", "dupsCount", "done", "getTagIndexByValue", "indices", "isCaseSensitive", "getTagElmByValue", "flashTag", "isTagBlacklisted", "x", "isTagWhitelisted", "getWhitelistItem", "_wi", "_wiv", "setReadonly", "attrribute", "contentEditable", "setDisabled", "isDisabled", "tagsItems", "_this_settings", "whitelistMatches", "whitelistWithProps", "isCollection", "mapStringToCollection", "acc", "trimmed", "itemCopy", "whitelistMatchesValues", "filteredList", "filteredItem", "matchObj", "tagsDataSet", "textProp", "preInterpolated", "maxTagsReached", "Error", "newWrapperNode", "strToReplace", "nodeToReplace", "nodeAtCaret", "firstSplitOffset", "splitText", "prepareNewTagNode", "aggregatedInvalidInput", "tagElmParams", "__preInvalidData", "postProcessNewTagNode", "selectTag", "lastTagElm", "appendTag", "addEmptyTag", "initialData", "clearInput", "tagElems", "frag", "addMixTags", "newTagNode", "tagsData", "prefixedTextToTag", "children", "_this_state_tag", "newTag", "createdFromDelimiters", "insertBeforeNode", "extraData", "templateData", "textnode", "iter", "createNodeIterator", "NodeFilter", "SHOW_TEXT", "tagValidation", "tagElms", "silent", "tranDuration", "tagsToRemove", "elms", "__removed", "removeNode", "parseFloat", "clientTop", "reason", "removeTagsFromDOM", "splice", "hasValue", "setOriginalInputValue", "debouncedUpdateTimeout", "inputValue", "getInputValue", "getCleanValue", "getMixedTagsAsString", "originalInputValueFormat", "that", "_interpolator", "iterateChildren", "rootNode", "removeTag", "tags_default", "fillRealValues", "element", "name", "values", "i", "input", "htmx", "rootEl", "tags", "realValues", "widgetValues", "inputName", "val", "tagify", "Y", "evt", "v", "originalInput", "label", "facet_dropdowns_default", "dropdown", "facet", "form", "beginState", "evt", "getCurrentState", "currentState", "key", "_", "value", "htmx", "Vn", "csrf_default", "checkbox_default", "popover_default", "header_default", "multiple_default", "form_change_submit_default", "autocomplete_default", "modal_close_default", "radio_card_default", "toast_default", "sortable_default", "collapsible_sub_sidebar_default", "collapsible_card_default", "form_auto_focus_default", "file_upload_default", "tags_default", "facet_dropdowns_default", "el", "clipboard_default"]
}
